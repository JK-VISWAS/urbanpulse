(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function lT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var np={exports:{}},ac={};var s0;function zS(){if(s0)return ac;s0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var y in l)y!=="key"&&(h[y]=l[y])}else h=l;return l=h.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:h}}return ac.Fragment=t,ac.jsx=n,ac.jsxs=n,ac}var r0;function US(){return r0||(r0=1,np.exports=zS()),np.exports}var I=US(),ip={exports:{}},Ft={};var a0;function BS(){if(a0)return Ft;a0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function F(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var nt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,B={};function lt(M,rt,_t){this.props=M,this.context=rt,this.refs=B,this.updater=_t||nt}lt.prototype.isReactComponent={},lt.prototype.setState=function(M,rt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,rt,"setState")},lt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function at(){}at.prototype=lt.prototype;function ht(M,rt,_t){this.props=M,this.context=rt,this.refs=B,this.updater=_t||nt}var It=ht.prototype=new at;It.constructor=ht,Q(It,lt.prototype),It.isPureReactComponent=!0;var Nt=Array.isArray;function Mt(){}var V={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function D(M,rt,_t){var vt=_t.ref;return{$$typeof:s,type:M,key:rt,ref:vt!==void 0?vt:null,props:_t}}function q(M,rt){return D(M.type,rt,M.props)}function j(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function G(M){var rt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(_t){return rt[_t]})}var z=/\/+/g;function ee(M,rt){return typeof M=="object"&&M!==null&&M.key!=null?G(""+M.key):rt.toString(36)}function Ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Mt,Mt):(M.status="pending",M.then(function(rt){M.status==="pending"&&(M.status="fulfilled",M.value=rt)},function(rt){M.status==="pending"&&(M.status="rejected",M.reason=rt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function it(M,rt,_t,vt,bt){var wt=typeof M;(wt==="undefined"||wt==="boolean")&&(M=null);var qt=!1;if(M===null)qt=!0;else switch(wt){case"bigint":case"string":case"number":qt=!0;break;case"object":switch(M.$$typeof){case s:case t:qt=!0;break;case x:return qt=M._init,it(qt(M._payload),rt,_t,vt,bt)}}if(qt)return bt=bt(M),qt=vt===""?"."+ee(M,0):vt,Nt(bt)?(_t="",qt!=null&&(_t=qt.replace(z,"$&/")+"/"),it(bt,rt,_t,"",function(fs){return fs})):bt!=null&&(j(bt)&&(bt=q(bt,_t+(bt.key==null||M&&M.key===bt.key?"":(""+bt.key).replace(z,"$&/")+"/")+qt)),rt.push(bt)),1;qt=0;var we=vt===""?".":vt+":";if(Nt(M))for(var xe=0;xe<M.length;xe++)vt=M[xe],wt=we+ee(vt,xe),qt+=it(vt,rt,_t,wt,bt);else if(xe=F(M),typeof xe=="function")for(M=xe.call(M),xe=0;!(vt=M.next()).done;)vt=vt.value,wt=we+ee(vt,xe++),qt+=it(vt,rt,_t,wt,bt);else if(wt==="object"){if(typeof M.then=="function")return it(Ve(M),rt,_t,vt,bt);throw rt=String(M),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return qt}function gt(M,rt,_t){if(M==null)return M;var vt=[],bt=0;return it(M,vt,"","",function(wt){return rt.call(_t,wt,bt++)}),vt}function ct(M){if(M._status===-1){var rt=M._result;rt=rt(),rt.then(function(_t){(M._status===0||M._status===-1)&&(M._status=1,M._result=_t)},function(_t){(M._status===0||M._status===-1)&&(M._status=2,M._result=_t)}),M._status===-1&&(M._status=0,M._result=rt)}if(M._status===1)return M._result.default;throw M._result}var kt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},yt={map:gt,forEach:function(M,rt,_t){gt(M,function(){rt.apply(this,arguments)},_t)},count:function(M){var rt=0;return gt(M,function(){rt++}),rt},toArray:function(M){return gt(M,function(rt){return rt})||[]},only:function(M){if(!j(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ft.Activity=S,Ft.Children=yt,Ft.Component=lt,Ft.Fragment=n,Ft.Profiler=l,Ft.PureComponent=ht,Ft.StrictMode=r,Ft.Suspense=v,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(M){return V.H.useMemoCache(M)}},Ft.cache=function(M){return function(){return M.apply(null,arguments)}},Ft.cacheSignal=function(){return null},Ft.cloneElement=function(M,rt,_t){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var vt=Q({},M.props),bt=M.key;if(rt!=null)for(wt in rt.key!==void 0&&(bt=""+rt.key),rt)!P.call(rt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&rt.ref===void 0||(vt[wt]=rt[wt]);var wt=arguments.length-2;if(wt===1)vt.children=_t;else if(1<wt){for(var qt=Array(wt),we=0;we<wt;we++)qt[we]=arguments[we+2];vt.children=qt}return D(M.type,bt,vt)},Ft.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},Ft.createElement=function(M,rt,_t){var vt,bt={},wt=null;if(rt!=null)for(vt in rt.key!==void 0&&(wt=""+rt.key),rt)P.call(rt,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(bt[vt]=rt[vt]);var qt=arguments.length-2;if(qt===1)bt.children=_t;else if(1<qt){for(var we=Array(qt),xe=0;xe<qt;xe++)we[xe]=arguments[xe+2];bt.children=we}if(M&&M.defaultProps)for(vt in qt=M.defaultProps,qt)bt[vt]===void 0&&(bt[vt]=qt[vt]);return D(M,wt,bt)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(M){return{$$typeof:y,render:M}},Ft.isValidElement=j,Ft.lazy=function(M){return{$$typeof:x,_payload:{_status:-1,_result:M},_init:ct}},Ft.memo=function(M,rt){return{$$typeof:E,type:M,compare:rt===void 0?null:rt}},Ft.startTransition=function(M){var rt=V.T,_t={};V.T=_t;try{var vt=M(),bt=V.S;bt!==null&&bt(_t,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(Mt,kt)}catch(wt){kt(wt)}finally{rt!==null&&_t.types!==null&&(rt.types=_t.types),V.T=rt}},Ft.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Ft.use=function(M){return V.H.use(M)},Ft.useActionState=function(M,rt,_t){return V.H.useActionState(M,rt,_t)},Ft.useCallback=function(M,rt){return V.H.useCallback(M,rt)},Ft.useContext=function(M){return V.H.useContext(M)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(M,rt){return V.H.useDeferredValue(M,rt)},Ft.useEffect=function(M,rt){return V.H.useEffect(M,rt)},Ft.useEffectEvent=function(M){return V.H.useEffectEvent(M)},Ft.useId=function(){return V.H.useId()},Ft.useImperativeHandle=function(M,rt,_t){return V.H.useImperativeHandle(M,rt,_t)},Ft.useInsertionEffect=function(M,rt){return V.H.useInsertionEffect(M,rt)},Ft.useLayoutEffect=function(M,rt){return V.H.useLayoutEffect(M,rt)},Ft.useMemo=function(M,rt){return V.H.useMemo(M,rt)},Ft.useOptimistic=function(M,rt){return V.H.useOptimistic(M,rt)},Ft.useReducer=function(M,rt,_t){return V.H.useReducer(M,rt,_t)},Ft.useRef=function(M){return V.H.useRef(M)},Ft.useState=function(M){return V.H.useState(M)},Ft.useSyncExternalStore=function(M,rt,_t){return V.H.useSyncExternalStore(M,rt,_t)},Ft.useTransition=function(){return V.H.useTransition()},Ft.version="19.2.3",Ft}var o0;function ig(){return o0||(o0=1,ip.exports=BS()),ip.exports}var Z=ig();const Sp=lT(Z);var sp={exports:{}},oc={},rp={exports:{}},ap={};var l0;function jS(){return l0||(l0=1,(function(s){function t(it,gt){var ct=it.length;it.push(gt);t:for(;0<ct;){var kt=ct-1>>>1,yt=it[kt];if(0<l(yt,gt))it[kt]=gt,it[ct]=yt,ct=kt;else break t}}function n(it){return it.length===0?null:it[0]}function r(it){if(it.length===0)return null;var gt=it[0],ct=it.pop();if(ct!==gt){it[0]=ct;t:for(var kt=0,yt=it.length,M=yt>>>1;kt<M;){var rt=2*(kt+1)-1,_t=it[rt],vt=rt+1,bt=it[vt];if(0>l(_t,ct))vt<yt&&0>l(bt,_t)?(it[kt]=bt,it[vt]=ct,kt=vt):(it[kt]=_t,it[rt]=ct,kt=rt);else if(vt<yt&&0>l(bt,ct))it[kt]=bt,it[vt]=ct,kt=vt;else break t}}return gt}function l(it,gt){var ct=it.sortIndex-gt.sortIndex;return ct!==0?ct:it.id-gt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],E=[],x=1,S=null,O=3,F=!1,nt=!1,Q=!1,B=!1,lt=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function It(it){for(var gt=n(E);gt!==null;){if(gt.callback===null)r(E);else if(gt.startTime<=it)r(E),gt.sortIndex=gt.expirationTime,t(v,gt);else break;gt=n(E)}}function Nt(it){if(Q=!1,It(it),!nt)if(n(v)!==null)nt=!0,Mt||(Mt=!0,G());else{var gt=n(E);gt!==null&&Ve(Nt,gt.startTime-it)}}var Mt=!1,V=-1,P=5,D=-1;function q(){return B?!0:!(s.unstable_now()-D<P)}function j(){if(B=!1,Mt){var it=s.unstable_now();D=it;var gt=!0;try{t:{nt=!1,Q&&(Q=!1,at(V),V=-1),F=!0;var ct=O;try{e:{for(It(it),S=n(v);S!==null&&!(S.expirationTime>it&&q());){var kt=S.callback;if(typeof kt=="function"){S.callback=null,O=S.priorityLevel;var yt=kt(S.expirationTime<=it);if(it=s.unstable_now(),typeof yt=="function"){S.callback=yt,It(it),gt=!0;break e}S===n(v)&&r(v),It(it)}else r(v);S=n(v)}if(S!==null)gt=!0;else{var M=n(E);M!==null&&Ve(Nt,M.startTime-it),gt=!1}}break t}finally{S=null,O=ct,F=!1}gt=void 0}}finally{gt?G():Mt=!1}}}var G;if(typeof ht=="function")G=function(){ht(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ee=z.port2;z.port1.onmessage=j,G=function(){ee.postMessage(null)}}else G=function(){lt(j,0)};function Ve(it,gt){V=lt(function(){it(s.unstable_now())},gt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(it){it.callback=null},s.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<it?Math.floor(1e3/it):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(it){switch(O){case 1:case 2:case 3:var gt=3;break;default:gt=O}var ct=O;O=gt;try{return it()}finally{O=ct}},s.unstable_requestPaint=function(){B=!0},s.unstable_runWithPriority=function(it,gt){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var ct=O;O=it;try{return gt()}finally{O=ct}},s.unstable_scheduleCallback=function(it,gt,ct){var kt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?kt+ct:kt):ct=kt,it){case 1:var yt=-1;break;case 2:yt=250;break;case 5:yt=1073741823;break;case 4:yt=1e4;break;default:yt=5e3}return yt=ct+yt,it={id:x++,callback:gt,priorityLevel:it,startTime:ct,expirationTime:yt,sortIndex:-1},ct>kt?(it.sortIndex=ct,t(E,it),n(v)===null&&it===n(E)&&(Q?(at(V),V=-1):Q=!0,Ve(Nt,ct-kt))):(it.sortIndex=yt,t(v,it),nt||F||(nt=!0,Mt||(Mt=!0,G()))),it},s.unstable_shouldYield=q,s.unstable_wrapCallback=function(it){var gt=O;return function(){var ct=O;O=gt;try{return it.apply(this,arguments)}finally{O=ct}}}})(ap)),ap}var u0;function HS(){return u0||(u0=1,rp.exports=jS()),rp.exports}var op={exports:{}},jn={};var c0;function qS(){if(c0)return jn;c0=1;var s=ig();function t(v){var E="https://react.dev/errors/"+v;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)E+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,E,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:E,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,E){if(v==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jn.createPortal=function(v,E){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return h(v,E,null,x)},jn.flushSync=function(v){var E=d.T,x=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=E,r.p=x,r.d.f()}},jn.preconnect=function(v,E){typeof v=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,r.d.C(v,E))},jn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},jn.preinit=function(v,E){if(typeof v=="string"&&E&&typeof E.as=="string"){var x=E.as,S=y(x,E.crossOrigin),O=typeof E.integrity=="string"?E.integrity:void 0,F=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;x==="style"?r.d.S(v,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:F}):x==="script"&&r.d.X(v,{crossOrigin:S,integrity:O,fetchPriority:F,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},jn.preinitModule=function(v,E){if(typeof v=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var x=y(E.as,E.crossOrigin);r.d.M(v,{crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&r.d.M(v)},jn.preload=function(v,E){if(typeof v=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var x=E.as,S=y(x,E.crossOrigin);r.d.L(v,x,{crossOrigin:S,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},jn.preloadModule=function(v,E){if(typeof v=="string")if(E){var x=y(E.as,E.crossOrigin);r.d.m(v,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else r.d.m(v)},jn.requestFormReset=function(v){r.d.r(v)},jn.unstable_batchedUpdates=function(v,E){return v(E)},jn.useFormState=function(v,E,x){return d.H.useFormState(v,E,x)},jn.useFormStatus=function(){return d.H.useHostTransitionStatus()},jn.version="19.2.3",jn}var h0;function uT(){if(h0)return op.exports;h0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),op.exports=qS(),op.exports}var f0;function FS(){if(f0)return oc;f0=1;var s=HS(),t=ig(),n=uT();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(r(188))}function E(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(r(188));return i!==e?null:e}for(var o=e,c=i;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return v(p),e;if(g===c)return v(p),i;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=p,c=g;else{for(var b=!1,C=p.child;C;){if(C===o){b=!0,o=p,c=g;break}if(C===c){b=!0,c=p,o=g;break}C=C.sibling}if(!b){for(C=g.child;C;){if(C===o){b=!0,o=g,c=p;break}if(C===c){b=!0,c=g,o=p;break}C=C.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?e:i}function x(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=x(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),nt=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),Nt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var z=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case lt:return"Profiler";case B:return"StrictMode";case Nt:return"Suspense";case Mt:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case nt:return"Portal";case ht:return e.displayName||"Context";case at:return(e._context.displayName||"Context")+".Consumer";case It:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:ee(e.type)||"Memo";case P:i=e._payload,e=e._init;try{return ee(e(i))}catch{}}return null}var Ve=Array.isArray,it=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},kt=[],yt=-1;function M(e){return{current:e}}function rt(e){0>yt||(e.current=kt[yt],kt[yt]=null,yt--)}function _t(e,i){yt++,kt[yt]=e.current,e.current=i}var vt=M(null),bt=M(null),wt=M(null),qt=M(null);function we(e,i){switch(_t(wt,i),_t(bt,e),_t(vt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Rv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Rv(i),e=Cv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(vt),_t(vt,e)}function xe(){rt(vt),rt(bt),rt(wt)}function fs(e){e.memoizedState!==null&&_t(qt,e);var i=vt.current,o=Cv(i,e.type);i!==o&&(_t(bt,e),_t(vt,o))}function Ls(e){bt.current===e&&(rt(vt),rt(bt)),qt.current===e&&(rt(qt),nc._currentValue=ct)}var ji,Ds;function Hi(e){if(ji===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);ji=i&&i[1]||"",Ds=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ji+e+Ds}var $r=!1;function Ms(e,i){if(!e||$r)return"";$r=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(st){var tt=st}Reflect.construct(e,[],mt)}else{try{mt.call()}catch(st){tt=st}e.call(mt.prototype)}}else{try{throw Error()}catch(st){tt=st}(mt=e())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(st){if(st&&tt&&typeof st.stack=="string")return[st.stack,tt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],C=g[1];if(b&&C){var U=b.split(`
`),$=C.split(`
`);for(p=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;if(c===U.length||p===$.length)for(c=U.length-1,p=$.length-1;1<=c&&0<=p&&U[c]!==$[p];)p--;for(;1<=c&&0<=p;c--,p--)if(U[c]!==$[p]){if(c!==1||p!==1)do if(c--,p--,0>p||U[c]!==$[p]){var ot=`
`+U[c].replace(" at new "," at ");return e.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",e.displayName)),ot}while(1<=c&&0<=p);break}}}finally{$r=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Hi(o):""}function mr(e,i){switch(e.tag){case 26:case 27:case 5:return Hi(e.type);case 16:return Hi("Lazy");case 13:return e.child!==i&&i!==null?Hi("Suspense Fallback"):Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return Ms(e.type,!1);case 11:return Ms(e.type.render,!1);case 1:return Ms(e.type,!0);case 31:return Hi("Activity");default:return""}}function ks(e){try{var i="",o=null;do i+=mr(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var qe=Object.prototype.hasOwnProperty,Fe=s.unstable_scheduleCallback,qi=s.unstable_cancelCallback,fl=s.unstable_shouldYield,lo=s.unstable_requestPaint,Cn=s.unstable_now,pr=s.unstable_getCurrentPriorityLevel,gr=s.unstable_ImmediatePriority,Jr=s.unstable_UserBlockingPriority,ds=s.unstable_NormalPriority,Tu=s.unstable_LowPriority,uo=s.unstable_IdlePriority,co=s.log,dl=s.unstable_setDisableYieldValue,Jn=null,Je=null;function Gn(e){if(typeof co=="function"&&dl(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(Jn,e)}catch{}}var ze=Math.clz32?Math.clz32:ml,Vs=Math.log,ta=Math.LN2;function ml(e){return e>>>=0,e===0?32:31-(Vs(e)/ta|0)|0}var Ei=256,zs=262144,Ue=4194304;function Fi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gi(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var p=0,g=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?p=Fi(c):(b&=C,b!==0?p=Fi(b):o||(o=C&~e,o!==0&&(p=Fi(o))))):(C=c&~g,C!==0?p=Fi(C):b!==0?p=Fi(b):o||(o=c&~e,o!==0&&(p=Fi(o)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:p}function Ti(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function wu(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pl(){var e=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),e}function Zi(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function ms(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bu(e,i,o,c,p,g){var b=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var C=e.entanglements,U=e.expirationTimes,$=e.hiddenUpdates;for(o=b&~o;0<o;){var ot=31-ze(o),mt=1<<ot;C[ot]=0,U[ot]=-1;var tt=$[ot];if(tt!==null)for($[ot]=null,ot=0;ot<tt.length;ot++){var st=tt[ot];st!==null&&(st.lane&=-536870913)}o&=~mt}c!==0&&_r(e,c,0),g!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=g&~(b&~i))}function _r(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-ze(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function ho(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-ze(o),p=1<<c;p&i|e[c]&i&&(e[c]|=i),o&=~p}}function fo(e,i){var o=i&-i;return o=(o&42)!==0?1:yn(o),(o&(e.suspendedLanes|i))!==0?0:o}function yn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mo(){var e=gt.p;return e!==0?e:(e=window.event,e===void 0?32:Wv(e.type))}function ti(e,i){var o=gt.p;try{return gt.p=e,i()}finally{gt.p=o}}var ei=Math.random().toString(36).slice(2),Be="__reactFiber$"+ei,Ge="__reactProps$"+ei,wi="__reactContainer$"+ei,bi="__reactEvents$"+ei,gl="__reactListeners$"+ei,_l="__reactHandles$"+ei,yl="__reactResources$"+ei,Ki="__reactMarker$"+ei;function ea(e){delete e[Be],delete e[Ge],delete e[bi],delete e[gl],delete e[_l]}function Ai(e){var i=e[Be];if(i)return i;for(var o=e.parentNode;o;){if(i=o[wi]||o[Be]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=Mv(e);e!==null;){if(o=e[Be])return o;e=Mv(e)}return i}e=o,o=e.parentNode}return null}function ni(e){if(e=e[Be]||e[wi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function vn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Yi(e){var i=e[yl];return i||(i=e[yl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(e){e[Ki]=!0}var po=new Set,go={};function Qi(e,i){ii(e,i),ii(e+"Capture",i)}function ii(e,i){for(go[e]=i,e=0;e<i.length;e++)po.add(i[e])}var ps=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),na={},ia={};function Us(e){return qe.call(ia,e)?!0:qe.call(na,e)?!1:ps.test(e)?ia[e]=!0:(na[e]=!0,!1)}function Xt(e,i,o){if(Us(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Wt(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function Oe(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yr(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function St(e){if(!e._valueTracker){var i=Zn(e)?"checked":"value";e._valueTracker=yr(e,i,""+e[i])}}function ye(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=Zn(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xi=/[\n"\\]/g;function Re(e){return e.replace(Xi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function sa(e,i,o,c,p,g,b,C){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),i!=null?b==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),i!=null?Si(e,b,Pe(i)):o!=null?Si(e,b,Pe(o)):c!=null&&e.removeAttribute("value"),p==null&&g!=null&&(e.defaultChecked=!!g),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Pe(C):e.removeAttribute("name")}function vr(e,i,o,c,p,g,b,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){St(e);return}o=o!=null?""+Pe(o):"",i=i!=null?""+Pe(i):o,C||i===e.value||(e.value=i),e.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),St(e)}function Si(e,i,o){i==="number"&&si(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ve(e,i,o,c){if(e=e.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=i.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Pe(o),i=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function Wi(e,i,o){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Pe(o):""}function ri(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(r(92));if(Ve(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Pe(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),St(e)}function rn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var ra=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gs(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||ra.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function Er(e,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&o[p]!==c&&gs(e,p,c)}else for(var g in i)i.hasOwnProperty(g)&&gs(e,g,i[g])}function Bs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$i=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function js(e){return $i.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mn(){}var aa=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hs=null,Vt=null;function En(e){var i=ni(e);if(i&&(e=i.stateNode)){var o=e[Ge]||null;t:switch(e=i.stateNode,i.type){case"input":if(sa(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Re(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var p=c[Ge]||null;if(!p)throw Error(r(90));sa(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&ye(c)}break t;case"textarea":Wi(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&ve(e,!!o.multiple,i,!1)}}}var he=!1;function _s(e,i,o){if(he)return e(i,o);he=!0;try{var c=e(i);return c}finally{if(he=!1,(Hs!==null||Vt!==null)&&(Vh(),Hs&&(i=Hs,e=Vt,Vt=Hs=null,En(i),e)))for(i=0;i<e.length;i++)En(e[i])}}function Kn(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Ge]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(Vn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){ys=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{ys=!1}var ai=null,vs=null,Le=null;function xi(){if(Le)return Le;var e,i=vs,o=i.length,c,p="value"in ai?ai.value:ai.textContent,g=p.length;for(e=0;e<o&&i[e]===p[e];e++);var b=o-e;for(c=1;c<=b&&i[o-c]===p[g-c];c++);return Le=p.slice(e,1<c?1-c:void 0)}function qs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function Ri(){return!1}function an(e){function i(o,c,p,g,b){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(o=e[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ji:Ri,this.isPropagationStopped=Ri,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),i}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=an(Ci),Es=S({},Ci,{view:0,detail:0}),Qt=an(Es),Fs,Tn,zn,wr=S({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zn&&(zn&&e.type==="mousemove"?(Fs=e.screenX-zn.screenX,Tn=e.screenY-zn.screenY):Tn=Fs=0,zn=e),Fs)},movementY:function(e){return"movementY"in e?e.movementY:Tn}}),_o=an(wr),Ts=S({},wr,{dataTransfer:0}),vl=an(Ts),yo=S({},Es,{relatedTarget:0}),br=an(yo),vo=S({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=an(vo),la=S({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yn=an(la),El=S({},Ci,{data:0}),Ii=an(El),Ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},To={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ua(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=To[e])?!!i[e]:!1}function Gs(){return ua}var wn=S({},Es,{key:function(e){if(e.key){var i=Ni[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wo=an(wn),Tl=S({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=an(Tl),f=S({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),T=an(f),A=S({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=an(A),X=S({},wr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),et=an(X),Et=S({},Ci,{newState:0,oldState:0}),jt=an(Et),le=[9,13,27,32],ue=Vn&&"CompositionEvent"in window,Ce=null;Vn&&"documentMode"in document&&(Ce=document.documentMode);var oi=Vn&&"TextEvent"in window&&!Ce,li=Vn&&(!ue||Ce&&8<Ce&&11>=Ce),Qn=" ",Oi=!1;function Ar(e,i){switch(e){case"keyup":return le.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function Pi(e,i){switch(e){case"compositionend":return Sr(i);case"keypress":return i.which!==32?null:(Oi=!0,Qn);case"textInput":return e=i.data,e===Qn&&Oi?null:e;default:return null}}function ha(e,i){if(ca)return e==="compositionend"||!ue&&Ar(e,i)?(e=xi(),Le=vs=ai=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return li&&i.locale!=="ko"?null:i.data;default:return null}}var Ed={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function es(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ed[e.type]:i==="textarea"}function th(e,i,o,c){Hs?Vt?Vt.push(c):Vt=[c]:Hs=c,i=Fh(i,"onChange"),0<i.length&&(o=new ts("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var ns=null,bo=null;function Ao(e){Tv(e,0)}function So(e){var i=vn(e);if(ye(i))return e}function xo(e,i){if(e==="change")return i}var eh=!1;if(Vn){var is;if(Vn){var fa="oninput"in document;if(!fa){var nh=document.createElement("div");nh.setAttribute("oninput","return;"),fa=typeof nh.oninput=="function"}is=fa}else is=!1;eh=is&&(!document.documentMode||9<document.documentMode)}function wl(){ns&&(ns.detachEvent("onpropertychange",ih),bo=ns=null)}function ih(e){if(e.propertyName==="value"&&So(bo)){var i=[];th(i,bo,e,kn(e)),_s(Ao,i)}}function bs(e,i,o){e==="focusin"?(wl(),ns=i,bo=o,ns.attachEvent("onpropertychange",ih)):e==="focusout"&&wl()}function Td(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return So(bo)}function da(e,i){if(e==="click")return So(i)}function wd(e,i){if(e==="input"||e==="change")return So(i)}function As(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var bn=typeof Object.is=="function"?Object.is:As;function ma(e,i){if(bn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!qe.call(i,p)||!bn(e[p],i[p]))return!1}return!0}function bl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ro(e,i){var o=bl(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=bl(o)}}function Al(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Al(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Co(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=si(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=si(e.document)}return i}function Zs(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Sl=Vn&&"documentMode"in document&&11>=document.documentMode,Ks=null,xl=null,Io=null,pa=!1;function sh(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pa||Ks==null||Ks!==si(c)||(c=Ks,"selectionStart"in c&&Zs(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Io&&ma(Io,c)||(Io=c,c=Fh(xl,"onSelect"),0<c.length&&(i=new ts("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=Ks)))}function Ys(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var ga={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},Rl={},rh={};Vn&&(rh=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function An(e){if(Rl[e])return Rl[e];if(!ga[e])return e;var i=ga[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in rh)return Rl[e]=i[o];return e}var No=An("animationend"),ah=An("animationiteration"),Oo=An("animationstart"),bd=An("transitionrun"),oh=An("transitionstart"),Ad=An("transitioncancel"),_a=An("transitionend"),lh=new Map,Qs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qs.push("scrollEnd");function ui(e,i){lh.set(e,i),Qi(i,[e])}var Po=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ci=[],Un=0,Cl=0;function Lo(){for(var e=Un,i=Cl=Un=0;i<e;){var o=ci[i];ci[i++]=null;var c=ci[i];ci[i++]=null;var p=ci[i];ci[i++]=null;var g=ci[i];if(ci[i++]=null,c!==null&&p!==null){var b=c.pending;b===null?p.next=p:(p.next=b.next,b.next=p),c.pending=p}g!==0&&ya(o,p,g)}}function Xs(e,i,o,c){ci[Un++]=e,ci[Un++]=i,ci[Un++]=o,ci[Un++]=c,Cl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Au(e,i,o,c){return Xs(e,i,o,c),Do(e)}function ss(e,i){return Xs(e,null,null,i),Do(e)}function ya(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(p=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,p&&i!==null&&(p=31-ze(o),e=g.hiddenUpdates,c=e[p],c===null?e[p]=[i]:c.push(i),i.lane=o|536870912),g):null}function Do(e){if(50<Qu)throw Qu=0,xm=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var xr={};function Sd(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,i,o,c){return new Sd(e,i,o,c)}function Il(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rs(e,i){var o=e.alternate;return o===null?(o=Bn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Su(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Mo(e,i,o,c,p,g){var b=0;if(c=e,typeof e=="function")Il(e)&&(b=1);else if(typeof e=="string")b=xS(e,o,vt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=Bn(31,o,i,p),e.elementType=D,e.lanes=g,e;case Q:return Rr(o.children,p,g,i);case B:b=8,p|=24;break;case lt:return e=Bn(12,o,i,p|2),e.elementType=lt,e.lanes=g,e;case Nt:return e=Bn(13,o,i,p),e.elementType=Nt,e.lanes=g,e;case Mt:return e=Bn(19,o,i,p),e.elementType=Mt,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:b=10;break t;case at:b=9;break t;case It:b=11;break t;case V:b=14;break t;case P:b=16,c=null;break t}b=29,o=Error(r(130,e===null?"null":typeof e,"")),c=null}return i=Bn(b,o,i,p),i.elementType=e,i.type=c,i.lanes=g,i}function Rr(e,i,o,c){return e=Bn(7,e,c,i),e.lanes=o,e}function Nl(e,i,o){return e=Bn(6,e,null,i),e.lanes=o,e}function xu(e){var i=Bn(18,null,null,0);return i.stateNode=e,i}function Ru(e,i,o){return i=Bn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var a=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=a.get(e);return o!==void 0?o:(i={value:e,source:i,stack:ks(i)},a.set(e,i),i)}return{value:e,source:i,stack:ks(i)}}var m=[],_=0,w=null,R=0,k=[],Y=0,J=null,dt=1,Tt="";function Pt(e,i){m[_++]=R,m[_++]=w,w=e,R=i}function Kt(e,i,o){k[Y++]=dt,k[Y++]=Tt,k[Y++]=J,J=e;var c=dt;e=Tt;var p=32-ze(c)-1;c&=~(1<<p),o+=1;var g=32-ze(i)+p;if(30<g){var b=p-p%5;g=(c&(1<<b)-1).toString(32),c>>=b,p-=b,dt=1<<32-ze(i)+p|o<<p|c,Tt=g+e}else dt=1<<g|o<<p|c,Tt=e}function mn(e){e.return!==null&&(Pt(e,1),Kt(e,1,0))}function Ke(e){for(;e===w;)w=m[--_],m[_]=null,R=m[--_],m[_]=null;for(;e===J;)J=k[--Y],k[Y]=null,Tt=k[--Y],k[Y]=null,dt=k[--Y],k[Y]=null}function Xn(e,i){k[Y++]=dt,k[Y++]=Tt,k[Y++]=J,dt=i.id,Tt=i.overflow,J=e}var fe=null,de=null,$t=!1,Ws=null,hi=!1,Ol=Error(r(519));function $s(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(u(i,e)),Ol}function Cu(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Be]=e,i[Ge]=c,o){case"dialog":te("cancel",i),te("close",i);break;case"iframe":case"object":case"embed":te("load",i);break;case"video":case"audio":for(o=0;o<Wu.length;o++)te(Wu[o],i);break;case"source":te("error",i);break;case"img":case"image":case"link":te("error",i),te("load",i);break;case"details":te("toggle",i);break;case"input":te("invalid",i),vr(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":te("invalid",i);break;case"textarea":te("invalid",i),ri(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Sv(i.textContent,o)?(c.popover!=null&&(te("beforetoggle",i),te("toggle",i)),c.onScroll!=null&&te("scroll",i),c.onScrollEnd!=null&&te("scrollend",i),c.onClick!=null&&(i.onclick=Mn),i=!0):i=!1,i||$s(e,!0)}function je(e){for(fe=e.return;fe;)switch(fe.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:fe=fe.return}}function Ss(e){if(e!==fe)return!1;if(!$t)return je(e),$t=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||jm(e.type,e.memoizedProps)),o=!o),o&&de&&$s(e),je(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=Dv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=Dv(e)}else i===27?(i=de,Pa(e.type)?(e=Zm,Zm=null,de=e):de=i):de=fe?os(e.stateNode.nextSibling):null;return!0}function Cr(){de=fe=null,$t=!1}function Iu(){var e=Ws;return e!==null&&(pi===null?pi=e:pi.push.apply(pi,e),Ws=null),e}function ko(e){Ws===null?Ws=[e]:Ws.push(e)}var Vo=M(null),Js=null,xs=null;function va(e,i,o){_t(Vo,i._currentValue),i._currentValue=o}function Ir(e){e._currentValue=Vo.current,rt(Vo)}function xd(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function Rd(e,i,o,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var g=p.dependencies;if(g!==null){var b=p.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=p;for(var U=0;U<i.length;U++)if(C.context===i[U]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),xd(g.return,o,e),c||(b=null);break t}g=C.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),xd(b,o,e),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===e){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function Pl(e,i,o,c){e=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var C=p.type;bn(p.pendingProps.value,b.value)||(e!==null?e.push(C):e=[C])}}else if(p===qt.current){if(b=p.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(nc):e=[nc])}p=p.return}e!==null&&Rd(i,e,o,c),i.flags|=262144}function uh(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zo(e){Js=e,xs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function In(e){return c_(Js,e)}function ch(e,i){return Js===null&&zo(e),c_(e,i)}function c_(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},xs===null){if(e===null)throw Error(r(308));xs=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else xs=xs.next=i;return o}var wA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},bA=s.unstable_scheduleCallback,AA=s.unstable_NormalPriority,on={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cd(){return{controller:new wA,data:new Map,refCount:0}}function Nu(e){e.refCount--,e.refCount===0&&bA(AA,function(){e.controller.abort()})}var Ou=null,Id=0,Ll=0,Dl=null;function SA(e,i){if(Ou===null){var o=Ou=[];Id=0,Ll=Pm(),Dl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Id++,i.then(h_,h_),i}function h_(){if(--Id===0&&Ou!==null){Dl!==null&&(Dl.status="fulfilled");var e=Ou;Ou=null,Ll=0,Dl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function xA(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var f_=it.S;it.S=function(e,i){Qy=Cn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&SA(e,i),f_!==null&&f_(e,i)};var Uo=M(null);function Nd(){var e=Uo.current;return e!==null?e:Ie.pooledCache}function hh(e,i){i===null?_t(Uo,Uo.current):_t(Uo,i.pool)}function d_(){var e=Nd();return e===null?null:{parent:on._currentValue,pool:e}}var Ml=Error(r(460)),Od=Error(r(474)),fh=Error(r(542)),dh={then:function(){}};function m_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function p_(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(Mn,Mn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,__(e),e;default:if(typeof i.status=="string")i.then(Mn,Mn);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,__(e),e}throw jo=i,Ml}}function Bo(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(jo=o,Ml):o}}var jo=null;function g_(){if(jo===null)throw Error(r(459));var e=jo;return jo=null,e}function __(e){if(e===Ml||e===fh)throw Error(r(483))}var kl=null,Pu=0;function mh(e){var i=Pu;return Pu+=1,kl===null&&(kl=[]),p_(kl,e,i)}function Lu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ph(e,i){throw i.$$typeof===O?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function y_(e){function i(K,H){if(e){var W=K.deletions;W===null?(K.deletions=[H],K.flags|=16):W.push(H)}}function o(K,H){if(!e)return null;for(;H!==null;)i(K,H),H=H.sibling;return null}function c(K){for(var H=new Map;K!==null;)K.key!==null?H.set(K.key,K):H.set(K.index,K),K=K.sibling;return H}function p(K,H){return K=rs(K,H),K.index=0,K.sibling=null,K}function g(K,H,W){return K.index=W,e?(W=K.alternate,W!==null?(W=W.index,W<H?(K.flags|=67108866,H):W):(K.flags|=67108866,H)):(K.flags|=1048576,H)}function b(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function C(K,H,W,ut){return H===null||H.tag!==6?(H=Nl(W,K.mode,ut),H.return=K,H):(H=p(H,W),H.return=K,H)}function U(K,H,W,ut){var Lt=W.type;return Lt===Q?ot(K,H,W.props.children,ut,W.key):H!==null&&(H.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===P&&Bo(Lt)===H.type)?(H=p(H,W.props),Lu(H,W),H.return=K,H):(H=Mo(W.type,W.key,W.props,null,K.mode,ut),Lu(H,W),H.return=K,H)}function $(K,H,W,ut){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Ru(W,K.mode,ut),H.return=K,H):(H=p(H,W.children||[]),H.return=K,H)}function ot(K,H,W,ut,Lt){return H===null||H.tag!==7?(H=Rr(W,K.mode,ut,Lt),H.return=K,H):(H=p(H,W),H.return=K,H)}function mt(K,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Nl(""+H,K.mode,W),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case F:return W=Mo(H.type,H.key,H.props,null,K.mode,W),Lu(W,H),W.return=K,W;case nt:return H=Ru(H,K.mode,W),H.return=K,H;case P:return H=Bo(H),mt(K,H,W)}if(Ve(H)||G(H))return H=Rr(H,K.mode,W,null),H.return=K,H;if(typeof H.then=="function")return mt(K,mh(H),W);if(H.$$typeof===ht)return mt(K,ch(K,H),W);ph(K,H)}return null}function tt(K,H,W,ut){var Lt=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Lt!==null?null:C(K,H,""+W,ut);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case F:return W.key===Lt?U(K,H,W,ut):null;case nt:return W.key===Lt?$(K,H,W,ut):null;case P:return W=Bo(W),tt(K,H,W,ut)}if(Ve(W)||G(W))return Lt!==null?null:ot(K,H,W,ut,null);if(typeof W.then=="function")return tt(K,H,mh(W),ut);if(W.$$typeof===ht)return tt(K,H,ch(K,W),ut);ph(K,W)}return null}function st(K,H,W,ut,Lt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return K=K.get(W)||null,C(H,K,""+ut,Lt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case F:return K=K.get(ut.key===null?W:ut.key)||null,U(H,K,ut,Lt);case nt:return K=K.get(ut.key===null?W:ut.key)||null,$(H,K,ut,Lt);case P:return ut=Bo(ut),st(K,H,W,ut,Lt)}if(Ve(ut)||G(ut))return K=K.get(W)||null,ot(H,K,ut,Lt,null);if(typeof ut.then=="function")return st(K,H,W,mh(ut),Lt);if(ut.$$typeof===ht)return st(K,H,W,ch(H,ut),Lt);ph(H,ut)}return null}function Ct(K,H,W,ut){for(var Lt=null,me=null,Ot=H,Yt=H=0,se=null;Ot!==null&&Yt<W.length;Yt++){Ot.index>Yt?(se=Ot,Ot=null):se=Ot.sibling;var pe=tt(K,Ot,W[Yt],ut);if(pe===null){Ot===null&&(Ot=se);break}e&&Ot&&pe.alternate===null&&i(K,Ot),H=g(pe,H,Yt),me===null?Lt=pe:me.sibling=pe,me=pe,Ot=se}if(Yt===W.length)return o(K,Ot),$t&&Pt(K,Yt),Lt;if(Ot===null){for(;Yt<W.length;Yt++)Ot=mt(K,W[Yt],ut),Ot!==null&&(H=g(Ot,H,Yt),me===null?Lt=Ot:me.sibling=Ot,me=Ot);return $t&&Pt(K,Yt),Lt}for(Ot=c(Ot);Yt<W.length;Yt++)se=st(Ot,K,Yt,W[Yt],ut),se!==null&&(e&&se.alternate!==null&&Ot.delete(se.key===null?Yt:se.key),H=g(se,H,Yt),me===null?Lt=se:me.sibling=se,me=se);return e&&Ot.forEach(function(Va){return i(K,Va)}),$t&&Pt(K,Yt),Lt}function zt(K,H,W,ut){if(W==null)throw Error(r(151));for(var Lt=null,me=null,Ot=H,Yt=H=0,se=null,pe=W.next();Ot!==null&&!pe.done;Yt++,pe=W.next()){Ot.index>Yt?(se=Ot,Ot=null):se=Ot.sibling;var Va=tt(K,Ot,pe.value,ut);if(Va===null){Ot===null&&(Ot=se);break}e&&Ot&&Va.alternate===null&&i(K,Ot),H=g(Va,H,Yt),me===null?Lt=Va:me.sibling=Va,me=Va,Ot=se}if(pe.done)return o(K,Ot),$t&&Pt(K,Yt),Lt;if(Ot===null){for(;!pe.done;Yt++,pe=W.next())pe=mt(K,pe.value,ut),pe!==null&&(H=g(pe,H,Yt),me===null?Lt=pe:me.sibling=pe,me=pe);return $t&&Pt(K,Yt),Lt}for(Ot=c(Ot);!pe.done;Yt++,pe=W.next())pe=st(Ot,K,Yt,pe.value,ut),pe!==null&&(e&&pe.alternate!==null&&Ot.delete(pe.key===null?Yt:pe.key),H=g(pe,H,Yt),me===null?Lt=pe:me.sibling=pe,me=pe);return e&&Ot.forEach(function(VS){return i(K,VS)}),$t&&Pt(K,Yt),Lt}function Se(K,H,W,ut){if(typeof W=="object"&&W!==null&&W.type===Q&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case F:t:{for(var Lt=W.key;H!==null;){if(H.key===Lt){if(Lt=W.type,Lt===Q){if(H.tag===7){o(K,H.sibling),ut=p(H,W.props.children),ut.return=K,K=ut;break t}}else if(H.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===P&&Bo(Lt)===H.type){o(K,H.sibling),ut=p(H,W.props),Lu(ut,W),ut.return=K,K=ut;break t}o(K,H);break}else i(K,H);H=H.sibling}W.type===Q?(ut=Rr(W.props.children,K.mode,ut,W.key),ut.return=K,K=ut):(ut=Mo(W.type,W.key,W.props,null,K.mode,ut),Lu(ut,W),ut.return=K,K=ut)}return b(K);case nt:t:{for(Lt=W.key;H!==null;){if(H.key===Lt)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){o(K,H.sibling),ut=p(H,W.children||[]),ut.return=K,K=ut;break t}else{o(K,H);break}else i(K,H);H=H.sibling}ut=Ru(W,K.mode,ut),ut.return=K,K=ut}return b(K);case P:return W=Bo(W),Se(K,H,W,ut)}if(Ve(W))return Ct(K,H,W,ut);if(G(W)){if(Lt=G(W),typeof Lt!="function")throw Error(r(150));return W=Lt.call(W),zt(K,H,W,ut)}if(typeof W.then=="function")return Se(K,H,mh(W),ut);if(W.$$typeof===ht)return Se(K,H,ch(K,W),ut);ph(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(o(K,H.sibling),ut=p(H,W),ut.return=K,K=ut):(o(K,H),ut=Nl(W,K.mode,ut),ut.return=K,K=ut),b(K)):o(K,H)}return function(K,H,W,ut){try{Pu=0;var Lt=Se(K,H,W,ut);return kl=null,Lt}catch(Ot){if(Ot===Ml||Ot===fh)throw Ot;var me=Bn(29,Ot,null,K.mode);return me.lanes=ut,me.return=K,me}}}var Ho=y_(!0),v_=y_(!1),Ea=!1;function Pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ld(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ta(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wa(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=Do(e),ya(e,null,o),i}return Xs(e,c,i,o),Do(e)}function Du(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,ho(e,o)}}function Dd(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?p=g=i:g=g.next=i}else p=g=i;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var Md=!1;function Mu(){if(Md){var e=Dl;if(e!==null)throw e}}function ku(e,i,o,c){Md=!1;var p=e.updateQueue;Ea=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var U=C,$=U.next;U.next=null,b===null?g=$:b.next=$,b=U;var ot=e.alternate;ot!==null&&(ot=ot.updateQueue,C=ot.lastBaseUpdate,C!==b&&(C===null?ot.firstBaseUpdate=$:C.next=$,ot.lastBaseUpdate=U))}if(g!==null){var mt=p.baseState;b=0,ot=$=U=null,C=g;do{var tt=C.lane&-536870913,st=tt!==C.lane;if(st?(ie&tt)===tt:(c&tt)===tt){tt!==0&&tt===Ll&&(Md=!0),ot!==null&&(ot=ot.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Ct=e,zt=C;tt=i;var Se=o;switch(zt.tag){case 1:if(Ct=zt.payload,typeof Ct=="function"){mt=Ct.call(Se,mt,tt);break t}mt=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=zt.payload,tt=typeof Ct=="function"?Ct.call(Se,mt,tt):Ct,tt==null)break t;mt=S({},mt,tt);break t;case 2:Ea=!0}}tt=C.callback,tt!==null&&(e.flags|=64,st&&(e.flags|=8192),st=p.callbacks,st===null?p.callbacks=[tt]:st.push(tt))}else st={lane:tt,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ot===null?($=ot=st,U=mt):ot=ot.next=st,b|=tt;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;st=C,C=st.next,st.next=null,p.lastBaseUpdate=st,p.shared.pending=null}}while(!0);ot===null&&(U=mt),p.baseState=U,p.firstBaseUpdate=$,p.lastBaseUpdate=ot,g===null&&(p.shared.lanes=0),Ra|=b,e.lanes=b,e.memoizedState=mt}}function E_(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function T_(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)E_(o[e],i)}var Vl=M(null),gh=M(0);function w_(e,i){e=zr,_t(gh,e),_t(Vl,i),zr=e|i.baseLanes}function kd(){_t(gh,zr),_t(Vl,Vl.current)}function Vd(){zr=gh.current,rt(Vl),rt(gh)}var Li=M(null),as=null;function ba(e){var i=e.alternate;_t(tn,tn.current&1),_t(Li,e),as===null&&(i===null||Vl.current!==null||i.memoizedState!==null)&&(as=e)}function zd(e){_t(tn,tn.current),_t(Li,e),as===null&&(as=e)}function b_(e){e.tag===22?(_t(tn,tn.current),_t(Li,e),as===null&&(as=e)):Aa()}function Aa(){_t(tn,tn.current),_t(Li,Li.current)}function Di(e){rt(Li),as===e&&(as=null),rt(tn)}var tn=M(0);function _h(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Fm(o)||Gm(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nr=0,Zt=null,be=null,ln=null,yh=!1,zl=!1,qo=!1,vh=0,Vu=0,Ul=null,RA=0;function Ye(){throw Error(r(321))}function Ud(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!bn(e[o],i[o]))return!1;return!0}function Bd(e,i,o,c,p,g){return Nr=g,Zt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,it.H=e===null||e.memoizedState===null?ay:em,qo=!1,g=o(c,p),qo=!1,zl&&(g=S_(i,o,c,p)),A_(e),g}function A_(e){it.H=Bu;var i=be!==null&&be.next!==null;if(Nr=0,ln=be=Zt=null,yh=!1,Vu=0,Ul=null,i)throw Error(r(300));e===null||un||(e=e.dependencies,e!==null&&uh(e)&&(un=!0))}function S_(e,i,o,c){Zt=e;var p=0;do{if(zl&&(Ul=null),Vu=0,zl=!1,25<=p)throw Error(r(301));if(p+=1,ln=be=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}it.H=oy,g=i(o,c)}while(zl);return g}function CA(){var e=it.H,i=e.useState()[0];return i=typeof i.then=="function"?zu(i):i,e=e.useState()[0],(be!==null?be.memoizedState:null)!==e&&(Zt.flags|=1024),i}function jd(){var e=vh!==0;return vh=0,e}function Hd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function qd(e){if(yh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}yh=!1}Nr=0,ln=be=Zt=null,zl=!1,Vu=vh=0,Ul=null}function Wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Zt.memoizedState=ln=e:ln=ln.next=e,ln}function en(){if(be===null){var e=Zt.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var i=ln===null?Zt.memoizedState:ln.next;if(i!==null)ln=i,be=e;else{if(e===null)throw Zt.alternate===null?Error(r(467)):Error(r(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},ln===null?Zt.memoizedState=ln=e:ln=ln.next=e}return ln}function Eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(e){var i=Vu;return Vu+=1,Ul===null&&(Ul=[]),e=p_(Ul,e,i),i=Zt,(ln===null?i.memoizedState:ln.next)===null&&(i=i.alternate,it.H=i===null||i.memoizedState===null?ay:em),e}function Th(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zu(e);if(e.$$typeof===ht)return In(e)}throw Error(r(438,String(e)))}function Fd(e){var i=null,o=Zt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Zt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Eh(),Zt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=q;return i.index++,o}function Or(e,i){return typeof i=="function"?i(e):i}function wh(e){var i=en();return Gd(i,be,e)}function Gd(e,i,o){var c=e.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var p=e.baseQueue,g=c.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}i.baseQueue=p=g,c.pending=null}if(g=e.baseState,p===null)e.memoizedState=g;else{i=p.next;var C=b=null,U=null,$=i,ot=!1;do{var mt=$.lane&-536870913;if(mt!==$.lane?(ie&mt)===mt:(Nr&mt)===mt){var tt=$.revertLane;if(tt===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),mt===Ll&&(ot=!0);else if((Nr&tt)===tt){$=$.next,tt===Ll&&(ot=!0);continue}else mt={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},U===null?(C=U=mt,b=g):U=U.next=mt,Zt.lanes|=tt,Ra|=tt;mt=$.action,qo&&o(g,mt),g=$.hasEagerState?$.eagerState:o(g,mt)}else tt={lane:mt,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},U===null?(C=U=tt,b=g):U=U.next=tt,Zt.lanes|=mt,Ra|=mt;$=$.next}while($!==null&&$!==i);if(U===null?b=g:U.next=C,!bn(g,e.memoizedState)&&(un=!0,ot&&(o=Dl,o!==null)))throw o;e.memoizedState=g,e.baseState=b,e.baseQueue=U,c.lastRenderedState=g}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Zd(e){var i=en(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var c=o.dispatch,p=o.pending,g=i.memoizedState;if(p!==null){o.pending=null;var b=p=p.next;do g=e(g,b.action),b=b.next;while(b!==p);bn(g,i.memoizedState)||(un=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function x_(e,i,o){var c=Zt,p=en(),g=$t;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=i();var b=!bn((be||p).memoizedState,o);if(b&&(p.memoizedState=o,un=!0),p=p.queue,Qd(I_.bind(null,c,p,e),[e]),p.getSnapshot!==i||b||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,Bl(9,{destroy:void 0},C_.bind(null,c,p,o,i),null),Ie===null)throw Error(r(349));g||(Nr&127)!==0||R_(c,i,o)}return o}function R_(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Zt.updateQueue,i===null?(i=Eh(),Zt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function C_(e,i,o,c){i.value=o,i.getSnapshot=c,N_(i)&&O_(e)}function I_(e,i,o){return o(function(){N_(i)&&O_(e)})}function N_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!bn(e,o)}catch{return!0}}function O_(e){var i=ss(e,2);i!==null&&gi(i,e,2)}function Kd(e){var i=Wn();if(typeof e=="function"){var o=e;if(e=o(),qo){Gn(!0);try{o()}finally{Gn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:e},i}function P_(e,i,o,c){return e.baseState=o,Gd(e,be,typeof c=="function"?c:Or)}function IA(e,i,o,c,p){if(Sh(e))throw Error(r(485));if(e=i.action,e!==null){var g={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};it.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,L_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function L_(e,i){var o=i.action,c=i.payload,p=e.state;if(i.isTransition){var g=it.T,b={};it.T=b;try{var C=o(p,c),U=it.S;U!==null&&U(b,C),D_(e,i,C)}catch($){Yd(e,i,$)}finally{g!==null&&b.types!==null&&(g.types=b.types),it.T=g}}else try{g=o(p,c),D_(e,i,g)}catch($){Yd(e,i,$)}}function D_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){M_(e,i,c)},function(c){return Yd(e,i,c)}):M_(e,i,o)}function M_(e,i,o){i.status="fulfilled",i.value=o,k_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,L_(e,o)))}function Yd(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,k_(i),i=i.next;while(i!==c)}e.action=null}function k_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function V_(e,i){return i}function z_(e,i){if($t){var o=Ie.formState;if(o!==null){t:{var c=Zt;if($t){if(de){e:{for(var p=de,g=hi;p.nodeType!==8;){if(!g){p=null;break e}if(p=os(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){de=os(p.nextSibling),c=p.data==="F!";break t}}$s(c)}c=!1}c&&(i=o[0])}}return o=Wn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V_,lastRenderedState:i},o.queue=c,o=iy.bind(null,Zt,c),c.dispatch=o,c=Kd(!1),g=tm.bind(null,Zt,!1,c.queue),c=Wn(),p={state:i,dispatch:null,action:e,pending:null},c.queue=p,o=IA.bind(null,Zt,p,g,o),p.dispatch=o,c.memoizedState=e,[i,o,!1]}function U_(e){var i=en();return B_(i,be,e)}function B_(e,i,o){if(i=Gd(e,i,V_)[0],e=wh(Or)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=zu(i)}catch(b){throw b===Ml?fh:b}else c=i;i=en();var p=i.queue,g=p.dispatch;return o!==i.memoizedState&&(Zt.flags|=2048,Bl(9,{destroy:void 0},NA.bind(null,p,o),null)),[c,g,e]}function NA(e,i){e.action=i}function j_(e){var i=en(),o=be;if(o!==null)return B_(i,o,e);en(),i=i.memoizedState,o=en();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function Bl(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Zt.updateQueue,i===null&&(i=Eh(),Zt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function H_(){return en().memoizedState}function bh(e,i,o,c){var p=Wn();Zt.flags|=e,p.memoizedState=Bl(1|i,{destroy:void 0},o,c===void 0?null:c)}function Ah(e,i,o,c){var p=en();c=c===void 0?null:c;var g=p.memoizedState.inst;be!==null&&c!==null&&Ud(c,be.memoizedState.deps)?p.memoizedState=Bl(i,g,o,c):(Zt.flags|=e,p.memoizedState=Bl(1|i,g,o,c))}function q_(e,i){bh(8390656,8,e,i)}function Qd(e,i){Ah(2048,8,e,i)}function OA(e){Zt.flags|=4;var i=Zt.updateQueue;if(i===null)i=Eh(),Zt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function F_(e){var i=en().memoizedState;return OA({ref:i,nextImpl:e}),function(){if((ge&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function G_(e,i){return Ah(4,2,e,i)}function Z_(e,i){return Ah(4,4,e,i)}function K_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Y_(e,i,o){o=o!=null?o.concat([e]):null,Ah(4,4,K_.bind(null,i,e),o)}function Xd(){}function Q_(e,i){var o=en();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Ud(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function X_(e,i){var o=en();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Ud(i,c[1]))return c[0];if(c=e(),qo){Gn(!0);try{e()}finally{Gn(!1)}}return o.memoizedState=[c,i],c}function Wd(e,i,o){return o===void 0||(Nr&1073741824)!==0&&(ie&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=Wy(),Zt.lanes|=e,Ra|=e,o)}function W_(e,i,o,c){return bn(o,i)?o:Vl.current!==null?(e=Wd(e,o,c),bn(e,i)||(un=!0),e):(Nr&42)===0||(Nr&1073741824)!==0&&(ie&261930)===0?(un=!0,e.memoizedState=o):(e=Wy(),Zt.lanes|=e,Ra|=e,i)}function $_(e,i,o,c,p){var g=gt.p;gt.p=g!==0&&8>g?g:8;var b=it.T,C={};it.T=C,tm(e,!1,i,o);try{var U=p(),$=it.S;if($!==null&&$(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ot=xA(U,c);Uu(e,i,ot,Vi(e))}else Uu(e,i,c,Vi(e))}catch(mt){Uu(e,i,{then:function(){},status:"rejected",reason:mt},Vi())}finally{gt.p=g,b!==null&&C.types!==null&&(b.types=C.types),it.T=b}}function PA(){}function $d(e,i,o,c){if(e.tag!==5)throw Error(r(476));var p=J_(e).queue;$_(e,p,i,ct,o===null?PA:function(){return ty(e),o(c)})}function J_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:ct},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ty(e){var i=J_(e);i.next===null&&(i=e.alternate.memoizedState),Uu(e,i.next.queue,{},Vi())}function Jd(){return In(nc)}function ey(){return en().memoizedState}function ny(){return en().memoizedState}function LA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Vi();e=Ta(o);var c=wa(i,e,o);c!==null&&(gi(c,i,o),Du(c,i,o)),i={cache:Cd()},e.payload=i;return}i=i.return}}function DA(e,i,o){var c=Vi();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Sh(e)?sy(i,o):(o=Au(e,i,o,c),o!==null&&(gi(o,e,c),ry(o,i,c)))}function iy(e,i,o){var c=Vi();Uu(e,i,o,c)}function Uu(e,i,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Sh(e))sy(i,p);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var b=i.lastRenderedState,C=g(b,o);if(p.hasEagerState=!0,p.eagerState=C,bn(C,b))return Xs(e,i,p,0),Ie===null&&Lo(),!1}catch{}if(o=Au(e,i,p,c),o!==null)return gi(o,e,c),ry(o,i,c),!0}return!1}function tm(e,i,o,c){if(c={lane:2,revertLane:Pm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Sh(e)){if(i)throw Error(r(479))}else i=Au(e,o,c,2),i!==null&&gi(i,e,2)}function Sh(e){var i=e.alternate;return e===Zt||i!==null&&i===Zt}function sy(e,i){zl=yh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function ry(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,ho(e,o)}}var Bu={readContext:In,use:Th,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Bu.useEffectEvent=Ye;var ay={readContext:In,use:Th,useCallback:function(e,i){return Wn().memoizedState=[e,i===void 0?null:i],e},useContext:In,useEffect:q_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,bh(4194308,4,K_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return bh(4194308,4,e,i)},useInsertionEffect:function(e,i){bh(4,2,e,i)},useMemo:function(e,i){var o=Wn();i=i===void 0?null:i;var c=e();if(qo){Gn(!0);try{e()}finally{Gn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=Wn();if(o!==void 0){var p=o(i);if(qo){Gn(!0);try{o(i)}finally{Gn(!1)}}}else p=i;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=DA.bind(null,Zt,e),[c.memoizedState,e]},useRef:function(e){var i=Wn();return e={current:e},i.memoizedState=e},useState:function(e){e=Kd(e);var i=e.queue,o=iy.bind(null,Zt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Xd,useDeferredValue:function(e,i){var o=Wn();return Wd(o,e,i)},useTransition:function(){var e=Kd(!1);return e=$_.bind(null,Zt,e.queue,!0,!1),Wn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Zt,p=Wn();if($t){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),Ie===null)throw Error(r(349));(ie&127)!==0||R_(c,i,o)}p.memoizedState=o;var g={value:o,getSnapshot:i};return p.queue=g,q_(I_.bind(null,c,g,e),[e]),c.flags|=2048,Bl(9,{destroy:void 0},C_.bind(null,c,g,o,i),null),o},useId:function(){var e=Wn(),i=Ie.identifierPrefix;if($t){var o=Tt,c=dt;o=(c&~(1<<32-ze(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=vh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=RA++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Jd,useFormState:z_,useActionState:z_,useOptimistic:function(e){var i=Wn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=tm.bind(null,Zt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Fd,useCacheRefresh:function(){return Wn().memoizedState=LA.bind(null,Zt)},useEffectEvent:function(e){var i=Wn(),o={impl:e};return i.memoizedState=o,function(){if((ge&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},em={readContext:In,use:Th,useCallback:Q_,useContext:In,useEffect:Qd,useImperativeHandle:Y_,useInsertionEffect:G_,useLayoutEffect:Z_,useMemo:X_,useReducer:wh,useRef:H_,useState:function(){return wh(Or)},useDebugValue:Xd,useDeferredValue:function(e,i){var o=en();return W_(o,be.memoizedState,e,i)},useTransition:function(){var e=wh(Or)[0],i=en().memoizedState;return[typeof e=="boolean"?e:zu(e),i]},useSyncExternalStore:x_,useId:ey,useHostTransitionStatus:Jd,useFormState:U_,useActionState:U_,useOptimistic:function(e,i){var o=en();return P_(o,be,e,i)},useMemoCache:Fd,useCacheRefresh:ny};em.useEffectEvent=F_;var oy={readContext:In,use:Th,useCallback:Q_,useContext:In,useEffect:Qd,useImperativeHandle:Y_,useInsertionEffect:G_,useLayoutEffect:Z_,useMemo:X_,useReducer:Zd,useRef:H_,useState:function(){return Zd(Or)},useDebugValue:Xd,useDeferredValue:function(e,i){var o=en();return be===null?Wd(o,e,i):W_(o,be.memoizedState,e,i)},useTransition:function(){var e=Zd(Or)[0],i=en().memoizedState;return[typeof e=="boolean"?e:zu(e),i]},useSyncExternalStore:x_,useId:ey,useHostTransitionStatus:Jd,useFormState:j_,useActionState:j_,useOptimistic:function(e,i){var o=en();return be!==null?P_(o,be,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Fd,useCacheRefresh:ny};oy.useEffectEvent=F_;function nm(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:S({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var im={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=Vi(),p=Ta(c);p.payload=i,o!=null&&(p.callback=o),i=wa(e,p,c),i!==null&&(gi(i,e,c),Du(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=Vi(),p=Ta(c);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=wa(e,p,c),i!==null&&(gi(i,e,c),Du(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Vi(),c=Ta(o);c.tag=2,i!=null&&(c.callback=i),i=wa(e,c,o),i!==null&&(gi(i,e,o),Du(i,e,o))}};function ly(e,i,o,c,p,g,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,b):i.prototype&&i.prototype.isPureReactComponent?!ma(o,c)||!ma(p,g):!0}function uy(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&im.enqueueReplaceState(i,i.state,null)}function Fo(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=S({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}function cy(e){Po(e)}function hy(e){console.error(e)}function fy(e){Po(e)}function xh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function dy(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sm(e,i,o){return o=Ta(o),o.tag=3,o.payload={element:null},o.callback=function(){xh(e,i)},o}function my(e){return e=Ta(e),e.tag=3,e}function py(e,i,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;e.payload=function(){return p(g)},e.callback=function(){dy(i,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){dy(i,o,c),typeof p!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function MA(e,i,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Pl(i,o,p,!0),o=Li.current,o!==null){switch(o.tag){case 31:case 13:return as===null?zh():o.alternate===null&&Qe===0&&(Qe=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===dh?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Im(e,c,p)),!1;case 22:return o.flags|=65536,c===dh?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Im(e,c,p)),!1}throw Error(r(435,o.tag))}return Im(e,c,p),zh(),!1}if($t)return i=Li.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==Ol&&(e=Error(r(422),{cause:c}),ko(u(e,o)))):(c!==Ol&&(i=Error(r(423),{cause:c}),ko(u(i,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=u(c,o),p=sm(e.stateNode,c,p),Dd(e,p),Qe!==4&&(Qe=2)),!1;var g=Error(r(520),{cause:c});if(g=u(g,o),Yu===null?Yu=[g]:Yu.push(g),Qe!==4&&(Qe=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=sm(o.stateNode,c,e),Dd(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ca===null||!Ca.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=my(p),py(p,e,o,c),Dd(o,p),!1}o=o.return}while(o!==null);return!1}var rm=Error(r(461)),un=!1;function Nn(e,i,o,c){i.child=e===null?v_(i,null,o,c):Ho(i,e.child,o,c)}function gy(e,i,o,c,p){o=o.render;var g=i.ref;if("ref"in c){var b={};for(var C in c)C!=="ref"&&(b[C]=c[C])}else b=c;return zo(i),c=Bd(e,i,o,b,g,p),C=jd(),e!==null&&!un?(Hd(e,i,p),Pr(e,i,p)):($t&&C&&mn(i),i.flags|=1,Nn(e,i,c,p),i.child)}function _y(e,i,o,c,p){if(e===null){var g=o.type;return typeof g=="function"&&!Il(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,yy(e,i,g,c,p)):(e=Mo(o.type,null,c,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!dm(e,p)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:ma,o(b,c)&&e.ref===i.ref)return Pr(e,i,p)}return i.flags|=1,e=rs(g,c),e.ref=i.ref,e.return=i,i.child=e}function yy(e,i,o,c,p){if(e!==null){var g=e.memoizedProps;if(ma(g,c)&&e.ref===i.ref)if(un=!1,i.pendingProps=c=g,dm(e,p))(e.flags&131072)!==0&&(un=!0);else return i.lanes=e.lanes,Pr(e,i,p)}return am(e,i,o,c,p)}function vy(e,i,o,c){var p=c.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=i.child=e.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,i.child=null;return Ey(e,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&hh(i,g!==null?g.cachePool:null),g!==null?w_(i,g):kd(),b_(i);else return c=i.lanes=536870912,Ey(e,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(hh(i,g.cachePool),w_(i,g),Aa(),i.memoizedState=null):(e!==null&&hh(i,null),kd(),Aa());return Nn(e,i,p,o),i.child}function ju(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ey(e,i,o,c,p){var g=Nd();return g=g===null?null:{parent:on._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},e!==null&&hh(i,null),kd(),b_(i),e!==null&&Pl(e,i,c,!0),i.childLanes=p,null}function Rh(e,i){return i=Ih({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Ty(e,i,o){return Ho(i,e.child,null,o),e=Rh(i,i.pendingProps),e.flags|=2,Di(i),i.memoizedState=null,e}function kA(e,i,o){var c=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,e===null){if($t){if(c.mode==="hidden")return e=Rh(i,c),i.lanes=536870912,ju(null,e);if(zd(i),(e=de)?(e=Lv(e,hi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:J!==null?{id:dt,overflow:Tt}:null,retryLane:536870912,hydrationErrors:null},o=xu(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw $s(i);return i.lanes=536870912,null}return Rh(i,c)}var g=e.memoizedState;if(g!==null){var b=g.dehydrated;if(zd(i),p)if(i.flags&256)i.flags&=-257,i=Ty(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(un||Pl(e,i,o,!1),p=(o&e.childLanes)!==0,un||p){if(c=Ie,c!==null&&(b=fo(c,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,ss(e,b),gi(c,e,b),rm;zh(),i=Ty(e,i,o)}else e=g.treeContext,de=os(b.nextSibling),fe=i,$t=!0,Ws=null,hi=!1,e!==null&&Xn(i,e),i=Rh(i,c),i.flags|=4096;return i}return e=rs(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Ch(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function am(e,i,o,c,p){return zo(i),o=Bd(e,i,o,c,void 0,p),c=jd(),e!==null&&!un?(Hd(e,i,p),Pr(e,i,p)):($t&&c&&mn(i),i.flags|=1,Nn(e,i,o,p),i.child)}function wy(e,i,o,c,p,g){return zo(i),i.updateQueue=null,o=S_(i,c,o,p),A_(e),c=jd(),e!==null&&!un?(Hd(e,i,g),Pr(e,i,g)):($t&&c&&mn(i),i.flags|=1,Nn(e,i,o,g),i.child)}function by(e,i,o,c,p){if(zo(i),i.stateNode===null){var g=xr,b=o.contextType;typeof b=="object"&&b!==null&&(g=In(b)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=im,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Pd(i),b=o.contextType,g.context=typeof b=="object"&&b!==null?In(b):xr,g.state=i.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(nm(i,o,b,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&im.enqueueReplaceState(g,g.state,null),ku(i,c,g,p),Mu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var C=i.memoizedProps,U=Fo(o,C);g.props=U;var $=g.context,ot=o.contextType;b=xr,typeof ot=="object"&&ot!==null&&(b=In(ot));var mt=o.getDerivedStateFromProps;ot=typeof mt=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,ot||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||$!==b)&&uy(i,g,c,b),Ea=!1;var tt=i.memoizedState;g.state=tt,ku(i,c,g,p),Mu(),$=i.memoizedState,C||tt!==$||Ea?(typeof mt=="function"&&(nm(i,o,mt,c),$=i.memoizedState),(U=Ea||ly(i,o,U,c,tt,$,b))?(ot||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=$),g.props=c,g.state=$,g.context=b,c=U):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Ld(e,i),b=i.memoizedProps,ot=Fo(o,b),g.props=ot,mt=i.pendingProps,tt=g.context,$=o.contextType,U=xr,typeof $=="object"&&$!==null&&(U=In($)),C=o.getDerivedStateFromProps,($=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==mt||tt!==U)&&uy(i,g,c,U),Ea=!1,tt=i.memoizedState,g.state=tt,ku(i,c,g,p),Mu();var st=i.memoizedState;b!==mt||tt!==st||Ea||e!==null&&e.dependencies!==null&&uh(e.dependencies)?(typeof C=="function"&&(nm(i,o,C,c),st=i.memoizedState),(ot=Ea||ly(i,o,ot,c,tt,st,U)||e!==null&&e.dependencies!==null&&uh(e.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,st,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,st,U)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===e.memoizedProps&&tt===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&tt===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=st),g.props=c,g.state=st,g.context=U,c=ot):(typeof g.componentDidUpdate!="function"||b===e.memoizedProps&&tt===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&tt===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,Ch(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=Ho(i,e.child,null,p),i.child=Ho(i,null,o,p)):Nn(e,i,o,p),i.memoizedState=g.state,e=i.child):e=Pr(e,i,p),e}function Ay(e,i,o,c){return Cr(),i.flags|=256,Nn(e,i,o,c),i.child}var om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lm(e){return{baseLanes:e,cachePool:d_()}}function um(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=ki),e}function Sy(e,i,o){var c=i.pendingProps,p=!1,g=(i.flags&128)!==0,b;if((b=g)||(b=e!==null&&e.memoizedState===null?!1:(tn.current&2)!==0),b&&(p=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,e===null){if($t){if(p?ba(i):Aa(),(e=de)?(e=Lv(e,hi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:J!==null?{id:dt,overflow:Tt}:null,retryLane:536870912,hydrationErrors:null},o=xu(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw $s(i);return Gm(e)?i.lanes=32:i.lanes=536870912,null}var C=c.children;return c=c.fallback,p?(Aa(),p=i.mode,C=Ih({mode:"hidden",children:C},p),c=Rr(c,p,o,null),C.return=i,c.return=i,C.sibling=c,i.child=C,c=i.child,c.memoizedState=lm(o),c.childLanes=um(e,b,o),i.memoizedState=om,ju(null,c)):(ba(i),cm(i,C))}var U=e.memoizedState;if(U!==null&&(C=U.dehydrated,C!==null)){if(g)i.flags&256?(ba(i),i.flags&=-257,i=hm(e,i,o)):i.memoizedState!==null?(Aa(),i.child=e.child,i.flags|=128,i=null):(Aa(),C=c.fallback,p=i.mode,c=Ih({mode:"visible",children:c.children},p),C=Rr(C,p,o,null),C.flags|=2,c.return=i,C.return=i,c.sibling=C,i.child=c,Ho(i,e.child,null,o),c=i.child,c.memoizedState=lm(o),c.childLanes=um(e,b,o),i.memoizedState=om,i=ju(null,c));else if(ba(i),Gm(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var $=b.dgst;b=$,c=Error(r(419)),c.stack="",c.digest=b,ko({value:c,source:null,stack:null}),i=hm(e,i,o)}else if(un||Pl(e,i,o,!1),b=(o&e.childLanes)!==0,un||b){if(b=Ie,b!==null&&(c=fo(b,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,ss(e,c),gi(b,e,c),rm;Fm(C)||zh(),i=hm(e,i,o)}else Fm(C)?(i.flags|=192,i.child=e.child,i=null):(e=U.treeContext,de=os(C.nextSibling),fe=i,$t=!0,Ws=null,hi=!1,e!==null&&Xn(i,e),i=cm(i,c.children),i.flags|=4096);return i}return p?(Aa(),C=c.fallback,p=i.mode,U=e.child,$=U.sibling,c=rs(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,$!==null?C=rs($,C):(C=Rr(C,p,o,null),C.flags|=2),C.return=i,c.return=i,c.sibling=C,i.child=c,ju(null,c),c=i.child,C=e.child.memoizedState,C===null?C=lm(o):(p=C.cachePool,p!==null?(U=on._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=d_(),C={baseLanes:C.baseLanes|o,cachePool:p}),c.memoizedState=C,c.childLanes=um(e,b,o),i.memoizedState=om,ju(e.child,c)):(ba(i),o=e.child,e=o.sibling,o=rs(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(b=i.deletions,b===null?(i.deletions=[e],i.flags|=16):b.push(e)),i.child=o,i.memoizedState=null,o)}function cm(e,i){return i=Ih({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ih(e,i){return e=Bn(22,e,null,i),e.lanes=0,e}function hm(e,i,o){return Ho(i,e.child,null,o),e=cm(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function xy(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),xd(e.return,i,o)}function fm(e,i,o,c,p,g){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=p,b.treeForkCount=g)}function Ry(e,i,o){var c=i.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var b=tn.current,C=(b&2)!==0;if(C?(b=b&1|2,i.flags|=128):b&=1,_t(tn,b),Nn(e,i,c,o),c=$t?R:0,!C&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xy(e,o,i);else if(e.tag===19)xy(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)e=o.alternate,e!==null&&_h(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),fm(i,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&_h(e)===null){i.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}fm(i,!0,o,null,g,c);break;case"together":fm(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Pr(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Ra|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Pl(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,o=rs(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=rs(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function dm(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&uh(e)))}function VA(e,i,o){switch(i.tag){case 3:we(i,i.stateNode.containerInfo),va(i,on,e.memoizedState.cache),Cr();break;case 27:case 5:fs(i);break;case 4:we(i,i.stateNode.containerInfo);break;case 10:va(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ba(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Sy(e,i,o):(ba(i),e=Pr(e,i,o),e!==null?e.sibling:null);ba(i);break;case 19:var p=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Pl(e,i,o,!1),c=(o&i.childLanes)!==0),p){if(c)return Ry(e,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),_t(tn,tn.current),c)break;return null;case 22:return i.lanes=0,vy(e,i,o,i.pendingProps);case 24:va(i,on,e.memoizedState.cache)}return Pr(e,i,o)}function Cy(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)un=!0;else{if(!dm(e,o)&&(i.flags&128)===0)return un=!1,VA(e,i,o);un=(e.flags&131072)!==0}else un=!1,$t&&(i.flags&1048576)!==0&&Kt(i,R,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=Bo(i.elementType),i.type=e,typeof e=="function")Il(e)?(c=Fo(e,c),i.tag=1,i=by(null,i,e,c,o)):(i.tag=0,i=am(null,i,e,c,o));else{if(e!=null){var p=e.$$typeof;if(p===It){i.tag=11,i=gy(null,i,e,c,o);break t}else if(p===V){i.tag=14,i=_y(null,i,e,c,o);break t}}throw i=ee(e)||e,Error(r(306,i,""))}}return i;case 0:return am(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,p=Fo(c,i.pendingProps),by(e,i,c,p,o);case 3:t:{if(we(i,i.stateNode.containerInfo),e===null)throw Error(r(387));c=i.pendingProps;var g=i.memoizedState;p=g.element,Ld(e,i),ku(i,c,null,o);var b=i.memoizedState;if(c=b.cache,va(i,on,c),c!==g.cache&&Rd(i,[on],o,!0),Mu(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Ay(e,i,c,o);break t}else if(c!==p){p=u(Error(r(424)),i),ko(p),i=Ay(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,de=os(e.firstChild),fe=i,$t=!0,Ws=null,hi=!0,o=v_(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Cr(),c===p){i=Pr(e,i,o);break t}Nn(e,i,c,o)}i=i.child}return i;case 26:return Ch(e,i),e===null?(o=Uv(i.type,null,i.pendingProps,null))?i.memoizedState=o:$t||(o=i.type,e=i.pendingProps,c=Gh(wt.current).createElement(o),c[Be]=i,c[Ge]=e,On(c,o,e),Ze(c),i.stateNode=c):i.memoizedState=Uv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return fs(i),e===null&&$t&&(c=i.stateNode=kv(i.type,i.pendingProps,wt.current),fe=i,hi=!0,p=de,Pa(i.type)?(Zm=p,de=os(c.firstChild)):de=p),Nn(e,i,i.pendingProps.children,o),Ch(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&$t&&((p=c=de)&&(c=dS(c,i.type,i.pendingProps,hi),c!==null?(i.stateNode=c,fe=i,de=os(c.firstChild),hi=!1,p=!0):p=!1),p||$s(i)),fs(i),p=i.type,g=i.pendingProps,b=e!==null?e.memoizedProps:null,c=g.children,jm(p,g)?c=null:b!==null&&jm(p,b)&&(i.flags|=32),i.memoizedState!==null&&(p=Bd(e,i,CA,null,null,o),nc._currentValue=p),Ch(e,i),Nn(e,i,c,o),i.child;case 6:return e===null&&$t&&((e=o=de)&&(o=mS(o,i.pendingProps,hi),o!==null?(i.stateNode=o,fe=i,de=null,e=!0):e=!1),e||$s(i)),null;case 13:return Sy(e,i,o);case 4:return we(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Ho(i,null,c,o):Nn(e,i,c,o),i.child;case 11:return gy(e,i,i.type,i.pendingProps,o);case 7:return Nn(e,i,i.pendingProps,o),i.child;case 8:return Nn(e,i,i.pendingProps.children,o),i.child;case 12:return Nn(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,va(i,i.type,c.value),Nn(e,i,c.children,o),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,zo(i),p=In(p),c=c(p),i.flags|=1,Nn(e,i,c,o),i.child;case 14:return _y(e,i,i.type,i.pendingProps,o);case 15:return yy(e,i,i.type,i.pendingProps,o);case 19:return Ry(e,i,o);case 31:return kA(e,i,o);case 22:return vy(e,i,o,i.pendingProps);case 24:return zo(i),c=In(on),e===null?(p=Nd(),p===null&&(p=Ie,g=Cd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),i.memoizedState={parent:c,cache:p},Pd(i),va(i,on,p)):((e.lanes&o)!==0&&(Ld(e,i),ku(i,null,null,o),Mu()),p=e.memoizedState,g=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),va(i,on,c)):(c=g.cache,va(i,on,c),c!==p.cache&&Rd(i,[on],o,!0))),Nn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Lr(e){e.flags|=4}function mm(e,i,o,c,p){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(ev())e.flags|=8192;else throw jo=dh,Od}else e.flags&=-16777217}function Iy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fv(i))if(ev())e.flags|=8192;else throw jo=dh,Od}function Nh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?pl():536870912,e.lanes|=i,Fl|=i)}function Hu(e,i){if(!$t)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function De(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function zA(e,i,o){var c=i.pendingProps;switch(Ke(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(i),null;case 1:return De(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ir(on),xe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ss(i)?Lr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Iu())),De(i),null;case 26:var p=i.type,g=i.memoizedState;return e===null?(Lr(i),g!==null?(De(i),Iy(i,g)):(De(i),mm(i,p,null,c,o))):g?g!==e.memoizedState?(Lr(i),De(i),Iy(i,g)):(De(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&Lr(i),De(i),mm(i,p,e,c,o)),null;case 27:if(Ls(i),o=wt.current,p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Lr(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return De(i),null}e=vt.current,Ss(i)?Cu(i):(e=kv(p,c,o),i.stateNode=e,Lr(i))}return De(i),null;case 5:if(Ls(i),p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Lr(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return De(i),null}if(g=vt.current,Ss(i))Cu(i);else{var b=Gh(wt.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?b.createElement(p,{is:c.is}):b.createElement(p)}}g[Be]=i,g[Ge]=c;t:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break t;for(;b.sibling===null;){if(b.return===null||b.return===i)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=g;t:switch(On(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Lr(i)}}return De(i),mm(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Lr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(e=wt.current,Ss(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,p=fe,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[Be]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Sv(e.nodeValue,o)),e||$s(i,!0)}else e=Gh(e).createTextNode(c),e[Be]=i,i.stateNode=e}return De(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=Ss(i),o!==null){if(e===null){if(!c)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Be]=i}else Cr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;De(i),e=!1}else o=Iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(Di(i),i):(Di(i),null);if((i.flags&128)!==0)throw Error(r(558))}return De(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Ss(i),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Be]=i}else Cr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;De(i),p=!1}else p=Iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Di(i),i):(Di(i),null)}return Di(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),Nh(i,i.updateQueue),De(i),null);case 4:return xe(),e===null&&km(i.stateNode.containerInfo),De(i),null;case 10:return Ir(i.type),De(i),null;case 19:if(rt(tn),c=i.memoizedState,c===null)return De(i),null;if(p=(i.flags&128)!==0,g=c.rendering,g===null)if(p)Hu(c,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=_h(e),g!==null){for(i.flags|=128,Hu(c,!1),e=g.updateQueue,i.updateQueue=e,Nh(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)Su(o,e),o=o.sibling;return _t(tn,tn.current&1|2),$t&&Pt(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&Cn()>Mh&&(i.flags|=128,p=!0,Hu(c,!1),i.lanes=4194304)}else{if(!p)if(e=_h(g),e!==null){if(i.flags|=128,p=!0,e=e.updateQueue,i.updateQueue=e,Nh(i,e),Hu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!$t)return De(i),null}else 2*Cn()-c.renderingStartTime>Mh&&o!==536870912&&(i.flags|=128,p=!0,Hu(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(e=c.last,e!==null?e.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Cn(),e.sibling=null,o=tn.current,_t(tn,p?o&1|2:o&1),$t&&Pt(i,c.treeForkCount),e):(De(i),null);case 22:case 23:return Di(i),Vd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(De(i),i.subtreeFlags&6&&(i.flags|=8192)):De(i),o=i.updateQueue,o!==null&&Nh(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&rt(Uo),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ir(on),De(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function UA(e,i){switch(Ke(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ir(on),xe(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ls(i),null;case 31:if(i.memoizedState!==null){if(Di(i),i.alternate===null)throw Error(r(340));Cr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Di(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Cr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return rt(tn),null;case 4:return xe(),null;case 10:return Ir(i.type),null;case 22:case 23:return Di(i),Vd(),e!==null&&rt(Uo),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ir(on),null;case 25:return null;default:return null}}function Ny(e,i){switch(Ke(i),i.tag){case 3:Ir(on),xe();break;case 26:case 27:case 5:Ls(i);break;case 4:xe();break;case 31:i.memoizedState!==null&&Di(i);break;case 13:Di(i);break;case 19:rt(tn);break;case 10:Ir(i.type);break;case 22:case 23:Di(i),Vd(),e!==null&&rt(Uo);break;case 24:Ir(on)}}function qu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&e)===e){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==p)}}catch(C){Te(i,i.return,C)}}function Sa(e,i,o){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&e)===e){var b=c.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,p=i;var U=o,$=C;try{$()}catch(ot){Te(p,U,ot)}}}c=c.next}while(c!==g)}}catch(ot){Te(i,i.return,ot)}}function Oy(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{T_(i,o)}catch(c){Te(e,e.return,c)}}}function Py(e,i,o){o.props=Fo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Te(e,i,c)}}function Fu(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(p){Te(e,i,p)}}function tr(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Te(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Te(e,i,p)}else o.current=null}function Ly(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Te(e,e.return,p)}}function pm(e,i,o){try{var c=e.stateNode;oS(c,e.type,o,i),c[Ge]=i}catch(p){Te(e,e.return,p)}}function Dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pa(e.type)||e.tag===4}function gm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _m(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Mn));else if(c!==4&&(c===27&&Pa(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(_m(e,i,o),e=e.sibling;e!==null;)_m(e,i,o),e=e.sibling}function Oh(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&Pa(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Oh(e,i,o),e=e.sibling;e!==null;)Oh(e,i,o),e=e.sibling}function My(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);On(i,c,o),i[Be]=e,i[Ge]=o}catch(g){Te(e,e.return,g)}}var Dr=!1,cn=!1,ym=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function BA(e,i){if(e=e.containerInfo,Um=$h,e=Co(e),Zs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,C=-1,U=-1,$=0,ot=0,mt=e,tt=null;e:for(;;){for(var st;mt!==o||p!==0&&mt.nodeType!==3||(C=b+p),mt!==g||c!==0&&mt.nodeType!==3||(U=b+c),mt.nodeType===3&&(b+=mt.nodeValue.length),(st=mt.firstChild)!==null;)tt=mt,mt=st;for(;;){if(mt===e)break e;if(tt===o&&++$===p&&(C=b),tt===g&&++ot===c&&(U=b),(st=mt.nextSibling)!==null)break;mt=tt,tt=mt.parentNode}mt=st}o=C===-1||U===-1?null:{start:C,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bm={focusedElem:e,selectionRange:o},$h=!1,Sn=i;Sn!==null;)if(i=Sn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Sn=e;else for(;Sn!==null;){switch(i=Sn,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)p=e[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Ct=Fo(o.type,p);e=c.getSnapshotBeforeUpdate(Ct,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(zt){Te(o,o.return,zt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)qm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Sn=e;break}Sn=i.return}}function Vy(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:kr(e,o),c&4&&qu(5,o);break;case 1:if(kr(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(b){Te(o,o.return,b)}else{var p=Fo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Te(o,o.return,b)}}c&64&&Oy(o),c&512&&Fu(o,o.return);break;case 3:if(kr(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{T_(e,i)}catch(b){Te(o,o.return,b)}}break;case 27:i===null&&c&4&&My(o);case 26:case 5:kr(e,o),i===null&&c&4&&Ly(o),c&512&&Fu(o,o.return);break;case 12:kr(e,o);break;case 31:kr(e,o),c&4&&By(e,o);break;case 13:kr(e,o),c&4&&jy(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=QA.bind(null,o),pS(e,o))));break;case 22:if(c=o.memoizedState!==null||Dr,!c){i=i!==null&&i.memoizedState!==null||cn,p=Dr;var g=cn;Dr=c,(cn=i)&&!g?Vr(e,o,(o.subtreeFlags&8772)!==0):kr(e,o),Dr=p,cn=g}break;case 30:break;default:kr(e,o)}}function zy(e){var i=e.alternate;i!==null&&(e.alternate=null,zy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ea(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,fi=!1;function Mr(e,i,o){for(o=o.child;o!==null;)Uy(e,i,o),o=o.sibling}function Uy(e,i,o){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Jn,o)}catch{}switch(o.tag){case 26:cn||tr(o,i),Mr(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:cn||tr(o,i);var c=ke,p=fi;Pa(o.type)&&(ke=o.stateNode,fi=!1),Mr(e,i,o),Ju(o.stateNode),ke=c,fi=p;break;case 5:cn||tr(o,i);case 6:if(c=ke,p=fi,ke=null,Mr(e,i,o),ke=c,fi=p,ke!==null)if(fi)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(o.stateNode)}catch(g){Te(o,i,g)}else try{ke.removeChild(o.stateNode)}catch(g){Te(o,i,g)}break;case 18:ke!==null&&(fi?(e=ke,Ov(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),$l(e)):Ov(ke,o.stateNode));break;case 4:c=ke,p=fi,ke=o.stateNode.containerInfo,fi=!0,Mr(e,i,o),ke=c,fi=p;break;case 0:case 11:case 14:case 15:Sa(2,o,i),cn||Sa(4,o,i),Mr(e,i,o);break;case 1:cn||(tr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Py(o,i,c)),Mr(e,i,o);break;case 21:Mr(e,i,o);break;case 22:cn=(c=cn)||o.memoizedState!==null,Mr(e,i,o),cn=c;break;default:Mr(e,i,o)}}function By(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$l(e)}catch(o){Te(i,i.return,o)}}}function jy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$l(e)}catch(o){Te(i,i.return,o)}}function jA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ky),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ky),i;default:throw Error(r(435,e.tag))}}function Ph(e,i){var o=jA(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var p=XA.bind(null,e,c);c.then(p,p)}})}function di(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=e,b=i,C=b;t:for(;C!==null;){switch(C.tag){case 27:if(Pa(C.type)){ke=C.stateNode,fi=!1;break t}break;case 5:ke=C.stateNode,fi=!1;break t;case 3:case 4:ke=C.stateNode.containerInfo,fi=!0;break t}C=C.return}if(ke===null)throw Error(r(160));Uy(g,b,p),ke=null,fi=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Hy(i,e),i=i.sibling}var Rs=null;function Hy(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:di(i,e),mi(e),c&4&&(Sa(3,e,e.return),qu(3,e),Sa(5,e,e.return));break;case 1:di(i,e),mi(e),c&512&&(cn||o===null||tr(o,o.return)),c&64&&Dr&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=Rs;if(di(i,e),mi(e),c&512&&(cn||o===null||tr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Ki]||g[Be]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),On(g,c,o),g[Be]=e,Ze(g),c=g;break t;case"link":var b=Hv("link","href",p).get(c+(o.href||""));if(b){for(var C=0;C<b.length;C++)if(g=b[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(C,1);break e}}g=p.createElement(c),On(g,c,o),p.head.appendChild(g);break;case"meta":if(b=Hv("meta","content",p).get(c+(o.content||""))){for(C=0;C<b.length;C++)if(g=b[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(C,1);break e}}g=p.createElement(c),On(g,c,o),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[Be]=e,Ze(g),c=g}e.stateNode=c}else qv(p,e.type,e.stateNode);else e.stateNode=jv(p,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?qv(p,e.type,e.stateNode):jv(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&pm(e,e.memoizedProps,o.memoizedProps)}break;case 27:di(i,e),mi(e),c&512&&(cn||o===null||tr(o,o.return)),o!==null&&c&4&&pm(e,e.memoizedProps,o.memoizedProps);break;case 5:if(di(i,e),mi(e),c&512&&(cn||o===null||tr(o,o.return)),e.flags&32){p=e.stateNode;try{rn(p,"")}catch(Ct){Te(e,e.return,Ct)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,pm(e,p,o!==null?o.memoizedProps:p)),c&1024&&(ym=!0);break;case 6:if(di(i,e),mi(e),c&4){if(e.stateNode===null)throw Error(r(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Ct){Te(e,e.return,Ct)}}break;case 3:if(Yh=null,p=Rs,Rs=Zh(i.containerInfo),di(i,e),Rs=p,mi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{$l(i.containerInfo)}catch(Ct){Te(e,e.return,Ct)}ym&&(ym=!1,qy(e));break;case 4:c=Rs,Rs=Zh(e.stateNode.containerInfo),di(i,e),mi(e),Rs=c;break;case 12:di(i,e),mi(e);break;case 31:di(i,e),mi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ph(e,c)));break;case 13:di(i,e),mi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Dh=Cn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ph(e,c)));break;case 22:p=e.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,$=Dr,ot=cn;if(Dr=$||p,cn=ot||U,di(i,e),cn=ot,Dr=$,mi(e),c&8192)t:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||U||Dr||cn||Go(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){U=o=i;try{if(g=U.stateNode,p)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=U.stateNode;var mt=U.memoizedProps.style,tt=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;C.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(Ct){Te(U,U.return,Ct)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(Ct){Te(U,U.return,Ct)}}}else if(i.tag===18){if(o===null){U=i;try{var st=U.stateNode;p?Pv(st,!0):Pv(U.stateNode,!1)}catch(Ct){Te(U,U.return,Ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Ph(e,o))));break;case 19:di(i,e),mi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ph(e,c)));break;case 30:break;case 21:break;default:di(i,e),mi(e)}}function mi(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(Dy(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,g=gm(e);Oh(e,g,p);break;case 5:var b=o.stateNode;o.flags&32&&(rn(b,""),o.flags&=-33);var C=gm(e);Oh(e,C,b);break;case 3:case 4:var U=o.stateNode.containerInfo,$=gm(e);_m(e,$,U);break;default:throw Error(r(161))}}catch(ot){Te(e,e.return,ot)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function kr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Vy(e,i.alternate,i),i=i.sibling}function Go(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Sa(4,i,i.return),Go(i);break;case 1:tr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Py(i,i.return,o),Go(i);break;case 27:Ju(i.stateNode);case 26:case 5:tr(i,i.return),Go(i);break;case 22:i.memoizedState===null&&Go(i);break;case 30:Go(i);break;default:Go(i)}e=e.sibling}}function Vr(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=e,g=i,b=g.flags;switch(g.tag){case 0:case 11:case 15:Vr(p,g,o),qu(4,g);break;case 1:if(Vr(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch($){Te(c,c.return,$)}if(c=g,p=c.updateQueue,p!==null){var C=c.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)E_(U[p],C)}catch($){Te(c,c.return,$)}}o&&b&64&&Oy(g),Fu(g,g.return);break;case 27:My(g);case 26:case 5:Vr(p,g,o),o&&c===null&&b&4&&Ly(g),Fu(g,g.return);break;case 12:Vr(p,g,o);break;case 31:Vr(p,g,o),o&&b&4&&By(p,g);break;case 13:Vr(p,g,o),o&&b&4&&jy(p,g);break;case 22:g.memoizedState===null&&Vr(p,g,o),Fu(g,g.return);break;case 30:break;default:Vr(p,g,o)}i=i.sibling}}function vm(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Nu(o))}function Em(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Nu(e))}function Cs(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fy(e,i,o,c),i=i.sibling}function Fy(e,i,o,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Cs(e,i,o,c),p&2048&&qu(9,i);break;case 1:Cs(e,i,o,c);break;case 3:Cs(e,i,o,c),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Nu(e)));break;case 12:if(p&2048){Cs(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,b=g.id,C=g.onPostCommit;typeof C=="function"&&C(b,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Te(i,i.return,U)}}else Cs(e,i,o,c);break;case 31:Cs(e,i,o,c);break;case 13:Cs(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,b=i.alternate,i.memoizedState!==null?g._visibility&2?Cs(e,i,o,c):Gu(e,i):g._visibility&2?Cs(e,i,o,c):(g._visibility|=2,jl(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),p&2048&&vm(b,i);break;case 24:Cs(e,i,o,c),p&2048&&Em(i.alternate,i);break;default:Cs(e,i,o,c)}}function jl(e,i,o,c,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,b=i,C=o,U=c,$=b.flags;switch(b.tag){case 0:case 11:case 15:jl(g,b,C,U,p),qu(8,b);break;case 23:break;case 22:var ot=b.stateNode;b.memoizedState!==null?ot._visibility&2?jl(g,b,C,U,p):Gu(g,b):(ot._visibility|=2,jl(g,b,C,U,p)),p&&$&2048&&vm(b.alternate,b);break;case 24:jl(g,b,C,U,p),p&&$&2048&&Em(b.alternate,b);break;default:jl(g,b,C,U,p)}i=i.sibling}}function Gu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,p=c.flags;switch(c.tag){case 22:Gu(o,c),p&2048&&vm(c.alternate,c);break;case 24:Gu(o,c),p&2048&&Em(c.alternate,c);break;default:Gu(o,c)}i=i.sibling}}var Zu=8192;function Hl(e,i,o){if(e.subtreeFlags&Zu)for(e=e.child;e!==null;)Gy(e,i,o),e=e.sibling}function Gy(e,i,o){switch(e.tag){case 26:Hl(e,i,o),e.flags&Zu&&e.memoizedState!==null&&RS(o,Rs,e.memoizedState,e.memoizedProps);break;case 5:Hl(e,i,o);break;case 3:case 4:var c=Rs;Rs=Zh(e.stateNode.containerInfo),Hl(e,i,o),Rs=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Zu,Zu=16777216,Hl(e,i,o),Zu=c):Hl(e,i,o));break;default:Hl(e,i,o)}}function Zy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ku(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Sn=c,Yy(c,e)}Zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ky(e),e=e.sibling}function Ky(e){switch(e.tag){case 0:case 11:case 15:Ku(e),e.flags&2048&&Sa(9,e,e.return);break;case 3:Ku(e);break;case 12:Ku(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Lh(e)):Ku(e);break;default:Ku(e)}}function Lh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Sn=c,Yy(c,e)}Zy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Sa(8,i,i.return),Lh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Lh(i));break;default:Lh(i)}e=e.sibling}}function Yy(e,i){for(;Sn!==null;){var o=Sn;switch(o.tag){case 0:case 11:case 15:Sa(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Nu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Sn=c;else t:for(o=e;Sn!==null;){c=Sn;var p=c.sibling,g=c.return;if(zy(c),c===o){Sn=null;break t}if(p!==null){p.return=g,Sn=p;break t}Sn=g}}}var HA={getCacheForType:function(e){var i=In(on),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return In(on).controller.signal}},qA=typeof WeakMap=="function"?WeakMap:Map,ge=0,Ie=null,Jt=null,ie=0,Ee=0,Mi=null,xa=!1,ql=!1,Tm=!1,zr=0,Qe=0,Ra=0,Zo=0,wm=0,ki=0,Fl=0,Yu=null,pi=null,bm=!1,Dh=0,Qy=0,Mh=1/0,kh=null,Ca=null,pn=0,Ia=null,Gl=null,Ur=0,Am=0,Sm=null,Xy=null,Qu=0,xm=null;function Vi(){return(ge&2)!==0&&ie!==0?ie&-ie:it.T!==null?Pm():mo()}function Wy(){if(ki===0)if((ie&536870912)===0||$t){var e=zs;zs<<=1,(zs&3932160)===0&&(zs=262144),ki=e}else ki=536870912;return e=Li.current,e!==null&&(e.flags|=32),ki}function gi(e,i,o){(e===Ie&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Zl(e,0),Na(e,ie,ki,!1)),ms(e,o),((ge&2)===0||e!==Ie)&&(e===Ie&&((ge&2)===0&&(Zo|=o),Qe===4&&Na(e,ie,ki,!1)),er(e))}function $y(e,i,o){if((ge&6)!==0)throw Error(r(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||Ti(e,i),p=c?ZA(e,i):Cm(e,i,!0),g=c;do{if(p===0){ql&&!c&&Na(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!FA(o)){p=Cm(e,i,!1),g=!1;continue}if(p===2){if(g=i,e.errorRecoveryDisabledLanes&g)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;t:{var C=e;p=Yu;var U=C.current.memoizedState.isDehydrated;if(U&&(Zl(C,b).flags|=256),b=Cm(C,b,!1),b!==2){if(Tm&&!U){C.errorRecoveryDisabledLanes|=g,Zo|=g,p=4;break t}g=pi,pi=p,g!==null&&(pi===null?pi=g:pi.push.apply(pi,g))}p=b}if(g=!1,p!==2)continue}}if(p===1){Zl(e,0),Na(e,i,0,!0);break}t:{switch(c=e,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Na(c,i,ki,!xa);break t;case 2:pi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(p=Dh+300-Cn(),10<p)){if(Na(c,i,ki,!xa),Gi(c,0,!0)!==0)break t;Ur=i,c.timeoutHandle=Iv(Jy.bind(null,c,o,pi,kh,bm,i,ki,Zo,Fl,xa,g,"Throttled",-0,0),p);break t}Jy(c,o,pi,kh,bm,i,ki,Zo,Fl,xa,g,null,-0,0)}}break}while(!0);er(e)}function Jy(e,i,o,c,p,g,b,C,U,$,ot,mt,tt,st){if(e.timeoutHandle=-1,mt=i.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},Gy(i,g,mt);var Ct=(g&62914560)===g?Dh-Cn():(g&4194048)===g?Qy-Cn():0;if(Ct=CS(mt,Ct),Ct!==null){Ur=g,e.cancelPendingCommit=Ct(ov.bind(null,e,i,g,o,c,p,b,C,U,ot,mt,null,tt,st)),Na(e,g,b,!$);return}}ov(e,i,g,o,c,p,b,C,U)}function FA(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!bn(g(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Na(e,i,o,c){i&=~wm,i&=~Zo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var p=i;0<p;){var g=31-ze(p),b=1<<g;c[g]=-1,p&=~b}o!==0&&_r(e,o,i)}function Vh(){return(ge&6)===0?(Xu(0),!1):!0}function Rm(){if(Jt!==null){if(Ee===0)var e=Jt.return;else e=Jt,xs=Js=null,qd(e),kl=null,Pu=0,e=Jt;for(;e!==null;)Ny(e.alternate,e),e=e.return;Jt=null}}function Zl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,cS(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Ur=0,Rm(),Ie=e,Jt=o=rs(e.current,null),ie=i,Ee=0,Mi=null,xa=!1,ql=Ti(e,i),Tm=!1,Fl=ki=wm=Zo=Ra=Qe=0,pi=Yu=null,bm=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var p=31-ze(c),g=1<<p;i|=e[p],c&=~g}return zr=i,Lo(),o}function tv(e,i){Zt=null,it.H=Bu,i===Ml||i===fh?(i=g_(),Ee=3):i===Od?(i=g_(),Ee=4):Ee=i===rm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mi=i,Jt===null&&(Qe=1,xh(e,u(i,e.current)))}function ev(){var e=Li.current;return e===null?!0:(ie&4194048)===ie?as===null:(ie&62914560)===ie||(ie&536870912)!==0?e===as:!1}function nv(){var e=it.H;return it.H=Bu,e===null?Bu:e}function iv(){var e=it.A;return it.A=HA,e}function zh(){Qe=4,xa||(ie&4194048)!==ie&&Li.current!==null||(ql=!0),(Ra&134217727)===0&&(Zo&134217727)===0||Ie===null||Na(Ie,ie,ki,!1)}function Cm(e,i,o){var c=ge;ge|=2;var p=nv(),g=iv();(Ie!==e||ie!==i)&&(kh=null,Zl(e,i)),i=!1;var b=Qe;t:do try{if(Ee!==0&&Jt!==null){var C=Jt,U=Mi;switch(Ee){case 8:Rm(),b=6;break t;case 3:case 2:case 9:case 6:Li.current===null&&(i=!0);var $=Ee;if(Ee=0,Mi=null,Kl(e,C,U,$),o&&ql){b=0;break t}break;default:$=Ee,Ee=0,Mi=null,Kl(e,C,U,$)}}GA(),b=Qe;break}catch(ot){tv(e,ot)}while(!0);return i&&e.shellSuspendCounter++,xs=Js=null,ge=c,it.H=p,it.A=g,Jt===null&&(Ie=null,ie=0,Lo()),b}function GA(){for(;Jt!==null;)sv(Jt)}function ZA(e,i){var o=ge;ge|=2;var c=nv(),p=iv();Ie!==e||ie!==i?(kh=null,Mh=Cn()+500,Zl(e,i)):ql=Ti(e,i);t:do try{if(Ee!==0&&Jt!==null){i=Jt;var g=Mi;e:switch(Ee){case 1:Ee=0,Mi=null,Kl(e,i,g,1);break;case 2:case 9:if(m_(g)){Ee=0,Mi=null,rv(i);break}i=function(){Ee!==2&&Ee!==9||Ie!==e||(Ee=7),er(e)},g.then(i,i);break t;case 3:Ee=7;break t;case 4:Ee=5;break t;case 7:m_(g)?(Ee=0,Mi=null,rv(i)):(Ee=0,Mi=null,Kl(e,i,g,7));break;case 5:var b=null;switch(Jt.tag){case 26:b=Jt.memoizedState;case 5:case 27:var C=Jt;if(b?Fv(b):C.stateNode.complete){Ee=0,Mi=null;var U=C.sibling;if(U!==null)Jt=U;else{var $=C.return;$!==null?(Jt=$,Uh($)):Jt=null}break e}}Ee=0,Mi=null,Kl(e,i,g,5);break;case 6:Ee=0,Mi=null,Kl(e,i,g,6);break;case 8:Rm(),Qe=6;break t;default:throw Error(r(462))}}KA();break}catch(ot){tv(e,ot)}while(!0);return xs=Js=null,it.H=c,it.A=p,ge=o,Jt!==null?0:(Ie=null,ie=0,Lo(),Qe)}function KA(){for(;Jt!==null&&!fl();)sv(Jt)}function sv(e){var i=Cy(e.alternate,e,zr);e.memoizedProps=e.pendingProps,i===null?Uh(e):Jt=i}function rv(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=wy(o,i,i.pendingProps,i.type,void 0,ie);break;case 11:i=wy(o,i,i.pendingProps,i.type.render,i.ref,ie);break;case 5:qd(i);default:Ny(o,i),i=Jt=Su(i,zr),i=Cy(o,i,zr)}e.memoizedProps=e.pendingProps,i===null?Uh(e):Jt=i}function Kl(e,i,o,c){xs=Js=null,qd(i),kl=null,Pu=0;var p=i.return;try{if(MA(e,p,i,o,ie)){Qe=1,xh(e,u(o,e.current)),Jt=null;return}}catch(g){if(p!==null)throw Jt=p,g;Qe=1,xh(e,u(o,e.current)),Jt=null;return}i.flags&32768?($t||c===1?e=!0:ql||(ie&536870912)!==0?e=!1:(xa=e=!0,(c===2||c===9||c===3||c===6)&&(c=Li.current,c!==null&&c.tag===13&&(c.flags|=16384))),av(i,e)):Uh(i)}function Uh(e){var i=e;do{if((i.flags&32768)!==0){av(i,xa);return}e=i.return;var o=zA(i.alternate,i,zr);if(o!==null){Jt=o;return}if(i=i.sibling,i!==null){Jt=i;return}Jt=i=e}while(i!==null);Qe===0&&(Qe=5)}function av(e,i){do{var o=UA(e.alternate,e);if(o!==null){o.flags&=32767,Jt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){Jt=e;return}Jt=e=o}while(e!==null);Qe=6,Jt=null}function ov(e,i,o,c,p,g,b,C,U){e.cancelPendingCommit=null;do Bh();while(pn!==0);if((ge&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(g=i.lanes|i.childLanes,g|=Cl,bu(e,o,g,b,C,U),e===Ie&&(Jt=Ie=null,ie=0),Gl=i,Ia=e,Ur=o,Am=g,Sm=p,Xy=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,WA(ds,function(){return fv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=it.T,it.T=null,p=gt.p,gt.p=2,b=ge,ge|=4;try{BA(e,i,o)}finally{ge=b,gt.p=p,it.T=c}}pn=1,lv(),uv(),cv()}}function lv(){if(pn===1){pn=0;var e=Ia,i=Gl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=it.T,it.T=null;var c=gt.p;gt.p=2;var p=ge;ge|=4;try{Hy(i,e);var g=Bm,b=Co(e.containerInfo),C=g.focusedElem,U=g.selectionRange;if(b!==C&&C&&C.ownerDocument&&Al(C.ownerDocument.documentElement,C)){if(U!==null&&Zs(C)){var $=U.start,ot=U.end;if(ot===void 0&&(ot=$),"selectionStart"in C)C.selectionStart=$,C.selectionEnd=Math.min(ot,C.value.length);else{var mt=C.ownerDocument||document,tt=mt&&mt.defaultView||window;if(tt.getSelection){var st=tt.getSelection(),Ct=C.textContent.length,zt=Math.min(U.start,Ct),Se=U.end===void 0?zt:Math.min(U.end,Ct);!st.extend&&zt>Se&&(b=Se,Se=zt,zt=b);var K=Ro(C,zt),H=Ro(C,Se);if(K&&H&&(st.rangeCount!==1||st.anchorNode!==K.node||st.anchorOffset!==K.offset||st.focusNode!==H.node||st.focusOffset!==H.offset)){var W=mt.createRange();W.setStart(K.node,K.offset),st.removeAllRanges(),zt>Se?(st.addRange(W),st.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),st.addRange(W))}}}}for(mt=[],st=C;st=st.parentNode;)st.nodeType===1&&mt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<mt.length;C++){var ut=mt[C];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}$h=!!Um,Bm=Um=null}finally{ge=p,gt.p=c,it.T=o}}e.current=i,pn=2}}function uv(){if(pn===2){pn=0;var e=Ia,i=Gl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=it.T,it.T=null;var c=gt.p;gt.p=2;var p=ge;ge|=4;try{Vy(e,i.alternate,i)}finally{ge=p,gt.p=c,it.T=o}}pn=3}}function cv(){if(pn===4||pn===3){pn=0,lo();var e=Ia,i=Gl,o=Ur,c=Xy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pn=5:(pn=0,Gl=Ia=null,hv(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Ca=null),Rt(o),i=i.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Jn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=it.T,p=gt.p,gt.p=2,it.T=null;try{for(var g=e.onRecoverableError,b=0;b<c.length;b++){var C=c[b];g(C.value,{componentStack:C.stack})}}finally{it.T=i,gt.p=p}}(Ur&3)!==0&&Bh(),er(e),p=e.pendingLanes,(o&261930)!==0&&(p&42)!==0?e===xm?Qu++:(Qu=0,xm=e):Qu=0,Xu(0)}}function hv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Nu(i)))}function Bh(){return lv(),uv(),cv(),fv()}function fv(){if(pn!==5)return!1;var e=Ia,i=Am;Am=0;var o=Rt(Ur),c=it.T,p=gt.p;try{gt.p=32>o?32:o,it.T=null,o=Sm,Sm=null;var g=Ia,b=Ur;if(pn=0,Gl=Ia=null,Ur=0,(ge&6)!==0)throw Error(r(331));var C=ge;if(ge|=4,Ky(g.current),Fy(g,g.current,b,o),ge=C,Xu(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Jn,g)}catch{}return!0}finally{gt.p=p,it.T=c,hv(e,i)}}function dv(e,i,o){i=u(o,i),i=sm(e.stateNode,i,2),e=wa(e,i,2),e!==null&&(ms(e,2),er(e))}function Te(e,i,o){if(e.tag===3)dv(e,e,o);else for(;i!==null;){if(i.tag===3){dv(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ca===null||!Ca.has(c))){e=u(o,e),o=my(2),c=wa(i,o,2),c!==null&&(py(o,c,i,e),ms(c,2),er(c));break}}i=i.return}}function Im(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new qA;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(o)||(Tm=!0,p.add(o),e=YA.bind(null,e,i,o),i.then(e,e))}function YA(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ie===e&&(ie&o)===o&&(Qe===4||Qe===3&&(ie&62914560)===ie&&300>Cn()-Dh?(ge&2)===0&&Zl(e,0):wm|=o,Fl===ie&&(Fl=0)),er(e)}function mv(e,i){i===0&&(i=pl()),e=ss(e,i),e!==null&&(ms(e,i),er(e))}function QA(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),mv(e,o)}function XA(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),mv(e,o)}function WA(e,i){return Fe(e,i)}var jh=null,Yl=null,Nm=!1,Hh=!1,Om=!1,Oa=0;function er(e){e!==Yl&&e.next===null&&(Yl===null?jh=Yl=e:Yl=Yl.next=e),Hh=!0,Nm||(Nm=!0,JA())}function Xu(e,i){if(!Om&&Hh){Om=!0;do for(var o=!1,c=jh;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var b=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-ze(42|e)+1)-1,g&=p&~(b&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,yv(c,g))}else g=ie,g=Gi(c,c===Ie?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ti(c,g)||(o=!0,yv(c,g));c=c.next}while(o);Om=!1}}function $A(){pv()}function pv(){Hh=Nm=!1;var e=0;Oa!==0&&uS()&&(e=Oa);for(var i=Cn(),o=null,c=jh;c!==null;){var p=c.next,g=gv(c,i);g===0?(c.next=null,o===null?jh=p:o.next=p,p===null&&(Yl=o)):(o=c,(e!==0||(g&3)!==0)&&(Hh=!0)),c=p}pn!==0&&pn!==5||Xu(e),Oa!==0&&(Oa=0)}function gv(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var b=31-ze(g),C=1<<b,U=p[b];U===-1?((C&o)===0||(C&c)!==0)&&(p[b]=wu(C,i)):U<=i&&(e.expiredLanes|=C),g&=~C}if(i=Ie,o=ie,o=Gi(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&qi(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Ti(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&qi(c),Rt(o)){case 2:case 8:o=Jr;break;case 32:o=ds;break;case 268435456:o=uo;break;default:o=ds}return c=_v.bind(null,e),o=Fe(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&qi(c),e.callbackPriority=2,e.callbackNode=null,2}function _v(e,i){if(pn!==0&&pn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Bh()&&e.callbackNode!==o)return null;var c=ie;return c=Gi(e,e===Ie?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:($y(e,c,i),gv(e,Cn()),e.callbackNode!=null&&e.callbackNode===o?_v.bind(null,e):null)}function yv(e,i){if(Bh())return null;$y(e,i,!0)}function JA(){hS(function(){(ge&6)!==0?Fe(gr,$A):pv()})}function Pm(){if(Oa===0){var e=Ll;e===0&&(e=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),Oa=e}return Oa}function vv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:js(""+e)}function Ev(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function tS(e,i,o,c,p){if(i==="submit"&&o&&o.stateNode===p){var g=vv((p[Ge]||null).action),b=c.submitter;b&&(i=(i=b[Ge]||null)?vv(i.formAction):b.getAttribute("formAction"),i!==null&&(g=i,b=null));var C=new ts("action","action",null,c,p);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Oa!==0){var U=b?Ev(p,b):new FormData(p);$d(o,{pending:!0,data:U,method:p.method,action:g},null,U)}}else typeof g=="function"&&(C.preventDefault(),U=b?Ev(p,b):new FormData(p),$d(o,{pending:!0,data:U,method:p.method,action:g},g,U))},currentTarget:p}]})}}for(var Lm=0;Lm<Qs.length;Lm++){var Dm=Qs[Lm],eS=Dm.toLowerCase(),nS=Dm[0].toUpperCase()+Dm.slice(1);ui(eS,"on"+nS)}ui(No,"onAnimationEnd"),ui(ah,"onAnimationIteration"),ui(Oo,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(bd,"onTransitionRun"),ui(oh,"onTransitionStart"),ui(Ad,"onTransitionCancel"),ui(_a,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function Tv(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],p=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var b=c.length-1;0<=b;b--){var C=c[b],U=C.instance,$=C.currentTarget;if(C=C.listener,U!==g&&p.isPropagationStopped())break t;g=C,p.currentTarget=$;try{g(p)}catch(ot){Po(ot)}p.currentTarget=null,g=U}else for(b=0;b<c.length;b++){if(C=c[b],U=C.instance,$=C.currentTarget,C=C.listener,U!==g&&p.isPropagationStopped())break t;g=C,p.currentTarget=$;try{g(p)}catch(ot){Po(ot)}p.currentTarget=null,g=U}}}}function te(e,i){var o=i[bi];o===void 0&&(o=i[bi]=new Set);var c=e+"__bubble";o.has(c)||(wv(i,e,2,!1),o.add(c))}function Mm(e,i,o){var c=0;i&&(c|=4),wv(o,e,c,i)}var qh="_reactListening"+Math.random().toString(36).slice(2);function km(e){if(!e[qh]){e[qh]=!0,po.forEach(function(o){o!=="selectionchange"&&(iS.has(o)||Mm(o,!1,e),Mm(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[qh]||(i[qh]=!0,Mm("selectionchange",!1,i))}}function wv(e,i,o,c){switch(Wv(i)){case 2:var p=OS;break;case 8:p=PS;break;default:p=Wm}o=p.bind(null,i,o,e),p=void 0,!ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(i,o,{capture:!0,passive:p}):e.addEventListener(i,o,!0):p!==void 0?e.addEventListener(i,o,{passive:p}):e.addEventListener(i,o,!1)}function Vm(e,i,o,c,p){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var C=c.stateNode.containerInfo;if(C===p)break;if(b===4)for(b=c.return;b!==null;){var U=b.tag;if((U===3||U===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;C!==null;){if(b=Ai(C),b===null)return;if(U=b.tag,U===5||U===6||U===26||U===27){c=g=b;continue t}C=C.parentNode}}c=c.return}_s(function(){var $=g,ot=kn(o),mt=[];t:{var tt=lh.get(e);if(tt!==void 0){var st=ts,Ct=e;switch(e){case"keypress":if(qs(o)===0)break t;case"keydown":case"keyup":st=wo;break;case"focusin":Ct="focus",st=br;break;case"focusout":Ct="blur",st=br;break;case"beforeblur":case"afterblur":st=br;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=vl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=T;break;case No:case ah:case Oo:st=oa;break;case _a:st=N;break;case"scroll":case"scrollend":st=Qt;break;case"wheel":st=et;break;case"copy":case"cut":case"paste":st=Yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=ws;break;case"toggle":case"beforetoggle":st=jt}var zt=(i&4)!==0,Se=!zt&&(e==="scroll"||e==="scrollend"),K=zt?tt!==null?tt+"Capture":null:tt;zt=[];for(var H=$,W;H!==null;){var ut=H;if(W=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||W===null||K===null||(ut=Kn(H,K),ut!=null&&zt.push($u(H,ut,W))),Se)break;H=H.return}0<zt.length&&(tt=new st(tt,Ct,null,o,ot),mt.push({event:tt,listeners:zt}))}}if((i&7)===0){t:{if(tt=e==="mouseover"||e==="pointerover",st=e==="mouseout"||e==="pointerout",tt&&o!==aa&&(Ct=o.relatedTarget||o.fromElement)&&(Ai(Ct)||Ct[wi]))break t;if((st||tt)&&(tt=ot.window===ot?ot:(tt=ot.ownerDocument)?tt.defaultView||tt.parentWindow:window,st?(Ct=o.relatedTarget||o.toElement,st=$,Ct=Ct?Ai(Ct):null,Ct!==null&&(Se=h(Ct),zt=Ct.tag,Ct!==Se||zt!==5&&zt!==27&&zt!==6)&&(Ct=null)):(st=null,Ct=$),st!==Ct)){if(zt=_o,ut="onMouseLeave",K="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(zt=ws,ut="onPointerLeave",K="onPointerEnter",H="pointer"),Se=st==null?tt:vn(st),W=Ct==null?tt:vn(Ct),tt=new zt(ut,H+"leave",st,o,ot),tt.target=Se,tt.relatedTarget=W,ut=null,Ai(ot)===$&&(zt=new zt(K,H+"enter",Ct,o,ot),zt.target=W,zt.relatedTarget=Se,ut=zt),Se=ut,st&&Ct)e:{for(zt=sS,K=st,H=Ct,W=0,ut=K;ut;ut=zt(ut))W++;ut=0;for(var Lt=H;Lt;Lt=zt(Lt))ut++;for(;0<W-ut;)K=zt(K),W--;for(;0<ut-W;)H=zt(H),ut--;for(;W--;){if(K===H||H!==null&&K===H.alternate){zt=K;break e}K=zt(K),H=zt(H)}zt=null}else zt=null;st!==null&&bv(mt,tt,st,zt,!1),Ct!==null&&Se!==null&&bv(mt,Se,Ct,zt,!0)}}t:{if(tt=$?vn($):window,st=tt.nodeName&&tt.nodeName.toLowerCase(),st==="select"||st==="input"&&tt.type==="file")var me=xo;else if(es(tt))if(eh)me=wd;else{me=Td;var Ot=bs}else st=tt.nodeName,!st||st.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?$&&Bs($.elementType)&&(me=xo):me=da;if(me&&(me=me(e,$))){th(mt,me,o,ot);break t}Ot&&Ot(e,tt,$),e==="focusout"&&$&&tt.type==="number"&&$.memoizedProps.value!=null&&Si(tt,"number",tt.value)}switch(Ot=$?vn($):window,e){case"focusin":(es(Ot)||Ot.contentEditable==="true")&&(Ks=Ot,xl=$,Io=null);break;case"focusout":Io=xl=Ks=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":pa=!1,sh(mt,o,ot);break;case"selectionchange":if(Sl)break;case"keydown":case"keyup":sh(mt,o,ot)}var Yt;if(ue)t:{switch(e){case"compositionstart":var se="onCompositionStart";break t;case"compositionend":se="onCompositionEnd";break t;case"compositionupdate":se="onCompositionUpdate";break t}se=void 0}else ca?Ar(e,o)&&(se="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(se="onCompositionStart");se&&(li&&o.locale!=="ko"&&(ca||se!=="onCompositionStart"?se==="onCompositionEnd"&&ca&&(Yt=xi()):(ai=ot,vs="value"in ai?ai.value:ai.textContent,ca=!0)),Ot=Fh($,se),0<Ot.length&&(se=new Ii(se,e,null,o,ot),mt.push({event:se,listeners:Ot}),Yt?se.data=Yt:(Yt=Sr(o),Yt!==null&&(se.data=Yt)))),(Yt=oi?Pi(e,o):ha(e,o))&&(se=Fh($,"onBeforeInput"),0<se.length&&(Ot=new Ii("onBeforeInput","beforeinput",null,o,ot),mt.push({event:Ot,listeners:se}),Ot.data=Yt)),tS(mt,e,$,o,ot)}Tv(mt,i)})}function $u(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Fh(e,i){for(var o=i+"Capture",c=[];e!==null;){var p=e,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Kn(e,o),p!=null&&c.unshift($u(e,p,g)),p=Kn(e,i),p!=null&&c.push($u(e,p,g))),e.tag===3)return c;e=e.return}return[]}function sS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bv(e,i,o,c,p){for(var g=i._reactName,b=[];o!==null&&o!==c;){var C=o,U=C.alternate,$=C.stateNode;if(C=C.tag,U!==null&&U===c)break;C!==5&&C!==26&&C!==27||$===null||(U=$,p?($=Kn(o,g),$!=null&&b.unshift($u(o,$,U))):p||($=Kn(o,g),$!=null&&b.push($u(o,$,U)))),o=o.return}b.length!==0&&e.push({event:i,listeners:b})}var rS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function Av(e){return(typeof e=="string"?e:""+e).replace(rS,`
`).replace(aS,"")}function Sv(e,i){return i=Av(i),Av(e)===i}function Ae(e,i,o,c,p,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||rn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&rn(e,""+c);break;case"className":Wt(e,"class",c);break;case"tabIndex":Wt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Wt(e,o,c);break;case"style":Er(e,c,g);break;case"data":if(i!=="object"){Wt(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=js(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Ae(e,i,"name",p.name,p,null),Ae(e,i,"formEncType",p.formEncType,p,null),Ae(e,i,"formMethod",p.formMethod,p,null),Ae(e,i,"formTarget",p.formTarget,p,null)):(Ae(e,i,"encType",p.encType,p,null),Ae(e,i,"method",p.method,p,null),Ae(e,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=js(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=Mn);break;case"onScroll":c!=null&&te("scroll",e);break;case"onScrollEnd":c!=null&&te("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=js(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":te("beforetoggle",e),te("toggle",e),Xt(e,"popover",c);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Xt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Tr.get(o)||o,Xt(e,o,c))}}function zm(e,i,o,c,p,g){switch(o){case"style":Er(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"children":typeof c=="string"?rn(e,c):(typeof c=="number"||typeof c=="bigint")&&rn(e,""+c);break;case"onScroll":c!=null&&te("scroll",e);break;case"onScrollEnd":c!=null&&te("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),g=e[Ge]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,p);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Xt(e,o,c)}}}function On(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",e),te("load",e);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ae(e,i,g,b,o,null)}}p&&Ae(e,i,"srcSet",o.srcSet,o,null),c&&Ae(e,i,"src",o.src,o,null);return;case"input":te("invalid",e);var C=g=b=p=null,U=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var ot=o[c];if(ot!=null)switch(c){case"name":p=ot;break;case"type":b=ot;break;case"checked":U=ot;break;case"defaultChecked":$=ot;break;case"value":g=ot;break;case"defaultValue":C=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(r(137,i));break;default:Ae(e,i,c,ot,o,null)}}vr(e,g,C,U,$,b,p,!1);return;case"select":te("invalid",e),c=b=g=null;for(p in o)if(o.hasOwnProperty(p)&&(C=o[p],C!=null))switch(p){case"value":g=C;break;case"defaultValue":b=C;break;case"multiple":c=C;default:Ae(e,i,p,C,o,null)}i=g,o=b,e.multiple=!!c,i!=null?ve(e,!!c,i,!1):o!=null&&ve(e,!!c,o,!0);return;case"textarea":te("invalid",e),g=p=c=null;for(b in o)if(o.hasOwnProperty(b)&&(C=o[b],C!=null))switch(b){case"value":c=C;break;case"defaultValue":p=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:Ae(e,i,b,C,o,null)}ri(e,c,p,g);return;case"option":for(U in o)o.hasOwnProperty(U)&&(c=o[U],c!=null)&&(U==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Ae(e,i,U,c,o,null));return;case"dialog":te("beforetoggle",e),te("toggle",e),te("cancel",e),te("close",e);break;case"iframe":case"object":te("load",e);break;case"video":case"audio":for(c=0;c<Wu.length;c++)te(Wu[c],e);break;case"image":te("error",e),te("load",e);break;case"details":te("toggle",e);break;case"embed":case"source":case"link":te("error",e),te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ae(e,i,$,c,o,null)}return;default:if(Bs(i)){for(ot in o)o.hasOwnProperty(ot)&&(c=o[ot],c!==void 0&&zm(e,i,ot,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&Ae(e,i,C,c,o,null))}function oS(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,b=null,C=null,U=null,$=null,ot=null;for(st in o){var mt=o[st];if(o.hasOwnProperty(st)&&mt!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":U=mt;default:c.hasOwnProperty(st)||Ae(e,i,st,null,c,mt)}}for(var tt in c){var st=c[tt];if(mt=o[tt],c.hasOwnProperty(tt)&&(st!=null||mt!=null))switch(tt){case"type":g=st;break;case"name":p=st;break;case"checked":$=st;break;case"defaultChecked":ot=st;break;case"value":b=st;break;case"defaultValue":C=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,i));break;default:st!==mt&&Ae(e,i,tt,st,c,mt)}}sa(e,b,C,U,$,ot,g,p);return;case"select":st=b=C=tt=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":st=U;default:c.hasOwnProperty(g)||Ae(e,i,g,null,c,U)}for(p in c)if(g=c[p],U=o[p],c.hasOwnProperty(p)&&(g!=null||U!=null))switch(p){case"value":tt=g;break;case"defaultValue":C=g;break;case"multiple":b=g;default:g!==U&&Ae(e,i,p,g,c,U)}i=C,o=b,c=st,tt!=null?ve(e,!!o,tt,!1):!!c!=!!o&&(i!=null?ve(e,!!o,i,!0):ve(e,!!o,o?[]:"",!1));return;case"textarea":st=tt=null;for(C in o)if(p=o[C],o.hasOwnProperty(C)&&p!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ae(e,i,C,null,c,p)}for(b in c)if(p=c[b],g=o[b],c.hasOwnProperty(b)&&(p!=null||g!=null))switch(b){case"value":tt=p;break;case"defaultValue":st=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&Ae(e,i,b,p,c,g)}Wi(e,tt,st);return;case"option":for(var Ct in o)tt=o[Ct],o.hasOwnProperty(Ct)&&tt!=null&&!c.hasOwnProperty(Ct)&&(Ct==="selected"?e.selected=!1:Ae(e,i,Ct,null,c,tt));for(U in c)tt=c[U],st=o[U],c.hasOwnProperty(U)&&tt!==st&&(tt!=null||st!=null)&&(U==="selected"?e.selected=tt&&typeof tt!="function"&&typeof tt!="symbol":Ae(e,i,U,tt,c,st));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in o)tt=o[zt],o.hasOwnProperty(zt)&&tt!=null&&!c.hasOwnProperty(zt)&&Ae(e,i,zt,null,c,tt);for($ in c)if(tt=c[$],st=o[$],c.hasOwnProperty($)&&tt!==st&&(tt!=null||st!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,i));break;default:Ae(e,i,$,tt,c,st)}return;default:if(Bs(i)){for(var Se in o)tt=o[Se],o.hasOwnProperty(Se)&&tt!==void 0&&!c.hasOwnProperty(Se)&&zm(e,i,Se,void 0,c,tt);for(ot in c)tt=c[ot],st=o[ot],!c.hasOwnProperty(ot)||tt===st||tt===void 0&&st===void 0||zm(e,i,ot,tt,c,st);return}}for(var K in o)tt=o[K],o.hasOwnProperty(K)&&tt!=null&&!c.hasOwnProperty(K)&&Ae(e,i,K,null,c,tt);for(mt in c)tt=c[mt],st=o[mt],!c.hasOwnProperty(mt)||tt===st||tt==null&&st==null||Ae(e,i,mt,tt,c,st)}function xv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,b=p.initiatorType,C=p.duration;if(g&&C&&xv(b)){for(b=0,C=p.responseEnd,c+=1;c<o.length;c++){var U=o[c],$=U.startTime;if($>C)break;var ot=U.transferSize,mt=U.initiatorType;ot&&xv(mt)&&(U=U.responseEnd,b+=ot*(U<C?1:(C-$)/(U-$)))}if(--c,i+=8*(g+b)/(p.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Um=null,Bm=null;function Gh(e){return e.nodeType===9?e:e.ownerDocument}function Rv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function jm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hm=null;function uS(){var e=window.event;return e&&e.type==="popstate"?e===Hm?!1:(Hm=e,!0):(Hm=null,!1)}var Iv=typeof setTimeout=="function"?setTimeout:void 0,cS=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,hS=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(e){return Nv.resolve(null).then(e).catch(fS)}:Iv;function fS(e){setTimeout(function(){throw e})}function Pa(e){return e==="head"}function Ov(e,i){var o=i,c=0;do{var p=o.nextSibling;if(e.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(p),$l(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Ju(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Ju(o);for(var g=o.firstChild;g;){var b=g.nextSibling,C=g.nodeName;g[Ki]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&Ju(e.ownerDocument.body);o=p}while(o);$l(i)}function Pv(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function qm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":qm(o),ea(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function dS(e,i,o,c){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ki])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=os(e.nextSibling),e===null)break}return null}function mS(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=os(e.nextSibling),e===null))return null;return e}function Lv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=os(e.nextSibling),e===null))return null;return e}function Fm(e){return e.data==="$?"||e.data==="$~"}function Gm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function pS(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function os(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Zm=null;function Dv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return os(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function Mv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function kv(e,i,o){switch(i=Gh(o),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ju(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ea(e)}var ls=new Map,Vv=new Set;function Zh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Br=gt.d;gt.d={f:gS,r:_S,D:yS,C:vS,L:ES,m:TS,X:bS,S:wS,M:AS};function gS(){var e=Br.f(),i=Vh();return e||i}function _S(e){var i=ni(e);i!==null&&i.tag===5&&i.type==="form"?ty(i):Br.r(e)}var Ql=typeof document>"u"?null:document;function zv(e,i,o){var c=Ql;if(c&&typeof i=="string"&&i){var p=Re(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Vv.has(p)||(Vv.add(p),e={rel:e,crossOrigin:o,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),On(i,"link",e),Ze(i),c.head.appendChild(i)))}}function yS(e){Br.D(e),zv("dns-prefetch",e,null)}function vS(e,i){Br.C(e,i),zv("preconnect",e,i)}function ES(e,i,o){Br.L(e,i,o);var c=Ql;if(c&&e&&i){var p='link[rel="preload"][as="'+Re(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Re(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Re(o.imageSizes)+'"]')):p+='[href="'+Re(e)+'"]';var g=p;switch(i){case"style":g=Xl(e);break;case"script":g=Wl(e)}ls.has(g)||(e=S({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),ls.set(g,e),c.querySelector(p)!==null||i==="style"&&c.querySelector(tc(g))||i==="script"&&c.querySelector(ec(g))||(i=c.createElement("link"),On(i,"link",e),Ze(i),c.head.appendChild(i)))}}function TS(e,i){Br.m(e,i);var o=Ql;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Re(c)+'"][href="'+Re(e)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Wl(e)}if(!ls.has(g)&&(e=S({rel:"modulepreload",href:e},i),ls.set(g,e),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ec(g)))return}c=o.createElement("link"),On(c,"link",e),Ze(c),o.head.appendChild(c)}}}function wS(e,i,o){Br.S(e,i,o);var c=Ql;if(c&&e){var p=Yi(c).hoistableStyles,g=Xl(e);i=i||"default";var b=p.get(g);if(!b){var C={loading:0,preload:null};if(b=c.querySelector(tc(g)))C.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},o),(o=ls.get(g))&&Km(e,o);var U=b=c.createElement("link");Ze(U),On(U,"link",e),U._p=new Promise(function($,ot){U.onload=$,U.onerror=ot}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Kh(b,i,c)}b={type:"stylesheet",instance:b,count:1,state:C},p.set(g,b)}}}function bS(e,i){Br.X(e,i);var o=Ql;if(o&&e){var c=Yi(o).hoistableScripts,p=Wl(e),g=c.get(p);g||(g=o.querySelector(ec(p)),g||(e=S({src:e,async:!0},i),(i=ls.get(p))&&Ym(e,i),g=o.createElement("script"),Ze(g),On(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function AS(e,i){Br.M(e,i);var o=Ql;if(o&&e){var c=Yi(o).hoistableScripts,p=Wl(e),g=c.get(p);g||(g=o.querySelector(ec(p)),g||(e=S({src:e,async:!0,type:"module"},i),(i=ls.get(p))&&Ym(e,i),g=o.createElement("script"),Ze(g),On(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Uv(e,i,o,c){var p=(p=wt.current)?Zh(p):null;if(!p)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Xl(o.href),o=Yi(p).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Xl(o.href);var g=Yi(p).hoistableStyles,b=g.get(e);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,b),(g=p.querySelector(tc(e)))&&!g._p&&(b.instance=g,b.state.loading=5),ls.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ls.set(e,o),g||SS(p,e,o,b.state))),i&&c===null)throw Error(r(528,""));return b}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wl(o),o=Yi(p).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Xl(e){return'href="'+Re(e)+'"'}function tc(e){return'link[rel="stylesheet"]['+e+"]"}function Bv(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function SS(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),On(i,"link",o),Ze(i),e.head.appendChild(i))}function Wl(e){return'[src="'+Re(e)+'"]'}function ec(e){return"script[async]"+e}function jv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Re(o.href)+'"]');if(c)return i.instance=c,Ze(c),c;var p=S({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ze(c),On(c,"style",p),Kh(c,o.precedence,e),i.instance=c;case"stylesheet":p=Xl(o.href);var g=e.querySelector(tc(p));if(g)return i.state.loading|=4,i.instance=g,Ze(g),g;c=Bv(o),(p=ls.get(p))&&Km(c,p),g=(e.ownerDocument||e).createElement("link"),Ze(g);var b=g;return b._p=new Promise(function(C,U){b.onload=C,b.onerror=U}),On(g,"link",c),i.state.loading|=4,Kh(g,o.precedence,e),i.instance=g;case"script":return g=Wl(o.src),(p=e.querySelector(ec(g)))?(i.instance=p,Ze(p),p):(c=o,(p=ls.get(g))&&(c=S({},o),Ym(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),Ze(p),On(p,"link",c),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Kh(c,o.precedence,e));return i.instance}function Kh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,b=0;b<c.length;b++){var C=c[b];if(C.dataset.precedence===i)g=C;else if(g!==p)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Km(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Ym(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Yh=null;function Hv(e,i,o){if(Yh===null){var c=new Map,p=Yh=new Map;p.set(o,c)}else p=Yh,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var g=o[p];if(!(g[Ki]||g[Be]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(i)||"";b=e+b;var C=c.get(b);C?C.push(g):c.set(b,[g])}}return c}function qv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function xS(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Fv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function RS(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Xl(c.href),g=i.querySelector(tc(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Qh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=g,Ze(g);return}g=i.ownerDocument||i,c=Bv(c),(p=ls.get(p))&&Km(c,p),g=g.createElement("link"),Ze(g);var b=g;b._p=new Promise(function(C,U){b.onload=C,b.onerror=U}),On(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Qh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Qm=0;function CS(e,i){return e.stylesheets&&e.count===0&&Wh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&Wh(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Qm===0&&(Qm=62500*lS());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wh(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Qm?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Qh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xh=null;function Wh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xh=new Map,i.forEach(IS,e),Xh=null,Qh.call(e))}function IS(e,i){if(!(i.state.loading&4)){var o=Xh.get(e);if(o)var c=o.get(null);else{o=new Map,Xh.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var b=p[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}p=i.instance,b=p.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,p),o.set(b,p),this.count++,c=Qh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var nc={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function NS(e,i,o,c,p,g,b,C,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Gv(e,i,o,c,p,g,b,C,U,$,ot,mt){return e=new NS(e,i,o,b,U,$,ot,mt,C),i=1,g===!0&&(i|=24),g=Bn(3,null,null,i),e.current=g,g.stateNode=e,i=Cd(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},Pd(g),e}function Zv(e){return e?(e=xr,e):xr}function Kv(e,i,o,c,p,g){p=Zv(p),c.context===null?c.context=p:c.pendingContext=p,c=Ta(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=wa(e,c,i),o!==null&&(gi(o,e,i),Du(o,e,i))}function Yv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Xm(e,i){Yv(e,i),(e=e.alternate)&&Yv(e,i)}function Qv(e){if(e.tag===13||e.tag===31){var i=ss(e,67108864);i!==null&&gi(i,e,67108864),Xm(e,67108864)}}function Xv(e){if(e.tag===13||e.tag===31){var i=Vi();i=yn(i);var o=ss(e,i);o!==null&&gi(o,e,i),Xm(e,i)}}var $h=!0;function OS(e,i,o,c){var p=it.T;it.T=null;var g=gt.p;try{gt.p=2,Wm(e,i,o,c)}finally{gt.p=g,it.T=p}}function PS(e,i,o,c){var p=it.T;it.T=null;var g=gt.p;try{gt.p=8,Wm(e,i,o,c)}finally{gt.p=g,it.T=p}}function Wm(e,i,o,c){if($h){var p=$m(c);if(p===null)Vm(e,i,c,Jh,o),$v(e,c);else if(DS(p,e,i,o,c))c.stopPropagation();else if($v(e,c),i&4&&-1<LS.indexOf(e)){for(;p!==null;){var g=ni(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Fi(g.pendingLanes);if(b!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var U=1<<31-ze(b);C.entanglements[1]|=U,b&=~U}er(g),(ge&6)===0&&(Mh=Cn()+500,Xu(0))}}break;case 31:case 13:C=ss(g,2),C!==null&&gi(C,g,2),Vh(),Xm(g,2)}if(g=$m(c),g===null&&Vm(e,i,c,Jh,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else Vm(e,i,c,null,o)}}function $m(e){return e=kn(e),Jm(e)}var Jh=null;function Jm(e){if(Jh=null,e=Ai(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=d(i),e!==null)return e;e=null}else if(o===31){if(e=y(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Jh=e,null}function Wv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case gr:return 2;case Jr:return 8;case ds:case Tu:return 32;case uo:return 268435456;default:return 32}default:return 32}}var tp=!1,La=null,Da=null,Ma=null,ic=new Map,sc=new Map,ka=[],LS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $v(e,i){switch(e){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":ic.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(i.pointerId)}}function rc(e,i,o,c,p,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},i!==null&&(i=ni(i),i!==null&&Qv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function DS(e,i,o,c,p){switch(i){case"focusin":return La=rc(La,e,i,o,c,p),!0;case"dragenter":return Da=rc(Da,e,i,o,c,p),!0;case"mouseover":return Ma=rc(Ma,e,i,o,c,p),!0;case"pointerover":var g=p.pointerId;return ic.set(g,rc(ic.get(g)||null,e,i,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,sc.set(g,rc(sc.get(g)||null,e,i,o,c,p)),!0}return!1}function Jv(e){var i=Ai(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){e.blockedOn=i,ti(e.priority,function(){Xv(o)});return}}else if(i===31){if(i=y(o),i!==null){e.blockedOn=i,ti(e.priority,function(){Xv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tf(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=$m(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);aa=c,o.target.dispatchEvent(c),aa=null}else return i=ni(o),i!==null&&Qv(i),e.blockedOn=o,!1;i.shift()}return!0}function t0(e,i,o){tf(e)&&o.delete(i)}function MS(){tp=!1,La!==null&&tf(La)&&(La=null),Da!==null&&tf(Da)&&(Da=null),Ma!==null&&tf(Ma)&&(Ma=null),ic.forEach(t0),sc.forEach(t0)}function ef(e,i){e.blockedOn===i&&(e.blockedOn=null,tp||(tp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,MS)))}var nf=null;function e0(e){nf!==e&&(nf=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){nf===e&&(nf=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],p=e[i+2];if(typeof c!="function"){if(Jm(c||o)===null)continue;break}var g=ni(o);g!==null&&(e.splice(i,3),i-=3,$d(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function $l(e){function i(U){return ef(U,e)}La!==null&&ef(La,e),Da!==null&&ef(Da,e),Ma!==null&&ef(Ma,e),ic.forEach(i),sc.forEach(i);for(var o=0;o<ka.length;o++){var c=ka[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<ka.length&&(o=ka[0],o.blockedOn===null);)Jv(o),o.blockedOn===null&&ka.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],b=p[Ge]||null;if(typeof g=="function")b||e0(o);else if(b){var C=null;if(g&&g.hasAttribute("formAction")){if(p=g,b=g[Ge]||null)C=b.formAction;else if(Jm(p)!==null)continue}else C=b.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),e0(o)}}}function n0(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return p=b})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function ep(e){this._internalRoot=e}sf.prototype.render=ep.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,c=Vi();Kv(o,c,e,i,null,null)},sf.prototype.unmount=ep.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Kv(e.current,2,null,e,null,null),Vh(),i[wi]=null}};function sf(e){this._internalRoot=e}sf.prototype.unstable_scheduleHydration=function(e){if(e){var i=mo();e={blockedOn:null,target:e,priority:i};for(var o=0;o<ka.length&&i!==0&&i<ka[o].priority;o++);ka.splice(o,0,e),o===0&&Jv(e)}};var i0=t.version;if(i0!=="19.2.3")throw Error(r(527,i0,"19.2.3"));gt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=E(i),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var kS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:it,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{Jn=rf.inject(kS),Je=rf}catch{}}return oc.createRoot=function(e,i){if(!l(e))throw Error(r(299));var o=!1,c="",p=cy,g=hy,b=fy;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=Gv(e,1,!1,null,null,o,c,null,p,g,b,n0),e[wi]=i.current,km(e),new ep(i)},oc.hydrateRoot=function(e,i,o){if(!l(e))throw Error(r(299));var c=!1,p="",g=cy,b=hy,C=fy,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),i=Gv(e,1,!0,i,o??null,c,p,U,g,b,C,n0),i.context=Zv(null),o=i.current,c=Vi(),c=yn(c),p=Ta(c),p.callback=null,wa(o,p,c),o=c,i.current.lanes=o,ms(i,o),er(i),e[wi]=i.current,km(e),new sf(i)},oc.version="19.2.3",oc}var d0;function GS(){if(d0)return sp.exports;d0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),sp.exports=FS(),sp.exports}var ZS=GS();var m0="popstate";function KS(s={}){function t(r,l){let{pathname:h,search:d,hash:y}=r.location;return xp("",{pathname:h,search:d,hash:y},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Ac(l)}return QS(t,n,null,s)}function gn(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Ns(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YS(){return Math.random().toString(36).substring(2,10)}function p0(s,t){return{usr:s.state,key:s.key,idx:t}}function xp(s,t,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?zc(t):t,state:n,key:t&&t.key||r||YS()}}function Ac({pathname:s="/",search:t="",hash:n=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function zc(s){let t={};if(s){let n=s.indexOf("#");n>=0&&(t.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function QS(s,t,n,r={}){let{window:l=document.defaultView,v5Compat:h=!1}=r,d=l.history,y="POP",v=null,E=x();E==null&&(E=0,d.replaceState({...d.state,idx:E},""));function x(){return(d.state||{idx:null}).idx}function S(){y="POP";let B=x(),lt=B==null?null:B-E;E=B,v&&v({action:y,location:Q.location,delta:lt})}function O(B,lt){y="PUSH";let at=xp(Q.location,B,lt);E=x()+1;let ht=p0(at,E),It=Q.createHref(at);try{d.pushState(ht,"",It)}catch(Nt){if(Nt instanceof DOMException&&Nt.name==="DataCloneError")throw Nt;l.location.assign(It)}h&&v&&v({action:y,location:Q.location,delta:1})}function F(B,lt){y="REPLACE";let at=xp(Q.location,B,lt);E=x();let ht=p0(at,E),It=Q.createHref(at);d.replaceState(ht,"",It),h&&v&&v({action:y,location:Q.location,delta:0})}function nt(B){return XS(B)}let Q={get action(){return y},get location(){return s(l,d)},listen(B){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(m0,S),v=B,()=>{l.removeEventListener(m0,S),v=null}},createHref(B){return t(l,B)},createURL:nt,encodeLocation(B){let lt=nt(B);return{pathname:lt.pathname,search:lt.search,hash:lt.hash}},push:O,replace:F,go(B){return d.go(B)}};return Q}function XS(s,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gn(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Ac(s);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function cT(s,t,n="/"){return WS(s,t,n,!1)}function WS(s,t,n,r){let l=typeof t=="string"?zc(t):t,h=Zr(l.pathname||"/",n);if(h==null)return null;let d=hT(s);$S(d);let y=null;for(let v=0;y==null&&v<d.length;++v){let E=u1(h);y=o1(d[v],E,r)}return y}function hT(s,t=[],n=[],r="",l=!1){let h=(d,y,v=l,E)=>{let x={relativePath:E===void 0?d.path||"":E,caseSensitive:d.caseSensitive===!0,childrenIndex:y,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&v)return;gn(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let S=qr([r,x.relativePath]),O=n.concat(x);d.children&&d.children.length>0&&(gn(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),hT(d.children,t,O,S,v)),!(d.path==null&&!d.index)&&t.push({path:S,score:r1(S,d.index),routesMeta:O})};return s.forEach((d,y)=>{if(d.path===""||!d.path?.includes("?"))h(d,y);else for(let v of fT(d.path))h(d,y,!0,v)}),t}function fT(s){let t=s.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(r.length===0)return l?[h,""]:[h];let d=fT(r.join("/")),y=[];return y.push(...d.map(v=>v===""?h:[h,v].join("/"))),l&&y.push(...d),y.map(v=>s.startsWith("/")&&v===""?"/":v)}function $S(s){s.sort((t,n)=>t.score!==n.score?n.score-t.score:a1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var JS=/^:[\w-]+$/,t1=3,e1=2,n1=1,i1=10,s1=-2,g0=s=>s==="*";function r1(s,t){let n=s.split("/"),r=n.length;return n.some(g0)&&(r+=s1),t&&(r+=e1),n.filter(l=>!g0(l)).reduce((l,h)=>l+(JS.test(h)?t1:h===""?n1:i1),r)}function a1(s,t){return s.length===t.length&&s.slice(0,-1).every((r,l)=>r===t[l])?s[s.length-1]-t[t.length-1]:0}function o1(s,t,n=!1){let{routesMeta:r}=s,l={},h="/",d=[];for(let y=0;y<r.length;++y){let v=r[y],E=y===r.length-1,x=h==="/"?t:t.slice(h.length)||"/",S=Cf({path:v.relativePath,caseSensitive:v.caseSensitive,end:E},x),O=v.route;if(!S&&E&&n&&!r[r.length-1].route.index&&(S=Cf({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},x)),!S)return null;Object.assign(l,S.params),d.push({params:l,pathname:qr([h,S.pathname]),pathnameBase:d1(qr([h,S.pathnameBase])),route:O}),S.pathnameBase!=="/"&&(h=qr([h,S.pathnameBase]))}return d}function Cf(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=l1(s.path,s.caseSensitive,s.end),l=t.match(n);if(!l)return null;let h=l[0],d=h.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:r.reduce((E,{paramName:x,isOptional:S},O)=>{if(x==="*"){let nt=y[O]||"";d=h.slice(0,h.length-nt.length).replace(/(.)\/+$/,"$1")}const F=y[O];return S&&!F?E[x]=void 0:E[x]=(F||"").replace(/%2F/g,"/"),E},{}),pathname:h,pathnameBase:d,pattern:s}}function l1(s,t=!1,n=!0){Ns(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,y,v)=>(r.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function u1(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ns(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Zr(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var dT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c1=s=>dT.test(s);function h1(s,t="/"){let{pathname:n,search:r="",hash:l=""}=typeof s=="string"?zc(s):s,h;if(n)if(c1(n))h=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Ns(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?h=_0(n.substring(1),"/"):h=_0(n,t)}else h=t;return{pathname:h,search:m1(r),hash:p1(l)}}function _0(s,t){let n=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function lp(s,t,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f1(s){return s.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mT(s){let t=f1(s);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function pT(s,t,n,r=!1){let l;typeof s=="string"?l=zc(s):(l={...s},gn(!l.pathname||!l.pathname.includes("?"),lp("?","pathname","search",l)),gn(!l.pathname||!l.pathname.includes("#"),lp("#","pathname","hash",l)),gn(!l.search||!l.search.includes("#"),lp("#","search","hash",l)));let h=s===""||l.pathname==="",d=h?"/":l.pathname,y;if(d==null)y=n;else{let S=t.length-1;if(!r&&d.startsWith("..")){let O=d.split("/");for(;O[0]==="..";)O.shift(),S-=1;l.pathname=O.join("/")}y=S>=0?t[S]:"/"}let v=h1(l,y),E=d&&d!=="/"&&d.endsWith("/"),x=(h||d===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(E||x)&&(v.pathname+="/"),v}var qr=s=>s.join("/").replace(/\/\/+/g,"/"),d1=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),m1=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,p1=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,g1=class{constructor(s,t,n,r=!1){this.status=s,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _1(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function y1(s){return s.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var gT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _T(s,t){let n=s;if(typeof n!="string"||!dT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,l=!1;if(gT)try{let h=new URL(window.location.href),d=n.startsWith("//")?new URL(h.protocol+n):new URL(n),y=Zr(d.pathname,t);d.origin===h.origin&&y!=null?n=y+d.search+d.hash:l=!0}catch{Ns(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yT=["POST","PUT","PATCH","DELETE"];new Set(yT);var v1=["GET",...yT];new Set(v1);var mu=Z.createContext(null);mu.displayName="DataRouter";var Kf=Z.createContext(null);Kf.displayName="DataRouterState";var E1=Z.createContext(!1),vT=Z.createContext({isTransitioning:!1});vT.displayName="ViewTransition";var T1=Z.createContext(new Map);T1.displayName="Fetchers";var w1=Z.createContext(null);w1.displayName="Await";var hs=Z.createContext(null);hs.displayName="Navigation";var Yf=Z.createContext(null);Yf.displayName="Location";var Wr=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var sg=Z.createContext(null);sg.displayName="RouteError";var ET="REACT_ROUTER_ERROR",b1="REDIRECT",A1="ROUTE_ERROR_RESPONSE";function S1(s){if(s.startsWith(`${ET}:${b1}:{`))try{let t=JSON.parse(s.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function x1(s){if(s.startsWith(`${ET}:${A1}:{`))try{let t=JSON.parse(s.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new g1(t.status,t.statusText,t.data)}catch{}}function R1(s,{relative:t}={}){gn(Uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=Z.useContext(hs),{hash:l,pathname:h,search:d}=Bc(s,{relative:t}),y=h;return n!=="/"&&(y=h==="/"?n:qr([n,h])),r.createHref({pathname:y,search:d,hash:l})}function Uc(){return Z.useContext(Yf)!=null}function al(){return gn(Uc(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(Yf).location}var TT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wT(s){Z.useContext(hs).static||Z.useLayoutEffect(s)}function C1(){let{isDataRoute:s}=Z.useContext(Wr);return s?j1():I1()}function I1(){gn(Uc(),"useNavigate() may be used only in the context of a <Router> component.");let s=Z.useContext(mu),{basename:t,navigator:n}=Z.useContext(hs),{matches:r}=Z.useContext(Wr),{pathname:l}=al(),h=JSON.stringify(mT(r)),d=Z.useRef(!1);return wT(()=>{d.current=!0}),Z.useCallback((v,E={})=>{if(Ns(d.current,TT),!d.current)return;if(typeof v=="number"){n.go(v);return}let x=pT(v,JSON.parse(h),l,E.relative==="path");s==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:qr([t,x.pathname])),(E.replace?n.replace:n.push)(x,E.state,E)},[t,n,h,l,s])}Z.createContext(null);function Bc(s,{relative:t}={}){let{matches:n}=Z.useContext(Wr),{pathname:r}=al(),l=JSON.stringify(mT(n));return Z.useMemo(()=>pT(s,JSON.parse(l),r,t==="path"),[s,l,r,t])}function N1(s,t,n,r,l){gn(Uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=Z.useContext(hs),{matches:d}=Z.useContext(Wr),y=d[d.length-1],v=y?y.params:{},E=y?y.pathname:"/",x=y?y.pathnameBase:"/",S=y&&y.route;{let at=S&&S.path||"";AT(E,!S||at.endsWith("*")||at.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${E}" (under <Route path="${at}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${at}"> to <Route path="${at==="/"?"*":`${at}/*`}">.`)}let O=al(),F;F=O;let nt=F.pathname||"/",Q=nt;if(x!=="/"){let at=x.replace(/^\//,"").split("/");Q="/"+nt.replace(/^\//,"").split("/").slice(at.length).join("/")}let B=cT(s,{pathname:Q});return Ns(S||B!=null,`No routes matched location "${F.pathname}${F.search}${F.hash}" `),Ns(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${F.pathname}${F.search}${F.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),M1(B&&B.map(at=>Object.assign({},at,{params:Object.assign({},v,at.params),pathname:qr([x,h.encodeLocation?h.encodeLocation(at.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:at.pathname]),pathnameBase:at.pathnameBase==="/"?x:qr([x,h.encodeLocation?h.encodeLocation(at.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:at.pathnameBase])})),d,n,r,l)}function O1(){let s=B1(),t=_1(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},h={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:h},"ErrorBoundary")," or"," ",Z.createElement("code",{style:h},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),n?Z.createElement("pre",{style:l},n):null,d)}var P1=Z.createElement(O1,null),bT=class extends Z.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.onError?this.props.onError(s,t):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=x1(s.digest);n&&(s=n)}let t=s!==void 0?Z.createElement(Wr.Provider,{value:this.props.routeContext},Z.createElement(sg.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?Z.createElement(L1,{error:s},t):t}};bT.contextType=E1;var up=new WeakMap;function L1({children:s,error:t}){let{basename:n}=Z.useContext(hs);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=S1(t.digest);if(r){let l=up.get(t);if(l)throw l;let h=_T(r.location,n);if(gT&&!up.get(t))if(h.isExternal||r.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:r.replace}));throw up.set(t,d),d}return Z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return s}function D1({routeContext:s,match:t,children:n}){let r=Z.useContext(mu);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(Wr.Provider,{value:s},n)}function M1(s,t=[],n=null,r=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let h=s,d=n?.errors;if(d!=null){let x=h.findIndex(S=>S.route.id&&d?.[S.route.id]!==void 0);gn(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),h=h.slice(0,Math.min(h.length,x+1))}let y=!1,v=-1;if(n)for(let x=0;x<h.length;x++){let S=h[x];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(v=x),S.route.id){let{loaderData:O,errors:F}=n,nt=S.route.loader&&!O.hasOwnProperty(S.route.id)&&(!F||F[S.route.id]===void 0);if(S.route.lazy||nt){y=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}let E=n&&r?(x,S)=>{r(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:y1(n.matches),errorInfo:S})}:void 0;return h.reduceRight((x,S,O)=>{let F,nt=!1,Q=null,B=null;n&&(F=d&&S.route.id?d[S.route.id]:void 0,Q=S.route.errorElement||P1,y&&(v<0&&O===0?(AT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),nt=!0,B=null):v===O&&(nt=!0,B=S.route.hydrateFallbackElement||null)));let lt=t.concat(h.slice(0,O+1)),at=()=>{let ht;return F?ht=Q:nt?ht=B:S.route.Component?ht=Z.createElement(S.route.Component,null):S.route.element?ht=S.route.element:ht=x,Z.createElement(D1,{match:S,routeContext:{outlet:x,matches:lt,isDataRoute:n!=null},children:ht})};return n&&(S.route.ErrorBoundary||S.route.errorElement||O===0)?Z.createElement(bT,{location:n.location,revalidation:n.revalidation,component:Q,error:F,children:at(),routeContext:{outlet:null,matches:lt,isDataRoute:!0},onError:E}):at()},null)}function rg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k1(s){let t=Z.useContext(mu);return gn(t,rg(s)),t}function V1(s){let t=Z.useContext(Kf);return gn(t,rg(s)),t}function z1(s){let t=Z.useContext(Wr);return gn(t,rg(s)),t}function ag(s){let t=z1(s),n=t.matches[t.matches.length-1];return gn(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function U1(){return ag("useRouteId")}function B1(){let s=Z.useContext(sg),t=V1("useRouteError"),n=ag("useRouteError");return s!==void 0?s:t.errors?.[n]}function j1(){let{router:s}=k1("useNavigate"),t=ag("useNavigate"),n=Z.useRef(!1);return wT(()=>{n.current=!0}),Z.useCallback(async(l,h={})=>{Ns(n.current,TT),n.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:t,...h}))},[s,t])}var y0={};function AT(s,t,n){!t&&!y0[s]&&(y0[s]=!0,Ns(!1,n))}Z.memo(H1);function H1({routes:s,future:t,state:n,onError:r}){return N1(s,void 0,n,r,t)}function q1({basename:s="/",children:t=null,location:n,navigationType:r="POP",navigator:l,static:h=!1,unstable_useTransitions:d}){gn(!Uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=s.replace(/^\/*/,"/"),v=Z.useMemo(()=>({basename:y,navigator:l,static:h,unstable_useTransitions:d,future:{}}),[y,l,h,d]);typeof n=="string"&&(n=zc(n));let{pathname:E="/",search:x="",hash:S="",state:O=null,key:F="default"}=n,nt=Z.useMemo(()=>{let Q=Zr(E,y);return Q==null?null:{location:{pathname:Q,search:x,hash:S,state:O,key:F},navigationType:r}},[y,E,x,S,O,F,r]);return Ns(nt!=null,`<Router basename="${y}"> is not able to match the URL "${E}${x}${S}" because it does not start with the basename, so the <Router> won't render anything.`),nt==null?null:Z.createElement(hs.Provider,{value:v},Z.createElement(Yf.Provider,{children:t,value:nt}))}var pf="get",gf="application/x-www-form-urlencoded";function Qf(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function F1(s){return Qf(s)&&s.tagName.toLowerCase()==="button"}function G1(s){return Qf(s)&&s.tagName.toLowerCase()==="form"}function Z1(s){return Qf(s)&&s.tagName.toLowerCase()==="input"}function K1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Y1(s,t){return s.button===0&&(!t||t==="_self")&&!K1(s)}var af=null;function Q1(){if(af===null)try{new FormData(document.createElement("form"),0),af=!1}catch{af=!0}return af}var X1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(s){return s!=null&&!X1.has(s)?(Ns(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gf}"`),null):s}function W1(s,t){let n,r,l,h,d;if(G1(s)){let y=s.getAttribute("action");r=y?Zr(y,t):null,n=s.getAttribute("method")||pf,l=cp(s.getAttribute("enctype"))||gf,h=new FormData(s)}else if(F1(s)||Z1(s)&&(s.type==="submit"||s.type==="image")){let y=s.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=s.getAttribute("formaction")||y.getAttribute("action");if(r=v?Zr(v,t):null,n=s.getAttribute("formmethod")||y.getAttribute("method")||pf,l=cp(s.getAttribute("formenctype"))||cp(y.getAttribute("enctype"))||gf,h=new FormData(y,s),!Q1()){let{name:E,type:x,value:S}=s;if(x==="image"){let O=E?`${E}.`:"";h.append(`${O}x`,"0"),h.append(`${O}y`,"0")}else E&&h.append(E,S)}}else{if(Qf(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pf,r=null,l=gf,d=s}return h&&l==="text/plain"&&(d=h,h=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function og(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function $1(s,t,n,r){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${r}`:l.pathname=`${l.pathname}.${r}`:l.pathname==="/"?l.pathname=`_root.${r}`:t&&Zr(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function J1(s,t){if(s.id in t)return t[s.id];try{let n=await import(s.module);return t[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tx(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function ex(s,t,n){let r=await Promise.all(s.map(async l=>{let h=t.routes[l.route.id];if(h){let d=await J1(h,n);return d.links?d.links():[]}return[]}));return rx(r.flat(1).filter(tx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function v0(s,t,n,r,l,h){let d=(v,E)=>n[E]?v.route.id!==n[E].route.id:!0,y=(v,E)=>n[E].pathname!==v.pathname||n[E].route.path?.endsWith("*")&&n[E].params["*"]!==v.params["*"];return h==="assets"?t.filter((v,E)=>d(v,E)||y(v,E)):h==="data"?t.filter((v,E)=>{let x=r.routes[v.route.id];if(!x||!x.hasLoader)return!1;if(d(v,E)||y(v,E))return!0;if(v.route.shouldRevalidate){let S=v.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function nx(s,t,{includeHydrateFallback:n}={}){return ix(s.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function ix(s){return[...new Set(s)]}function sx(s){let t={},n=Object.keys(s).sort();for(let r of n)t[r]=s[r];return t}function rx(s,t){let n=new Set;return new Set(t),s.reduce((r,l)=>{let h=JSON.stringify(sx(l));return n.has(h)||(n.add(h),r.push({key:h,link:l})),r},[])}function ST(){let s=Z.useContext(mu);return og(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function ax(){let s=Z.useContext(Kf);return og(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var lg=Z.createContext(void 0);lg.displayName="FrameworkContext";function xT(){let s=Z.useContext(lg);return og(s,"You must render this element inside a <HydratedRouter> element"),s}function ox(s,t){let n=Z.useContext(lg),[r,l]=Z.useState(!1),[h,d]=Z.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:E,onMouseLeave:x,onTouchStart:S}=t,O=Z.useRef(null);Z.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let Q=lt=>{lt.forEach(at=>{d(at.isIntersecting)})},B=new IntersectionObserver(Q,{threshold:.5});return O.current&&B.observe(O.current),()=>{B.disconnect()}}},[s]),Z.useEffect(()=>{if(r){let Q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Q)}}},[r]);let F=()=>{l(!0)},nt=()=>{l(!1),d(!1)};return n?s!=="intent"?[h,O,{}]:[h,O,{onFocus:lc(y,F),onBlur:lc(v,nt),onMouseEnter:lc(E,F),onMouseLeave:lc(x,nt),onTouchStart:lc(S,F)}]:[!1,O,{}]}function lc(s,t){return n=>{s&&s(n),n.defaultPrevented||t(n)}}function lx({page:s,...t}){let{router:n}=ST(),r=Z.useMemo(()=>cT(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?Z.createElement(cx,{page:s,matches:r,...t}):null}function ux(s){let{manifest:t,routeModules:n}=xT(),[r,l]=Z.useState([]);return Z.useEffect(()=>{let h=!1;return ex(s,t,n).then(d=>{h||l(d)}),()=>{h=!0}},[s,t,n]),r}function cx({page:s,matches:t,...n}){let r=al(),{future:l,manifest:h,routeModules:d}=xT(),{basename:y}=ST(),{loaderData:v,matches:E}=ax(),x=Z.useMemo(()=>v0(s,t,E,h,r,"data"),[s,t,E,h,r]),S=Z.useMemo(()=>v0(s,t,E,h,r,"assets"),[s,t,E,h,r]),O=Z.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let Q=new Set,B=!1;if(t.forEach(at=>{let ht=h.routes[at.route.id];!ht||!ht.hasLoader||(!x.some(It=>It.route.id===at.route.id)&&at.route.id in v&&d[at.route.id]?.shouldRevalidate||ht.hasClientLoader?B=!0:Q.add(at.route.id))}),Q.size===0)return[];let lt=$1(s,y,l.unstable_trailingSlashAwareDataRequests,"data");return B&&Q.size>0&&lt.searchParams.set("_routes",t.filter(at=>Q.has(at.route.id)).map(at=>at.route.id).join(",")),[lt.pathname+lt.search]},[y,l.unstable_trailingSlashAwareDataRequests,v,r,h,x,t,s,d]),F=Z.useMemo(()=>nx(S,h),[S,h]),nt=ux(S);return Z.createElement(Z.Fragment,null,O.map(Q=>Z.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),F.map(Q=>Z.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),nt.map(({key:Q,link:B})=>Z.createElement("link",{key:Q,nonce:n.nonce,...B})))}function hx(...s){return t=>{s.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fx&&(window.__reactRouterVersion="7.12.0")}catch{}function dx({basename:s,children:t,unstable_useTransitions:n,window:r}){let l=Z.useRef();l.current==null&&(l.current=KS({window:r,v5Compat:!0}));let h=l.current,[d,y]=Z.useState({action:h.action,location:h.location}),v=Z.useCallback(E=>{n===!1?y(E):Z.startTransition(()=>y(E))},[n]);return Z.useLayoutEffect(()=>h.listen(v),[h,v]),Z.createElement(q1,{basename:s,children:t,location:d.location,navigationType:d.action,navigator:h,unstable_useTransitions:n})}var RT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CT=Z.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:l,reloadDocument:h,replace:d,state:y,target:v,to:E,preventScrollReset:x,viewTransition:S,unstable_defaultShouldRevalidate:O,...F},nt){let{basename:Q,unstable_useTransitions:B}=Z.useContext(hs),lt=typeof E=="string"&&RT.test(E),at=_T(E,Q);E=at.to;let ht=R1(E,{relative:l}),[It,Nt,Mt]=ox(r,F),V=_x(E,{replace:d,state:y,target:v,preventScrollReset:x,relative:l,viewTransition:S,unstable_defaultShouldRevalidate:O,unstable_useTransitions:B});function P(q){t&&t(q),q.defaultPrevented||V(q)}let D=Z.createElement("a",{...F,...Mt,href:at.absoluteURL||ht,onClick:at.isExternal||h?t:P,ref:hx(nt,Nt),target:v,"data-discover":!lt&&n==="render"?"true":void 0});return It&&!lt?Z.createElement(Z.Fragment,null,D,Z.createElement(lx,{page:ht})):D});CT.displayName="Link";var mx=Z.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:l=!1,style:h,to:d,viewTransition:y,children:v,...E},x){let S=Bc(d,{relative:E.relative}),O=al(),F=Z.useContext(Kf),{navigator:nt,basename:Q}=Z.useContext(hs),B=F!=null&&wx(S)&&y===!0,lt=nt.encodeLocation?nt.encodeLocation(S).pathname:S.pathname,at=O.pathname,ht=F&&F.navigation&&F.navigation.location?F.navigation.location.pathname:null;n||(at=at.toLowerCase(),ht=ht?ht.toLowerCase():null,lt=lt.toLowerCase()),ht&&Q&&(ht=Zr(ht,Q)||ht);const It=lt!=="/"&&lt.endsWith("/")?lt.length-1:lt.length;let Nt=at===lt||!l&&at.startsWith(lt)&&at.charAt(It)==="/",Mt=ht!=null&&(ht===lt||!l&&ht.startsWith(lt)&&ht.charAt(lt.length)==="/"),V={isActive:Nt,isPending:Mt,isTransitioning:B},P=Nt?t:void 0,D;typeof r=="function"?D=r(V):D=[r,Nt?"active":null,Mt?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let q=typeof h=="function"?h(V):h;return Z.createElement(CT,{...E,"aria-current":P,className:D,ref:x,style:q,to:d,viewTransition:y},typeof v=="function"?v(V):v)});mx.displayName="NavLink";var px=Z.forwardRef(({discover:s="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:l,state:h,method:d=pf,action:y,onSubmit:v,relative:E,preventScrollReset:x,viewTransition:S,unstable_defaultShouldRevalidate:O,...F},nt)=>{let{unstable_useTransitions:Q}=Z.useContext(hs),B=Ex(),lt=Tx(y,{relative:E}),at=d.toLowerCase()==="get"?"get":"post",ht=typeof y=="string"&&RT.test(y),It=Nt=>{if(v&&v(Nt),Nt.defaultPrevented)return;Nt.preventDefault();let Mt=Nt.nativeEvent.submitter,V=Mt?.getAttribute("formmethod")||d,P=()=>B(Mt||Nt.currentTarget,{fetcherKey:t,method:V,navigate:n,replace:l,state:h,relative:E,preventScrollReset:x,viewTransition:S,unstable_defaultShouldRevalidate:O});Q&&n!==!1?Z.startTransition(()=>P()):P()};return Z.createElement("form",{ref:nt,method:at,action:lt,onSubmit:r?v:It,...F,"data-discover":!ht&&s==="render"?"true":void 0})});px.displayName="Form";function gx(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IT(s){let t=Z.useContext(mu);return gn(t,gx(s)),t}function _x(s,{target:t,replace:n,state:r,preventScrollReset:l,relative:h,viewTransition:d,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v}={}){let E=C1(),x=al(),S=Bc(s,{relative:h});return Z.useCallback(O=>{if(Y1(O,t)){O.preventDefault();let F=n!==void 0?n:Ac(x)===Ac(S),nt=()=>E(s,{replace:F,state:r,preventScrollReset:l,relative:h,viewTransition:d,unstable_defaultShouldRevalidate:y});v?Z.startTransition(()=>nt()):nt()}},[x,E,S,n,r,t,s,l,h,d,y,v])}var yx=0,vx=()=>`__${String(++yx)}__`;function Ex(){let{router:s}=IT("useSubmit"),{basename:t}=Z.useContext(hs),n=U1(),r=s.fetch,l=s.navigate;return Z.useCallback(async(h,d={})=>{let{action:y,method:v,encType:E,formData:x,body:S}=W1(h,t);if(d.navigate===!1){let O=d.fetcherKey||vx();await r(O,n,d.action||y,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:S,formMethod:d.method||v,formEncType:d.encType||E,flushSync:d.flushSync})}else await l(d.action||y,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:S,formMethod:d.method||v,formEncType:d.encType||E,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,l,t,n])}function Tx(s,{relative:t}={}){let{basename:n}=Z.useContext(hs),r=Z.useContext(Wr);gn(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),h={...Bc(s||".",{relative:t})},d=al();if(s==null){h.search=d.search;let y=new URLSearchParams(h.search),v=y.getAll("index");if(v.some(x=>x==="")){y.delete("index"),v.filter(S=>S).forEach(S=>y.append("index",S));let x=y.toString();h.search=x?`?${x}`:""}}return(!s||s===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:qr([n,h.pathname])),Ac(h)}function wx(s,{relative:t}={}){let n=Z.useContext(vT);gn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=IT("useViewTransitionState"),l=Bc(s,{relative:t});if(!n.isTransitioning)return!1;let h=Zr(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=Zr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Cf(l.pathname,d)!=null||Cf(l.pathname,h)!=null}var bx=uT();const Ax=({onEnter:s})=>{const[t,n]=Z.useState("en"),r={en:{enter:"ENTER PLATFORM",tagline:"The next generation of urban logistics."},te:{enter:" ",tagline:"    ."}};return I.jsxs("div",{className:"relative h-screen w-full overflow-hidden flex items-center justify-center",children:[I.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",style:{position:"fixed",right:0,bottom:0,minWidth:"100%",minHeight:"100%",objectFit:"cover",zIndex:-1,filter:"brightness(1.5)"},children:I.jsx("source",{src:"./assets/hero.mp4",type:"video/mp4"})}),I.jsx("div",{className:"fixed top-6 right-8 z-50 flex items-center gap-4",children:I.jsx("button",{onClick:()=>n(t==="en"?"te":"en"),className:"px-4 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-full text-white text-sm font-medium hover:bg-white/20 transition-all",children:t==="en"?"":"English"})}),I.jsxs("div",{className:"relative z-10 text-center animate-slide-up px-4",children:[I.jsxs("h1",{className:"text-4xl md:text-8xl font-black italic uppercase text-white tracking-tighter mb-8 drop-shadow-2xl",children:["URBAN",I.jsx("span",{className:"text-indigo-500",children:"PULSE"})]}),I.jsx("button",{onClick:s,className:`bg-indigo-600 text-white px-8 md:px-12 py-4 md:py-5 rounded-[32px] text-lg md:text-xl font-bold uppercase tracking-widest\r
                     hover:bg-indigo-500 hover:scale-105 transition-all shadow-[0_0_40px_rgba(79,70,229,0.3)]`,children:r[t].enter})]})]})};const Sx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),E0=s=>{const t=xx(s);return t.charAt(0).toUpperCase()+t.slice(1)},NT=(...s)=>s.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Rx=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Cx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ix=Z.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:h,iconNode:d,...y},v)=>Z.createElement("svg",{ref:v,...Cx,width:t,height:t,stroke:s,strokeWidth:r?Number(n)*24/Number(t):n,className:NT("lucide",l),...!h&&!Rx(y)&&{"aria-hidden":"true"},...y},[...d.map(([E,x])=>Z.createElement(E,x)),...Array.isArray(h)?h:[h]]));const Rn=(s,t)=>{const n=Z.forwardRef(({className:r,...l},h)=>Z.createElement(Ix,{ref:h,iconNode:t,className:NT(`lucide-${Sx(E0(s))}`,`lucide-${s}`,r),...l}));return n.displayName=E0(s),n};const Nx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ox=Rn("activity",Nx);const Px=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Lx=Rn("camera",Px);const Dx=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Mx=Rn("chart-column",Dx);const kx=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Vx=Rn("chart-pie",kx);const zx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ux=Rn("circle-alert",zx);const Bx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jx=Rn("circle-check-big",Bx);const Hx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qx=Rn("circle-check",Hx);const Fx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gx=Rn("clock",Fx);const Zx=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Kx=Rn("eye-off",Zx);const Yx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qx=Rn("eye",Yx);const Xx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],T0=Rn("loader-circle",Xx);const Wx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$x=Rn("map-pin",Wx);const Jx=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],tR=Rn("mic",Jx);const eR=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],nR=Rn("play",eR);const iR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],sR=Rn("send",iR);const rR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],aR=Rn("trash-2",rR);const oR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],w0=Rn("trending-up",oR);const lR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uR=Rn("x",lR),cR=()=>{};var b0={};const OT=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},hR=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[n++];t[r++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[n++],d=s[n++],y=s[n++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[n++],d=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},PT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const h=s[l],d=l+1<s.length,y=d?s[l+1]:0,v=l+2<s.length,E=v?s[l+2]:0,x=h>>2,S=(h&3)<<4|y>>4;let O=(y&15)<<2|E>>6,F=E&63;v||(F=64,d||(O=64)),r.push(n[x],n[S],n[O],n[F])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(OT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):hR(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const h=n[s.charAt(l++)],y=l<s.length?n[s.charAt(l)]:0;++l;const E=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,h==null||y==null||E==null||S==null)throw new fR;const O=h<<2|y>>4;if(r.push(O),E!==64){const F=y<<4&240|E>>2;if(r.push(F),S!==64){const nt=E<<6&192|S;r.push(nt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class fR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dR=function(s){const t=OT(s);return PT.encodeByteArray(t,!0)},If=function(s){return dR(s).replace(/\./g,"")},LT=function(s){try{return PT.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function mR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pR=()=>mR().__FIREBASE_DEFAULTS__,gR=()=>{if(typeof process>"u"||typeof b0>"u")return;const s=b0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},_R=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&LT(s[1]);return t&&JSON.parse(t)},Xf=()=>{try{return cR()||pR()||gR()||_R()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},DT=s=>Xf()?.emulatorHosts?.[s],yR=s=>{const t=DT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},MT=()=>Xf()?.config,kT=s=>Xf()?.[`_${s}`];class vR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function io(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ug(s){return(await fetch(s,{credentials:"include"})).ok}function ER(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[If(JSON.stringify(n)),If(JSON.stringify(d)),""].join(".")}const _c={};function TR(){const s={prod:[],emulator:[]};for(const t of Object.keys(_c))_c[t]?s.emulator.push(t):s.prod.push(t);return s}function wR(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let A0=!1;function VT(s,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||_c[s]===t||_c[s]||A0)return;_c[s]=t;function n(O){return`__firebase__banner__${O}`}const r="__firebase__banner",h=TR().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function y(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,F){O.setAttribute("width","24"),O.setAttribute("id",F),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function E(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{A0=!0,d()},O}function x(O,F){O.setAttribute("id",F),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=wR(r),F=n("text"),nt=document.getElementById(F)||document.createElement("span"),Q=n("learnmore"),B=document.getElementById(Q)||document.createElement("a"),lt=n("preprendIcon"),at=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ht=O.element;y(ht),x(B,Q);const It=E();v(at,lt),ht.append(at,nt,B,It),document.body.appendChild(ht)}h?(nt.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,nt.innerText="Preview backend running in this workspace."),nt.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function AR(){const s=Xf()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function RR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CR(){const s=Fn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function IR(){return!AR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NR(){try{return typeof indexedDB=="object"}catch{return!1}}function OR(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const PR="FirebaseError";class dr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=PR,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?LR(h,r):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new dr(l,y,r)}}function LR(s,t){return s.replace(DR,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const DR=/\{\$([^}]+)}/g;function MR(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function $o(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const h=s[l],d=t[l];if(S0(h)&&S0(d)){if(!$o(h,d))return!1}else if(h!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function S0(s){return s!==null&&typeof s=="object"}function Hc(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function cc(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,h]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function hc(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function kR(s,t){const n=new VR(s,t);return n.subscribe.bind(n)}class VR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zR(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=hp),l.error===void 0&&(l.error=hp),l.complete===void 0&&(l.complete=hp);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zR(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function hp(){}function Xe(s){return s&&s._delegate?s._delegate:s}class Xa{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ko="[DEFAULT]";class UR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new vR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jR(t))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});r.resolve(h)}catch{}}}}clearInstance(t=Ko){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ko){return this.instances.has(t)}getOptions(t=Ko){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const h=this.instances.get(r);return h&&t(h,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BR(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ko){return this.component?this.component.multipleInstances?t:Ko:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BR(s){return s===Ko?void 0:s}function jR(s){return s.instantiationMode==="EAGER"}class HR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new UR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var re;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(re||(re={}));const qR={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},FR=re.INFO,GR={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},ZR=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=GR[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cg{constructor(t){this.name=t,this._logLevel=FR,this._logHandler=ZR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const KR=(s,t)=>t.some(n=>s instanceof n);let x0,R0;function YR(){return x0||(x0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QR(){return R0||(R0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,Rp=new WeakMap,UT=new WeakMap,fp=new WeakMap,hg=new WeakMap;function XR(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{n(Za(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&zT.set(n,s)}).catch(()=>{}),hg.set(t,s),t}function WR(s){if(Rp.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Rp.set(s,t)}let Cp={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return Rp.get(s);if(t==="objectStoreNames")return s.objectStoreNames||UT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Za(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function $R(s){Cp=s(Cp)}function JR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(dp(this),t,...n);return UT.set(r,t.sort?t.sort():[t]),Za(r)}:QR().includes(s)?function(...t){return s.apply(dp(this),t),Za(zT.get(this))}:function(...t){return Za(s.apply(dp(this),t))}}function tC(s){return typeof s=="function"?JR(s):(s instanceof IDBTransaction&&WR(s),KR(s,YR())?new Proxy(s,Cp):s)}function Za(s){if(s instanceof IDBRequest)return XR(s);if(fp.has(s))return fp.get(s);const t=tC(s);return t!==s&&(fp.set(s,t),hg.set(t,s)),t}const dp=s=>hg.get(s);function eC(s,t,{blocked:n,upgrade:r,blocking:l,terminated:h}={}){const d=indexedDB.open(s,t),y=Za(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Za(d.result),v.oldVersion,v.newVersion,Za(d.transaction),v)}),n&&d.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),y}const nC=["get","getKey","getAll","getAllKeys","count"],iC=["put","add","delete","clear"],mp=new Map;function C0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(mp.get(t))return mp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=iC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||nC.includes(n)))return;const h=async function(d,...y){const v=this.transaction(d,l?"readwrite":"readonly");let E=v.store;return r&&(E=E.index(y.shift())),(await Promise.all([E[n](...y),l&&v.done]))[0]};return mp.set(t,h),h}$R(s=>({...s,get:(t,n,r)=>C0(t,n)||s.get(t,n,r),has:(t,n)=>!!C0(t,n)||s.has(t,n)}));class sC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rC(s){return s.getComponent()?.type==="VERSION"}const Ip="@firebase/app",I0="0.14.6";const Kr=new cg("@firebase/app"),aC="@firebase/app-compat",oC="@firebase/analytics-compat",lC="@firebase/analytics",uC="@firebase/app-check-compat",cC="@firebase/app-check",hC="@firebase/auth",fC="@firebase/auth-compat",dC="@firebase/database",mC="@firebase/data-connect",pC="@firebase/database-compat",gC="@firebase/functions",_C="@firebase/functions-compat",yC="@firebase/installations",vC="@firebase/installations-compat",EC="@firebase/messaging",TC="@firebase/messaging-compat",wC="@firebase/performance",bC="@firebase/performance-compat",AC="@firebase/remote-config",SC="@firebase/remote-config-compat",xC="@firebase/storage",RC="@firebase/storage-compat",CC="@firebase/firestore",IC="@firebase/ai",NC="@firebase/firestore-compat",OC="firebase",PC="12.6.0";const Np="[DEFAULT]",LC={[Ip]:"fire-core",[aC]:"fire-core-compat",[lC]:"fire-analytics",[oC]:"fire-analytics-compat",[cC]:"fire-app-check",[uC]:"fire-app-check-compat",[hC]:"fire-auth",[fC]:"fire-auth-compat",[dC]:"fire-rtdb",[mC]:"fire-data-connect",[pC]:"fire-rtdb-compat",[gC]:"fire-fn",[_C]:"fire-fn-compat",[yC]:"fire-iid",[vC]:"fire-iid-compat",[EC]:"fire-fcm",[TC]:"fire-fcm-compat",[wC]:"fire-perf",[bC]:"fire-perf-compat",[AC]:"fire-rc",[SC]:"fire-rc-compat",[xC]:"fire-gcs",[RC]:"fire-gcs-compat",[CC]:"fire-fst",[NC]:"fire-fst-compat",[IC]:"fire-vertex","fire-js":"fire-js",[OC]:"fire-js-all"};const Nf=new Map,DC=new Map,Op=new Map;function N0(s,t){try{s.container.addComponent(t)}catch(n){Kr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Jo(s){const t=s.name;if(Op.has(t))return Kr.debug(`There were multiple attempts to register component ${t}.`),!1;Op.set(t,s);for(const n of Nf.values())N0(n,s);for(const n of DC.values())N0(n,s);return!0}function Wf(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function zi(s){return s==null?!1:s.settings!==void 0}const MC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ka=new jc("app","Firebase",MC);class kC{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ka.create("app-deleted",{appName:this._name})}}const ol=PC;function BT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:Np,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Ka.create("bad-app-name",{appName:String(l)});if(n||(n=MT()),!n)throw Ka.create("no-options");const h=Nf.get(l);if(h){if($o(n,h.options)&&$o(r,h.config))return h;throw Ka.create("duplicate-app",{appName:l})}const d=new HR(l);for(const v of Op.values())d.addComponent(v);const y=new kC(n,r,d);return Nf.set(l,y),y}function jT(s=Np){const t=Nf.get(s);if(!t&&s===Np&&MT())return BT();if(!t)throw Ka.create("no-app",{appName:s});return t}function rr(s,t,n){let r=LC[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Kr.warn(d.join(" "));return}Jo(new Xa(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const VC="firebase-heartbeat-database",zC=1,Sc="firebase-heartbeat-store";let pp=null;function HT(){return pp||(pp=eC(VC,zC,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Sc)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ka.create("idb-open",{originalErrorMessage:s.message})})),pp}async function UC(s){try{const n=(await HT()).transaction(Sc),r=await n.objectStore(Sc).get(qT(s));return await n.done,r}catch(t){if(t instanceof dr)Kr.warn(t.message);else{const n=Ka.create("idb-get",{originalErrorMessage:t?.message});Kr.warn(n.message)}}}async function O0(s,t){try{const r=(await HT()).transaction(Sc,"readwrite");await r.objectStore(Sc).put(t,qT(s)),await r.done}catch(n){if(n instanceof dr)Kr.warn(n.message);else{const r=Ka.create("idb-set",{originalErrorMessage:n?.message});Kr.warn(r.message)}}}function qT(s){return`${s.name}!${s.options.appId}`}const BC=1024,jC=30;class HC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=P0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>jC){const l=GC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Kr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P0(),{heartbeatsToSend:n,unsentEntries:r}=qC(this._heartbeatsCache.heartbeats),l=If(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Kr.warn(t),""}}}function P0(){return new Date().toISOString().substring(0,10)}function qC(s,t=BC){const n=[];let r=s.slice();for(const l of s){const h=n.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),L0(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),L0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NR()?OR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return O0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return O0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function L0(s){return If(JSON.stringify({version:2,heartbeats:s})).length}function GC(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function ZC(s){Jo(new Xa("platform-logger",t=>new sC(t),"PRIVATE")),Jo(new Xa("heartbeat",t=>new HC(t),"PRIVATE")),rr(Ip,I0,s),rr(Ip,I0,"esm2020"),rr("fire-js","")}ZC("");var KC="firebase",YC="12.7.0";rr(KC,YC,"app");var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ya,FT;(function(){var s;function t(V,P){function D(){}D.prototype=P.prototype,V.F=P.prototype,V.prototype=new D,V.prototype.constructor=V,V.D=function(q,j,G){for(var z=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)z[ee-2]=arguments[ee];return P.prototype[j].apply(q,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,P,D){D||(D=0);const q=Array(16);if(typeof P=="string")for(var j=0;j<16;++j)q[j]=P.charCodeAt(D++)|P.charCodeAt(D++)<<8|P.charCodeAt(D++)<<16|P.charCodeAt(D++)<<24;else for(j=0;j<16;++j)q[j]=P[D++]|P[D++]<<8|P[D++]<<16|P[D++]<<24;P=V.g[0],D=V.g[1],j=V.g[2];let G=V.g[3],z;z=P+(G^D&(j^G))+q[0]+3614090360&4294967295,P=D+(z<<7&4294967295|z>>>25),z=G+(j^P&(D^j))+q[1]+3905402710&4294967295,G=P+(z<<12&4294967295|z>>>20),z=j+(D^G&(P^D))+q[2]+606105819&4294967295,j=G+(z<<17&4294967295|z>>>15),z=D+(P^j&(G^P))+q[3]+3250441966&4294967295,D=j+(z<<22&4294967295|z>>>10),z=P+(G^D&(j^G))+q[4]+4118548399&4294967295,P=D+(z<<7&4294967295|z>>>25),z=G+(j^P&(D^j))+q[5]+1200080426&4294967295,G=P+(z<<12&4294967295|z>>>20),z=j+(D^G&(P^D))+q[6]+2821735955&4294967295,j=G+(z<<17&4294967295|z>>>15),z=D+(P^j&(G^P))+q[7]+4249261313&4294967295,D=j+(z<<22&4294967295|z>>>10),z=P+(G^D&(j^G))+q[8]+1770035416&4294967295,P=D+(z<<7&4294967295|z>>>25),z=G+(j^P&(D^j))+q[9]+2336552879&4294967295,G=P+(z<<12&4294967295|z>>>20),z=j+(D^G&(P^D))+q[10]+4294925233&4294967295,j=G+(z<<17&4294967295|z>>>15),z=D+(P^j&(G^P))+q[11]+2304563134&4294967295,D=j+(z<<22&4294967295|z>>>10),z=P+(G^D&(j^G))+q[12]+1804603682&4294967295,P=D+(z<<7&4294967295|z>>>25),z=G+(j^P&(D^j))+q[13]+4254626195&4294967295,G=P+(z<<12&4294967295|z>>>20),z=j+(D^G&(P^D))+q[14]+2792965006&4294967295,j=G+(z<<17&4294967295|z>>>15),z=D+(P^j&(G^P))+q[15]+1236535329&4294967295,D=j+(z<<22&4294967295|z>>>10),z=P+(j^G&(D^j))+q[1]+4129170786&4294967295,P=D+(z<<5&4294967295|z>>>27),z=G+(D^j&(P^D))+q[6]+3225465664&4294967295,G=P+(z<<9&4294967295|z>>>23),z=j+(P^D&(G^P))+q[11]+643717713&4294967295,j=G+(z<<14&4294967295|z>>>18),z=D+(G^P&(j^G))+q[0]+3921069994&4294967295,D=j+(z<<20&4294967295|z>>>12),z=P+(j^G&(D^j))+q[5]+3593408605&4294967295,P=D+(z<<5&4294967295|z>>>27),z=G+(D^j&(P^D))+q[10]+38016083&4294967295,G=P+(z<<9&4294967295|z>>>23),z=j+(P^D&(G^P))+q[15]+3634488961&4294967295,j=G+(z<<14&4294967295|z>>>18),z=D+(G^P&(j^G))+q[4]+3889429448&4294967295,D=j+(z<<20&4294967295|z>>>12),z=P+(j^G&(D^j))+q[9]+568446438&4294967295,P=D+(z<<5&4294967295|z>>>27),z=G+(D^j&(P^D))+q[14]+3275163606&4294967295,G=P+(z<<9&4294967295|z>>>23),z=j+(P^D&(G^P))+q[3]+4107603335&4294967295,j=G+(z<<14&4294967295|z>>>18),z=D+(G^P&(j^G))+q[8]+1163531501&4294967295,D=j+(z<<20&4294967295|z>>>12),z=P+(j^G&(D^j))+q[13]+2850285829&4294967295,P=D+(z<<5&4294967295|z>>>27),z=G+(D^j&(P^D))+q[2]+4243563512&4294967295,G=P+(z<<9&4294967295|z>>>23),z=j+(P^D&(G^P))+q[7]+1735328473&4294967295,j=G+(z<<14&4294967295|z>>>18),z=D+(G^P&(j^G))+q[12]+2368359562&4294967295,D=j+(z<<20&4294967295|z>>>12),z=P+(D^j^G)+q[5]+4294588738&4294967295,P=D+(z<<4&4294967295|z>>>28),z=G+(P^D^j)+q[8]+2272392833&4294967295,G=P+(z<<11&4294967295|z>>>21),z=j+(G^P^D)+q[11]+1839030562&4294967295,j=G+(z<<16&4294967295|z>>>16),z=D+(j^G^P)+q[14]+4259657740&4294967295,D=j+(z<<23&4294967295|z>>>9),z=P+(D^j^G)+q[1]+2763975236&4294967295,P=D+(z<<4&4294967295|z>>>28),z=G+(P^D^j)+q[4]+1272893353&4294967295,G=P+(z<<11&4294967295|z>>>21),z=j+(G^P^D)+q[7]+4139469664&4294967295,j=G+(z<<16&4294967295|z>>>16),z=D+(j^G^P)+q[10]+3200236656&4294967295,D=j+(z<<23&4294967295|z>>>9),z=P+(D^j^G)+q[13]+681279174&4294967295,P=D+(z<<4&4294967295|z>>>28),z=G+(P^D^j)+q[0]+3936430074&4294967295,G=P+(z<<11&4294967295|z>>>21),z=j+(G^P^D)+q[3]+3572445317&4294967295,j=G+(z<<16&4294967295|z>>>16),z=D+(j^G^P)+q[6]+76029189&4294967295,D=j+(z<<23&4294967295|z>>>9),z=P+(D^j^G)+q[9]+3654602809&4294967295,P=D+(z<<4&4294967295|z>>>28),z=G+(P^D^j)+q[12]+3873151461&4294967295,G=P+(z<<11&4294967295|z>>>21),z=j+(G^P^D)+q[15]+530742520&4294967295,j=G+(z<<16&4294967295|z>>>16),z=D+(j^G^P)+q[2]+3299628645&4294967295,D=j+(z<<23&4294967295|z>>>9),z=P+(j^(D|~G))+q[0]+4096336452&4294967295,P=D+(z<<6&4294967295|z>>>26),z=G+(D^(P|~j))+q[7]+1126891415&4294967295,G=P+(z<<10&4294967295|z>>>22),z=j+(P^(G|~D))+q[14]+2878612391&4294967295,j=G+(z<<15&4294967295|z>>>17),z=D+(G^(j|~P))+q[5]+4237533241&4294967295,D=j+(z<<21&4294967295|z>>>11),z=P+(j^(D|~G))+q[12]+1700485571&4294967295,P=D+(z<<6&4294967295|z>>>26),z=G+(D^(P|~j))+q[3]+2399980690&4294967295,G=P+(z<<10&4294967295|z>>>22),z=j+(P^(G|~D))+q[10]+4293915773&4294967295,j=G+(z<<15&4294967295|z>>>17),z=D+(G^(j|~P))+q[1]+2240044497&4294967295,D=j+(z<<21&4294967295|z>>>11),z=P+(j^(D|~G))+q[8]+1873313359&4294967295,P=D+(z<<6&4294967295|z>>>26),z=G+(D^(P|~j))+q[15]+4264355552&4294967295,G=P+(z<<10&4294967295|z>>>22),z=j+(P^(G|~D))+q[6]+2734768916&4294967295,j=G+(z<<15&4294967295|z>>>17),z=D+(G^(j|~P))+q[13]+1309151649&4294967295,D=j+(z<<21&4294967295|z>>>11),z=P+(j^(D|~G))+q[4]+4149444226&4294967295,P=D+(z<<6&4294967295|z>>>26),z=G+(D^(P|~j))+q[11]+3174756917&4294967295,G=P+(z<<10&4294967295|z>>>22),z=j+(P^(G|~D))+q[2]+718787259&4294967295,j=G+(z<<15&4294967295|z>>>17),z=D+(G^(j|~P))+q[9]+3951481745&4294967295,V.g[0]=V.g[0]+P&4294967295,V.g[1]=V.g[1]+(j+(z<<21&4294967295|z>>>11))&4294967295,V.g[2]=V.g[2]+j&4294967295,V.g[3]=V.g[3]+G&4294967295}r.prototype.v=function(V,P){P===void 0&&(P=V.length);const D=P-this.blockSize,q=this.C;let j=this.h,G=0;for(;G<P;){if(j==0)for(;G<=D;)l(this,V,G),G+=this.blockSize;if(typeof V=="string"){for(;G<P;)if(q[j++]=V.charCodeAt(G++),j==this.blockSize){l(this,q),j=0;break}}else for(;G<P;)if(q[j++]=V[G++],j==this.blockSize){l(this,q),j=0;break}}this.h=j,this.o+=P},r.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var P=1;P<V.length-8;++P)V[P]=0;P=this.o*8;for(var D=V.length-8;D<V.length;++D)V[D]=P&255,P/=256;for(this.v(V),V=Array(16),P=0,D=0;D<4;++D)for(let q=0;q<32;q+=8)V[P++]=this.g[D]>>>q&255;return V};function h(V,P){var D=y;return Object.prototype.hasOwnProperty.call(D,V)?D[V]:D[V]=P(V)}function d(V,P){this.h=P;const D=[];let q=!0;for(let j=V.length-1;j>=0;j--){const G=V[j]|0;q&&G==P||(D[j]=G,q=!1)}this.g=D}var y={};function v(V){return-128<=V&&V<128?h(V,function(P){return new d([P|0],P<0?-1:0)}):new d([V|0],V<0?-1:0)}function E(V){if(isNaN(V)||!isFinite(V))return S;if(V<0)return B(E(-V));const P=[];let D=1;for(let q=0;V>=D;q++)P[q]=V/D|0,D*=4294967296;return new d(P,0)}function x(V,P){if(V.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(V.charAt(0)=="-")return B(x(V.substring(1),P));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=E(Math.pow(P,8));let q=S;for(let G=0;G<V.length;G+=8){var j=Math.min(8,V.length-G);const z=parseInt(V.substring(G,G+j),P);j<8?(j=E(Math.pow(P,j)),q=q.j(j).add(E(z))):(q=q.j(D),q=q.add(E(z)))}return q}var S=v(0),O=v(1),F=v(16777216);s=d.prototype,s.m=function(){if(Q(this))return-B(this).m();let V=0,P=1;for(let D=0;D<this.g.length;D++){const q=this.i(D);V+=(q>=0?q:4294967296+q)*P,P*=4294967296}return V},s.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(nt(this))return"0";if(Q(this))return"-"+B(this).toString(V);const P=E(Math.pow(V,6));var D=this;let q="";for(;;){const j=It(D,P).g;D=lt(D,j.j(P));let G=((D.g.length>0?D.g[0]:D.h)>>>0).toString(V);if(D=j,nt(D))return G+q;for(;G.length<6;)G="0"+G;q=G+q}},s.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function nt(V){if(V.h!=0)return!1;for(let P=0;P<V.g.length;P++)if(V.g[P]!=0)return!1;return!0}function Q(V){return V.h==-1}s.l=function(V){return V=lt(this,V),Q(V)?-1:nt(V)?0:1};function B(V){const P=V.g.length,D=[];for(let q=0;q<P;q++)D[q]=~V.g[q];return new d(D,~V.h).add(O)}s.abs=function(){return Q(this)?B(this):this},s.add=function(V){const P=Math.max(this.g.length,V.g.length),D=[];let q=0;for(let j=0;j<=P;j++){let G=q+(this.i(j)&65535)+(V.i(j)&65535),z=(G>>>16)+(this.i(j)>>>16)+(V.i(j)>>>16);q=z>>>16,G&=65535,z&=65535,D[j]=z<<16|G}return new d(D,D[D.length-1]&-2147483648?-1:0)};function lt(V,P){return V.add(B(P))}s.j=function(V){if(nt(this)||nt(V))return S;if(Q(this))return Q(V)?B(this).j(B(V)):B(B(this).j(V));if(Q(V))return B(this.j(B(V)));if(this.l(F)<0&&V.l(F)<0)return E(this.m()*V.m());const P=this.g.length+V.g.length,D=[];for(var q=0;q<2*P;q++)D[q]=0;for(q=0;q<this.g.length;q++)for(let j=0;j<V.g.length;j++){const G=this.i(q)>>>16,z=this.i(q)&65535,ee=V.i(j)>>>16,Ve=V.i(j)&65535;D[2*q+2*j]+=z*Ve,at(D,2*q+2*j),D[2*q+2*j+1]+=G*Ve,at(D,2*q+2*j+1),D[2*q+2*j+1]+=z*ee,at(D,2*q+2*j+1),D[2*q+2*j+2]+=G*ee,at(D,2*q+2*j+2)}for(V=0;V<P;V++)D[V]=D[2*V+1]<<16|D[2*V];for(V=P;V<2*P;V++)D[V]=0;return new d(D,0)};function at(V,P){for(;(V[P]&65535)!=V[P];)V[P+1]+=V[P]>>>16,V[P]&=65535,P++}function ht(V,P){this.g=V,this.h=P}function It(V,P){if(nt(P))throw Error("division by zero");if(nt(V))return new ht(S,S);if(Q(V))return P=It(B(V),P),new ht(B(P.g),B(P.h));if(Q(P))return P=It(V,B(P)),new ht(B(P.g),P.h);if(V.g.length>30){if(Q(V)||Q(P))throw Error("slowDivide_ only works with positive integers.");for(var D=O,q=P;q.l(V)<=0;)D=Nt(D),q=Nt(q);var j=Mt(D,1),G=Mt(q,1);for(q=Mt(q,2),D=Mt(D,2);!nt(q);){var z=G.add(q);z.l(V)<=0&&(j=j.add(D),G=z),q=Mt(q,1),D=Mt(D,1)}return P=lt(V,j.j(P)),new ht(j,P)}for(j=S;V.l(P)>=0;){for(D=Math.max(1,Math.floor(V.m()/P.m())),q=Math.ceil(Math.log(D)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),G=E(D),z=G.j(P);Q(z)||z.l(V)>0;)D-=q,G=E(D),z=G.j(P);nt(G)&&(G=O),j=j.add(G),V=lt(V,z)}return new ht(j,V)}s.B=function(V){return It(this,V).h},s.and=function(V){const P=Math.max(this.g.length,V.g.length),D=[];for(let q=0;q<P;q++)D[q]=this.i(q)&V.i(q);return new d(D,this.h&V.h)},s.or=function(V){const P=Math.max(this.g.length,V.g.length),D=[];for(let q=0;q<P;q++)D[q]=this.i(q)|V.i(q);return new d(D,this.h|V.h)},s.xor=function(V){const P=Math.max(this.g.length,V.g.length),D=[];for(let q=0;q<P;q++)D[q]=this.i(q)^V.i(q);return new d(D,this.h^V.h)};function Nt(V){const P=V.g.length+1,D=[];for(let q=0;q<P;q++)D[q]=V.i(q)<<1|V.i(q-1)>>>31;return new d(D,V.h)}function Mt(V,P){const D=P>>5;P%=32;const q=V.g.length-D,j=[];for(let G=0;G<q;G++)j[G]=P>0?V.i(G+D)>>>P|V.i(G+D+1)<<32-P:V.i(G+D);return new d(j,V.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,FT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=E,d.fromString=x,Ya=d}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var GT,fc,ZT,_f,Pp,KT,YT,QT;(function(){var s,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof of=="object"&&of];for(var T=0;T<f.length;++T){var A=f[T];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function l(f,T){if(T)t:{var A=r;f=f.split(".");for(var N=0;N<f.length-1;N++){var X=f[N];if(!(X in A))break t;A=A[X]}f=f[f.length-1],N=A[f],T=T(N),T!=N&&T!=null&&t(A,f,{configurable:!0,writable:!0,value:T})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(T){var A=[],N;for(N in T)Object.prototype.hasOwnProperty.call(T,N)&&A.push([N,T[N]]);return A}});var h=h||{},d=this||self;function y(f){var T=typeof f;return T=="object"&&f!=null||T=="function"}function v(f,T,A){return f.call.apply(f.bind,arguments)}function E(f,T,A){return E=v,E.apply(null,arguments)}function x(f,T){var A=Array.prototype.slice.call(arguments,1);return function(){var N=A.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function S(f,T){function A(){}A.prototype=T.prototype,f.Z=T.prototype,f.prototype=new A,f.prototype.constructor=f,f.Ob=function(N,X,et){for(var Et=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)Et[jt-2]=arguments[jt];return T.prototype[X].apply(N,Et)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function F(f){const T=f.length;if(T>0){const A=Array(T);for(let N=0;N<T;N++)A[N]=f[N];return A}return[]}function nt(f,T){for(let N=1;N<arguments.length;N++){const X=arguments[N];var A=typeof X;if(A=A!="object"?A:X?Array.isArray(X)?"array":A:"null",A=="array"||A=="object"&&typeof X.length=="number"){A=f.length||0;const et=X.length||0;f.length=A+et;for(let Et=0;Et<et;Et++)f[A+Et]=X[Et]}else f.push(X)}}class Q{constructor(T,A){this.i=T,this.j=A,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function B(f){d.setTimeout(()=>{throw f},0)}function lt(){var f=V;let T=null;return f.g&&(T=f.g,f.g=f.g.next,f.g||(f.h=null),T.next=null),T}class at{constructor(){this.h=this.g=null}add(T,A){const N=ht.get();N.set(T,A),this.h?this.h.next=N:this.g=N,this.h=N}}var ht=new Q(()=>new It,f=>f.reset());class It{constructor(){this.next=this.g=this.h=null}set(T,A){this.h=T,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Nt,Mt=!1,V=new at,P=()=>{const f=Promise.resolve(void 0);Nt=()=>{f.then(D)}};function D(){for(var f;f=lt();){try{f.h.call(f.g)}catch(A){B(A)}var T=ht;T.j(f),T.h<100&&(T.h++,f.next=T.g,T.g=f)}Mt=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(f,T){this.type=f,this.g=this.target=T,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,T=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};d.addEventListener("test",A,T),d.removeEventListener("test",A,T)}catch{}return f})();function z(f){return/^[\s\xa0]*$/.test(f)}function ee(f,T){j.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,T)}S(ee,j),ee.prototype.init=function(f,T){const A=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=T,T=f.relatedTarget,T||(A=="mouseover"?T=f.fromElement:A=="mouseout"&&(T=f.toElement)),this.relatedTarget=T,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),it=0;function gt(f,T,A,N,X){this.listener=f,this.proxy=null,this.src=T,this.type=A,this.capture=!!N,this.ha=X,this.key=++it,this.da=this.fa=!1}function ct(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function kt(f,T,A){for(const N in f)T.call(A,f[N],N,f)}function yt(f,T){for(const A in f)T.call(void 0,f[A],A,f)}function M(f){const T={};for(const A in f)T[A]=f[A];return T}const rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(f,T){let A,N;for(let X=1;X<arguments.length;X++){N=arguments[X];for(A in N)f[A]=N[A];for(let et=0;et<rt.length;et++)A=rt[et],Object.prototype.hasOwnProperty.call(N,A)&&(f[A]=N[A])}}function vt(f){this.src=f,this.g={},this.h=0}vt.prototype.add=function(f,T,A,N,X){const et=f.toString();f=this.g[et],f||(f=this.g[et]=[],this.h++);const Et=wt(f,T,N,X);return Et>-1?(T=f[Et],A||(T.fa=!1)):(T=new gt(T,this.src,et,!!N,X),T.fa=A,f.push(T)),T};function bt(f,T){const A=T.type;if(A in f.g){var N=f.g[A],X=Array.prototype.indexOf.call(N,T,void 0),et;(et=X>=0)&&Array.prototype.splice.call(N,X,1),et&&(ct(T),f.g[A].length==0&&(delete f.g[A],f.h--))}}function wt(f,T,A,N){for(let X=0;X<f.length;++X){const et=f[X];if(!et.da&&et.listener==T&&et.capture==!!A&&et.ha==N)return X}return-1}var qt="closure_lm_"+(Math.random()*1e6|0),we={};function xe(f,T,A,N,X){if(Array.isArray(T)){for(let et=0;et<T.length;et++)xe(f,T[et],A,N,X);return null}return A=ks(A),f&&f[Ve]?f.J(T,A,y(N)?!!N.capture:!1,X):fs(f,T,A,!1,N,X)}function fs(f,T,A,N,X,et){if(!T)throw Error("Invalid event type");const Et=y(X)?!!X.capture:!!X;let jt=Ms(f);if(jt||(f[qt]=jt=new vt(f)),A=jt.add(T,A,N,Et,et),A.proxy)return A;if(N=Ls(),A.proxy=N,N.src=f,N.listener=A,f.addEventListener)G||(X=Et),X===void 0&&(X=!1),f.addEventListener(T.toString(),N,X);else if(f.attachEvent)f.attachEvent(Hi(T.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ls(){function f(A){return T.call(f.src,f.listener,A)}const T=$r;return f}function ji(f,T,A,N,X){if(Array.isArray(T))for(var et=0;et<T.length;et++)ji(f,T[et],A,N,X);else N=y(N)?!!N.capture:!!N,A=ks(A),f&&f[Ve]?(f=f.i,et=String(T).toString(),et in f.g&&(T=f.g[et],A=wt(T,A,N,X),A>-1&&(ct(T[A]),Array.prototype.splice.call(T,A,1),T.length==0&&(delete f.g[et],f.h--)))):f&&(f=Ms(f))&&(T=f.g[T.toString()],f=-1,T&&(f=wt(T,A,N,X)),(A=f>-1?T[f]:null)&&Ds(A))}function Ds(f){if(typeof f!="number"&&f&&!f.da){var T=f.src;if(T&&T[Ve])bt(T.i,f);else{var A=f.type,N=f.proxy;T.removeEventListener?T.removeEventListener(A,N,f.capture):T.detachEvent?T.detachEvent(Hi(A),N):T.addListener&&T.removeListener&&T.removeListener(N),(A=Ms(T))?(bt(A,f),A.h==0&&(A.src=null,T[qt]=null)):ct(f)}}}function Hi(f){return f in we?we[f]:we[f]="on"+f}function $r(f,T){if(f.da)f=!0;else{T=new ee(T,this);const A=f.listener,N=f.ha||f.src;f.fa&&Ds(f),f=A.call(N,T)}return f}function Ms(f){return f=f[qt],f instanceof vt?f:null}var mr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ks(f){return typeof f=="function"?f:(f[mr]||(f[mr]=function(T){return f.handleEvent(T)}),f[mr])}function qe(){q.call(this),this.i=new vt(this),this.M=this,this.G=null}S(qe,q),qe.prototype[Ve]=!0,qe.prototype.removeEventListener=function(f,T,A,N){ji(this,f,T,A,N)};function Fe(f,T){var A,N=f.G;if(N)for(A=[];N;N=N.G)A.push(N);if(f=f.M,N=T.type||T,typeof T=="string")T=new j(T,f);else if(T instanceof j)T.target=T.target||f;else{var X=T;T=new j(N,f),_t(T,X)}X=!0;let et,Et;if(A)for(Et=A.length-1;Et>=0;Et--)et=T.g=A[Et],X=qi(et,N,!0,T)&&X;if(et=T.g=f,X=qi(et,N,!0,T)&&X,X=qi(et,N,!1,T)&&X,A)for(Et=0;Et<A.length;Et++)et=T.g=A[Et],X=qi(et,N,!1,T)&&X}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var f=this.i;for(const T in f.g){const A=f.g[T];for(let N=0;N<A.length;N++)ct(A[N]);delete f.g[T],f.h--}}this.G=null},qe.prototype.J=function(f,T,A,N){return this.i.add(String(f),T,!1,A,N)},qe.prototype.K=function(f,T,A,N){return this.i.add(String(f),T,!0,A,N)};function qi(f,T,A,N){if(T=f.i.g[String(T)],!T)return!0;T=T.concat();let X=!0;for(let et=0;et<T.length;++et){const Et=T[et];if(Et&&!Et.da&&Et.capture==A){const jt=Et.listener,le=Et.ha||Et.src;Et.fa&&bt(f.i,Et),X=jt.call(le,N)!==!1&&X}}return X&&!N.defaultPrevented}function fl(f,T){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:d.setTimeout(f,T||0)}function lo(f){f.g=fl(()=>{f.g=null,f.i&&(f.i=!1,lo(f))},f.l);const T=f.h;f.h=null,f.m.apply(null,T)}class Cn extends q{constructor(T,A){super(),this.m=T,this.l=A,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:lo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(f){q.call(this),this.h=f,this.g={}}S(pr,q);var gr=[];function Jr(f){kt(f.g,function(T,A){this.g.hasOwnProperty(A)&&Ds(T)},f),f.g={}}pr.prototype.N=function(){pr.Z.N.call(this),Jr(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=d.JSON.stringify,Tu=d.JSON.parse,uo=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function co(){}function dl(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Je(){j.call(this,"d")}S(Je,j);function Gn(){j.call(this,"c")}S(Gn,j);var ze={},Vs=null;function ta(){return Vs=Vs||new qe}ze.Ia="serverreachability";function ml(f){j.call(this,ze.Ia,f)}S(ml,j);function Ei(f){const T=ta();Fe(T,new ml(T))}ze.STAT_EVENT="statevent";function zs(f,T){j.call(this,ze.STAT_EVENT,f),this.stat=T}S(zs,j);function Ue(f){const T=ta();Fe(T,new zs(T,f))}ze.Ja="timingevent";function Fi(f,T){j.call(this,ze.Ja,f),this.size=T}S(Fi,j);function Gi(f,T){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},T)}function Ti(){this.g=!0}Ti.prototype.ua=function(){this.g=!1};function wu(f,T,A,N,X,et){f.info(function(){if(f.g)if(et){var Et="",jt=et.split("&");for(let ue=0;ue<jt.length;ue++){var le=jt[ue].split("=");if(le.length>1){const Ce=le[0];le=le[1];const oi=Ce.split("_");Et=oi.length>=2&&oi[1]=="type"?Et+(Ce+"="+le+"&"):Et+(Ce+"=redacted&")}}}else Et=null;else Et=et;return"XMLHTTP REQ ("+N+") [attempt "+X+"]: "+T+`
`+A+`
`+Et})}function pl(f,T,A,N,X,et,Et){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+X+"]: "+T+`
`+A+`
`+et+" "+Et})}function Zi(f,T,A,N){f.info(function(){return"XMLHTTP TEXT ("+T+"): "+bu(f,A)+(N?" "+N:"")})}function ms(f,T){f.info(function(){return"TIMEOUT: "+T})}Ti.prototype.info=function(){};function bu(f,T){if(!f.g)return T;if(!T)return null;try{const et=JSON.parse(T);if(et){for(f=0;f<et.length;f++)if(Array.isArray(et[f])){var A=et[f];if(!(A.length<2)){var N=A[1];if(Array.isArray(N)&&!(N.length<1)){var X=N[0];if(X!="noop"&&X!="stop"&&X!="close")for(let Et=1;Et<N.length;Et++)N[Et]=""}}}}return ds(et)}catch{return T}}var _r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fo;function yn(){}S(yn,co),yn.prototype.g=function(){return new XMLHttpRequest},fo=new yn;function Rt(f){return encodeURIComponent(String(f))}function mo(f){var T=1;f=f.split(":");const A=[];for(;T>0&&f.length;)A.push(f.shift()),T--;return f.length&&A.push(f.join(":")),A}function ti(f,T,A,N){this.j=f,this.i=T,this.l=A,this.S=N||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Be={},Ge={};function wi(f,T,A){f.M=1,f.A=ye(Oe(T)),f.u=A,f.R=!0,bi(f,null)}function bi(f,T){f.F=Date.now(),Ki(f),f.B=Oe(f.A);var A=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),Bs(A.i,"t",N),f.C=0,A=f.j.L,f.h=new ei,f.g=To(f.j,A?T:null,!f.u),f.P>0&&(f.O=new Cn(E(f.Y,f,f.g),f.P)),T=f.V,A=f.g,N=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(gr[0]=X.toString()),X=gr);for(let et=0;et<X.length;et++){const Et=xe(A,X[et],N||T.handleEvent,!1,T.h||T);if(!Et)break;T.g[Et.key]=Et}T=f.J?M(f.J):{},f.u?(f.v||(f.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,T)):(f.v="GET",f.g.ea(f.B,f.v,null,T)),Ei(),wu(f.i,f.v,f.B,f.l,f.S,f.u)}ti.prototype.ba=function(f){f=f.target;const T=this.O;T&&Ri(f)==3?T.j():this.Y(f)},ti.prototype.Y=function(f){try{if(f==this.g)t:{const jt=Ri(this.g),le=this.g.ya(),ue=this.g.ca();if(!(jt<3)&&(jt!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||jt!=4||le==7||(le==8||ue<=0?Ei(3):Ei(2)),Ai(this);var T=this.g.ca();this.X=T;var A=gl(this);if(this.o=T==200,pl(this.i,this.v,this.B,this.l,this.S,jt,T),this.o){if(this.U&&!this.L){e:{if(this.g){var N,X=this.g;if((N=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(N)){var et=N;break e}}et=null}if(f=et)Zi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yi(this,f);else{this.o=!1,this.m=3,Ue(12),vn(this),ni(this);break t}}if(this.R){f=!0;let Ce;for(;!this.K&&this.C<A.length;)if(Ce=yl(this,A),Ce==Ge){jt==4&&(this.m=4,Ue(14),f=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ce==Be){this.m=4,Ue(15),Zi(this.i,this.l,A,"[Invalid Chunk]"),f=!1;break}else Zi(this.i,this.l,Ce,null),Yi(this,Ce);if(_l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||A.length!=0||this.h.h||(this.m=1,Ue(16),f=!1),this.o=this.o&&f,!f)Zi(this.i,this.l,A,"[Invalid Chunked Response]"),vn(this),ni(this);else if(A.length>0&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.aa&&!Et.P&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),vo(Et),Et.P=!0,Ue(11))}}else Zi(this.i,this.l,A,null),Yi(this,A);jt==4&&vn(this),this.o&&!this.K&&(jt==4?Yn(this.j,this):(this.o=!1,Ki(this)))}else Ci(this.g),T==400&&A.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),vn(this),ni(this)}}}catch{}};function gl(f){if(!_l(f))return f.g.la();const T=an(f.g);if(T==="")return"";let A="";const N=T.length,X=Ri(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return vn(f),ni(f),"";f.h.i=new d.TextDecoder}for(let et=0;et<N;et++)f.h.h=!0,A+=f.h.i.decode(T[et],{stream:!(X&&et==N-1)});return T.length=0,f.h.g+=A,f.C=0,f.h.g}function _l(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function yl(f,T){var A=f.C,N=T.indexOf(`
`,A);return N==-1?Ge:(A=Number(T.substring(A,N)),isNaN(A)?Be:(N+=1,N+A>T.length?Ge:(T=T.slice(N,N+A),f.C=N+A,T)))}ti.prototype.cancel=function(){this.K=!0,vn(this)};function Ki(f){f.T=Date.now()+f.H,ea(f,f.H)}function ea(f,T){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Gi(E(f.aa,f),T)}function Ai(f){f.D&&(d.clearTimeout(f.D),f.D=null)}ti.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ms(this.i,this.B),this.M!=2&&(Ei(),Ue(17)),vn(this),this.m=2,ni(this)):ea(this,this.T-f)};function ni(f){f.j.I==0||f.K||Yn(f.j,f)}function vn(f){Ai(f);var T=f.O;T&&typeof T.dispose=="function"&&T.dispose(),f.O=null,Jr(f.V),f.g&&(T=f.g,f.g=null,T.abort(),T.dispose())}function Yi(f,T){try{var A=f.j;if(A.I!=0&&(A.g==f||ii(A.h,f))){if(!f.L&&ii(A.h,f)&&A.I==3){try{var N=A.Ba.g.parse(T)}catch{N=null}if(Array.isArray(N)&&N.length==3){var X=N;if(X[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<f.F)la(A),Fs(A);else break t;br(A),Ue(18)}}else A.xa=X[1],0<A.xa-A.K&&X[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Gi(E(A.Va,A),6e3));Qi(A.h)<=1&&A.ta&&(A.ta=void 0)}else Ii(A,11)}else if((f.L||A.g==f)&&la(A),!z(T))for(X=A.Ba.g.parse(T),T=0;T<X.length;T++){let ue=X[T];const Ce=ue[0];if(!(Ce<=A.K))if(A.K=Ce,ue=ue[1],A.I==2)if(ue[0]=="c"){A.M=ue[1],A.ba=ue[2];const oi=ue[3];oi!=null&&(A.ka=oi,A.j.info("VER="+A.ka));const li=ue[4];li!=null&&(A.za=li,A.j.info("SVER="+A.za));const Qn=ue[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(N=1.5*Qn,A.O=N,A.j.info("backChannelRequestTimeoutMs_="+N)),N=A;const Oi=f.g;if(Oi){const Ar=Oi.g?Oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var et=N.h;et.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(ps(et,et.h),et.h=null))}if(N.G){const Sr=Oi.g?Oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Sr&&(N.wa=Sr,St(N.J,N.G,Sr))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-f.F,A.j.info("Handshake RTT: "+A.T+"ms")),N=A;var Et=f;if(N.na=Eo(N,N.L?N.ba:null,N.W),Et.L){na(N.h,Et);var jt=Et,le=N.O;le&&(jt.H=le),jt.D&&(Ai(jt),Ki(jt)),N.g=Et}else yo(N);A.i.length>0&&zn(A)}else ue[0]!="stop"&&ue[0]!="close"||Ii(A,7);else A.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?Ii(A,7):Qt(A):ue[0]!="noop"&&A.l&&A.l.qa(ue),A.A=0)}}Ei(4)}catch{}}var Ze=class{constructor(f,T){this.g=f,this.map=T}};function po(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function go(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Qi(f){return f.h?1:f.g?f.g.size:0}function ii(f,T){return f.h?f.h==T:f.g?f.g.has(T):!1}function ps(f,T){f.g?f.g.add(T):f.h=T}function na(f,T){f.h&&f.h==T?f.h=null:f.g&&f.g.has(T)&&f.g.delete(T)}po.prototype.cancel=function(){if(this.i=ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ia(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let T=f.i;for(const A of f.g.values())T=T.concat(A.G);return T}return F(f.i)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xt(f,T){if(f){f=f.split("&");for(let A=0;A<f.length;A++){const N=f[A].indexOf("=");let X,et=null;N>=0?(X=f[A].substring(0,N),et=f[A].substring(N+1)):X=f[A],T(X,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}function Wt(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;f instanceof Wt?(this.l=f.l,Pe(this,f.j),this.o=f.o,this.g=f.g,Zn(this,f.u),this.h=f.h,yr(this,Tr(f.i)),this.m=f.m):f&&(T=String(f).match(Us))?(this.l=!1,Pe(this,T[1]||"",!0),this.o=si(T[2]||""),this.g=si(T[3]||"",!0),Zn(this,T[4]),this.h=si(T[5]||"",!0),yr(this,T[6]||"",!0),this.m=si(T[7]||"")):(this.l=!1,this.i=new ri(null,this.l))}Wt.prototype.toString=function(){const f=[];var T=this.j;T&&f.push(Xi(T,sa,!0),":");var A=this.g;return(A||T=="file")&&(f.push("//"),(T=this.o)&&f.push(Xi(T,sa,!0),"@"),f.push(Rt(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&f.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(Xi(A,A.charAt(0)=="/"?Si:vr,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",Xi(A,Wi)),f.join("")},Wt.prototype.resolve=function(f){const T=Oe(this);let A=!!f.j;A?Pe(T,f.j):A=!!f.o,A?T.o=f.o:A=!!f.g,A?T.g=f.g:A=f.u!=null;var N=f.h;if(A)Zn(T,f.u);else if(A=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var X=T.h.lastIndexOf("/");X!=-1&&(N=T.h.slice(0,X+1)+N)}if(X=N,X==".."||X==".")N="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){N=X.lastIndexOf("/",0)==0,X=X.split("/");const et=[];for(let Et=0;Et<X.length;){const jt=X[Et++];jt=="."?N&&Et==X.length&&et.push(""):jt==".."?((et.length>1||et.length==1&&et[0]!="")&&et.pop(),N&&Et==X.length&&et.push("")):(et.push(jt),N=!0)}N=et.join("/")}else N=X}return A?T.h=N:A=f.i.toString()!=="",A?yr(T,Tr(f.i)):A=!!f.m,A&&(T.m=f.m),T};function Oe(f){return new Wt(f)}function Pe(f,T,A){f.j=A?si(T,!0):T,f.j&&(f.j=f.j.replace(/:$/,""))}function Zn(f,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);f.u=T}else f.u=null}function yr(f,T,A){T instanceof ri?(f.i=T,js(f.i,f.l)):(A||(T=Xi(T,ve)),f.i=new ri(T,f.l))}function St(f,T,A){f.i.set(T,A)}function ye(f){return St(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function si(f,T){return f?T?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xi(f,T,A){return typeof f=="string"?(f=encodeURI(f).replace(T,Re),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Re(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var sa=/[#\/\?@]/g,vr=/[#\?:]/g,Si=/[#\?]/g,ve=/[#\?@]/g,Wi=/#/g;function ri(f,T){this.h=this.g=null,this.i=f||null,this.j=!!T}function rn(f){f.g||(f.g=new Map,f.h=0,f.i&&Xt(f.i,function(T,A){f.add(decodeURIComponent(T.replace(/\+/g," ")),A)}))}s=ri.prototype,s.add=function(f,T){rn(this),this.i=null,f=$i(this,f);let A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(T),this.h+=1,this};function ra(f,T){rn(f),T=$i(f,T),f.g.has(T)&&(f.i=null,f.h-=f.g.get(T).length,f.g.delete(T))}function gs(f,T){return rn(f),T=$i(f,T),f.g.has(T)}s.forEach=function(f,T){rn(this),this.g.forEach(function(A,N){A.forEach(function(X){f.call(T,X,N,this)},this)},this)};function Er(f,T){rn(f);let A=[];if(typeof T=="string")gs(f,T)&&(A=A.concat(f.g.get($i(f,T))));else for(f=Array.from(f.g.values()),T=0;T<f.length;T++)A=A.concat(f[T]);return A}s.set=function(f,T){return rn(this),this.i=null,f=$i(this,f),gs(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[T]),this.h+=1,this},s.get=function(f,T){return f?(f=Er(this,f),f.length>0?String(f[0]):T):T};function Bs(f,T,A){ra(f,T),A.length>0&&(f.i=null,f.g.set($i(f,T),F(A)),f.h+=A.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],T=Array.from(this.g.keys());for(let N=0;N<T.length;N++){var A=T[N];const X=Rt(A);A=Er(this,A);for(let et=0;et<A.length;et++){let Et=X;A[et]!==""&&(Et+="="+Rt(A[et])),f.push(Et)}}return this.i=f.join("&")};function Tr(f){const T=new ri;return T.i=f.i,f.g&&(T.g=new Map(f.g),T.h=f.h),T}function $i(f,T){return T=String(T),f.j&&(T=T.toLowerCase()),T}function js(f,T){T&&!f.j&&(rn(f),f.i=null,f.g.forEach(function(A,N){const X=N.toLowerCase();N!=X&&(ra(this,N),Bs(this,X,A))},f)),f.j=T}function Mn(f,T){const A=new Ti;if(d.Image){const N=new Image;N.onload=x(kn,A,"TestLoadImage: loaded",!0,T,N),N.onerror=x(kn,A,"TestLoadImage: error",!1,T,N),N.onabort=x(kn,A,"TestLoadImage: abort",!1,T,N),N.ontimeout=x(kn,A,"TestLoadImage: timeout",!1,T,N),d.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else T(!1)}function aa(f,T){const A=new Ti,N=new AbortController,X=setTimeout(()=>{N.abort(),kn(A,"TestPingServer: timeout",!1,T)},1e4);fetch(f,{signal:N.signal}).then(et=>{clearTimeout(X),et.ok?kn(A,"TestPingServer: ok",!0,T):kn(A,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(X),kn(A,"TestPingServer: error",!1,T)})}function kn(f,T,A,N,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),N(A)}catch{}}function Hs(){this.g=new uo}function Vt(f){this.i=f.Sb||null,this.h=f.ab||!1}S(Vt,co),Vt.prototype.g=function(){return new En(this.i,this.h)};function En(f,T){qe.call(this),this.H=f,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(En,qe),s=En.prototype,s.open=function(f,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=T,this.readyState=1,Kn(this)},s.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(T.body=f),(this.H||d).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},s.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;he(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function he(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}s.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var T=f.value?f.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!f.done}))&&(this.response=this.responseText+=T)}f.done?_s(this):Kn(this),this.readyState==3&&he(this)}},s.Oa=function(f){this.g&&(this.response=this.responseText=f,_s(this))},s.Na=function(f){this.g&&(this.response=f,_s(this))},s.ga=function(){this.g&&_s(this)};function _s(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Kn(f)}s.setRequestHeader=function(f,T){this.A.append(f,T)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],T=this.h.entries();for(var A=T.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=T.next();return f.join(`\r
`)};function Kn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(En.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Vn(f){let T="";return kt(f,function(A,N){T+=N,T+=":",T+=A,T+=`\r
`}),T}function ys(f,T,A){t:{for(N in A){var N=!1;break t}N=!0}N||(A=Vn(A),typeof f=="string"?A!=null&&Rt(A):St(f,T,A))}function ne(f){qe.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ne,qe);var ai=/^https?$/i,vs=["POST","PUT"];s=ne.prototype,s.Fa=function(f){this.H=f},s.ea=function(f,T,A,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);T=T?T.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fo.g(),this.g.onreadystatechange=O(E(this.Ca,this));try{this.B=!0,this.g.open(T,String(f),!0),this.B=!1}catch(et){Le(this,et);return}if(f=A||"",A=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var X in N)A.set(X,N[X]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const et of N.keys())A.set(et,N.get(et));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(A.keys()).find(et=>et.toLowerCase()=="content-type"),X=d.FormData&&f instanceof d.FormData,!(Array.prototype.indexOf.call(vs,T,void 0)>=0)||N||X||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,Et]of A)this.g.setRequestHeader(et,Et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(et){Le(this,et)}};function Le(f,T){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=T,f.o=5,xi(f),Ji(f)}function xi(f){f.A||(f.A=!0,Fe(f,"complete"),Fe(f,"error"))}s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Fe(this,"complete"),Fe(this,"abort"),Ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),ne.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},s.Xa=function(){qs(this)};function qs(f){if(f.h&&typeof h<"u"){if(f.v&&Ri(f)==4)setTimeout(f.Ca.bind(f),0);else if(Fe(f,"readystatechange"),Ri(f)==4){f.h=!1;try{const et=f.ca();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break t;default:T=!1}var A;if(!(A=T)){var N;if(N=et===0){let Et=String(f.D).match(Us)[1]||null;!Et&&d.self&&d.self.location&&(Et=d.self.location.protocol.slice(0,-1)),N=!ai.test(Et?Et.toLowerCase():"")}A=N}if(A)Fe(f,"complete"),Fe(f,"success");else{f.o=6;try{var X=Ri(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",xi(f)}}finally{Ji(f)}}}}function Ji(f,T){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const A=f.g;f.g=null,T||Fe(f,"ready");try{A.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ri(f){return f.g?f.g.readyState:0}s.ca=function(){try{return Ri(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(f){if(this.g){var T=this.g.responseText;return f&&T.indexOf(f)==0&&(T=T.substring(f.length)),Tu(T)}};function an(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ci(f){const T={};f=(f.g&&Ri(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(z(f[N]))continue;var A=mo(f[N]);const X=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const et=T[X]||[];T[X]=et,et.push(A)}yt(T,function(N){return N.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(f,T,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||T}function Es(f){this.za=0,this.i=[],this.j=new Ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,f),this.Za=ts("retryDelaySeedMs",1e4,f),this.Ta=ts("forwardChannelMaxRetries",2,f),this.va=ts("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new po(f&&f.concurrentRequestLimit),this.Ba=new Hs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Es.prototype,s.ka=8,s.I=1,s.connect=function(f,T,A,N){Ue(0),this.W=f,this.H=T||{},A&&N!==void 0&&(this.H.OSID=A,this.H.OAID=N),this.F=this.X,this.J=Eo(this,null,this.W),zn(this)};function Qt(f){if(Tn(f),f.I==3){var T=f.V++,A=Oe(f.J);if(St(A,"SID",f.M),St(A,"RID",T),St(A,"TYPE","terminate"),Ts(f,A),T=new ti(f,f.j,T),T.M=2,T.A=ye(Oe(A)),A=!1,d.navigator&&d.navigator.sendBeacon)try{A=d.navigator.sendBeacon(T.A.toString(),"")}catch{}!A&&d.Image&&(new Image().src=T.A,A=!0),A||(T.g=To(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Ki(T)}Ni(f)}function Fs(f){f.g&&(vo(f),f.g.cancel(),f.g=null)}function Tn(f){Fs(f),f.v&&(d.clearTimeout(f.v),f.v=null),la(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&d.clearTimeout(f.m),f.m=null)}function zn(f){if(!go(f.h)&&!f.m){f.m=!0;var T=f.Ea;Nt||P(),Mt||(Nt(),Mt=!0),V.add(T,f),f.D=0}}function wr(f,T){return Qi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=T.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Gi(E(f.Ea,f,T),El(f,f.D)),f.D++,!0)}s.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new ti(this,this.j,f);let et=this.o;if(this.U&&(et?(et=M(et),_t(et,this.U)):et=this.U),this.u!==null||this.R||(X.J=et,et=null),this.S)t:{for(var T=0,A=0;A<this.i.length;A++){e:{var N=this.i[A];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(T+=N,T>4096){T=A;break t}if(T===4096||A===this.i.length-1){T=A+1;break t}}T=1e3}else T=1e3;T=vl(this,X,T),A=Oe(this.J),St(A,"RID",f),St(A,"CVER",22),this.G&&St(A,"X-HTTP-Session-Id",this.G),Ts(this,A),et&&(this.R?T="headers="+Rt(Vn(et))+"&"+T:this.u&&ys(A,this.u,et)),ps(this.h,X),this.Ra&&St(A,"TYPE","init"),this.S?(St(A,"$req",T),St(A,"SID","null"),X.U=!0,wi(X,A,null)):wi(X,A,T),this.I=2}}else this.I==3&&(f?_o(this,f):this.i.length==0||go(this.h)||_o(this))};function _o(f,T){var A;T?A=T.l:A=f.V++;const N=Oe(f.J);St(N,"SID",f.M),St(N,"RID",A),St(N,"AID",f.K),Ts(f,N),f.u&&f.o&&ys(N,f.u,f.o),A=new ti(f,f.j,A,f.D+1),f.u===null&&(A.J=f.o),T&&(f.i=T.G.concat(f.i)),T=vl(f,A,1e3),A.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ps(f.h,A),wi(A,N,T)}function Ts(f,T){f.H&&kt(f.H,function(A,N){St(T,N,A)}),f.l&&kt({},function(A,N){St(T,N,A)})}function vl(f,T,A){A=Math.min(f.i.length,A);const N=f.l?E(f.l.Ka,f.l,f):null;t:{var X=f.i;let jt=-1;for(;;){const le=["count="+A];jt==-1?A>0?(jt=X[0].g,le.push("ofs="+jt)):jt=0:le.push("ofs="+jt);let ue=!0;for(let Ce=0;Ce<A;Ce++){var et=X[Ce].g;const oi=X[Ce].map;if(et-=jt,et<0)jt=Math.max(0,X[Ce].g-100),ue=!1;else try{et="req"+et+"_"||"";try{var Et=oi instanceof Map?oi:Object.entries(oi);for(const[li,Qn]of Et){let Oi=Qn;y(Qn)&&(Oi=ds(Qn)),le.push(et+li+"="+encodeURIComponent(Oi))}}catch(li){throw le.push(et+"type="+encodeURIComponent("_badmap")),li}}catch{N&&N(oi)}}if(ue){Et=le.join("&");break t}}Et=void 0}return f=f.i.splice(0,A),T.G=f,Et}function yo(f){if(!f.g&&!f.v){f.Y=1;var T=f.Da;Nt||P(),Mt||(Nt(),Mt=!0),V.add(T,f),f.A=0}}function br(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Gi(E(f.Da,f),El(f,f.A)),f.A++,!0)}s.Da=function(){if(this.v=null,oa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Gi(E(this.Wa,this),f)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),Fs(this),oa(this))};function vo(f){f.B!=null&&(d.clearTimeout(f.B),f.B=null)}function oa(f){f.g=new ti(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var T=Oe(f.na);St(T,"RID","rpc"),St(T,"SID",f.M),St(T,"AID",f.K),St(T,"CI",f.F?"0":"1"),!f.F&&f.ia&&St(T,"TO",f.ia),St(T,"TYPE","xmlhttp"),Ts(f,T),f.u&&f.o&&ys(T,f.u,f.o),f.O&&(f.g.H=f.O);var A=f.g;f=f.ba,A.M=1,A.A=ye(Oe(T)),A.u=null,A.R=!0,bi(A,f)}s.Va=function(){this.C!=null&&(this.C=null,Fs(this),br(this),Ue(19))};function la(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Yn(f,T){var A=null;if(f.g==T){la(f),vo(f),f.g=null;var N=2}else if(ii(f.h,T))A=T.G,na(f.h,T),N=1;else return;if(f.I!=0){if(T.o)if(N==1){A=T.u?T.u.length:0,T=Date.now()-T.F;var X=f.D;N=ta(),Fe(N,new Fi(N,A)),zn(f)}else yo(f);else if(X=T.m,X==3||X==0&&T.X>0||!(N==1&&wr(f,T)||N==2&&br(f)))switch(A&&A.length>0&&(T=f.h,T.i=T.i.concat(A)),X){case 1:Ii(f,5);break;case 4:Ii(f,10);break;case 3:Ii(f,6);break;default:Ii(f,2)}}}function El(f,T){let A=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(A*=2),A*T}function Ii(f,T){if(f.j.info("Error code "+T),T==2){var A=E(f.bb,f),N=f.Ua;const X=!N;N=new Wt(N||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(N,"https"),ye(N),X?Mn(N.toString(),A):aa(N.toString(),A)}else Ue(2);f.I=0,f.l&&f.l.pa(T),Ni(f),Tn(f)}s.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function Ni(f){if(f.I=0,f.ja=[],f.l){const T=ia(f.h);(T.length!=0||f.i.length!=0)&&(nt(f.ja,T),nt(f.ja,f.i),f.h.i.length=0,F(f.i),f.i.length=0),f.l.oa()}}function Eo(f,T,A){var N=A instanceof Wt?Oe(A):new Wt(A);if(N.g!="")T&&(N.g=T+"."+N.g),Zn(N,N.u);else{var X=d.location;N=X.protocol,T=T?T+"."+X.hostname:X.hostname,X=+X.port;const et=new Wt(null);N&&Pe(et,N),T&&(et.g=T),X&&Zn(et,X),A&&(et.h=A),N=et}return A=f.G,T=f.wa,A&&T&&St(N,A,T),St(N,"VER",f.ka),Ts(f,N),N}function To(f,T,A){if(T&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=f.Aa&&!f.ma?new ne(new Vt({ab:A})):new ne(f.ma),T.Fa(f.L),T}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ua(){}s=ua.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Gs(){}Gs.prototype.g=function(f,T){return new wn(f,T)};function wn(f,T){qe.call(this),this.g=new Es(T),this.l=f,this.h=T&&T.messageUrlParams||null,f=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(f?f["X-WebChannel-Content-Type"]=T.messageContentType:f={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(f?f["X-WebChannel-Client-Profile"]=T.sa:f={"X-WebChannel-Client-Profile":T.sa}),this.g.U=f,(f=T&&T.Qb)&&!z(f)&&(this.g.u=f),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!z(T)&&(this.g.G=T,f=this.h,f!==null&&T in f&&(f=this.h,T in f&&delete f[T])),this.j=new ws(this)}S(wn,qe),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Qt(this.g)},wn.prototype.o=function(f){var T=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.v&&(A={},A.__data__=ds(f),f=A);T.i.push(new Ze(T.Ya++,f)),T.I==3&&zn(T)},wn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,wn.Z.N.call(this)};function wo(f){Je.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var T=f.__sm__;if(T){t:{for(const A in T){f=A;break t}f=void 0}(this.i=f)&&(f=this.i,T=T!==null&&f in T?T[f]:void 0),this.data=T}else this.data=f}S(wo,Je);function Tl(){Gn.call(this),this.status=1}S(Tl,Gn);function ws(f){this.g=f}S(ws,ua),ws.prototype.ra=function(){Fe(this.g,"a")},ws.prototype.qa=function(f){Fe(this.g,new wo(f))},ws.prototype.pa=function(f){Fe(this.g,new Tl)},ws.prototype.oa=function(){Fe(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,QT=function(){return new Gs},YT=function(){return ta()},KT=ze,Pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,_f=_r,ho.COMPLETE="complete",ZT=ho,dl.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",qe.prototype.listen=qe.prototype.J,fc=dl,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,GT=ne}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});const M0="@firebase/firestore",k0="4.9.3";class _i{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");let pu="12.7.0";const tl=new cg("@firebase/firestore");function Jl(){return tl.logLevel}function xt(s,...t){if(tl.logLevel<=re.DEBUG){const n=t.map(fg);tl.debug(`Firestore (${pu}): ${s}`,...n)}}function Yr(s,...t){if(tl.logLevel<=re.ERROR){const n=t.map(fg);tl.error(`Firestore (${pu}): ${s}`,...n)}}function xc(s,...t){if(tl.logLevel<=re.WARN){const n=t.map(fg);tl.warn(`Firestore (${pu}): ${s}`,...n)}}function fg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Bt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,XT(s,r,n)}function XT(s,t,n){let r=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Yr(r),new Error(r)}function _e(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||XT(t,l,r)}function Gt(s,t){return s}const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends dr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qo{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class QC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(_i.UNAUTHENTICATED)))}shutdown(){}}class WC{constructor(t){this.t=t,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_e(this.o===void 0,42304);let r=this.i;const l=v=>this.i!==r?(r=this.i,n(v)):Promise.resolve();let h=new Qo;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Qo,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},y=v=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Qo)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new QC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string",2055,{h:t}),new _i(t)}}class $C{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=_i.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JC{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new $C(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(_i.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){_e(this.o===void 0,3512);const r=h=>{h.error!=null&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,xt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const l=h=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class dg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=eI(40);for(let h=0;h<l.length;++h)r.length<20&&l[h]<n&&(r+=t.charAt(l[h]%62))}return r}}function ae(s,t){return s<t?-1:s>t?1:0}function Lp(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),h=t.charAt(r);if(l!==h)return gp(l)===gp(h)?ae(l,h):gp(l)?1:-1}return ae(s.length,t.length)}const nI=55296,iI=57343;function gp(s){const t=s.charCodeAt(0);return t>=nI&&t<=iI}function uu(s,t,n){return s.length===t.length&&s.every(((r,l)=>n(r,t[l])))}const z0="__name__";class nr{constructor(t,n,r){n===void 0?n=0:n>t.length&&Bt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Bt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return nr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof nr?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const h=nr.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return ae(t.length,n.length)}static compareSegments(t,n){const r=nr.isNumericId(t),l=nr.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?nr.extractNumericId(t).compare(nr.extractNumericId(n)):Lp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ya.fromString(t.substring(4,t.length-2))}}class Ne extends nr{construct(t,n,r){return new Ne(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new At(ft.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new Ne(n)}static emptyPath(){return new Ne([])}}const sI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends nr{construct(t,n,r){return new Ln(t,n,r)}static isValidIdentifier(t){return sI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z0}static keyField(){return new Ln([z0])}static fromServerFormat(t){const n=[];let r="",l=0;const h=()=>{if(r.length===0)throw new At(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new At(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new At(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=v,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(r+=y,l++):(h(),l++)}if(h(),d)throw new At(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ln(n)}static emptyPath(){return new Ln([])}}class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(Ne.fromString(t))}static fromName(t){return new Dt(Ne.fromString(t).popFirst(5))}static empty(){return new Dt(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new Ne(t.slice()))}}function WT(s,t,n){if(!n)throw new At(ft.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function rI(s,t,n,r){if(t===!0&&r===!0)throw new At(ft.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function U0(s){if(!Dt.isDocumentKey(s))throw new At(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function B0(s){if(Dt.isDocumentKey(s))throw new At(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function $T(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function $f(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Bt(12329,{type:typeof s})}function Fr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new At(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$f(s);throw new At(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function dn(s,t){const n={typeString:s};return t&&(n.value=t),n}function qc(s,t){if(!$T(s))throw new At(ft.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){n=`Expected '${r}' field to equal '${h.value}'`;break}}if(n)throw new At(ft.INVALID_ARGUMENT,n);return!0}const j0=-62135596800,H0=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(t){return Me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*H0);return new Me(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new At(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new At(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<j0)throw new At(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H0}_compareTo(t){return this.seconds===t.seconds?ae(this.nanoseconds,t.nanoseconds):ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qc(t,Me._jsonSchema))return new Me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-j0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Me._jsonSchemaVersion="firestore/timestamp/1.0",Me._jsonSchema={type:dn("string",Me._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};class Ht{static fromTimestamp(t){return new Ht(t)}static min(){return new Ht(new Me(0,0))}static max(){return new Ht(new Me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rc=-1;function aI(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ht.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new Wa(l,Dt.empty(),t)}function oI(s){return new Wa(s.readTime,s.key,Rc)}class Wa{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Wa(Ht.min(),Dt.empty(),Rc)}static max(){return new Wa(Ht.max(),Dt.empty(),Rc)}}function lI(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=Dt.comparator(s.documentKey,t.documentKey),n!==0?n:ae(s.largestBatchId,t.largestBatchId))}const uI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function gu(s){if(s.code!==ft.FAILED_PRECONDITION||s.message!==uI)throw s;xt("LocalStore","Unexpectedly lost primary lease")}class pt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new pt(((r,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof pt?n:pt.resolve(n)}catch(n){return pt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):pt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):pt.reject(n)}static resolve(t){return new pt(((n,r)=>{n(t)}))}static reject(t){return new pt(((n,r)=>{r(t)}))}static waitFor(t){return new pt(((n,r)=>{let l=0,h=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++h,d&&h===l&&n()}),(v=>r(v)))})),d=!0,h===l&&n()}))}static or(t){let n=pt.resolve(!1);for(const r of t)n=n.next((l=>l?pt.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,h)=>{r.push(n.call(this,l,h))})),this.waitFor(r)}static mapArray(t,n){return new pt(((r,l)=>{const h=t.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const E=v;n(t[E]).next((x=>{d[E]=x,++y,y===h&&r(d)}),(x=>l(x)))}}))}static doWhile(t,n){return new pt(((r,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):r()};h()}))}}function hI(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _u(s){return s.name==="IndexedDbTransactionError"}class Jf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Jf.ce=-1;const mg=-1;function td(s){return s==null}function Of(s){return s===0&&1/s==-1/0}function fI(s){return typeof s=="number"&&Number.isInteger(s)&&!Of(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const JT="";function dI(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=q0(t)),t=mI(s.get(n),t);return q0(t)}function mI(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const h=s.charAt(l);switch(h){case"\0":n+="";break;case JT:n+="";break;default:n+=h}}return n}function q0(s){return s+JT+""}function F0(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function so(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function tw(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class He{constructor(t,n){this.comparator=t,this.root=n||Pn.EMPTY}insert(t,n){return new He(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(t){return new He(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lf(this.root,t,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lf(this.root,t,this.comparator,!0)}}class lf{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?r(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Pn{constructor(t,n,r,l,h){this.key=t,this.value=n,this.color=r??Pn.RED,this.left=l??Pn.EMPTY,this.right=h??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,h){return new Pn(t??this.key,n??this.value,r??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const h=r(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,r),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Pn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Bt(27949);return t+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt(57766)}get value(){throw Bt(16141)}get color(){throw Bt(16727)}get left(){throw Bt(29726)}get right(){throw Bt(36894)}copy(t,n,r,l,h){return this}insert(t,n,r){return new Pn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _n{constructor(t){this.comparator=t,this.data=new He(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new G0(this.data.getIterator())}getIteratorFrom(t){return new G0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof _n)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=r.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new _n(this.comparator);return n.data=t,n}}class G0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ui{constructor(t){this.fields=t,t.sort(Ln.comparator)}static empty(){return new Ui([])}unionWith(t){let n=new _n(Ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ui(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return uu(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class ew extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new ew("Invalid base64 string: "+h):h}})(t);return new Dn(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Dn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const pI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(s){if(_e(!!s,39018),typeof s=="string"){let t=0;const n=pI.exec(s);if(_e(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:nn(s.seconds),nanos:nn(s.nanos)}}function nn(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ja(s){return typeof s=="string"?Dn.fromBase64String(s):Dn.fromUint8Array(s)}const nw="server_timestamp",iw="__type__",sw="__previous_value__",rw="__local_write_time__";function pg(s){return(s?.mapValue?.fields||{})[iw]?.stringValue===nw}function ed(s){const t=s.mapValue.fields[sw];return pg(t)?ed(t):t}function Cc(s){const t=$a(s.mapValue.fields[rw].timestampValue);return new Me(t.seconds,t.nanos)}class gI{constructor(t,n,r,l,h,d,y,v,E,x){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=E,this.isUsingEmulator=x}}const Pf="(default)";class Ic{constructor(t,n){this.projectId=t,this.database=n||Pf}static empty(){return new Ic("","")}get isDefaultDatabase(){return this.database===Pf}isEqual(t){return t instanceof Ic&&t.projectId===this.projectId&&t.database===this.database}}const aw="__type__",_I="__max__",uf={mapValue:{}},ow="__vector__",Lf="value";function to(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?pg(s)?4:vI(s)?9007199254740991:yI(s)?10:11:Bt(28295,{value:s})}function fr(s,t){if(s===t)return!0;const n=to(s);if(n!==to(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Cc(s).isEqual(Cc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=$a(l.timestampValue),y=$a(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,h){return Ja(l.bytesValue).isEqual(Ja(h.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,h){return nn(l.geoPointValue.latitude)===nn(h.geoPointValue.latitude)&&nn(l.geoPointValue.longitude)===nn(h.geoPointValue.longitude)})(s,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return nn(l.integerValue)===nn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=nn(l.doubleValue),y=nn(h.doubleValue);return d===y?Of(d)===Of(y):isNaN(d)&&isNaN(y)}return!1})(s,t);case 9:return uu(s.arrayValue.values||[],t.arrayValue.values||[],fr);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},y=h.mapValue.fields||{};if(F0(d)!==F0(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!fr(d[v],y[v])))return!1;return!0})(s,t);default:return Bt(52216,{left:s})}}function Nc(s,t){return(s.values||[]).find((n=>fr(n,t)))!==void 0}function cu(s,t){if(s===t)return 0;const n=to(s),r=to(t);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(s.booleanValue,t.booleanValue);case 2:return(function(h,d){const y=nn(h.integerValue||h.doubleValue),v=nn(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,t);case 3:return Z0(s.timestampValue,t.timestampValue);case 4:return Z0(Cc(s),Cc(t));case 5:return Lp(s.stringValue,t.stringValue);case 6:return(function(h,d){const y=Ja(h),v=Ja(d);return y.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let E=0;E<y.length&&E<v.length;E++){const x=ae(y[E],v[E]);if(x!==0)return x}return ae(y.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(h,d){const y=ae(nn(h.latitude),nn(d.latitude));return y!==0?y:ae(nn(h.longitude),nn(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return K0(s.arrayValue,t.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},E=y[Lf]?.arrayValue,x=v[Lf]?.arrayValue,S=ae(E?.values?.length||0,x?.values?.length||0);return S!==0?S:K0(E,x)})(s.mapValue,t.mapValue);case 11:return(function(h,d){if(h===uf.mapValue&&d===uf.mapValue)return 0;if(h===uf.mapValue)return 1;if(d===uf.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),E=d.fields||{},x=Object.keys(E);v.sort(),x.sort();for(let S=0;S<v.length&&S<x.length;++S){const O=Lp(v[S],x[S]);if(O!==0)return O;const F=cu(y[v[S]],E[x[S]]);if(F!==0)return F}return ae(v.length,x.length)})(s.mapValue,t.mapValue);default:throw Bt(23264,{he:n})}}function Z0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return ae(s,t);const n=$a(s),r=$a(t),l=ae(n.seconds,r.seconds);return l!==0?l:ae(n.nanos,r.nanos)}function K0(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const h=cu(n[l],r[l]);if(h)return h}return ae(n.length,r.length)}function hu(s){return Dp(s)}function Dp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=$a(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Ja(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Dt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const h of n.values||[])l?l=!1:r+=",",r+=Dp(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const d of r)h?h=!1:l+=",",l+=`${d}:${Dp(n.fields[d])}`;return l+"}"})(s.mapValue):Bt(61005,{value:s})}function yf(s){switch(to(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ed(s);return t?16+yf(t):16;case 5:return 2*s.stringValue.length;case 6:return Ja(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,h)=>l+yf(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return so(r.fields,((h,d)=>{l+=h.length+yf(d)})),l})(s.mapValue);default:throw Bt(13486,{value:s})}}function Y0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Mp(s){return!!s&&"integerValue"in s}function gg(s){return!!s&&"arrayValue"in s}function Q0(s){return!!s&&"nullValue"in s}function X0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function vf(s){return!!s&&"mapValue"in s}function yI(s){return(s?.mapValue?.fields||{})[aw]?.stringValue===ow}function yc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return so(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=yc(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yc(s.arrayValue.values[n]);return t}return{...s}}function vI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===_I}class vi{constructor(t){this.value=t}static empty(){return new vi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!vf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=yc(n)}setAll(t){let n=Ln.emptyPath(),r={},l=[];t.forEach(((d,y)=>{if(!n.isImmediateParentOf(y)){const v=this.getFieldsMap(n);this.applyChanges(v,r,l),r={},l=[],n=y.popLast()}d?r[y.lastSegment()]=yc(d):l.push(y.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,r,l)}delete(t){const n=this.field(t.popLast());vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return fr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];vf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){so(n,((l,h)=>t[l]=h));for(const l of r)delete t[l]}clone(){return new vi(yc(this.value))}}function lw(s){const t=[];return so(s.fields,((n,r)=>{const l=new Ln([n]);if(vf(r)){const h=lw(r.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Ui(t)}class qn{constructor(t,n,r,l,h,d,y){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(t){return new qn(t,0,Ht.min(),Ht.min(),Ht.min(),vi.empty(),0)}static newFoundDocument(t,n,r,l){return new qn(t,1,n,Ht.min(),r,l,0)}static newNoDocument(t,n){return new qn(t,2,n,Ht.min(),Ht.min(),vi.empty(),0)}static newUnknownDocument(t,n){return new qn(t,3,n,Ht.min(),Ht.min(),vi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof qn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Df{constructor(t,n){this.position=t,this.inclusive=n}}function W0(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const h=t[l],d=s.position[l];if(h.field.isKeyField()?r=Dt.comparator(Dt.fromName(d.referenceValue),n.key):r=cu(d,n.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function $0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!fr(s.position[n],t.position[n]))return!1;return!0}class Oc{constructor(t,n="asc"){this.field=t,this.dir=n}}function EI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class uw{}class fn extends uw{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new wI(t,n,r):n==="array-contains"?new SI(t,r):n==="in"?new xI(t,r):n==="not-in"?new RI(t,r):n==="array-contains-any"?new CI(t,r):new fn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new bI(t,r):new AI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cu(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(cu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Os extends uw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Os(t,n)}matches(t){return cw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cw(s){return s.op==="and"}function hw(s){return TI(s)&&cw(s)}function TI(s){for(const t of s.filters)if(t instanceof Os)return!1;return!0}function kp(s){if(s instanceof fn)return s.field.canonicalString()+s.op.toString()+hu(s.value);if(hw(s))return s.filters.map((t=>kp(t))).join(",");{const t=s.filters.map((n=>kp(n))).join(",");return`${s.op}(${t})`}}function fw(s,t){return s instanceof fn?(function(r,l){return l instanceof fn&&r.op===l.op&&r.field.isEqual(l.field)&&fr(r.value,l.value)})(s,t):s instanceof Os?(function(r,l){return l instanceof Os&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((h,d,y)=>h&&fw(d,l.filters[y])),!0):!1})(s,t):void Bt(19439)}function dw(s){return s instanceof fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${hu(n.value)}`})(s):s instanceof Os?(function(n){return n.op.toString()+" {"+n.getFilters().map(dw).join(" ,")+"}"})(s):"Filter"}class wI extends fn{constructor(t,n,r){super(t,n,r),this.key=Dt.fromName(r.referenceValue)}matches(t){const n=Dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class bI extends fn{constructor(t,n){super(t,"in",n),this.keys=mw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class AI extends fn{constructor(t,n){super(t,"not-in",n),this.keys=mw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function mw(s,t){return(t.arrayValue?.values||[]).map((n=>Dt.fromName(n.referenceValue)))}class SI extends fn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gg(n)&&Nc(n.arrayValue,this.value)}}class xI extends fn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Nc(this.value.arrayValue,n)}}class RI extends fn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nc(this.value.arrayValue,n)}}class CI extends fn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Nc(this.value.arrayValue,r)))}}class II{constructor(t,n=null,r=[],l=[],h=null,d=null,y=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function J0(s,t=null,n=[],r=[],l=null,h=null,d=null){return new II(s,t,n,r,l,h,d)}function _g(s){const t=Gt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>kp(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),td(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>hu(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>hu(r))).join(",")),t.Te=n}return t.Te}function yg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!EI(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!fw(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!$0(s.startAt,t.startAt)&&$0(s.endAt,t.endAt)}function Vp(s){return Dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class yu{constructor(t,n=null,r=[],l=[],h=null,d="F",y=null,v=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NI(s,t,n,r,l,h,d,y){return new yu(s,t,n,r,l,h,d,y)}function vg(s){return new yu(s)}function tE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function pw(s){return s.collectionGroup!==null}function vc(s){const t=Gt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new _n(Ln.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((E=>{E.isInequality()&&(y=y.add(E.field))}))})),y})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Oc(h,r))})),n.has(Ln.keyField().canonicalString())||t.Ie.push(new Oc(Ln.keyField(),r))}return t.Ie}function ar(s){const t=Gt(s);return t.Ee||(t.Ee=OI(t,vc(s))),t.Ee}function OI(s,t){if(s.limitType==="F")return J0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Oc(l.field,h)}));const n=s.endAt?new Df(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Df(s.startAt.position,s.startAt.inclusive):null;return J0(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function zp(s,t){const n=s.filters.concat([t]);return new yu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Up(s,t,n){return new yu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function nd(s,t){return yg(ar(s),ar(t))&&s.limitType===t.limitType}function gw(s){return`${_g(ar(s))}|lt:${s.limitType}`}function tu(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>dw(l))).join(", ")}]`),td(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>hu(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>hu(l))).join(",")),`Target(${r})`})(ar(s))}; limitType=${s.limitType})`}function id(s,t){return t.isFoundDocument()&&(function(r,l){const h=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):Dt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,t)&&(function(r,l){for(const h of vc(r))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const h of r.filters)if(!h.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,y,v){const E=W0(d,y,v);return d.inclusive?E<=0:E<0})(r.startAt,vc(r),l)||r.endAt&&!(function(d,y,v){const E=W0(d,y,v);return d.inclusive?E>=0:E>0})(r.endAt,vc(r),l))})(s,t)}function PI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function _w(s){return(t,n)=>{let r=!1;for(const l of vc(s)){const h=LI(l,t,n);if(h!==0)return h;r=r||l.field.isKeyField()}return 0}}function LI(s,t,n){const r=s.field.isKeyField()?Dt.comparator(t.key,n.key):(function(h,d,y){const v=d.data.field(h),E=y.data.field(h);return v!==null&&E!==null?cu(v,E):Bt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Bt(19790,{direction:s.dir})}}class ll{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,h]of r)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){so(this.inner,((n,r)=>{for(const[l,h]of r)t(l,h)}))}isEmpty(){return tw(this.inner)}size(){return this.innerSize}}const DI=new He(Dt.comparator);function Qr(){return DI}const yw=new He(Dt.comparator);function dc(...s){let t=yw;for(const n of s)t=t.insert(n.key,n);return t}function vw(s){let t=yw;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Yo(){return Ec()}function Ew(){return Ec()}function Ec(){return new ll((s=>s.toString()),((s,t)=>s.isEqual(t)))}const MI=new He(Dt.comparator),kI=new _n(Dt.comparator);function oe(...s){let t=kI;for(const n of s)t=t.add(n);return t}const VI=new _n(ae);function zI(){return VI}function Eg(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(t)?"-0":t}}function Tw(s){return{integerValue:""+s}}function UI(s,t){return fI(t)?Tw(t):Eg(s,t)}class sd{constructor(){this._=void 0}}function BI(s,t,n){return s instanceof Pc?(function(l,h){const d={fields:{[iw]:{stringValue:nw},[rw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&pg(h)&&(h=ed(h)),h&&(d.fields[sw]=h),{mapValue:d}})(n,t):s instanceof Lc?bw(s,t):s instanceof Dc?Aw(s,t):(function(l,h){const d=ww(l,h),y=eE(d)+eE(l.Ae);return Mp(d)&&Mp(l.Ae)?Tw(y):Eg(l.serializer,y)})(s,t)}function jI(s,t,n){return s instanceof Lc?bw(s,t):s instanceof Dc?Aw(s,t):n}function ww(s,t){return s instanceof Mf?(function(r){return Mp(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class Pc extends sd{}class Lc extends sd{constructor(t){super(),this.elements=t}}function bw(s,t){const n=Sw(t);for(const r of s.elements)n.some((l=>fr(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Dc extends sd{constructor(t){super(),this.elements=t}}function Aw(s,t){let n=Sw(t);for(const r of s.elements)n=n.filter((l=>!fr(l,r)));return{arrayValue:{values:n}}}class Mf extends sd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function eE(s){return nn(s.integerValue||s.doubleValue)}function Sw(s){return gg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class HI{constructor(t,n){this.field=t,this.transform=n}}function qI(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Lc&&l instanceof Lc||r instanceof Dc&&l instanceof Dc?uu(r.elements,l.elements,fr):r instanceof Mf&&l instanceof Mf?fr(r.Ae,l.Ae):r instanceof Pc&&l instanceof Pc})(s.transform,t.transform)}class FI{constructor(t,n){this.version=t,this.transformResults=n}}class cs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new cs}static exists(t){return new cs(void 0,t)}static updateTime(t){return new cs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ef(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class rd{}function xw(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Tg(s.key,cs.none()):new Fc(s.key,s.data,cs.none());{const n=s.data,r=vi.empty();let l=new _n(Ln.comparator);for(let h of t.fields)if(!l.has(h)){let d=n.field(h);d===null&&h.length>1&&(h=h.popLast(),d=n.field(h)),d===null?r.delete(h):r.set(h,d),l=l.add(h)}return new ro(s.key,r,new Ui(l.toArray()),cs.none())}}function GI(s,t,n){s instanceof Fc?(function(l,h,d){const y=l.value.clone(),v=iE(l.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,n):s instanceof ro?(function(l,h,d){if(!Ef(l.precondition,h))return void h.convertToUnknownDocument(d.version);const y=iE(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Rw(l)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,n):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Tc(s,t,n,r){return s instanceof Fc?(function(h,d,y,v){if(!Ef(h.precondition,d))return y;const E=h.value.clone(),x=sE(h.fieldTransforms,v,d);return E.setAll(x),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),null})(s,t,n,r):s instanceof ro?(function(h,d,y,v){if(!Ef(h.precondition,d))return y;const E=sE(h.fieldTransforms,v,d),x=d.data;return x.setAll(Rw(h)),x.setAll(E),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(s,t,n,r):(function(h,d,y){return Ef(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,t,n)}function ZI(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),h=ww(r.transform,l||null);h!=null&&(n===null&&(n=vi.empty()),n.set(r.field,h))}return n||null}function nE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&uu(r,l,((h,d)=>qI(h,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Fc extends rd{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ro extends rd{constructor(t,n,r,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Rw(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function iE(s,t,n){const r=new Map;_e(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const h=s[l],d=h.transform,y=t.data.field(h.field);r.set(h.field,jI(d,y,n[l]))}return r}function sE(s,t,n){const r=new Map;for(const l of s){const h=l.transform,d=n.data.field(l.field);r.set(l.field,BI(h,d,t))}return r}class Tg extends rd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KI extends rd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YI{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&GI(h,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Tc(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Tc(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Ew();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=n.has(l.key)?null:y;const v=xw(d,y);v!==null&&r.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Ht.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),oe())}isEqual(t){return this.batchId===t.batchId&&uu(this.mutations,t.mutations,((n,r)=>nE(n,r)))&&uu(this.baseMutations,t.baseMutations,((n,r)=>nE(n,r)))}}class wg{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){_e(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return MI})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,r[d].version);return new wg(t,n,r,l)}}class QI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class XI{constructor(t,n){this.count=t,this.unchangedNames=n}}var hn,ce;function WI(s){switch(s){case ft.OK:return Bt(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return Bt(15467,{code:s})}}function Cw(s){if(s===void 0)return Yr("GRPC error has no .code"),ft.UNKNOWN;switch(s){case hn.OK:return ft.OK;case hn.CANCELLED:return ft.CANCELLED;case hn.UNKNOWN:return ft.UNKNOWN;case hn.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case hn.INTERNAL:return ft.INTERNAL;case hn.UNAVAILABLE:return ft.UNAVAILABLE;case hn.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case hn.NOT_FOUND:return ft.NOT_FOUND;case hn.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case hn.ABORTED:return ft.ABORTED;case hn.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case hn.DATA_LOSS:return ft.DATA_LOSS;default:return Bt(39323,{code:s})}}(ce=hn||(hn={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";function $I(){return new TextEncoder}const JI=new Ya([4294967295,4294967295],0);function rE(s){const t=$I().encode(s),n=new FT;return n.update(t),new Uint8Array(n.digest())}function aE(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Ya([n,r],0),new Ya([l,h],0)]}class bg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(r<0)throw new mc(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ya.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(Ya.fromNumber(r)));return l.compare(JI)===1&&(l=new Ya([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=rE(t),[r,l]=aE(n);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);if(!this.we(d))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new bg(h,l,n);return r.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const n=rE(t),[r,l]=aE(n);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);this.Se(d)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ad{constructor(t,n,r,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,Gc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new ad(Ht.min(),l,new He(ae),Qr(),oe())}}class Gc{constructor(t,n,r,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Gc(r,n,oe(),oe(),oe())}}class Tf{constructor(t,n,r,l){this.be=t,this.removedTargetIds=n,this.key=r,this.De=l}}class Iw{constructor(t,n){this.targetId=t,this.Ce=n}}class Nw{constructor(t,n,r=Dn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class oE{constructor(){this.ve=0,this.Fe=lE(),this.Me=Dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=oe(),n=oe(),r=oe();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Bt(38017,{changeType:h})}})),new Gc(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=lE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class t2{constructor(t){this.Ge=t,this.ze=new Map,this.je=Qr(),this.Je=cf(),this.He=cf(),this.Ye=new He(ae)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Bt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(Vp(h))if(r===0){const d=new Dt(h.path);this.et(n,d,qn.newNoDocument(d,Ht.min()))}else _e(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const y=this.ut(t),v=y?this.ct(y,t,d):1;if(v!==0){this.it(n);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,E)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:h=0}=n;let d,y;try{d=Ja(r).toUint8Array()}catch(v){if(v instanceof ew)return xc("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new bg(d,l,h)}catch(v){return xc(v instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(y)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Vp(y.target)){const v=new Dt(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,qn.newNoDocument(v,t))}h.Be&&(n.set(d,h.ke()),h.qe())}}));let r=oe();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const E=this.ot(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new ad(t,n,this.Ye,this.je,r);return this.je=Qr(),this.Je=cf(),this.He=cf(),this.Ye=new He(ae),l}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new oE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new _n(ae),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new _n(ae),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||xt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new oE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function cf(){return new He(Dt.comparator)}function lE(){return new He(Dt.comparator)}const e2={asc:"ASCENDING",desc:"DESCENDING"},n2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i2={and:"AND",or:"OR"};class s2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Bp(s,t){return s.useProto3Json||td(t)?t:{value:t}}function kf(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ow(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function r2(s,t){return kf(s,t.toTimestamp())}function or(s){return _e(!!s,49232),Ht.fromTimestamp((function(n){const r=$a(n);return new Me(r.seconds,r.nanos)})(s))}function Ag(s,t){return jp(s,t).canonicalString()}function jp(s,t){const n=(function(l){return new Ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function Pw(s){const t=Ne.fromString(s);return _e(Vw(t),10190,{key:t.toString()}),t}function Hp(s,t){return Ag(s.databaseId,t.path)}function _p(s,t){const n=Pw(t);if(n.get(1)!==s.databaseId.projectId)throw new At(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new At(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Dt(Dw(n))}function Lw(s,t){return Ag(s.databaseId,t)}function a2(s){const t=Pw(s);return t.length===4?Ne.emptyPath():Dw(t)}function qp(s){return new Ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Dw(s){return _e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function uE(s,t,n){return{name:Hp(s,t),fields:n.value.mapValue.fields}}function o2(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:Bt(39313,{state:E})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(E,x){return E.useProto3Json?(_e(x===void 0||typeof x=="string",58123),Dn.fromBase64String(x||"")):(_e(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Dn.fromUint8Array(x||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(E){const x=E.code===void 0?ft.UNKNOWN:Cw(E.code);return new At(x,E.message||"")})(d);n=new Nw(r,l,h,y||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=_p(s,r.document.name),h=or(r.document.updateTime),d=r.document.createTime?or(r.document.createTime):Ht.min(),y=new vi({mapValue:{fields:r.document.fields}}),v=qn.newFoundDocument(l,h,d,y),E=r.targetIds||[],x=r.removedTargetIds||[];n=new Tf(E,x,v.key,v)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=_p(s,r.document),h=r.readTime?or(r.readTime):Ht.min(),d=qn.newNoDocument(l,h),y=r.removedTargetIds||[];n=new Tf([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=_p(s,r.document),h=r.removedTargetIds||[];n=new Tf([],h,l,null)}else{if(!("filter"in t))return Bt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:h}=r,d=new XI(l,h),y=r.targetId;n=new Iw(y,d)}}return n}function l2(s,t){let n;if(t instanceof Fc)n={update:uE(s,t.key,t.value)};else if(t instanceof Tg)n={delete:Hp(s,t.key)};else if(t instanceof ro)n={update:uE(s,t.key,t.data),updateMask:_2(t.fieldMask)};else{if(!(t instanceof KI))return Bt(16599,{Vt:t.type});n={verify:Hp(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(h,d){const y=d.transform;if(y instanceof Pc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Lc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Dc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Mf)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Bt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:r2(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Bt(27497)})(s,t.precondition)),n}function u2(s,t){return s&&s.length>0?(_e(t!==void 0,14353),s.map((n=>(function(l,h){let d=l.updateTime?or(l.updateTime):or(h);return d.isEqual(Ht.min())&&(d=or(h)),new FI(d,l.transformResults||[])})(n,t)))):[]}function c2(s,t){return{documents:[Lw(s,t.path)]}}function h2(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Lw(s,l);const h=(function(E){if(E.length!==0)return kw(Os.create(E,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const d=(function(E){if(E.length!==0)return E.map((x=>(function(O){return{field:eu(O.field),direction:m2(O.dir)}})(x)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const y=Bp(s,t.limit);return y!==null&&(n.structuredQuery.limit=y),t.startAt&&(n.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(t.endAt)),{ft:n,parent:l}}function f2(s){let t=a2(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){_e(r===1,65062);const x=n.from[0];x.allDescendants?l=x.collectionId:t=t.child(x.collectionId)}let h=[];n.where&&(h=(function(S){const O=Mw(S);return O instanceof Os&&hw(O)?O.getFilters():[O]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((O=>(function(nt){return new Oc(nu(nt.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(nt.direction))})(O)))})(n.orderBy));let y=null;n.limit&&(y=(function(S){let O;return O=typeof S=="object"?S.value:S,td(O)?null:O})(n.limit));let v=null;n.startAt&&(v=(function(S){const O=!!S.before,F=S.values||[];return new Df(F,O)})(n.startAt));let E=null;return n.endAt&&(E=(function(S){const O=!S.before,F=S.values||[];return new Df(F,O)})(n.endAt)),NI(t,l,d,h,y,"F",v,E)}function d2(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Mw(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nu(n.unaryFilter.field);return fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=nu(n.unaryFilter.field);return fn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=nu(n.unaryFilter.field);return fn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=nu(n.unaryFilter.field);return fn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bt(61313);default:return Bt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return fn.create(nu(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bt(58110);default:return Bt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Os.create(n.compositeFilter.filters.map((r=>Mw(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Bt(1026)}})(n.compositeFilter.op))})(s):Bt(30097,{filter:s})}function m2(s){return e2[s]}function p2(s){return n2[s]}function g2(s){return i2[s]}function eu(s){return{fieldPath:s.canonicalString()}}function nu(s){return Ln.fromServerFormat(s.fieldPath)}function kw(s){return s instanceof fn?(function(n){if(n.op==="=="){if(X0(n.value))return{unaryFilter:{field:eu(n.field),op:"IS_NAN"}};if(Q0(n.value))return{unaryFilter:{field:eu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(X0(n.value))return{unaryFilter:{field:eu(n.field),op:"IS_NOT_NAN"}};if(Q0(n.value))return{unaryFilter:{field:eu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eu(n.field),op:p2(n.op),value:n.value}}})(s):s instanceof Os?(function(n){const r=n.getFilters().map((l=>kw(l)));return r.length===1?r[0]:{compositeFilter:{op:g2(n.op),filters:r}}})(s):Bt(54877,{filter:s})}function _2(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Vw(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Fa{constructor(t,n,r,l,h=Ht.min(),d=Ht.min(),y=Dn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(t){return new Fa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class y2{constructor(t){this.yt=t}}function v2(s){const t=f2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Up(t,t.limit,"L"):t}class E2{constructor(){this.Cn=new T2}addToCollectionParentIndex(t,n){return this.Cn.add(n),pt.resolve()}getCollectionParents(t,n){return pt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return pt.resolve()}deleteFieldIndex(t,n){return pt.resolve()}deleteAllFieldIndexes(t){return pt.resolve()}createTargetIndexes(t,n){return pt.resolve()}getDocumentsMatchingTarget(t,n){return pt.resolve(null)}getIndexType(t,n){return pt.resolve(0)}getFieldIndexes(t,n){return pt.resolve([])}getNextCollectionGroupToUpdate(t){return pt.resolve(null)}getMinOffset(t,n){return pt.resolve(Wa.min())}getMinOffsetFromCollectionGroup(t,n){return pt.resolve(Wa.min())}updateCollectionGroup(t,n,r){return pt.resolve()}updateIndexEntries(t,n){return pt.resolve()}}class T2{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new _n(Ne.comparator),h=!l.has(r);return this.index[n]=l.add(r),h}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new _n(Ne.comparator)).toArray()}}const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zw=41943040;class yi{static withCacheSize(t){return new yi(t,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}yi.DEFAULT_COLLECTION_PERCENTILE=10,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yi.DEFAULT=new yi(zw,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yi.DISABLED=new yi(-1,0,0);class fu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new fu(0)}static cr(){return new fu(-1)}}const hE="LruGarbageCollector",Uw=1048576;function fE([s,t],[n,r]){const l=ae(s,n);return l===0?ae(t,r):l}class w2{constructor(t){this.Ir=t,this.buffer=new _n(fE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class b2{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){xt(hE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_u(n)?xt(hE,"Ignoring IndexedDB error during garbage collection: ",n):await gu(n)}await this.Vr(3e5)}))}}class A2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return pt.resolve(Jf.ce);const r=new w2(n);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(xt("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(cE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,l,h,d,y,v,E;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,y=Date.now(),this.removeTargets(t,r,n)))).next((S=>(h=S,v=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(E=Date.now(),Jl()<=re.DEBUG&&xt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${S} documents in `+(E-v)+`ms
Total Duration: ${E-x}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:S}))))}}function S2(s,t){return new A2(s,t)}class x2{constructor(){this.changes=new ll((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,qn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class R2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class C2{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&Tc(r.mutation,l,Ui.empty(),Me.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,oe()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=oe()){const l=Yo();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((h=>{let d=dc();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const r=Yo();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,oe())))}populateOverlays(t,n,r){const l=[];return r.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,y)=>{n.set(d,y)}))}))}computeViews(t,n,r,l){let h=Qr();const d=Ec(),y=(function(){return Ec()})();return n.forEach(((v,E)=>{const x=r.get(E.key);l.has(E.key)&&(x===void 0||x.mutation instanceof ro)?h=h.insert(E.key,E):x!==void 0?(d.set(E.key,x.mutation.getFieldMask()),Tc(x.mutation,E,x.mutation.getFieldMask(),Me.now())):d.set(E.key,Ui.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((E,x)=>d.set(E,x))),n.forEach(((E,x)=>y.set(E,new R2(x,d.get(E)??null)))),y)))}recalculateAndSaveOverlays(t,n){const r=Ec();let l=new He(((d,y)=>d-y)),h=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const y of d)y.keys().forEach((v=>{const E=n.get(v);if(E===null)return;let x=r.get(v)||Ui.empty();x=y.applyToLocalView(E,x),r.set(v,x);const S=(l.get(y.batchId)||oe()).add(v);l=l.insert(y.batchId,S)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),E=v.key,x=v.value,S=Ew();x.forEach((O=>{if(!h.has(O)){const F=xw(n.get(O),r.get(O));F!==null&&S.set(O,F),h=h.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,E,S))}return pt.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return(function(d){return Dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):pw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-h.size):pt.resolve(Yo());let y=Rc,v=h;return d.next((E=>pt.forEach(E,((x,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),h.get(x)?pt.resolve():this.remoteDocumentCache.getEntry(t,x).next((O=>{v=v.insert(x,O)}))))).next((()=>this.populateOverlays(t,E,h))).next((()=>this.computeViews(t,v,E,oe()))).next((x=>({batchId:y,changes:vw(x)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Dt(n)).next((r=>{let l=dc();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const h=n.collectionGroup;let d=dc();return this.indexManager.getCollectionParents(t,h).next((y=>pt.forEach(y,(v=>{const E=(function(S,O){return new yu(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,E,r,l).next((x=>{x.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,h,l)))).next((d=>{h.forEach(((v,E)=>{const x=E.getKey();d.get(x)===null&&(d=d.insert(x,qn.newInvalidDocument(x)))}));let y=dc();return d.forEach(((v,E)=>{const x=h.get(v);x!==void 0&&Tc(x.mutation,E,Ui.empty(),Me.now()),id(n,E)&&(y=y.insert(v,E))})),y}))}}class I2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return pt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:or(l.createTime)}})(n)),pt.resolve()}getNamedQuery(t,n){return pt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:v2(l.bundledQuery),readTime:or(l.readTime)}})(n)),pt.resolve()}}class N2{constructor(){this.overlays=new He(Dt.comparator),this.qr=new Map}getOverlay(t,n){return pt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Yo();return pt.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&r.set(l,h)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,h)=>{this.St(t,n,h)})),pt.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),pt.resolve()}getOverlaysForCollection(t,n,r){const l=Yo(),h=n.length+1,d=new Dt(n.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,E=v.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===h&&v.largestBatchId>r&&l.set(v.getKey(),v)}return pt.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let h=new He(((E,x)=>E-x));const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>r){let x=h.get(E.largestBatchId);x===null&&(x=Yo(),h=h.insert(E.largestBatchId,x)),x.set(E.getKey(),E)}}const y=Yo(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((E,x)=>y.set(E,x))),!(y.size()>=l)););return pt.resolve(y)}St(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new QI(n,r));let h=this.qr.get(n);h===void 0&&(h=oe(),this.qr.set(n,h)),this.qr.set(n,h.add(r.key))}}class O2{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(t){return pt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,pt.resolve()}}class Sg{constructor(){this.Qr=new _n(xn.$r),this.Ur=new _n(xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new xn(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new xn(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new Dt(new Ne([])),r=new xn(n,t),l=new xn(n,t+1),h=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Dt(new Ne([])),r=new xn(n,t),l=new xn(n,t+1);let h=oe();return this.Ur.forEachInRange([r,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const n=new xn(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class xn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Dt.comparator(t.key,n.key)||ae(t.Yr,n.Yr)}static Kr(t,n){return ae(t.Yr,n.Yr)||Dt.comparator(t.key,n.key)}}class P2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _n(xn.$r)}checkEmpty(t){return pt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new YI(h,n,r,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new xn(y.key,h)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return pt.resolve(d)}lookupMutationBatch(t,n){return pt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.ei(r),h=l<0?0:l;return pt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(this.mutationQueue.length===0?mg:this.tr-1)}getAllMutationBatches(t){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new xn(n,0),l=new xn(n,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,l],(d=>{const y=this.Xr(d.Yr);h.push(y)})),pt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new _n(ae);return n.forEach((l=>{const h=new xn(l,0),d=new xn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),pt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let h=r;Dt.isDocumentKey(h)||(h=h.child(""));const d=new xn(new Dt(h),0);let y=new _n(ae);return this.Zr.forEachWhile((v=>{const E=v.key.path;return!!r.isPrefixOf(E)&&(E.length===l&&(y=y.add(v.Yr)),!0)}),d),pt.resolve(this.ti(y))}ti(t){const n=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return pt.forEach(n.mutations,(l=>{const h=new xn(l.key,n.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new xn(n,0),l=this.Zr.firstAfterOrEqual(r);return pt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,pt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class L2{constructor(t){this.ri=t,this.docs=(function(){return new He(Dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),h=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return pt.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(t,n){let r=Qr();return n.forEach((l=>{const h=this.docs.get(l);r=r.insert(l,h?h.document.mutableCopy():qn.newInvalidDocument(l))})),pt.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let h=Qr();const d=n.path,y=new Dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:E,value:{document:x}}=v.getNext();if(!d.isPrefixOf(E.path))break;E.path.length>d.length+1||lI(oI(x),r)<=0||(l.has(x.key)||id(n,x))&&(h=h.insert(x.key,x.mutableCopy()))}return pt.resolve(h)}getAllFromCollectionGroup(t,n,r,l){Bt(9500)}ii(t,n){return pt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new D2(this)}getSize(t){return pt.resolve(this.size)}}class D2 extends x2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),pt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class M2{constructor(t){this.persistence=t,this.si=new ll((n=>_g(n)),yg),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.oi=0,this._i=new Sg,this.targetCount=0,this.ai=fu.ur()}forEachTarget(t,n){return this.si.forEach(((r,l)=>n(l))),pt.resolve()}getLastRemoteSnapshotVersion(t){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),pt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new fu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,pt.resolve()}updateTargetData(t,n){return this.Pr(n),pt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,pt.resolve()}removeTargets(t,n,r){let l=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=n&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),pt.waitFor(h).next((()=>l))}getTargetCount(t){return pt.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return pt.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),pt.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),pt.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),pt.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return pt.resolve(r)}containsKey(t,n){return pt.resolve(this._i.containsKey(n))}}class Bw{constructor(t,n){this.ui={},this.overlays={},this.ci=new Jf(0),this.li=!1,this.li=!0,this.hi=new O2,this.referenceDelegate=t(this),this.Pi=new M2(this),this.indexManager=new E2,this.remoteDocumentCache=(function(l){return new L2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new y2(n),this.Ii=new I2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new N2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new P2(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){xt("MemoryPersistence","Starting transaction:",t);const l=new k2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,n){return pt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class k2 extends cI{constructor(t){super(),this.currentSequenceNumber=t}}class xg{constructor(t){this.persistence=t,this.Ri=new Sg,this.Vi=null}static mi(t){return new xg(t)}get fi(){if(this.Vi)return this.Vi;throw Bt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),pt.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),pt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),pt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.fi,(r=>{const l=Dt.fromPath(r);return this.gi(t,l).next((h=>{h||n.removeEntry(l,Ht.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return pt.or([()=>pt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Vf{constructor(t,n){this.persistence=t,this.pi=new ll((r=>dI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=S2(this,n)}static mi(t,n){return new Vf(t,n)}Ei(){}di(t){return pt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return pt.forEach(this.pi,((r,l)=>this.br(t,r,l).next((h=>h?pt.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((y=>{y||(r++,h.removeEntry(d,Ht.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),pt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),pt.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),pt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),pt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=yf(t.data.value)),n}br(t,n,r){return pt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return pt.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Rg{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=l}static As(t,n){let r=oe(),l=oe();for(const h of n.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Rg(t,n.fromCache,r,l)}}class V2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class z2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IR()?8:hI(Fn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const h={result:null};return this.ys(t,n).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,n,l,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new V2;return this.Ss(t,n,d).next((y=>{if(h.result=y,this.Vs)return this.bs(t,n,d,y.size)}))})).next((()=>h.result))}bs(t,n,r,l){return r.documentReadCount<this.fs?(Jl()<=re.DEBUG&&xt("QueryEngine","SDK will not create cache indexes for query:",tu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pt.resolve()):(Jl()<=re.DEBUG&&xt("QueryEngine","Query:",tu(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Jl()<=re.DEBUG&&xt("QueryEngine","The SDK decides to create cache indexes for query:",tu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ar(n))):pt.resolve())}ys(t,n){if(tE(n))return pt.resolve(null);let r=ar(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Up(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const d=oe(...h);return this.ps.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,r).next((v=>{const E=this.Ds(n,y);return this.Cs(n,E,d,v.readTime)?this.ys(t,Up(n,null,"F")):this.vs(t,E,n,v)}))))})))))}ws(t,n,r,l){return tE(n)||l.isEqual(Ht.min())?pt.resolve(null):this.ps.getDocuments(t,r).next((h=>{const d=this.Ds(n,h);return this.Cs(n,d,r,l)?pt.resolve(null):(Jl()<=re.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),tu(n)),this.vs(t,d,n,aI(l,Rc)).next((y=>y)))}))}Ds(t,n){let r=new _n(_w(t));return n.forEach(((l,h)=>{id(t,h)&&(r=r.add(h))})),r}Cs(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,n,r){return Jl()<=re.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",tu(n)),this.ps.getDocumentsMatchingQuery(t,n,Wa.min(),r)}vs(t,n,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((h=>(n.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Cg="LocalStore",U2=3e8;class B2{constructor(t,n,r,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new He(ae),this.xs=new ll((h=>_g(h)),yg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new C2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function j2(s,t,n,r){return new B2(s,t,n,r)}async function jw(s,t){const n=Gt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((h=>(l=h,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let v=oe();for(const E of l){d.push(E.batchId);for(const x of E.mutations)v=v.add(x.key)}for(const E of h){y.push(E.batchId);for(const x of E.mutations)v=v.add(x.key)}return n.localDocuments.getDocuments(r,v).next((E=>({Ls:E,removedBatchIds:d,addedBatchIds:y})))}))}))}function H2(s,t){const n=Gt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),h=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,E,x){const S=E.batch,O=S.keys();let F=pt.resolve();return O.forEach((nt=>{F=F.next((()=>x.getEntry(v,nt))).next((Q=>{const B=E.docVersions.get(nt);_e(B!==null,48541),Q.version.compareTo(B)<0&&(S.applyToRemoteDocument(Q,E),Q.isValidDocument()&&(Q.setReadTime(E.commitVersion),x.addEntry(Q)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(v,S)))})(n,r,t,h).next((()=>h.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=oe();for(let E=0;E<y.mutationResults.length;++E)y.mutationResults[E].transformResults.length>0&&(v=v.add(y.batch.mutations[E].key));return v})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function Hw(s){const t=Gt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function q2(s,t){const n=Gt(s),r=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const y=[];t.targetChanges.forEach(((x,S)=>{const O=l.get(S);if(!O)return;y.push(n.Pi.removeMatchingKeys(h,x.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(h,x.addedDocuments,S))));let F=O.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Dn.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):x.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(x.resumeToken,r)),l=l.insert(S,F),(function(Q,B,lt){return Q.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=U2?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(O,F,x)&&y.push(n.Pi.updateTargetData(h,F))}));let v=Qr(),E=oe();if(t.documentUpdates.forEach((x=>{t.resolvedLimboDocuments.has(x)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(h,x))})),y.push(F2(h,d,t.documentUpdates).next((x=>{v=x.ks,E=x.qs}))),!r.isEqual(Ht.min())){const x=n.Pi.getLastRemoteSnapshotVersion(h).next((S=>n.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(x)}return pt.waitFor(y).next((()=>d.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,v,E))).next((()=>v))})).then((h=>(n.Ms=l,h)))}function F2(s,t,n){let r=oe(),l=oe();return n.forEach((h=>r=r.add(h))),t.getEntries(s,r).next((h=>{let d=Qr();return n.forEach(((y,v)=>{const E=h.get(y);v.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(y)),v.isNoDocument()&&v.version.isEqual(Ht.min())?(t.removeEntry(y,v.readTime),d=d.insert(y,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(v),d=d.insert(y,v)):xt(Cg,"Ignoring outdated watch update for ",y,". Current version:",E.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function G2(s,t){const n=Gt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=mg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function Z2(s,t){const n=Gt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,t).next((h=>h?(l=h,pt.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new Fa(t,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Fp(s,t,n){const r=Gt(s),l=r.Ms.get(t),h=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_u(d))throw d;xt(Cg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function dE(s,t,n){const r=Gt(s);let l=Ht.min(),h=oe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,E,x){const S=Gt(v),O=S.xs.get(x);return O!==void 0?pt.resolve(S.Ms.get(O)):S.Pi.getTargetData(E,x)})(r,d,ar(t)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,n?l:Ht.min(),n?h:oe()))).next((y=>(K2(r,PI(t),y),{documents:y,Qs:h})))))}function K2(s,t,n){let r=s.Os.get(t)||Ht.min();n.forEach(((l,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(t,r)}class mE{constructor(){this.activeTargetIds=zI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Y2{constructor(){this.Mo=new mE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new mE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Q2{Oo(t){}shutdown(){}}const pE="ConnectivityMonitor";class gE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xt(pE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){xt(pE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hf=null;function Gp(){return hf===null?hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():hf++,"0x"+hf.toString(16)}const yp="RestConnection",X2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Pf?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,n,r,l,h){const d=Gp(),y=this.zo(t,n.toUriEncodedString());xt(yp,`Sending RPC '${t}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,h);const{host:E}=new URL(y),x=io(E);return this.Jo(t,y,v,r,x).then((S=>(xt(yp,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw xc(yp,`RPC '${t}' ${d} failed with error: `,S,"url: ",y,"request:",r),S}))}Ho(t,n,r,l,h,d){return this.Go(t,n,r,l,h)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),r&&r.headers.forEach(((l,h)=>t[h]=l))}zo(t,n){const r=X2[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class $2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Hn="WebChannelConnection";class J2 extends W2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,l,h){const d=Gp();return new Promise(((y,v)=>{const E=new GT;E.setWithCredentials(!0),E.listenOnce(ZT.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case _f.NO_ERROR:const S=E.getResponseJson();xt(Hn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),y(S);break;case _f.TIMEOUT:xt(Hn,`RPC '${t}' ${d} timed out`),v(new At(ft.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const O=E.getStatus();if(xt(Hn,`RPC '${t}' ${d} failed with status:`,O,"response text:",E.getResponseText()),O>0){let F=E.getResponseJson();Array.isArray(F)&&(F=F[0]);const nt=F?.error;if(nt&&nt.status&&nt.message){const Q=(function(lt){const at=lt.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(at)>=0?at:ft.UNKNOWN})(nt.status);v(new At(Q,nt.message))}else v(new At(ft.UNKNOWN,"Server responded with status "+E.getStatus()))}else v(new At(ft.UNAVAILABLE,"Connection failed."));break;default:Bt(9055,{l_:t,streamId:d,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{xt(Hn,`RPC '${t}' ${d} completed.`)}}));const x=JSON.stringify(l);xt(Hn,`RPC '${t}' ${d} sending request:`,l),E.send(n,"POST",x,r,15)}))}T_(t,n,r){const l=Gp(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=QT(),y=YT(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,n,r),v.encodeInitMessageHeaders=!0;const x=h.join("");xt(Hn,`Creating RPC '${t}' stream ${l}: ${x}`,v);const S=d.createWebChannel(x,v);this.I_(S);let O=!1,F=!1;const nt=new $2({Yo:B=>{F?xt(Hn,`Not sending because RPC '${t}' stream ${l} is closed:`,B):(O||(xt(Hn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),O=!0),xt(Hn,`RPC '${t}' stream ${l} sending:`,B),S.send(B))},Zo:()=>S.close()}),Q=(B,lt,at)=>{B.listen(lt,(ht=>{try{at(ht)}catch(It){setTimeout((()=>{throw It}),0)}}))};return Q(S,fc.EventType.OPEN,(()=>{F||(xt(Hn,`RPC '${t}' stream ${l} transport opened.`),nt.o_())})),Q(S,fc.EventType.CLOSE,(()=>{F||(F=!0,xt(Hn,`RPC '${t}' stream ${l} transport closed`),nt.a_(),this.E_(S))})),Q(S,fc.EventType.ERROR,(B=>{F||(F=!0,xc(Hn,`RPC '${t}' stream ${l} transport errored. Name:`,B.name,"Message:",B.message),nt.a_(new At(ft.UNAVAILABLE,"The operation could not be completed")))})),Q(S,fc.EventType.MESSAGE,(B=>{if(!F){const lt=B.data[0];_e(!!lt,16349);const at=lt,ht=at?.error||at[0]?.error;if(ht){xt(Hn,`RPC '${t}' stream ${l} received error:`,ht);const It=ht.status;let Nt=(function(P){const D=hn[P];if(D!==void 0)return Cw(D)})(It),Mt=ht.message;Nt===void 0&&(Nt=ft.INTERNAL,Mt="Unknown error status: "+It+" with message "+ht.message),F=!0,nt.a_(new At(Nt,Mt)),S.close()}else xt(Hn,`RPC '${t}' stream ${l} received:`,lt),nt.u_(lt)}})),Q(y,KT.STAT_EVENT,(B=>{B.stat===Pp.PROXY?xt(Hn,`RPC '${t}' stream ${l} detected buffering proxy`):B.stat===Pp.NOPROXY&&xt(Hn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{nt.__()}),0),nt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function vp(){return typeof document<"u"?document:null}function od(s){return new s2(s,!0)}class qw{constructor(t,n,r=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&xt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _E="PersistentStream";class Fw{constructor(t,n,r,l,h,d,y,v){this.Mi=t,this.S_=r,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ft.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new At(ft.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return xt(_E,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(xt(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tN extends Fw{constructor(t,n,r,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=o2(this.serializer,t),r=(function(h){if(!("targetChange"in h))return Ht.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Ht.min():d.readTime?or(d.readTime):Ht.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=qp(this.serializer),n.addTarget=(function(h,d){let y;const v=d.target;if(y=Vp(v)?{documents:c2(h,v)}:{query:h2(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Ow(h,d.resumeToken);const E=Bp(h,d.expectedCount);E!==null&&(y.expectedCount=E)}else if(d.snapshotVersion.compareTo(Ht.min())>0){y.readTime=kf(h,d.snapshotVersion.toTimestamp());const E=Bp(h,d.expectedCount);E!==null&&(y.expectedCount=E)}return y})(this.serializer,t);const r=d2(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=qp(this.serializer),n.removeTarget=t,this.q_(n)}}class eN extends Fw{constructor(t,n,r,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return _e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=u2(t.writeResults,t.commitTime),r=or(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=qp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>l2(this.serializer,r)))};this.q_(n)}}class nN{}class iN extends nN{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new At(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,jp(n,r),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new At(ft.UNKNOWN,h.toString())}))}Ho(t,n,r,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(t,jp(n,r),l,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new At(ft.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(n),this.aa=!1):xt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const el="RemoteStore";class rN{constructor(t,n,r,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ul(this)&&(xt(el,"Restarting streams for network reachability change."),await(async function(v){const E=Gt(v);E.Ea.add(4),await Zc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await ld(E)})(this))}))})),this.Ra=new sN(r,l)}}async function ld(s){if(ul(s))for(const t of s.da)await t(!0)}async function Zc(s){for(const t of s.da)await t(!1)}function Gw(s,t){const n=Gt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Pg(n)?Og(n):vu(n).O_()&&Ng(n,t))}function Ig(s,t){const n=Gt(s),r=vu(n);n.Ia.delete(t),r.O_()&&Zw(n,t),n.Ia.size===0&&(r.O_()?r.L_():ul(n)&&n.Ra.set("Unknown"))}function Ng(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ht.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vu(s).Y_(t)}function Zw(s,t){s.Va.Ue(t),vu(s).Z_(t)}function Og(s){s.Va=new t2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),vu(s).start(),s.Ra.ua()}function Pg(s){return ul(s)&&!vu(s).x_()&&s.Ia.size>0}function ul(s){return Gt(s).Ea.size===0}function Kw(s){s.Va=void 0}async function aN(s){s.Ra.set("Online")}async function oN(s){s.Ia.forEach(((t,n)=>{Ng(s,t)}))}async function lN(s,t){Kw(s),Pg(s)?(s.Ra.ha(t),Og(s)):s.Ra.set("Unknown")}async function uN(s,t,n){if(s.Ra.set("Online"),t instanceof Nw&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const y of h.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(s,t)}catch(r){xt(el,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await zf(s,r)}else if(t instanceof Tf?s.Va.Ze(t):t instanceof Iw?s.Va.st(t):s.Va.tt(t),!n.isEqual(Ht.min()))try{const r=await Hw(s.localStore);n.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const x=h.Ia.get(E);x&&h.Ia.set(E,x.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,E)=>{const x=h.Ia.get(v);if(!x)return;h.Ia.set(v,x.withResumeToken(Dn.EMPTY_BYTE_STRING,x.snapshotVersion)),Zw(h,v);const S=new Fa(x.target,v,E,x.sequenceNumber);Ng(h,S)})),h.remoteSyncer.applyRemoteEvent(y)})(s,n)}catch(r){xt(el,"Failed to raise snapshot:",r),await zf(s,r)}}async function zf(s,t,n){if(!_u(t))throw t;s.Ea.add(1),await Zc(s),s.Ra.set("Offline"),n||(n=()=>Hw(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{xt(el,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await ld(s)}))}function Yw(s,t){return t().catch((n=>zf(s,n,t)))}async function ud(s){const t=Gt(s),n=eo(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:mg;for(;cN(t);)try{const l=await G2(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,hN(t,l)}catch(l){await zf(t,l)}Qw(t)&&Xw(t)}function cN(s){return ul(s)&&s.Ta.length<10}function hN(s,t){s.Ta.push(t);const n=eo(s);n.O_()&&n.X_&&n.ea(t.mutations)}function Qw(s){return ul(s)&&!eo(s).x_()&&s.Ta.length>0}function Xw(s){eo(s).start()}async function fN(s){eo(s).ra()}async function dN(s){const t=eo(s);for(const n of s.Ta)t.ea(n.mutations)}async function mN(s,t,n){const r=s.Ta.shift(),l=wg.from(r,t,n);await Yw(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await ud(s)}async function pN(s,t){t&&eo(s).X_&&await(async function(r,l){if((function(d){return WI(d)&&d!==ft.ABORTED})(l.code)){const h=r.Ta.shift();eo(r).B_(),await Yw(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,l))),await ud(r)}})(s,t),Qw(s)&&Xw(s)}async function yE(s,t){const n=Gt(s);n.asyncQueue.verifyOperationInProgress(),xt(el,"RemoteStore received new credentials");const r=ul(n);n.Ea.add(3),await Zc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ld(n)}async function gN(s,t){const n=Gt(s);t?(n.Ea.delete(2),await ld(n)):t||(n.Ea.add(2),await Zc(n),n.Ra.set("Unknown"))}function vu(s){return s.ma||(s.ma=(function(n,r,l){const h=Gt(n);return h.sa(),new tN(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:aN.bind(null,s),t_:oN.bind(null,s),r_:lN.bind(null,s),H_:uN.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Pg(s)?Og(s):s.Ra.set("Unknown")):(await s.ma.stop(),Kw(s))}))),s.ma}function eo(s){return s.fa||(s.fa=(function(n,r,l){const h=Gt(n);return h.sa(),new eN(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:fN.bind(null,s),r_:pN.bind(null,s),ta:dN.bind(null,s),na:mN.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await ud(s)):(await s.fa.stop(),s.Ta.length>0&&(xt(el,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Lg{constructor(t,n,r,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=h,this.deferred=new Qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,h){const d=Date.now()+r,y=new Lg(t,n,d,l,h);return y.start(r),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dg(s,t){if(Yr("AsyncQueue",`${t}: ${s}`),_u(s))return new At(ft.UNAVAILABLE,`${t}: ${s}`);throw s}class su{static emptySet(t){return new su(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Dt.comparator(n.key,r.key):(n,r)=>Dt.comparator(n.key,r.key),this.keyedMap=dc(),this.sortedSet=new He(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof su)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=r.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new su;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class vE{constructor(){this.ga=new He(Dt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Bt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class du{constructor(t,n,r,l,h,d,y,v,E){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(t,n,r,l,h){const d=[];return n.forEach((y=>{d.push({type:0,doc:y})})),new du(t,n,su.emptySet(n),d,r,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class _N{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class yN{constructor(){this.queries=EE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Gt(n),h=l.queries;l.queries=EE(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new At(ft.ABORTED,"Firestore shutting down"))}}function EE(){return new ll((s=>gw(s)),nd)}async function vN(s,t){const n=Gt(s);let r=3;const l=t.query;let h=n.queries.get(l);h?!h.ba()&&t.Da()&&(r=2):(h=new _N,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const y=Dg(d,`Initialization of query '${tu(t.query)}' failed`);return void t.onError(y)}n.queries.set(l,h),h.Sa.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&Mg(n)}async function EN(s,t){const n=Gt(s),r=t.query;let l=3;const h=n.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TN(s,t){const n=Gt(s);let r=!1;for(const l of t){const h=l.query,d=n.queries.get(h);if(d){for(const y of d.Sa)y.Fa(l)&&(r=!0);d.wa=l}}r&&Mg(n)}function wN(s,t,n){const r=Gt(s),l=r.queries.get(t);if(l)for(const h of l.Sa)h.onError(n);r.queries.delete(t)}function Mg(s){s.Ca.forEach((t=>{t.next()}))}var Zp,TE;(TE=Zp||(Zp={})).Ma="default",TE.Cache="cache";class bN{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new du(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=du.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Zp.Cache}}class Ww{constructor(t){this.key=t}}class $w{constructor(t){this.key=t}}class AN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=oe(),this.mutatedKeys=oe(),this.eu=_w(t),this.tu=new su(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new vE,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,d=l,y=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((x,S)=>{const O=l.get(x),F=id(this.query,S)?S:null,nt=!!O&&this.mutatedKeys.has(O.key),Q=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let B=!1;O&&F?O.data.isEqual(F.data)?nt!==Q&&(r.track({type:3,doc:F}),B=!0):this.su(O,F)||(r.track({type:2,doc:F}),B=!0,(v&&this.eu(F,v)>0||E&&this.eu(F,E)<0)&&(y=!0)):!O&&F?(r.track({type:0,doc:F}),B=!0):O&&!F&&(r.track({type:1,doc:O}),B=!0,(v||E)&&(y=!0)),B&&(F?(d=d.add(F),h=Q?h.add(x):h.delete(x)):(d=d.delete(x),h=h.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),h=h.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((x,S)=>(function(F,nt){const Q=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt(20277,{Rt:B})}};return Q(F)-Q(nt)})(x.type,S.type)||this.eu(x.doc,S.doc))),this.ou(r),l=l??!1;const y=n&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,E=v!==this.Za;return this.Za=v,d.length!==0||E?{snapshot:new du(this.query,t.tu,h,d,t.mutatedKeys,v===0,E,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=oe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new $w(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new Ww(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=oe();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return du.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kg="SyncEngine";class SN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class xN{constructor(t){this.key=t,this.hu=!1}}class RN{constructor(t,n,r,l,h,d){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ll((y=>gw(y)),nd),this.Iu=new Map,this.Eu=new Set,this.du=new He(Dt.comparator),this.Au=new Map,this.Ru=new Sg,this.Vu={},this.mu=new Map,this.fu=fu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CN(s,t,n=!0){const r=sb(s);let l;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await Jw(r,t,n,!0),l}async function IN(s,t){const n=sb(s);await Jw(n,t,!0,!1)}async function Jw(s,t,n,r){const l=await Z2(s.localStore,ar(t)),h=l.targetId,d=s.sharedClientState.addLocalQueryTarget(h,n);let y;return r&&(y=await NN(s,t,h,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&Gw(s.remoteStore,l),y}async function NN(s,t,n,r,l){s.pu=(S,O,F)=>(async function(Q,B,lt,at){let ht=B.view.ru(lt);ht.Cs&&(ht=await dE(Q.localStore,B.query,!1).then((({documents:V})=>B.view.ru(V,ht))));const It=at&&at.targetChanges.get(B.targetId),Nt=at&&at.targetMismatches.get(B.targetId)!=null,Mt=B.view.applyChanges(ht,Q.isPrimaryClient,It,Nt);return bE(Q,B.targetId,Mt.au),Mt.snapshot})(s,S,O,F);const h=await dE(s.localStore,t,!0),d=new AN(t,h.Qs),y=d.ru(h.documents),v=Gc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),E=d.applyChanges(y,s.isPrimaryClient,v);bE(s,n,E.au);const x=new SN(t,n,d);return s.Tu.set(t,x),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),E.snapshot}async function ON(s,t,n){const r=Gt(s),l=r.Tu.get(t),h=r.Iu.get(l.targetId);if(h.length>1)return r.Iu.set(l.targetId,h.filter((d=>!nd(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Fp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Ig(r.remoteStore,l.targetId),Kp(r,l.targetId)})).catch(gu)):(Kp(r,l.targetId),await Fp(r.localStore,l.targetId,!0))}async function PN(s,t){const n=Gt(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ig(n.remoteStore,r.targetId))}async function LN(s,t,n){const r=BN(s);try{const l=await(function(d,y){const v=Gt(d),E=Me.now(),x=y.reduce(((F,nt)=>F.add(nt.key)),oe());let S,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let nt=Qr(),Q=oe();return v.Ns.getEntries(F,x).next((B=>{nt=B,nt.forEach(((lt,at)=>{at.isValidDocument()||(Q=Q.add(lt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,nt))).next((B=>{S=B;const lt=[];for(const at of y){const ht=ZI(at,S.get(at.key).overlayedDocument);ht!=null&&lt.push(new ro(at.key,ht,lw(ht.value.mapValue),cs.exists(!0)))}return v.mutationQueue.addMutationBatch(F,E,lt,y)})).next((B=>{O=B;const lt=B.applyToLocalDocumentSet(S,Q);return v.documentOverlayCache.saveOverlays(F,B.batchId,lt)}))})).then((()=>({batchId:O.batchId,changes:vw(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,y,v){let E=d.Vu[d.currentUser.toKey()];E||(E=new He(ae)),E=E.insert(y,v),d.Vu[d.currentUser.toKey()]=E})(r,l.batchId,n),await Kc(r,l.changes),await ud(r.remoteStore)}catch(l){const h=Dg(l,"Failed to persist write");n.reject(h)}}async function tb(s,t){const n=Gt(s);try{const r=await q2(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=n.Au.get(h);d&&(_e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?_e(d.hu,14607):l.removedDocuments.size>0&&(_e(d.hu,42227),d.hu=!1))})),await Kc(n,r,t)}catch(r){await gu(r)}}function wE(s,t,n){const r=Gt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const v=Gt(d);v.onlineState=y;let E=!1;v.queries.forEach(((x,S)=>{for(const O of S.Sa)O.va(y)&&(E=!0)})),E&&Mg(v)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function DN(s,t,n){const r=Gt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),h=l&&l.key;if(h){let d=new He(Dt.comparator);d=d.insert(h,qn.newNoDocument(h,Ht.min()));const y=oe().add(h),v=new ad(Ht.min(),new Map,new He(ae),d,y);await tb(r,v),r.du=r.du.remove(h),r.Au.delete(t),Vg(r)}else await Fp(r.localStore,t,!1).then((()=>Kp(r,t,n))).catch(gu)}async function MN(s,t){const n=Gt(s),r=t.batch.batchId;try{const l=await H2(n.localStore,t);nb(n,r,null),eb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kc(n,l)}catch(l){await gu(l)}}async function kN(s,t,n){const r=Gt(s);try{const l=await(function(d,y){const v=Gt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let x;return v.mutationQueue.lookupMutationBatch(E,y).next((S=>(_e(S!==null,37113),x=S.keys(),v.mutationQueue.removeMutationBatch(E,S)))).next((()=>v.mutationQueue.performConsistencyCheck(E))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(E,x,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,x))).next((()=>v.localDocuments.getDocuments(E,x)))}))})(r.localStore,t);nb(r,t,n),eb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Kc(r,l)}catch(l){await gu(l)}}function eb(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function nb(s,t,n){const r=Gt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Kp(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||ib(s,r)}))}function ib(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(Ig(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),Vg(s))}function bE(s,t,n){for(const r of n)r instanceof Ww?(s.Ru.addReference(r.key,t),VN(s,r)):r instanceof $w?(xt(kg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||ib(s,r.key)):Bt(19791,{wu:r})}function VN(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(xt(kg,"New document in limbo: "+n),s.Eu.add(r),Vg(s))}function Vg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new Dt(Ne.fromString(t)),r=s.fu.next();s.Au.set(r,new xN(n)),s.du=s.du.insert(n,r),Gw(s.remoteStore,new Fa(ar(vg(n.path)),r,"TargetPurposeLimboResolution",Jf.ce))}}async function Kc(s,t,n){const r=Gt(s),l=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,t,n).then((E=>{if((E||n)&&r.isPrimaryClient){const x=E?!E.fromCache:n?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(E){l.push(E);const x=Rg.As(v.targetId,E);h.push(x)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(v,E){const x=Gt(v);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>pt.forEach(E,(O=>pt.forEach(O.Es,(F=>x.persistence.referenceDelegate.addReference(S,O.targetId,F))).next((()=>pt.forEach(O.ds,(F=>x.persistence.referenceDelegate.removeReference(S,O.targetId,F)))))))))}catch(S){if(!_u(S))throw S;xt(Cg,"Failed to update sequence numbers: "+S)}for(const S of E){const O=S.targetId;if(!S.fromCache){const F=x.Ms.get(O),nt=F.snapshotVersion,Q=F.withLastLimboFreeSnapshotVersion(nt);x.Ms=x.Ms.insert(O,Q)}}})(r.localStore,h))}async function zN(s,t){const n=Gt(s);if(!n.currentUser.isEqual(t)){xt(kg,"User change. New user:",t.toKey());const r=await jw(n.localStore,t);n.currentUser=t,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new At(ft.CANCELLED,d))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Kc(n,r.Ls)}}function UN(s,t){const n=Gt(s),r=n.Au.get(t);if(r&&r.hu)return oe().add(r.key);{let l=oe();const h=n.Iu.get(t);if(!h)return l;for(const d of h){const y=n.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function sb(s){const t=Gt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=tb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DN.bind(null,t),t.Pu.H_=TN.bind(null,t.eventManager),t.Pu.yu=wN.bind(null,t.eventManager),t}function BN(s){const t=Gt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kN.bind(null,t),t}class Uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=od(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return j2(this.persistence,new z2,t.initialUser,this.serializer)}Cu(t){return new Bw(xg.mi,this.serializer)}Du(t){return new Y2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uf.provider={build:()=>new Uf};class jN extends Uf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){_e(this.persistence.referenceDelegate instanceof Vf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new b2(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?yi.withCacheSize(this.cacheSizeBytes):yi.DEFAULT;return new Bw((r=>Vf.mi(r,n)),this.serializer)}}class Yp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zN.bind(null,this.syncEngine),await gN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yN})()}createDatastore(t){const n=od(t.databaseInfo.databaseId),r=(function(h){return new J2(h)})(t.databaseInfo);return(function(h,d,y,v){return new iN(h,d,y,v)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,h,d,y){return new rN(r,l,h,d,y)})(this.localStore,this.datastore,t.asyncQueue,(n=>wE(this.syncEngine,n,0)),(function(){return gE.v()?new gE:new Q2})())}createSyncEngine(t,n){return(function(l,h,d,y,v,E,x){const S=new RN(l,h,d,y,v,E);return x&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Gt(n);xt(el,"RemoteStore shutting down."),r.Ea.add(5),await Zc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yp.provider={build:()=>new Yp};class HN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Yr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const no="FirestoreClient";class qN{constructor(t,n,r,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=_i.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{xt(no,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(xt(no,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Dg(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Ep(s,t){s.asyncQueue.verifyOperationInProgress(),xt(no,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await jw(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function AE(s,t){s.asyncQueue.verifyOperationInProgress();const n=await FN(s);xt(no,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>yE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>yE(t.remoteStore,l))),s._onlineComponents=t}async function FN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){xt(no,"Using user provided OfflineComponentProvider");try{await Ep(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ft.FAILED_PRECONDITION||l.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;xc("Error using user provided cache. Falling back to memory cache: "+n),await Ep(s,new Uf)}}else xt(no,"Using default OfflineComponentProvider"),await Ep(s,new jN(void 0));return s._offlineComponents}async function rb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(xt(no,"Using user provided OnlineComponentProvider"),await AE(s,s._uninitializedComponentsProvider._online)):(xt(no,"Using default OnlineComponentProvider"),await AE(s,new Yp))),s._onlineComponents}function GN(s){return rb(s).then((t=>t.syncEngine))}async function SE(s){const t=await rb(s),n=t.eventManager;return n.onListen=CN.bind(null,t.syncEngine),n.onUnlisten=ON.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=IN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=PN.bind(null,t.syncEngine),n}function ab(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const xE=new Map;const ZN="firestore.googleapis.com",RE=!0;class CE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new At(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZN,this.ssl=RE}else this.host=t.host,this.ssl=t.ssl??RE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Uw)throw new At(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ab(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new At(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new At(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new At(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zg{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XC;switch(r.type){case"firstParty":return new JC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new At(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=xE.get(n);r&&(xt("ComponentProvider","Removing Datastore"),xE.delete(n),r.terminate())})(this),Promise.resolve()}}class cl{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new cl(this.firestore,t,this._query)}}class sn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new sn(this.firestore,t,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(qc(n,sn._jsonSchema))return new sn(t,r||null,new Dt(Ne.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:dn("string",sn._jsonSchemaVersion),referencePath:dn("string")};class Qa extends cl{constructor(t,n,r){super(t,n,vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new sn(this.firestore,null,new Dt(t))}withConverter(t){return new Qa(this.firestore,t,this._path)}}function Qp(s,t,...n){if(s=Xe(s),WT("collection","path",t),s instanceof zg){const r=Ne.fromString(t,...n);return B0(r),new Qa(s,null,r)}{if(!(s instanceof sn||s instanceof Qa))throw new At(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ne.fromString(t,...n));return B0(r),new Qa(s.firestore,null,r)}}function Ga(s,t,...n){if(s=Xe(s),arguments.length===1&&(t=dg.newId()),WT("doc","path",t),s instanceof zg){const r=Ne.fromString(t,...n);return U0(r),new sn(s,null,new Dt(r))}{if(!(s instanceof sn||s instanceof Qa))throw new At(ft.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ne.fromString(t,...n));return U0(r),new sn(s.firestore,s instanceof Qa?s.converter:null,new Dt(r))}}const IE="AsyncQueue";class NE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qw(this,"async_queue_retry"),this._c=()=>{const r=vp();r&&xt(IE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=vp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=vp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_u(t))throw t;xt(IE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",OE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Lg.createAndSchedule(this,t,n,r,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Bt(47125,{Pc:OE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function OE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function PE(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const h of r)if(h in l&&typeof l[h]=="function")return!0;return!1})(s,["next","error","complete"])}class nl extends zg{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new NE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NE(t),this._firestoreClient=void 0,await t}}}function KN(s,t,n){n||(n=Pf);const r=Wf(s,"firestore");if(r.isInitialized(n)){const l=r.getImmediate({identifier:n}),h=r.getOptions(n);if($o(h,t))return l;throw new At(ft.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new At(ft.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Uw)throw new At(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&io(t.host)&&ug(t.host),r.initialize({options:t,instanceIdentifier:n})}function ob(s){if(s._terminated)throw new At(ft.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||YN(s),s._firestoreClient}function YN(s){const t=s._freezeSettings(),n=(function(l,h,d,y){return new gI(l,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,ab(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new qN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(s._componentsProvider))}class us{constructor(t){this._byteString=t}static fromBase64String(t){try{return new us(Dn.fromBase64String(t))}catch(n){throw new At(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new us(Dn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:us._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qc(t,us._jsonSchema))return us.fromBase64String(t.bytes)}}us._jsonSchemaVersion="firestore/bytes/1.0",us._jsonSchema={type:dn("string",us._jsonSchemaVersion),bytes:dn("string")};class cd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new At(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class hd{constructor(t){this._methodName=t}}class lr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new At(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new At(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ae(this._lat,t._lat)||ae(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:lr._jsonSchemaVersion}}static fromJSON(t){if(qc(t,lr._jsonSchema))return new lr(t.latitude,t.longitude)}}lr._jsonSchemaVersion="firestore/geoPoint/1.0",lr._jsonSchema={type:dn("string",lr._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};class ur{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qc(t,ur._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ur(t.vectorValues);throw new At(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:dn("string",ur._jsonSchemaVersion),vectorValues:dn("object")};const QN=/^__.*__$/;class XN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ro(t,this.data,this.fieldMask,n,this.fieldTransforms):new Fc(t,this.data,n,this.fieldTransforms)}}class lb{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new ro(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ub(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt(40011,{Ac:s})}}class Ug{constructor(t,n,r,l,h,d){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ug({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Bf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ub(this.Ac)&&QN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class WN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||od(t)}Cc(t,n,r,l=!1){return new Ug({Ac:t,methodName:n,Dc:r,path:Ln.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fd(s){const t=s._freezeSettings(),n=od(s._databaseId);return new WN(s._databaseId,!!t.ignoreUndefinedProperties,n)}function cb(s,t,n,r,l,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,t,n,l);jg("Data must be an object, but it was:",d,r);const y=hb(r,d);let v,E;if(h.merge)v=new Ui(d.fieldMask),E=d.fieldTransforms;else if(h.mergeFields){const x=[];for(const S of h.mergeFields){const O=Xp(t,S,n);if(!d.contains(O))throw new At(ft.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);db(x,O)||x.push(O)}v=new Ui(x),E=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,E=d.fieldTransforms;return new XN(new vi(y),v,E)}class dd extends hd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof dd}}class Bg extends hd{_toFieldTransform(t){return new HI(t.path,new Pc)}isEqual(t){return t instanceof Bg}}function $N(s,t,n,r){const l=s.Cc(1,t,n);jg("Data must be an object, but it was:",l,r);const h=[],d=vi.empty();so(r,((v,E)=>{const x=Hg(t,v,n);E=Xe(E);const S=l.yc(x);if(E instanceof dd)h.push(x);else{const O=Yc(E,S);O!=null&&(h.push(x),d.set(x,O))}}));const y=new Ui(h);return new lb(d,y,l.fieldTransforms)}function JN(s,t,n,r,l,h){const d=s.Cc(1,t,n),y=[Xp(t,r,n)],v=[l];if(h.length%2!=0)throw new At(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<h.length;O+=2)y.push(Xp(t,h[O])),v.push(h[O+1]);const E=[],x=vi.empty();for(let O=y.length-1;O>=0;--O)if(!db(E,y[O])){const F=y[O];let nt=v[O];nt=Xe(nt);const Q=d.yc(F);if(nt instanceof dd)E.push(F);else{const B=Yc(nt,Q);B!=null&&(E.push(F),x.set(F,B))}}const S=new Ui(E);return new lb(x,S,d.fieldTransforms)}function tO(s,t,n,r=!1){return Yc(n,s.Cc(r?4:3,t))}function Yc(s,t){if(fb(s=Xe(s)))return jg("Unsupported field value:",t,s),hb(s,t);if(s instanceof hd)return(function(r,l){if(!ub(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const h=[];let d=0;for(const y of r){let v=Yc(y,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,t)}return(function(r,l){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Me.fromDate(r);return{timestampValue:kf(l.serializer,h)}}if(r instanceof Me){const h=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kf(l.serializer,h)}}if(r instanceof lr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof us)return{bytesValue:Ow(l.serializer,r._byteString)};if(r instanceof sn){const h=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ag(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ur)return(function(d,y){return{mapValue:{fields:{[aw]:{stringValue:ow},[Lf]:{arrayValue:{values:d.toArray().map((E=>{if(typeof E!="number")throw y.Sc("VectorValues must only contain numeric values.");return Eg(y.serializer,E)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${$f(r)}`)})(s,t)}function hb(s,t){const n={};return tw(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):so(s,((r,l)=>{const h=Yc(l,t.mc(r));h!=null&&(n[r]=h)})),{mapValue:{fields:n}}}function fb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Me||s instanceof lr||s instanceof us||s instanceof sn||s instanceof hd||s instanceof ur)}function jg(s,t,n){if(!fb(n)||!$T(n)){const r=$f(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Xp(s,t,n){if((t=Xe(t))instanceof cd)return t._internalPath;if(typeof t=="string")return Hg(s,t);throw Bf("Field path arguments must be of type string or ",s,!1,void 0,n)}const eO=new RegExp("[~\\*/\\[\\]]");function Hg(s,t,n){if(t.search(eO)>=0)throw Bf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new cd(...t.split("."))._internalPath}catch{throw Bf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Bf(s,t,n,r,l){const h=r&&!r.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${l}`),v+=")"),new At(ft.INVALID_ARGUMENT,y+s+v)}function db(s,t){return s.some((n=>n.isEqual(t)))}class mb{constructor(t,n,r,l,h){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(md("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nO extends mb{data(){return super.data()}}function md(s,t){return typeof t=="string"?Hg(s,t):t instanceof cd?t._internalPath:t._delegate._internalPath}function iO(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new At(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qg{}class pb extends qg{}function LE(s,t,...n){let r=[];t instanceof qg&&r.push(t),r=r.concat(n),(function(h){const d=h.filter((v=>v instanceof Fg)).length,y=h.filter((v=>v instanceof pd)).length;if(d>1||d>0&&y>0)throw new At(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class pd extends pb{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new pd(t,n,r)}_apply(t){const n=this._parse(t);return gb(t._query,n),new cl(t.firestore,t.converter,zp(t._query,n))}_parse(t){const n=fd(t.firestore);return(function(h,d,y,v,E,x,S){let O;if(E.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new At(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){kE(S,x);const nt=[];for(const Q of S)nt.push(ME(v,h,Q));O={arrayValue:{values:nt}}}else O=ME(v,h,S)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||kE(S,x),O=tO(y,d,S,x==="in"||x==="not-in");return fn.create(E,x,O)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function sO(s,t,n){const r=t,l=md("where",s);return pd._create(l,r,n)}class Fg extends qg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Fg(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Os.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let d=l;const y=h.getFlattenedFilters();for(const v of y)gb(d,v),d=zp(d,v)})(t._query,n),new cl(t.firestore,t.converter,zp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gg extends pb{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Gg(t,n)}_apply(t){const n=(function(l,h,d){if(l.startAt!==null)throw new At(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new At(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oc(h,d)})(t._query,this._field,this._direction);return new cl(t.firestore,t.converter,(function(l,h){const d=l.explicitOrderBy.concat([h]);return new yu(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function DE(s,t="asc"){const n=t,r=md("orderBy",s);return Gg._create(r,n)}function ME(s,t,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new At(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pw(t)&&n.indexOf("/")!==-1)throw new At(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ne.fromString(n));if(!Dt.isDocumentKey(r))throw new At(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Y0(s,new Dt(r))}if(n instanceof sn)return Y0(s,n._key);throw new At(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$f(n)}.`)}function kE(s,t){if(!Array.isArray(s)||s.length===0)throw new At(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function gb(s,t){const n=(function(l,h){for(const d of l)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new At(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new At(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class rO{convertValue(t,n="none"){switch(to(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ja(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Bt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return so(t,((l,h)=>{r[l]=this.convertValue(h,n)})),r}convertVectorValue(t){const n=t.fields?.[Lf].arrayValue?.values?.map((r=>nn(r.doubleValue)));return new ur(n)}convertGeoPoint(t){return new lr(nn(t.latitude),nn(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=ed(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cc(t));default:return null}}convertTimestamp(t){const n=$a(t);return new Me(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ne.fromString(t);_e(Vw(r),9688,{name:t});const l=new Ic(r.get(1),r.get(3)),h=new Dt(r.popFirst(5));return l.isEqual(n)||Yr(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}function _b(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class pc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xo extends mb{constructor(t,n,r,l,h,d){super(t,n,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(md("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Xo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xo._jsonSchema={type:dn("string",Xo._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class wf extends Xo{data(t={}){return super.data(t)}}class ru{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new pc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new wf(this._firestore,this._userDataWriter,r.key,r,new pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new At(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const v=new wf(l._firestore,l._userDataWriter,y.doc.key,y.doc,new pc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new wf(l._firestore,l._userDataWriter,y.doc.key,y.doc,new pc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,x=-1;return y.type!==0&&(E=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),x=d.indexOf(y.doc.key)),{type:aO(y.type),doc:v,oldIndex:E,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ru._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt(61501,{type:s})}}ru._jsonSchemaVersion="firestore/querySnapshot/1.0",ru._jsonSchema={type:dn("string",ru._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class yb extends rO{constructor(t){super(),this.firestore=t}convertBytes(t){return new us(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function oO(s,t,n){s=Fr(s,sn);const r=Fr(s.firestore,nl),l=_b(s.converter,t);return gd(r,[cb(fd(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,cs.none())])}function bf(s,t,n,...r){s=Fr(s,sn);const l=Fr(s.firestore,nl),h=fd(l);let d;return d=typeof(t=Xe(t))=="string"||t instanceof cd?JN(h,"updateDoc",s._key,t,n,r):$N(h,"updateDoc",s._key,t),gd(l,[d.toMutation(s._key,cs.exists(!0))])}function vb(s){return gd(Fr(s.firestore,nl),[new Tg(s._key,cs.none())])}function lO(s,t){const n=Fr(s.firestore,nl),r=Ga(s),l=_b(s.converter,t);return gd(n,[cb(fd(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,cs.exists(!1))]).then((()=>r))}function uO(s,...t){s=Xe(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||PE(t[r])||(n=t[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PE(t[r])){const v=t[r];t[r]=v.next?.bind(v),t[r+1]=v.error?.bind(v),t[r+2]=v.complete?.bind(v)}let h,d,y;if(s instanceof sn)d=Fr(s.firestore,nl),y=vg(s._key.path),h={next:v=>{t[r]&&t[r](cO(d,s,v))},error:t[r+1],complete:t[r+2]};else{const v=Fr(s,cl);d=Fr(v.firestore,nl),y=v._query;const E=new yb(d);h={next:x=>{t[r]&&t[r](new ru(d,E,v,x))},error:t[r+1],complete:t[r+2]},iO(s._query)}return(function(E,x,S,O){const F=new HN(O),nt=new bN(x,F,S);return E.asyncQueue.enqueueAndForget((async()=>vN(await SE(E),nt))),()=>{F.Nu(),E.asyncQueue.enqueueAndForget((async()=>EN(await SE(E),nt)))}})(ob(d),y,l,h)}function gd(s,t){return(function(r,l){const h=new Qo;return r.asyncQueue.enqueueAndForget((async()=>LN(await GN(r),l,h))),h.promise})(ob(s),t)}function cO(s,t,n){const r=n.docs.get(t._key),l=new yb(s);return new Xo(s,l,t._key,r,new pc(n.hasPendingWrites,n.fromCache),t.converter)}function Wp(){return new Bg("serverTimestamp")}(function(t,n=!0){(function(l){pu=l})(ol),Jo(new Xa("firestore",((r,{instanceIdentifier:l,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new nl(new WC(r.getProvider("auth-internal")),new tI(d,r.getProvider("app-check-internal")),(function(E,x){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new At(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(E.options.projectId,x)})(d,l),d);return h={useFetchStreams:n,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),rr(M0,k0,t),rr(M0,k0,"esm2020")})();function Eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hO=Eb,Tb=new jc("auth","Firebase",Eb());const jf=new cg("@firebase/auth");function fO(s,...t){jf.logLevel<=re.WARN&&jf.warn(`Auth (${ol}): ${s}`,...t)}function Af(s,...t){jf.logLevel<=re.ERROR&&jf.error(`Auth (${ol}): ${s}`,...t)}function Ps(s,...t){throw Zg(s,...t)}function cr(s,...t){return Zg(s,...t)}function wb(s,t,n){const r={...hO(),[t]:n};return new jc("auth","Firebase",r).create(t,{appName:s.name})}function Gr(s){return wb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zg(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Tb.create(s,...t)}function Ut(s,t,...n){if(!s)throw Zg(t,...n)}function jr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Af(t),new Error(t)}function Xr(s,t){s||jr(t)}function $p(){return typeof self<"u"&&self.location?.href||""}function dO(){return VE()==="http:"||VE()==="https:"}function VE(){return typeof self<"u"&&self.location?.protocol||null}function mO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dO()||xR()||"connection"in navigator)?navigator.onLine:!0}function pO(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Qc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xr(n>t,"Short delay should be less than long delay!"),this.isMobile=bR()||RR()}get(){return mO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kg(s,t){Xr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class bb{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _O=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yO=new Qc(3e4,6e4);function ao(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function oo(s,t,n,r,l={}){return Ab(s,l,async()=>{let h={},d={};r&&(t==="GET"?d=r:h={body:JSON.stringify(r)});const y=Hc({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const E={method:t,headers:v,...h};return SR()||(E.referrerPolicy="no-referrer"),s.emulatorConfig&&io(s.emulatorConfig.host)&&(E.credentials="include"),bb.fetch()(await Sb(s,s.config.apiHost,n,y),E)})}async function Ab(s,t,n){s._canInitEmulator=!1;const r={...gO,...t};try{const l=new EO(s),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw ff(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const y=h.ok?d.errorMessage:d.error.message,[v,E]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw ff(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw ff(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw ff(s,"user-disabled",d);const x=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw wb(s,x,E);Ps(s,x)}}catch(l){if(l instanceof dr)throw l;Ps(s,"network-request-failed",{message:String(l)})}}async function Xc(s,t,n,r,l={}){const h=await oo(s,t,n,r,l);return"mfaPendingCredential"in h&&Ps(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function Sb(s,t,n,r){const l=`${t}${n}?${r}`,h=s,d=h.config.emulator?Kg(s.config,l):`${s.config.apiScheme}://${l}`;return _O.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}function vO(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),yO.get())})}}function ff(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=cr(s,t,r);return l.customData._tokenResponse=n,l}function zE(s){return s!==void 0&&s.enterprise!==void 0}class TO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return vO(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wO(s,t){return oo(s,"GET","/v2/recaptchaConfig",ao(s,t))}async function bO(s,t){return oo(s,"POST","/v1/accounts:delete",t)}async function Hf(s,t){return oo(s,"POST","/v1/accounts:lookup",t)}function wc(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function AO(s,t=!1){const n=Xe(s),r=await n.getIdToken(t),l=Yg(r);Ut(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:r,authTime:wc(Tp(l.auth_time)),issuedAtTime:wc(Tp(l.iat)),expirationTime:wc(Tp(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Tp(s){return Number(s)*1e3}function Yg(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Af("JWT malformed, contained fewer than 3 sections"),null;try{const l=LT(n);return l?JSON.parse(l):(Af("Failed to decode base64 JWT payload"),null)}catch(l){return Af("Caught error parsing JWT payload as JSON",l?.toString()),null}}function UE(s){const t=Yg(s);return Ut(t,"internal-error"),Ut(typeof t.exp<"u","internal-error"),Ut(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Mc(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof dr&&SO(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function SO({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class xO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qf(s){const t=s.auth,n=await s.getIdToken(),r=await Mc(s,Hf(t,{idToken:n}));Ut(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?xb(l.providerUserInfo):[],d=CO(s.providerData,h),y=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,E=y?v:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jp(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(s,x)}async function RO(s){const t=Xe(s);await qf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function CO(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function xb(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function IO(s,t){const n=await Ab(s,{},async()=>{const r=Hc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,d=await Sb(s,l,"/v1/token",`key=${h}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:r};return s.emulatorConfig&&io(s.emulatorConfig.host)&&(v.credentials="include"),bb.fetch()(d,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NO(s,t){return oo(s,"POST","/v2/accounts:revokeToken",ao(s,t))}class au{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ut(t.idToken,"internal-error"),Ut(typeof t.idToken<"u","internal-error"),Ut(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):UE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ut(t.length!==0,"internal-error");const n=UE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:h}=await IO(t,n);this.updateTokensAndExpiration(r,l,Number(h))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:h}=n,d=new au;return r&&(Ut(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Ut(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(Ut(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new au,this.toJSON())}_performRefresh(){return jr("not implemented")}}function za(s,t){Ut(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Is{constructor({uid:t,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new xO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,t));return Ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return AO(this,t)}reload(){return RO(this)}_assign(t){this!==t&&(Ut(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Is({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await qf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zi(this.auth.app))return Promise.reject(Gr(this.auth));const t=await this.getIdToken();return await Mc(this,bO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,d=n.photoURL??void 0,y=n.tenantId??void 0,v=n._redirectEventId??void 0,E=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:F,providerData:nt,stsTokenManager:Q}=n;Ut(S&&Q,t,"internal-error");const B=au.fromJSON(this.name,Q);Ut(typeof S=="string",t,"internal-error"),za(r,t.name),za(l,t.name),Ut(typeof O=="boolean",t,"internal-error"),Ut(typeof F=="boolean",t,"internal-error"),za(h,t.name),za(d,t.name),za(y,t.name),za(v,t.name),za(E,t.name),za(x,t.name);const lt=new Is({uid:S,auth:t,email:l,emailVerified:O,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:h,tenantId:y,stsTokenManager:B,createdAt:E,lastLoginAt:x});return nt&&Array.isArray(nt)&&(lt.providerData=nt.map(at=>({...at}))),v&&(lt._redirectEventId=v),lt}static async _fromIdTokenResponse(t,n,r=!1){const l=new au;l.updateFromServerResponse(n);const h=new Is({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await qf(h),h}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];Ut(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?xb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,y=new au;y.updateFromIdToken(r);const v=new Is({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Jp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,E),v}}const BE=new Map;function Hr(s){Xr(s instanceof Function,"Expected a class definition");let t=BE.get(s);return t?(Xr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,BE.set(s,t),t)}class Rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Rb.type="NONE";const jE=Rb;function Sf(s,t,n){return`firebase:${s}:${t}:${n}`}class ou{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:h}=this.auth;this.fullUserKey=Sf(this.userKey,l.apiKey,h),this.fullPersistenceKey=Sf("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Hf(this.auth,{idToken:t}).catch(()=>{});return n?Is._fromGetAccountInfoResponse(this.auth,n,t):null}return Is._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ou(Hr(jE),t,r);const l=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let h=l[0]||Hr(jE);const d=Sf(r,t.config.apiKey,t.name);let y=null;for(const E of n)try{const x=await E._get(d);if(x){let S;if(typeof x=="string"){const O=await Hf(t,{idToken:x}).catch(()=>{});if(!O)break;S=await Is._fromGetAccountInfoResponse(t,O,x)}else S=Is._fromJSON(t,x);E!==h&&(y=S),h=E;break}}catch{}const v=l.filter(E=>E._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new ou(h,t,r):(h=v[0],y&&await h._set(d,y.toJSON()),await Promise.all(n.map(async E=>{if(E!==h)try{await E._remove(d)}catch{}})),new ou(h,t,r))}}function HE(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ob(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Cb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lb(t))return"Blackberry";if(Db(t))return"Webos";if(Ib(t))return"Safari";if((t.includes("chrome/")||Nb(t))&&!t.includes("edge/"))return"Chrome";if(Pb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function Cb(s=Fn()){return/firefox\//i.test(s)}function Ib(s=Fn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Nb(s=Fn()){return/crios\//i.test(s)}function Ob(s=Fn()){return/iemobile/i.test(s)}function Pb(s=Fn()){return/android/i.test(s)}function Lb(s=Fn()){return/blackberry/i.test(s)}function Db(s=Fn()){return/webos/i.test(s)}function Qg(s=Fn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function OO(s=Fn()){return Qg(s)&&!!window.navigator?.standalone}function PO(){return CR()&&document.documentMode===10}function Mb(s=Fn()){return Qg(s)||Pb(s)||Db(s)||Lb(s)||/windows phone/i.test(s)||Ob(s)}function kb(s,t=[]){let n;switch(s){case"Browser":n=HE(Fn());break;case"Worker":n=`${HE(Fn())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ol}/${r}`}class LO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=h=>new Promise((d,y)=>{try{const v=t(h);d(v)}catch(v){y(v)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function DO(s,t={}){return oo(s,"GET","/v2/passwordPolicy",ao(s,t))}const MO=6;class kO{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class VO{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qE(this),this.idTokenSubscription=new qE(this),this.beforeStateQueue=new LO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ou.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Hf(this,{idToken:t}),r=await Is._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(zi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=r?._redirectEventId,y=await this.tryRedirectSignIn(t);(!h||h===d)&&y?.user&&(r=y.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await qf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=pO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zi(this.app))return Promise.reject(Gr(this));const n=t?Xe(t):null;return n&&Ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ut(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zi(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zi(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await DO(this),n=new kO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hr(t)||this._popupRedirectResolver;Ut(n,this,"argument-error"),this.redirectPersistenceManager=await ou.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(y,this,"internal-error"),y.then(()=>{d||h(this.currentUser)}),typeof n=="function"){const v=t.addObserver(n,r,l);return()=>{d=!0,v()}}else{const v=t.addObserver(n);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(zi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&fO(`Error while retrieving App Check token: ${t.error}`),t?.token}}function hl(s){return Xe(s)}class qE{constructor(t){this.auth=t,this.observer=null,this.addObserver=kR(n=>this.observer=n)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zO(s){_d=s}function Vb(s){return _d.loadJS(s)}function UO(){return _d.recaptchaEnterpriseScript}function BO(){return _d.gapiScript}function jO(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class HO{constructor(){this.enterprise=new qO}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class qO{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const FO="recaptcha-enterprise",zb="NO_RECAPTCHA";class GO{constructor(t){this.type=FO,this.auth=hl(t)}async verify(t="verify",n=!1){async function r(h){if(!n){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(d,y)=>{wO(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const E=new TO(v);return h.tenantId==null?h._agentRecaptchaConfig=E:h._tenantRecaptchaConfigs[h.tenantId]=E,d(E.siteKey)}}).catch(v=>{y(v)})})}function l(h,d,y){const v=window.grecaptcha;zE(v)?v.enterprise.ready(()=>{v.enterprise.execute(h,{action:t}).then(E=>{d(E)}).catch(()=>{d(zb)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HO().execute("siteKey",{action:"verify"}):new Promise((h,d)=>{r(this.auth).then(y=>{if(!n&&zE(window.grecaptcha))l(y,h,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let v=UO();v.length!==0&&(v+=y),Vb(v).then(()=>{l(y,h,d)}).catch(E=>{d(E)})}}).catch(y=>{d(y)})})}}async function FE(s,t,n,r=!1,l=!1){const h=new GO(s);let d;if(l)d=zb;else try{d=await h.verify(n)}catch{d=await h.verify(n,!0)}const y={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const v=y.phoneEnrollmentInfo.phoneNumber,E=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:E,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const v=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return r?Object.assign(y,{captchaResp:d}):Object.assign(y,{captchaResponse:d}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function tg(s,t,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await FE(s,t,n,n==="getOobCode");return r(s,h)}else return r(s,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await FE(s,t,n,n==="getOobCode");return r(s,d)}else return Promise.reject(h)})}function ZO(s,t){const n=Wf(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if($o(h,t??{}))return l;Ps(l,"already-initialized")}return n.initialize({options:t})}function KO(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function YO(s,t,n){const r=hl(s);Ut(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,h=Ub(t),{host:d,port:y}=QO(t),v=y===null?"":`:${y}`,E={url:`${h}//${d}${v}/`},x=Object.freeze({host:d,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Ut(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ut($o(E,r.config.emulator)&&$o(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=E,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,io(d)?(ug(`${h}//${d}${v}`),VT("Auth",!0)):XO()}function Ub(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function QO(s){const t=Ub(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const h=l[1];return{host:h,port:GE(r.substr(h.length+1))}}else{const[h,d]=r.split(":");return{host:h,port:GE(d)}}}function GE(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function XO(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Xg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(t){return jr("not implemented")}_linkToIdToken(t,n){return jr("not implemented")}_getReauthenticationResolver(t){return jr("not implemented")}}async function WO(s,t){return oo(s,"POST","/v1/accounts:signUp",t)}async function $O(s,t){return Xc(s,"POST","/v1/accounts:signInWithPassword",ao(s,t))}async function JO(s,t){return Xc(s,"POST","/v1/accounts:signInWithEmailLink",ao(s,t))}async function tP(s,t){return Xc(s,"POST","/v1/accounts:signInWithEmailLink",ao(s,t))}class kc extends Xg{constructor(t,n,r,l=null){super("password",r),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new kc(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new kc(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(t,n,"signInWithPassword",$O);case"emailLink":return JO(t,{email:this._email,oobCode:this._password});default:Ps(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(t,r,"signUpPassword",WO);case"emailLink":return tP(t,{idToken:n,email:this._email,oobCode:this._password});default:Ps(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function lu(s,t){return Xc(s,"POST","/v1/accounts:signInWithIdp",ao(s,t))}const eP="http://localhost";class il extends Xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new il(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ps("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...h}=n;if(!r||!l)return null;const d=new il(r,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return lu(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,lu(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,lu(t,n)}buildRequest(){const t={requestUri:eP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Hc(n)}return t}}function nP(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iP(s){const t=cc(hc(s)).link,n=t?cc(hc(t)).deep_link_id:null,r=cc(hc(s)).deep_link_id;return(r?cc(hc(r)).link:null)||r||n||t||s}class Wg{constructor(t){const n=cc(hc(t)),r=n.apiKey??null,l=n.oobCode??null,h=nP(n.mode??null);Ut(r&&l&&h,"argument-error"),this.apiKey=r,this.operation=h,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=iP(t);try{return new Wg(n)}catch{return null}}}class Eu{constructor(){this.providerId=Eu.PROVIDER_ID}static credential(t,n){return kc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Wg.parseLink(n);return Ut(r,"argument-error"),kc._fromEmailAndCode(t,r.code,r.tenantId)}}Eu.PROVIDER_ID="password";Eu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Bb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Wc extends Bb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ua extends Wc{constructor(){super("facebook.com")}static credential(t){return il._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ua.credentialFromTaggedObject(t)}static credentialFromError(t){return Ua.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ua.credential(t.oauthAccessToken)}catch{return null}}}Ua.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ua.PROVIDER_ID="facebook.com";class Ba extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return il._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ba.credentialFromTaggedObject(t)}static credentialFromError(t){return Ba.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ba.credential(n,r)}catch{return null}}}Ba.GOOGLE_SIGN_IN_METHOD="google.com";Ba.PROVIDER_ID="google.com";class ja extends Wc{constructor(){super("github.com")}static credential(t){return il._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ja.credentialFromTaggedObject(t)}static credentialFromError(t){return ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ja.credential(t.oauthAccessToken)}catch{return null}}}ja.GITHUB_SIGN_IN_METHOD="github.com";ja.PROVIDER_ID="github.com";class Ha extends Wc{constructor(){super("twitter.com")}static credential(t,n){return il._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ha.credentialFromTaggedObject(t)}static credentialFromError(t){return Ha.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ha.credential(n,r)}catch{return null}}}Ha.TWITTER_SIGN_IN_METHOD="twitter.com";Ha.PROVIDER_ID="twitter.com";async function sP(s,t){return Xc(s,"POST","/v1/accounts:signUp",ao(s,t))}class sl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const h=await Is._fromIdTokenResponse(t,r,l),d=ZE(r);return new sl({user:h,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=ZE(r);return new sl({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function ZE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Ff extends dr{constructor(t,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new Ff(t,n,r,l)}}function jb(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Ff._fromErrorAndOperation(s,h,t,r):h})}async function rP(s,t,n=!1){const r=await Mc(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return sl._forOperation(s,"link",r)}async function aP(s,t,n=!1){const{auth:r}=s;if(zi(r.app))return Promise.reject(Gr(r));const l="reauthenticate";try{const h=await Mc(s,jb(r,l,t,s),n);Ut(h.idToken,r,"internal-error");const d=Yg(h.idToken);Ut(d,r,"internal-error");const{sub:y}=d;return Ut(s.uid===y,r,"user-mismatch"),sl._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ps(r,"user-mismatch"),h}}async function Hb(s,t,n=!1){if(zi(s.app))return Promise.reject(Gr(s));const r="signIn",l=await jb(s,r,t),h=await sl._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(h.user),h}async function oP(s,t){return Hb(hl(s),t)}async function qb(s){const t=hl(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function lP(s,t,n){if(zi(s.app))return Promise.reject(Gr(s));const r=hl(s),d=await tg(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sP).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&qb(s),v}),y=await sl._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(y.user),y}function uP(s,t,n){return zi(s.app)?Promise.reject(Gr(s)):oP(Xe(s),Eu.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qb(s),r})}function cP(s,t,n,r){return Xe(s).onIdTokenChanged(t,n,r)}function hP(s,t,n){return Xe(s).beforeAuthStateChanged(t,n)}function fP(s,t,n,r){return Xe(s).onAuthStateChanged(t,n,r)}const Gf="__sak";class Fb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gf,"1"),this.storage.removeItem(Gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const dP=1e3,mP=10;class Gb extends Fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},h=this.storage.getItem(r);PO()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,mP):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},dP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Gb.type="LOCAL";const pP=Gb;class Zb extends Fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Zb.type="SESSION";const Kb=Zb;function gP(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class yd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new yd(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:h}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const y=Array.from(d).map(async E=>E(n.origin,h)),v=await gP(y);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:v})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];function $g(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class _P{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((y,v)=>{const E=$g("",20);l.port1.start();const x=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===E)switch(O.data.status){case"ack":clearTimeout(x),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(O.data.response);break;default:clearTimeout(x),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:E,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function hr(){return window}function yP(s){hr().location.href=s}function Yb(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function vP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EP(){return navigator?.serviceWorker?.controller||null}function TP(){return Yb()?self:null}const Qb="firebaseLocalStorageDb",wP=1,Zf="firebaseLocalStorage",Xb="fbase_key";class $c{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vd(s,t){return s.transaction([Zf],t?"readwrite":"readonly").objectStore(Zf)}function bP(){const s=indexedDB.deleteDatabase(Qb);return new $c(s).toPromise()}function eg(){const s=indexedDB.open(Qb,wP);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Zf,{keyPath:Xb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Zf)?t(r):(r.close(),await bP(),t(await eg()))})})}async function KE(s,t,n){const r=vd(s,!0).put({[Xb]:t,value:n});return new $c(r).toPromise()}async function AP(s,t){const n=vd(s,!1).get(t),r=await new $c(n).toPromise();return r===void 0?null:r.value}function YE(s,t){const n=vd(s,!0).delete(t);return new $c(n).toPromise()}const SP=800,xP=3;class Wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>xP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(TP()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vP(),!this.activeServiceWorker)return;this.sender=new _P(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||EP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await eg();return await KE(t,Gf,"1"),await YE(t,Gf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>AP(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>YE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=vd(l,!1).getAll();return new $c(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wb.type="LOCAL";const RP=Wb;new Qc(3e4,6e4);function CP(s,t){return t?Hr(t):(Ut(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Jg extends Xg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return lu(t,this._buildIdpRequest())}_linkToIdToken(t,n){return lu(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return lu(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function IP(s){return Hb(s.auth,new Jg(s),s.bypassAuthState)}function NP(s){const{auth:t,user:n}=s;return Ut(n,t,"internal-error"),aP(n,new Jg(s),s.bypassAuthState)}async function OP(s){const{auth:t,user:n}=s;return Ut(n,t,"internal-error"),rP(n,new Jg(s),s.bypassAuthState)}class $b{constructor(t,n,r,l,h=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:h,error:d,type:y}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:n,sessionId:r,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return IP;case"linkViaPopup":case"linkViaRedirect":return OP;case"reauthViaPopup":case"reauthViaRedirect":return NP;default:Ps(this.auth,"internal-error")}}resolve(t){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PP=new Qc(2e3,1e4);class iu extends $b{constructor(t,n,r,l,h){super(t,n,l,h),this.provider=r,this.authWindow=null,this.pollId=null,iu.currentPopupAction&&iu.currentPopupAction.cancel(),iu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ut(t,this.auth,"internal-error"),t}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const t=$g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,iu.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,PP.get())};t()}}iu.currentPopupAction=null;const LP="pendingRedirect",xf=new Map;class DP extends $b{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=xf.get(this.auth._key());if(!t){try{const r=await MP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}xf.set(this.auth._key(),t)}return this.bypassAuthState||xf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MP(s,t){const n=zP(t),r=VP(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function kP(s,t){xf.set(s._key(),t)}function VP(s){return Hr(s._redirectPersistence)}function zP(s){return Sf(LP,s.config.apiKey,s.name)}async function UP(s,t,n=!1){if(zi(s.app))return Promise.reject(Gr(s));const r=hl(s),l=CP(r,t),d=await new DP(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const BP=600*1e3;class jP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!HP(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Jb(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(cr(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=BP&&this.cachedEventUids.clear(),this.cachedEventUids.has(QE(t))}saveEventToCache(t){this.cachedEventUids.add(QE(t)),this.lastProcessedEventTime=Date.now()}}function QE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Jb({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function HP(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jb(s);default:return!1}}async function qP(s,t={}){return oo(s,"GET","/v1/projects",t)}const FP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GP=/^https?/;async function ZP(s){if(s.config.emulator)return;const{authorizedDomains:t}=await qP(s);for(const n of t)try{if(KP(n))return}catch{}Ps(s,"unauthorized-domain")}function KP(s){const t=$p(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!GP.test(n))return!1;if(FP.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const YP=new Qc(3e4,6e4);function XE(){const s=hr().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function QP(s){return new Promise((t,n)=>{function r(){XE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{XE(),n(cr(s,"network-request-failed"))},timeout:YP.get()})}if(hr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(hr().gapi?.load)r();else{const l=jO("iframefcb");return hr()[l]=()=>{gapi.load?r():n(cr(s,"network-request-failed"))},Vb(`${BO()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw Rf=null,t})}let Rf=null;function XP(s){return Rf=Rf||QP(s),Rf}const WP=new Qc(5e3,15e3),$P="__/auth/iframe",JP="emulator/auth/iframe",tL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nL(s){const t=s.config;Ut(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Kg(t,JP):`https://${s.config.authDomain}/${$P}`,r={apiKey:t.apiKey,appName:s.name,v:ol},l=eL.get(s.config.apiHost);l&&(r.eid=l);const h=s._getFrameworks();return h.length&&(r.fw=h.join(",")),`${n}?${Hc(r).slice(1)}`}async function iL(s){const t=await XP(s),n=hr().gapi;return Ut(n,s,"internal-error"),t.open({where:document.body,url:nL(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tL,dontclear:!0},r=>new Promise(async(l,h)=>{await r.restyle({setHideOnLeave:!1});const d=cr(s,"network-request-failed"),y=hr().setTimeout(()=>{h(d)},WP.get());function v(){hr().clearTimeout(y),l(r)}r.ping(v).then(v,()=>{h(d)})}))}const sL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rL=500,aL=600,oL="_blank",lL="http://localhost";class WE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uL(s,t,n,r=rL,l=aL){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const v={...sL,width:r.toString(),height:l.toString(),top:h,left:d},E=Fn().toLowerCase();n&&(y=Nb(E)?oL:n),Cb(E)&&(t=t||lL,v.scrollbars="yes");const x=Object.entries(v).reduce((O,[F,nt])=>`${O}${F}=${nt},`,"");if(OO(E)&&y!=="_self")return cL(t||"",y),new WE(null);const S=window.open(t||"",y,x);Ut(S,s,"popup-blocked");try{S.focus()}catch{}return new WE(S)}function cL(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const hL="__/auth/handler",fL="emulator/auth/handler",dL=encodeURIComponent("fac");async function $E(s,t,n,r,l,h){Ut(s.config.authDomain,s,"auth-domain-config-required"),Ut(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ol,eventId:l};if(t instanceof Bb){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",MR(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[x,S]of Object.entries({}))d[x]=S}if(t instanceof Wc){const x=t.getScopes().filter(S=>S!=="");x.length>0&&(d.scopes=x.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const x of Object.keys(y))y[x]===void 0&&delete y[x];const v=await s._getAppCheckToken(),E=v?`#${dL}=${encodeURIComponent(v)}`:"";return`${mL(s)}?${Hc(y).slice(1)}${E}`}function mL({config:s}){return s.emulator?Kg(s,fL):`https://${s.authDomain}/${hL}`}const wp="webStorageSupport";class pL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kb,this._completeRedirectFn=UP,this._overrideRedirectResult=kP}async _openPopup(t,n,r,l){Xr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await $E(t,n,r,$p(),l);return uL(t,h,$g())}async _openRedirect(t,n,r,l){await this._originValidation(t);const h=await $E(t,n,r,$p(),l);return yP(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Xr(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await iL(t),r=new jP(t);return n.register("authEvent",l=>(Ut(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(wp,{type:wp},l=>{const h=l?.[0]?.[wp];h!==void 0&&n(!!h),Ps(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZP(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Mb()||Ib()||Qg()}}const gL=pL;var JE="@firebase/auth",tT="1.12.0";class _L{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yL(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vL(s){Jo(new Xa("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=r.options;Ut(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kb(s)},E=new VO(r,l,h,v);return KO(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Jo(new Xa("auth-internal",t=>{const n=hl(t.getProvider("auth").getImmediate());return(r=>new _L(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(JE,tT,yL(s)),rr(JE,tT,"esm2020")}const EL=300,TL=kT("authIdTokenMaxAge")||EL;let eT=null;const wL=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TL)return;const l=n?.token;eT!==l&&(eT=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function bL(s=jT()){const t=Wf(s,"auth");if(t.isInitialized())return t.getImmediate();const n=ZO(s,{popupRedirectResolver:gL,persistence:[RP,pP,Kb]}),r=kT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const d=wL(h.toString());hP(n,d,()=>d(n.currentUser)),cP(n,y=>d(y))}}const l=DT("auth");return l&&YO(n,`http://${l}`),n}function AL(){return document.getElementsByTagName("head")?.[0]??document}zO({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const h=cr("internal-error");h.customData=l,n(h)},r.type="text/javascript",r.charset="UTF-8",AL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vL("Browser");const tA="firebasestorage.googleapis.com",eA="storageBucket",SL=120*1e3,xL=600*1e3;class $e extends dr{constructor(t,n,r=0){super(bp(t),`Firebase Storage: ${n} (${bp(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$e.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return bp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var We;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(We||(We={}));function bp(s){return"storage/"+s}function t_(){const s="An unknown error occurred, please check the error payload for server response.";return new $e(We.UNKNOWN,s)}function RL(s){return new $e(We.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function CL(s){return new $e(We.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function IL(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $e(We.UNAUTHENTICATED,s)}function NL(){return new $e(We.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function OL(s){return new $e(We.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function PL(){return new $e(We.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LL(){return new $e(We.CANCELED,"User canceled the upload/download.")}function DL(s){return new $e(We.INVALID_URL,"Invalid URL '"+s+"'.")}function ML(s){return new $e(We.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function kL(){return new $e(We.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+eA+"' property when initializing the app?")}function VL(){return new $e(We.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zL(){return new $e(We.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function UL(s){return new $e(We.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ng(s){return new $e(We.INVALID_ARGUMENT,s)}function nA(){return new $e(We.APP_DELETED,"The Firebase app was deleted.")}function BL(s){return new $e(We.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bc(s,t){return new $e(We.INVALID_FORMAT,"String does not match format '"+s+"': "+t)}function uc(s){throw new $e(We.INTERNAL_ERROR,"Internal error: "+s)}class Bi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Bi.makeFromUrl(t,n)}catch{return new Bi(t,"")}if(r.path==="")return r;throw ML(t)}static makeFromUrl(t,n){let r=null;const l="([A-Za-z0-9.\\-_]+)";function h(It){It.path.charAt(It.path.length-1)==="/"&&(It.path_=It.path_.slice(0,-1))}const d="(/(.*))?$",y=new RegExp("^gs://"+l+d,"i"),v={bucket:1,path:3};function E(It){It.path_=decodeURIComponent(It.path)}const x="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),O="(/([^?#]*).*)?$",F=new RegExp(`^https?://${S}/${x}/b/${l}/o${O}`,"i"),nt={bucket:1,path:3},Q=n===tA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",lt=new RegExp(`^https?://${Q}/${l}/${B}`,"i"),ht=[{regex:y,indices:v,postModify:h},{regex:F,indices:nt,postModify:E},{regex:lt,indices:{bucket:1,path:2},postModify:E}];for(let It=0;It<ht.length;It++){const Nt=ht[It],Mt=Nt.regex.exec(t);if(Mt){const V=Mt[Nt.indices.bucket];let P=Mt[Nt.indices.path];P||(P=""),r=new Bi(V,P),Nt.postModify(r);break}}if(r==null)throw DL(t);return r}}class jL{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function HL(s,t,n){let r=1,l=null,h=null,d=!1,y=0;function v(){return y===2}let E=!1;function x(...B){E||(E=!0,t.apply(null,B))}function S(B){l=setTimeout(()=>{l=null,s(F,v())},B)}function O(){h&&clearTimeout(h)}function F(B,...lt){if(E){O();return}if(B){O(),x.call(null,B,...lt);return}if(v()||d){O(),x.call(null,B,...lt);return}r<64&&(r*=2);let ht;y===1?(y=2,ht=0):ht=(r+Math.random())*1e3,S(ht)}let nt=!1;function Q(B){nt||(nt=!0,O(),!E&&(l!==null?(B||(y=2),clearTimeout(l),S(0)):B||(y=1)))}return S(0),h=setTimeout(()=>{d=!0,Q(!0)},n),Q}function qL(s){s(!1)}function FL(s){return s!==void 0}function GL(s){return typeof s=="object"&&!Array.isArray(s)}function e_(s){return typeof s=="string"||s instanceof String}function nT(s){return n_()&&s instanceof Blob}function n_(){return typeof Blob<"u"}function iT(s,t,n,r){if(r<t)throw ng(`Invalid value for '${s}'. Expected ${t} or greater.`);if(r>n)throw ng(`Invalid value for '${s}'. Expected ${n} or less.`)}function i_(s,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${s}`}function iA(s){const t=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const l=t(r)+"="+t(s[r]);n=n+l+"&"}return n=n.slice(0,-1),n}var Wo;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Wo||(Wo={}));function ZL(s,t){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,h=t.indexOf(s)!==-1;return n||l||h}class KL{constructor(t,n,r,l,h,d,y,v,E,x,S,O=!0,F=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=l,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=y,this.errorCallback_=v,this.timeout_=E,this.progressCallback_=x,this.connectionFactory_=S,this.retry=O,this.isUsingEmulator=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((nt,Q)=>{this.resolve_=nt,this.reject_=Q,this.start_()})}start_(){const t=(r,l)=>{if(l){r(!1,new df(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=y=>{const v=y.loaded,E=y.lengthComputable?y.total:-1;this.progressCallback_!==null&&this.progressCallback_(v,E)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const y=h.getErrorCode()===Wo.NO_ERROR,v=h.getStatus();if(!y||ZL(v,this.additionalRetryCodes_)&&this.retry){const x=h.getErrorCode()===Wo.ABORT;r(!1,new df(!1,null,x));return}const E=this.successCodes_.indexOf(v)!==-1;r(!0,new df(E,h))})},n=(r,l)=>{const h=this.resolve_,d=this.reject_,y=l.connection;if(l.wasSuccessCode)try{const v=this.callback_(y,y.getResponse());FL(v)?h(v):h()}catch(v){d(v)}else if(y!==null){const v=t_();v.serverResponse=y.getErrorText(),this.errorCallback_?d(this.errorCallback_(y,v)):d(v)}else if(l.canceled){const v=this.appDelete_?nA():LL();d(v)}else{const v=PL();d(v)}};this.canceled_?n(!1,new df(!1,null,!0)):this.backoffId_=HL(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&qL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class df{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function YL(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function QL(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function XL(s,t){t&&(s["X-Firebase-GMPID"]=t)}function WL(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function $L(s,t,n,r,l,h,d=!0,y=!1){const v=iA(s.urlParams),E=s.url+v,x=Object.assign({},s.headers);return XL(x,t),YL(x,n),QL(x,h),WL(x,r),new KL(E,s.method,x,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,d,y)}function JL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tD(...s){const t=JL();if(t!==void 0){const n=new t;for(let r=0;r<s.length;r++)n.append(s[r]);return n.getBlob()}else{if(n_())return new Blob(s);throw new $e(We.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function eD(s,t,n){return s.webkitSlice?s.webkitSlice(t,n):s.mozSlice?s.mozSlice(t,n):s.slice?s.slice(t,n):null}function nD(s){if(typeof atob>"u")throw UL("base-64");return atob(s)}const ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ap{constructor(t,n){this.data=t,this.contentType=n||null}}function iD(s,t){switch(s){case ir.RAW:return new Ap(sA(t));case ir.BASE64:case ir.BASE64URL:return new Ap(rA(s,t));case ir.DATA_URL:return new Ap(rD(t),aD(t))}throw t_()}function sA(s){const t=[];for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const h=r,d=s.charCodeAt(++n);r=65536|(h&1023)<<10|d&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function sD(s){let t;try{t=decodeURIComponent(s)}catch{throw bc(ir.DATA_URL,"Malformed data URL.")}return sA(t)}function rA(s,t){switch(s){case ir.BASE64:{const l=t.indexOf("-")!==-1,h=t.indexOf("_")!==-1;if(l||h)throw bc(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case ir.BASE64URL:{const l=t.indexOf("+")!==-1,h=t.indexOf("/")!==-1;if(l||h)throw bc(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nD(t)}catch(l){throw l.message.includes("polyfill")?l:bc(s,"Invalid character found")}const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r}class aA{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw bc(ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=oD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function rD(s){const t=new aA(s);return t.base64?rA(ir.BASE64,t.rest):sD(t.rest)}function aD(s){return new aA(s).contentType}function oD(s,t){return s.length>=t.length?s.substring(s.length-t.length)===t:!1}class qa{constructor(t,n){let r=0,l="";nT(t)?(this.data_=t,r=t.size,l=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=l}size(){return this.size_}type(){return this.type_}slice(t,n){if(nT(this.data_)){const r=this.data_,l=eD(r,t,n);return l===null?null:new qa(l)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new qa(r,!0)}}static getBlob(...t){if(n_()){const n=t.map(r=>r instanceof qa?r.data_:r);return new qa(tD.apply(null,n))}else{const n=t.map(d=>e_(d)?iD(ir.RAW,d).data:d.data_);let r=0;n.forEach(d=>{r+=d.byteLength});const l=new Uint8Array(r);let h=0;return n.forEach(d=>{for(let y=0;y<d.length;y++)l[h++]=d[y]}),new qa(l,!0)}}uploadData(){return this.data_}}function oA(s){let t;try{t=JSON.parse(s)}catch{return null}return GL(t)?t:null}function lD(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function uD(s,t){const n=t.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function lA(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}function cD(s,t){return t}class $n{constructor(t,n,r,l){this.server=t,this.local=n||t,this.writable=!!r,this.xform=l||cD}}let mf=null;function hD(s){return!e_(s)||s.length<2?s:lA(s)}function uA(){if(mf)return mf;const s=[];s.push(new $n("bucket")),s.push(new $n("generation")),s.push(new $n("metageneration")),s.push(new $n("name","fullPath",!0));function t(h,d){return hD(d)}const n=new $n("name");n.xform=t,s.push(n);function r(h,d){return d!==void 0?Number(d):d}const l=new $n("size");return l.xform=r,s.push(l),s.push(new $n("timeCreated")),s.push(new $n("updated")),s.push(new $n("md5Hash",null,!0)),s.push(new $n("cacheControl",null,!0)),s.push(new $n("contentDisposition",null,!0)),s.push(new $n("contentEncoding",null,!0)),s.push(new $n("contentLanguage",null,!0)),s.push(new $n("contentType",null,!0)),s.push(new $n("metadata","customMetadata",!0)),mf=s,mf}function fD(s,t){function n(){const r=s.bucket,l=s.fullPath,h=new Bi(r,l);return t._makeStorageReference(h)}Object.defineProperty(s,"ref",{get:n})}function dD(s,t,n){const r={};r.type="file";const l=n.length;for(let h=0;h<l;h++){const d=n[h];r[d.local]=d.xform(r,t[d.server])}return fD(r,s),r}function cA(s,t,n){const r=oA(t);return r===null?null:dD(s,r,n)}function mD(s,t,n,r){const l=oA(t);if(l===null||!e_(l.downloadTokens))return null;const h=l.downloadTokens;if(h.length===0)return null;const d=encodeURIComponent;return h.split(",").map(E=>{const x=s.bucket,S=s.fullPath,O="/b/"+d(x)+"/o/"+d(S),F=i_(O,n,r),nt=iA({alt:"media",token:E});return F+nt})[0]}function pD(s,t){const n={},r=t.length;for(let l=0;l<r;l++){const h=t[l];h.writable&&(n[h.server]=s[h.local])}return JSON.stringify(n)}class hA{constructor(t,n,r,l){this.url=t,this.method=n,this.handler=r,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fA(s){if(!s)throw t_()}function gD(s,t){function n(r,l){const h=cA(s,l,t);return fA(h!==null),h}return n}function _D(s,t){function n(r,l){const h=cA(s,l,t);return fA(h!==null),mD(h,l,s.host,s._protocol)}return n}function dA(s){function t(n,r){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=NL():l=IL():n.getStatus()===402?l=CL(s.bucket):n.getStatus()===403?l=OL(s.path):l=r,l.status=n.getStatus(),l.serverResponse=r.serverResponse,l}return t}function yD(s){const t=dA(s);function n(r,l){let h=t(r,l);return r.getStatus()===404&&(h=RL(s.path)),h.serverResponse=l.serverResponse,h}return n}function vD(s,t,n){const r=t.fullServerUrl(),l=i_(r,s.host,s._protocol),h="GET",d=s.maxOperationRetryTime,y=new hA(l,h,_D(s,n),d);return y.errorHandler=yD(t),y}function ED(s,t){return s&&s.contentType||t&&t.type()||"application/octet-stream"}function TD(s,t,n){const r=Object.assign({},n);return r.fullPath=s.path,r.size=t.size(),r.contentType||(r.contentType=ED(null,t)),r}function wD(s,t,n,r,l){const h=t.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function y(){let ht="";for(let It=0;It<2;It++)ht=ht+Math.random().toString().slice(2);return ht}const v=y();d["Content-Type"]="multipart/related; boundary="+v;const E=TD(t,r,l),x=pD(E,n),S="--"+v+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+v+`\r
Content-Type: `+E.contentType+`\r
\r
`,O=`\r
--`+v+"--",F=qa.getBlob(S,r,O);if(F===null)throw VL();const nt={name:E.fullPath},Q=i_(h,s.host,s._protocol),B="POST",lt=s.maxUploadRetryTime,at=new hA(Q,B,gD(s,n),lt);return at.urlParams=nt,at.headers=d,at.body=F.uploadData(),at.errorHandler=dA(t),at}class bD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wo.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wo.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wo.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,l,h){if(this.sent_)throw uc("cannot .send() more than once");if(io(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),h!==void 0)for(const d in h)h.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,h[d].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw uc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class AD extends bD{initXhr(){this.xhr_.responseType="text"}}function mA(){return new AD}class rl{constructor(t,n){this._service=t,n instanceof Bi?this._location=n:this._location=Bi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new rl(t,n)}get root(){const t=new Bi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lA(this._location.path)}get storage(){return this._service}get parent(){const t=lD(this._location.path);if(t===null)return null;const n=new Bi(this._location.bucket,t);return new rl(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw BL(t)}}function SD(s,t,n){s._throwIfRoot("uploadBytes");const r=wD(s.storage,s._location,uA(),new qa(t,!0),n);return s.storage.makeRequestWithTokens(r,mA).then(l=>({metadata:l,ref:s}))}function xD(s){s._throwIfRoot("getDownloadURL");const t=vD(s.storage,s._location,uA());return s.storage.makeRequestWithTokens(t,mA).then(n=>{if(n===null)throw zL();return n})}function RD(s,t){const n=uD(s._location.path,t),r=new Bi(s._location.bucket,n);return new rl(s.storage,r)}function CD(s){return/^[A-Za-z]+:\/\//.test(s)}function ID(s,t){return new rl(s,t)}function pA(s,t){if(s instanceof s_){const n=s;if(n._bucket==null)throw kL();const r=new rl(n,n._bucket);return t!=null?pA(r,t):r}else return t!==void 0?RD(s,t):s}function ND(s,t){if(t&&CD(t)){if(s instanceof s_)return ID(s,t);throw ng("To use ref(service, url), the first argument must be a Storage instance.")}else return pA(s,t)}function sT(s,t){const n=t?.[eA];return n==null?null:Bi.makeFromBucketSpec(n,s)}function OD(s,t,n,r={}){s.host=`${t}:${n}`;const l=io(t);l&&(ug(`https://${s.host}/b`),VT("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:h}=r;h&&(s._overrideAuthToken=typeof h=="string"?h:ER(h,s.app.options.projectId))}class s_{constructor(t,n,r,l,h,d=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=l,this._firebaseVersion=h,this._isUsingEmulator=d,this._bucket=null,this._host=tA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SL,this._maxUploadRetryTime=xL,this._requests=new Set,l!=null?this._bucket=Bi.makeFromBucketSpec(l,this._host):this._bucket=sT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Bi.makeFromBucketSpec(this._url,t):this._bucket=sT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){iT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){iT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(zi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new rl(this,t)}_makeRequest(t,n,r,l,h=!0){if(this._deleted)return new jL(nA());{const d=$L(t,this._appId,r,l,n,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,n){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,l).getPromise()}}const rT="@firebase/storage",aT="0.14.0";const gA="storage";function PD(s,t,n){return s=Xe(s),SD(s,t,n)}function LD(s){return s=Xe(s),xD(s)}function DD(s,t){return s=Xe(s),ND(s,t)}function MD(s=jT(),t){s=Xe(s);const r=Wf(s,gA).getImmediate({identifier:t}),l=yR("storage");return l&&kD(r,...l),r}function kD(s,t,n,r={}){OD(s,t,n,r)}function VD(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new s_(n,r,l,t,ol)}function zD(){Jo(new Xa(gA,VD,"PUBLIC").setMultipleInstances(!0)),rr(rT,aT,""),rr(rT,aT,"esm2020")}zD();const UD={apiKey:"AIzaSyCePsad6CJ95B2JZHxCkvAApW3adPkSjX0",authDomain:"urbanpulse-f8def.firebaseapp.com",projectId:"urbanpulse-f8def",storageBucket:"urbanpulse-f8def.appspot.com",messagingSenderId:"981556499502",appId:"1:981556499502:web:4eeb4041fb8774b9a5fbbf"},r_=BT(UD),sr=KN(r_,{experimentalForceLongPolling:!0,useFetchStreams:!1}),Vc=bL(r_),BD=MD(r_),jD=({isOpen:s,onClose:t})=>{const[n,r]=Z.useState(!1),[l,h]=Z.useState(!1),[d,y]=Z.useState(null),[v,E]=Z.useState(null),[x,S]=Z.useState(""),[O,F]=Z.useState(!1),[nt,Q]=Z.useState(null),[B,lt]=Z.useState(null),[at,ht]=Z.useState(null),[It,Nt]=Z.useState(0),[Mt,V]=Z.useState(null),[P,D]=Z.useState({title:"",category:"Roads",description:"",imageUrl:"",location:null,address:""}),q=async()=>{h(!0),navigator.geolocation.getCurrentPosition(async gt=>{const ct=gt.coords.latitude,kt=gt.coords.longitude;try{const rt=(await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${ct}&lon=${kt}&format=json`,{headers:{"User-Agent":"UrbanPulse/1.0"}})).json()).display_name||`${ct.toFixed(4)}, ${kt.toFixed(4)}`;D({...P,location:{lat:ct,lng:kt},address:rt}),S(rt)}catch(yt){console.error("Error fetching address:",yt);const M=`${ct.toFixed(4)}, ${kt.toFixed(4)}`;D({...P,location:{lat:ct,lng:kt},address:M}),S(M)}h(!1)},gt=>{console.error(gt),h(!1),alert("Could not get location. Please enable GPS.")})},j=gt=>{const ct=gt.target.files[0];if(ct){E(ct);const kt=URL.createObjectURL(ct);y(kt)}},G=async()=>{try{const gt=await navigator.mediaDevices.getUserMedia({audio:!0}),ct=new MediaRecorder(gt),kt=[];ct.ondataavailable=M=>{M.data.size>0&&kt.push(M.data)},ct.onstop=()=>{const M=new Blob(kt,{type:"audio/webm"});Q(M),lt(URL.createObjectURL(M)),gt.getTracks().forEach(rt=>rt.stop())},ct.start(),ht(ct),F(!0);const yt=setInterval(()=>{Nt(M=>M+1)},1e3);V(yt)}catch(gt){console.error("Error accessing microphone:",gt),alert("Microphone access denied or not available.")}},z=()=>{at&&at.state!=="inactive"&&(at.stop(),F(!1),clearInterval(Mt),Nt(0))},ee=()=>{Q(null),lt(null),Nt(0)},Ve=gt=>{const ct=Math.floor(gt/60),kt=gt%60;return`${ct}:${kt<10?"0":""}${kt}`},it=async gt=>{gt.preventDefault(),r(!0);try{let ct="";if(v){const yt=new FormData;yt.append("file",v),yt.append("upload_preset","urbanpulse");const M=await fetch("https://api.cloudinary.com/v1_1/dx97l3k4d/image/upload",{method:"POST",body:yt});if(!M.ok)throw new Error("Cloudinary upload failed");ct=(await M.json())?.secure_url||""}let kt="";if(nt){const yt=new FormData;yt.append("file",nt),yt.append("upload_preset","urbanpulse"),yt.append("resource_type","video");const M=await fetch("https://api.cloudinary.com/v1_1/dx97l3k4d/video/upload",{method:"POST",body:yt});if(!M.ok)throw new Error("Audio upload failed");kt=(await M.json())?.secure_url||""}await lO(Qp(sr,"reports"),{title:P.title,category:P.category,description:P.description,imageUrl:ct,audioUrl:kt,location:P.location,address:P.address||"",userId:Vc.currentUser.uid,status:"pending",createdAt:Wp()}),D({title:"",category:"Roads",description:"",imageUrl:"",location:null,address:""}),y(null),E(null),S(""),Q(null),lt(null),t()}catch(ct){console.error("The actual error is:",ct),alert("Upload failed! See the browser console (F12) for the real error.")}finally{r(!1)}};return s?I.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[120] flex items-center justify-center p-4 overflow-y-auto",children:I.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[48px] p-8 md:p-12 shadow-2xl relative my-auto animate-in zoom-in-95 duration-300",children:[I.jsx("button",{onClick:t,className:"absolute top-8 right-8 text-slate-400 hover:text-slate-900 bg-slate-100 p-2 rounded-full transition-colors",children:I.jsx(uR,{size:20})}),I.jsxs("div",{className:"mb-10",children:[I.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Report Issue"}),I.jsx("p",{className:"text-slate-500 font-bold mt-2",children:"Help optimize our urban grid."})]}),I.jsxs("form",{onSubmit:it,className:"space-y-8",children:[I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Title"}),I.jsx("input",{required:!0,className:"w-full bg-slate-50 border-2 border-transparent focus:border-indigo-500 rounded-3xl p-5 outline-none transition-all font-bold text-slate-900 shadow-inner",placeholder:"Issue name...",value:P.title,onChange:gt=>D({...P,title:gt.target.value})})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Category"}),I.jsxs("select",{className:"w-full bg-slate-50 border-2 border-transparent focus:border-indigo-500 rounded-3xl p-5 outline-none transition-all font-bold text-slate-900 shadow-inner appearance-none",value:P.category,onChange:gt=>D({...P,category:gt.target.value}),children:[I.jsx("option",{children:"Roads"}),I.jsx("option",{children:"Sanitation"}),I.jsx("option",{children:"Utilities"}),I.jsx("option",{children:"Vandalism"})]})]})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Description"}),I.jsx("textarea",{required:!0,rows:"3",className:"w-full bg-slate-50 border-2 border-transparent focus:border-indigo-500 rounded-3xl p-5 outline-none transition-all font-bold text-slate-900 shadow-inner",placeholder:"Provide details...",value:P.description,onChange:gt=>D({...P,description:gt.target.value})})]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[I.jsxs("div",{className:"relative group",children:[I.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:"image-upload"}),I.jsx("label",{htmlFor:"image-upload",className:"flex flex-col items-center justify-center w-full h-32 bg-slate-50 border-2 border-dashed border-slate-200 rounded-[32px] cursor-pointer hover:border-indigo-400 hover:bg-indigo-50 transition-all overflow-hidden",children:d?I.jsx("img",{src:d,className:"w-full h-full object-cover",alt:"Preview"}):I.jsxs(I.Fragment,{children:[I.jsx(Lx,{className:"text-slate-400 mb-2"}),I.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase",children:"Attach Photo"})]})})]}),I.jsx("button",{type:"button",onClick:q,className:`flex flex-col items-center justify-center w-full h-32 rounded-[32px] transition-all border-2 p-2 text-center ${P.location?"bg-emerald-50 border-emerald-200 text-emerald-600":"bg-slate-50 border-slate-100 text-slate-500 hover:border-indigo-400"}`,children:l?I.jsx(T0,{className:"animate-spin"}):P.location?I.jsxs(I.Fragment,{children:[I.jsx(jx,{className:"mb-1",size:20}),I.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest mb-1",children:"Pinned"}),x&&I.jsx("span",{className:"text-[9px] font-medium leading-tight line-clamp-2 px-2",children:x})]}):I.jsxs(I.Fragment,{children:[I.jsx($x,{className:"mb-2"}),I.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Pin Location"})]})})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Voice Message (Optional)"}),I.jsx("div",{className:"flex items-center gap-4 bg-slate-50 p-4 rounded-[24px] border-2 border-slate-100",children:!B&&!O?I.jsxs("button",{type:"button",onClick:G,className:"flex items-center gap-2 text-slate-500 hover:text-indigo-600 font-bold text-xs uppercase transition-colors",children:[I.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center group-hover:bg-indigo-100 transition-colors",children:I.jsx(tR,{size:18})}),I.jsx("span",{children:"Record Audio"})]}):O?I.jsxs("div",{className:"flex items-center gap-3 w-full",children:[I.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-100 text-rose-600 flex items-center justify-center animate-pulse",children:I.jsx("div",{className:"w-3 h-3 bg-rose-600 rounded-full"})}),I.jsx("span",{className:"text-rose-600 font-black text-xs uppercase tracking-widest",children:Ve(It)}),I.jsx("button",{type:"button",onClick:z,className:"ml-auto bg-slate-900 text-white px-4 py-2 rounded-full text-[10px] font-black uppercase hover:bg-slate-800",children:"Stop"})]}):I.jsxs("div",{className:"flex items-center gap-3 w-full",children:[I.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center",children:I.jsx(nR,{size:18,fill:"currentColor"})}),I.jsxs("div",{className:"flex-1",children:[I.jsx("span",{className:"text-slate-900 font-bold text-xs uppercase block",children:"Audio Recorded"}),I.jsx("span",{className:"text-slate-400 text-[10px] font-bold uppercase",children:"Ready to send"})]}),I.jsx("audio",{src:B,controls:!0,className:"hidden"}),I.jsx("button",{type:"button",onClick:ee,className:"p-2 text-rose-400 hover:text-rose-600 transition-colors",children:I.jsx(aR,{size:18})})]})})]}),I.jsxs("button",{type:"submit",disabled:n,className:"w-full bg-slate-900 text-white p-6 rounded-[32px] font-black text-xl shadow-2xl shadow-slate-200 hover:bg-indigo-600 hover:-translate-y-1 transition-all flex items-center justify-center gap-3 disabled:opacity-50 disabled:translate-y-0",children:[n?I.jsx(T0,{className:"animate-spin"}):I.jsx(sR,{size:24}),n?"UPLOADING...":"SUBMIT DATA"]})]})]})}):null},HD=({onOpenModal:s,reports:t})=>{const[n,r]=Z.useState(null),[l,h]=Z.useState({title:"",description:"",category:""}),d=S=>{switch(S){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-emerald-100 text-emerald-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=async S=>{if(window.confirm("Are you sure you want to delete this report?"))try{await vb(Ga(sr,"reports",S))}catch(O){console.error("Error deleting report:",O),alert("Failed to delete report. Please try again.")}},v=S=>{r(S.id),h({title:S.title,description:S.description,category:S.category})},E=async()=>{try{const S=Ga(sr,"reports",n);await bf(S,{title:l.title,description:l.description,category:l.category,updatedAt:new Date}),r(null)}catch(S){console.error("Error updating report:",S),alert("Failed to update report. Please try again.")}},x=()=>{r(null),h({title:"",description:"",category:""})};return I.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.length===0?I.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[I.jsxs("h2",{className:"text-4xl md:text-6xl font-black uppercase text-center mb-8",children:["Optimize Your ",I.jsx("span",{className:"text-indigo-600 italic",children:"Grid."})]}),I.jsx("button",{onClick:s,className:"animate-glow bg-indigo-600 text-white px-12 py-5 rounded-[32px] text-xl font-bold",children:"+ GET STARTED"})]}):I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-4 md:px-8 mb-20",children:t.map(S=>I.jsxs("div",{className:`bg-white rounded-[32px] overflow-hidden shadow-lg border-2 transition-all hover:shadow-2xl group relative ${S.status==="resolved"?"bg-emerald-50 border-emerald-200":"border-slate-100"}`,children:[S.status==="pending"&&I.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[I.jsx("button",{onClick:()=>v(S),className:"p-2 bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200 transition-colors",title:"Edit Report",children:""}),I.jsx("button",{onClick:()=>y(S.id),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors",title:"Delete Report",children:""})]}),I.jsx("div",{className:"h-40 md:h-48 bg-slate-200",children:S.imageUrl?I.jsx("img",{src:S.imageUrl,className:"w-full h-full object-cover",alt:"Report"}):I.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-bold uppercase",children:"No Image"})}),I.jsxs("div",{className:"p-6",children:[I.jsxs("div",{className:"flex justify-between items-start mb-4",children:[I.jsx("h4",{className:"font-bold text-xl",children:S.title}),I.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase ${d(S.status)}`,children:S.status?.toUpperCase()||"PENDING"})]}),I.jsx("p",{className:"text-slate-500 text-sm mb-4 line-clamp-2",children:S.description}),S.address&&I.jsxs("div",{className:"flex items-start gap-1 mb-4 text-xs text-slate-500",children:[I.jsx("span",{className:"shrink-0",children:""}),I.jsx("span",{className:"font-medium line-clamp-1",title:S.address,children:S.address})]}),S.audioUrl&&I.jsxs("div",{className:"mb-4 p-3 bg-indigo-50 rounded-2xl flex items-center gap-3 border border-indigo-100",children:[I.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center flex-shrink-0 font-bold text-xs",children:""}),I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-500 block mb-1",children:"Voice Message"}),I.jsx("audio",{controls:!0,src:S.audioUrl,className:"w-full h-6"})]})]}),S.adminUpdate&&I.jsxs("div",{className:"mt-4 p-4 bg-slate-50 rounded-2xl border-l-4 border-indigo-500 animate-slide-up",children:[I.jsx("p",{className:"text-xs font-black text-indigo-600 uppercase mb-1",children:"Official Admin Response:"}),I.jsxs("p",{className:"text-slate-700 italic",children:['"',S.adminUpdate,'"']})]}),S.status==="resolved"&&S.adminResolutionNote&&I.jsxs("div",{className:"mt-4 p-4 bg-emerald-50 border border-emerald-200 rounded-2xl animate-fade-in resolved-card",children:[I.jsx("h5",{className:"text-emerald-700 font-bold text-xs uppercase",children:"Resolution Complete:"}),I.jsxs("p",{className:"text-emerald-900 text-sm mt-1 italic",children:['"',S.adminResolutionNote,'"']}),S.resolutionImageUrl&&I.jsx("img",{src:S.resolutionImageUrl,className:"w-full h-32 object-cover rounded-xl mt-3",alt:"Resolution proof"})]})]})]},S.id))}),n&&I.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:I.jsxs("div",{className:"bg-white w-full max-w-md rounded-[32px] p-6 shadow-2xl",children:[I.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit Report"}),I.jsxs("div",{className:"space-y-4",children:[I.jsx("input",{type:"text",value:l.title,onChange:S=>h({...l,title:S.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl",placeholder:"Title"}),I.jsxs("select",{value:l.category,onChange:S=>h({...l,category:S.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl",children:[I.jsx("option",{children:"Roads"}),I.jsx("option",{children:"Sanitation"}),I.jsx("option",{children:"Utilities"}),I.jsx("option",{children:"Vandalism"})]}),I.jsx("textarea",{value:l.description,onChange:S=>h({...l,description:S.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl",rows:"3",placeholder:"Description"})]}),I.jsxs("div",{className:"flex gap-3 mt-6",children:[I.jsx("button",{onClick:E,className:"flex-1 bg-indigo-600 text-white py-3 rounded-xl font-bold",children:"Save"}),I.jsx("button",{onClick:x,className:"flex-1 bg-slate-200 text-slate-700 py-3 rounded-xl font-bold",children:"Cancel"})]})]})})]}),I.jsx("footer",{className:"w-full py-16 px-10 bg-slate-900 text-white mt-20 rounded-t-[50px]",children:I.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12",children:[I.jsxs("div",{className:"animate-reveal",children:[I.jsx("h3",{className:"text-3xl font-black italic uppercase text-indigo-500 mb-4",children:"UrbanPulse"}),I.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"The next generation of urban logistics. Bridging the gap between citizens and administrators."})]}),I.jsxs("div",{className:"space-y-4",children:[I.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Connect"}),I.jsx("p",{className:"text-slate-300",children:" urbanpulse@gmail.com"}),I.jsx("p",{className:"text-slate-300",children:" +91 8008207802"})]}),I.jsxs("div",{className:"space-y-4",children:[I.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"HQ Address"}),I.jsxs("p",{className:"text-slate-300",children:["Level 7, T-Hub Phase 2,",I.jsx("br",{}),"Madhapur, Hyderabad,",I.jsx("br",{}),"Telangana 500081"]})]})]})})]})};function _A(s,t){const n=Z.useRef(t);Z.useEffect(function(){t!==n.current&&s.attributionControl!=null&&(n.current!=null&&s.attributionControl.removeAttribution(n.current),t!=null&&s.attributionControl.addAttribution(t)),n.current=t},[s,t])}const qD=1;function FD(s){return Object.freeze({__version:qD,map:s})}function GD(s,t){return Object.freeze({...s,...t})}const a_=Z.createContext(null);function yA(){const s=Z.use(a_);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function ZD(s){function t(n,r){const{instance:l,context:h}=s(n).current;Z.useImperativeHandle(r,()=>l);const{children:d}=n;return d==null?null:Sp.createElement(a_,{value:h},d)}return Z.forwardRef(t)}function KD(s){function t(n,r){const[l,h]=Z.useState(!1),{instance:d}=s(n,h).current;Z.useImperativeHandle(r,()=>d),Z.useEffect(function(){l&&d.update()},[d,l,n.children]);const y=d._contentNode;return y?bx.createPortal(n.children,y):null}return Z.forwardRef(t)}function YD(s){function t(n,r){const{instance:l}=s(n).current;return Z.useImperativeHandle(r,()=>l),null}return Z.forwardRef(t)}function vA(s,t){const n=Z.useRef(void 0);Z.useEffect(function(){return t!=null&&s.instance.on(t),n.current=t,function(){n.current!=null&&s.instance.off(n.current),n.current=null}},[s,t])}function o_(s,t){const n=s.pane??t.pane;return n?{...s,pane:n}:s}function QD(s,t){return function(r,l){const h=yA(),d=s(o_(r,h),h);return _A(h.map,r.attribution),vA(d.current,r.eventHandlers),t(d.current,h,r,l),d}}var gc={exports:{}};var XD=gc.exports,oT;function WD(){return oT||(oT=1,(function(s,t){(function(n,r){r(t)})(XD,(function(n){var r="1.9.4";function l(a){var u,m,_,w;for(m=1,_=arguments.length;m<_;m++){w=arguments[m];for(u in w)a[u]=w[u]}return a}var h=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function d(a,u){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var _=m.call(arguments,2);return function(){return a.apply(u,_.length?_.concat(m.call(arguments)):arguments)}}var y=0;function v(a){return"_leaflet_id"in a||(a._leaflet_id=++y),a._leaflet_id}function E(a,u,m){var _,w,R,k;return k=function(){_=!1,w&&(R.apply(m,w),w=!1)},R=function(){_?w=arguments:(a.apply(m,arguments),setTimeout(k,u),_=!0)},R}function x(a,u,m){var _=u[1],w=u[0],R=_-w;return a===_&&m?a:((a-w)%R+R)%R+w}function S(){return!1}function O(a,u){if(u===!1)return a;var m=Math.pow(10,u===void 0?6:u);return Math.round(a*m)/m}function F(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function nt(a){return F(a).split(/\s+/)}function Q(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var m in u)a.options[m]=u[m];return a.options}function B(a,u,m){var _=[];for(var w in a)_.push(encodeURIComponent(m?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var lt=/\{ *([\w_ -]+) *\}/g;function at(a,u){return a.replace(lt,function(m,_){var w=u[_];if(w===void 0)throw new Error("No value provided for variable "+m);return typeof w=="function"&&(w=w(u)),w})}var ht=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function It(a,u){for(var m=0;m<a.length;m++)if(a[m]===u)return m;return-1}var Nt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Mt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var V=0;function P(a){var u=+new Date,m=Math.max(0,16-(u-V));return V=u+m,window.setTimeout(a,m)}var D=window.requestAnimationFrame||Mt("RequestAnimationFrame")||P,q=window.cancelAnimationFrame||Mt("CancelAnimationFrame")||Mt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function j(a,u,m){if(m&&D===P)a.call(u);else return D.call(window,d(a,u))}function G(a){a&&q.call(window,a)}var z={__proto__:null,extend:l,create:h,bind:d,get lastId(){return y},stamp:v,throttle:E,wrapNum:x,falseFn:S,formatNum:O,trim:F,splitWords:nt,setOptions:Q,getParamString:B,template:at,isArray:ht,indexOf:It,emptyImageUrl:Nt,requestFn:D,cancelFn:q,requestAnimFrame:j,cancelAnimFrame:G};function ee(){}ee.extend=function(a){var u=function(){Q(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,_=h(m);_.constructor=u,u.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return a.statics&&l(u,a.statics),a.includes&&(Ve(a.includes),l.apply(null,[_].concat(a.includes))),l(_,a),delete _.statics,delete _.includes,_.options&&(_.options=m.options?h(m.options):{},l(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,k=_._initHooks.length;R<k;R++)_._initHooks[R].call(this)}},u},ee.include=function(a){var u=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},ee.mergeOptions=function(a){return l(this.prototype.options,a),this},ee.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Ve(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=ht(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var it={on:function(a,u,m){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u);else{a=nt(a);for(var w=0,R=a.length;w<R;w++)this._on(a[w],u,m)}return this},off:function(a,u,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],u);else{a=nt(a);for(var w=arguments.length===1,R=0,k=a.length;R<k;R++)w?this._off(a[R]):this._off(a[R],u,m)}return this},_on:function(a,u,m,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,m)===!1){m===this&&(m=void 0);var w={fn:u,ctx:m};_&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,u,m){var _,w,R;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,R=_.length;w<R;w++)_[w].fn=S;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var k=this._listens(a,u,m);if(k!==!1){var Y=_[k];this._firingCount&&(Y.fn=S,this._events[a]=_=_.slice()),_.splice(k,1)}}},fire:function(a,u,m){if(!this.listens(a,m))return this;var _=l({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var R=0,k=w.length;R<k;R++){var Y=w[R],J=Y.fn;Y.once&&this.off(a,J,Y.ctx),J.call(Y.ctx||this,_)}this._firingCount--}}return m&&this._propagateEvent(_),this},listens:function(a,u,m,_){typeof a!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(_=!!u,w=void 0,m=void 0);var R=this._events&&this._events[a];if(R&&R.length&&this._listens(a,w,m)!==!1)return!0;if(_){for(var k in this._eventParents)if(this._eventParents[k].listens(a,u,m,_))return!0}return!1},_listens:function(a,u,m){if(!this._events)return!1;var _=this._events[a]||[];if(!u)return!!_.length;m===this&&(m=void 0);for(var w=0,R=_.length;w<R;w++)if(_[w].fn===u&&_[w].ctx===m)return w;return!1},once:function(a,u,m){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u,!0);else{a=nt(a);for(var w=0,R=a.length;w<R;w++)this._on(a[w],u,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[v(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[v(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};it.addEventListener=it.on,it.removeEventListener=it.clearAllEventListeners=it.off,it.addOneTimeEventListener=it.once,it.fireEvent=it.fire,it.hasEventListeners=it.listens;var gt=ee.extend(it);function ct(a,u,m){this.x=m?Math.round(a):a,this.y=m?Math.round(u):u}var kt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};ct.prototype={clone:function(){return new ct(this.x,this.y)},add:function(a){return this.clone()._add(yt(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(yt(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new ct(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new ct(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=kt(this.x),this.y=kt(this.y),this},distanceTo:function(a){a=yt(a);var u=a.x-this.x,m=a.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(a){return a=yt(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=yt(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function yt(a,u,m){return a instanceof ct?a:ht(a)?new ct(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new ct(a.x,a.y):new ct(a,u,m)}function M(a,u){if(a)for(var m=u?[a,u]:a,_=0,w=m.length;_<w;_++)this.extend(m[_])}M.prototype={extend:function(a){var u,m;if(!a)return this;if(a instanceof ct||typeof a[0]=="number"||"x"in a)u=m=yt(a);else if(a=rt(a),u=a.min,m=a.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return yt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return yt(this.min.x,this.max.y)},getTopRight:function(){return yt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,m;return typeof a[0]=="number"||a instanceof ct?a=yt(a):a=rt(a),a instanceof M?(u=a.min,m=a.max):u=m=a,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=rt(a);var u=this.min,m=this.max,_=a.min,w=a.max,R=w.x>=u.x&&_.x<=m.x,k=w.y>=u.y&&_.y<=m.y;return R&&k},overlaps:function(a){a=rt(a);var u=this.min,m=this.max,_=a.min,w=a.max,R=w.x>u.x&&_.x<m.x,k=w.y>u.y&&_.y<m.y;return R&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,m=this.max,_=Math.abs(u.x-m.x)*a,w=Math.abs(u.y-m.y)*a;return rt(yt(u.x-_,u.y-w),yt(m.x+_,m.y+w))},equals:function(a){return a?(a=rt(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function rt(a,u){return!a||a instanceof M?a:new M(a,u)}function _t(a,u){if(a)for(var m=u?[a,u]:a,_=0,w=m.length;_<w;_++)this.extend(m[_])}_t.prototype={extend:function(a){var u=this._southWest,m=this._northEast,_,w;if(a instanceof bt)_=a,w=a;else if(a instanceof _t){if(_=a._southWest,w=a._northEast,!_||!w)return this}else return a?this.extend(wt(a)||vt(a)):this;return!u&&!m?(this._southWest=new bt(_.lat,_.lng),this._northEast=new bt(w.lat,w.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),m.lat=Math.max(w.lat,m.lat),m.lng=Math.max(w.lng,m.lng)),this},pad:function(a){var u=this._southWest,m=this._northEast,_=Math.abs(u.lat-m.lat)*a,w=Math.abs(u.lng-m.lng)*a;return new _t(new bt(u.lat-_,u.lng-w),new bt(m.lat+_,m.lng+w))},getCenter:function(){return new bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof bt||"lat"in a?a=wt(a):a=vt(a);var u=this._southWest,m=this._northEast,_,w;return a instanceof _t?(_=a.getSouthWest(),w=a.getNorthEast()):_=w=a,_.lat>=u.lat&&w.lat<=m.lat&&_.lng>=u.lng&&w.lng<=m.lng},intersects:function(a){a=vt(a);var u=this._southWest,m=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),R=w.lat>=u.lat&&_.lat<=m.lat,k=w.lng>=u.lng&&_.lng<=m.lng;return R&&k},overlaps:function(a){a=vt(a);var u=this._southWest,m=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),R=w.lat>u.lat&&_.lat<m.lat,k=w.lng>u.lng&&_.lng<m.lng;return R&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=vt(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function vt(a,u){return a instanceof _t?a:new _t(a,u)}function bt(a,u,m){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,m!==void 0&&(this.alt=+m)}bt.prototype={equals:function(a,u){if(!a)return!1;a=wt(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+O(this.lat,a)+", "+O(this.lng,a)+")"},distanceTo:function(a){return we.distance(this,wt(a))},wrap:function(){return we.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,m=u/Math.cos(Math.PI/180*this.lat);return vt([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new bt(this.lat,this.lng,this.alt)}};function wt(a,u,m){return a instanceof bt?a:ht(a)&&typeof a[0]!="object"?a.length===3?new bt(a[0],a[1],a[2]):a.length===2?new bt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new bt(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new bt(a,u,m)}var qt={latLngToPoint:function(a,u){var m=this.projection.project(a),_=this.scale(u);return this.transformation._transform(m,_)},pointToLatLng:function(a,u){var m=this.scale(u),_=this.transformation.untransform(a,m);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(a),_=this.transformation.transform(u.min,m),w=this.transformation.transform(u.max,m);return new M(_,w)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?x(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?x(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new bt(m,u,_)},wrapLatLngBounds:function(a){var u=a.getCenter(),m=this.wrapLatLng(u),_=u.lat-m.lat,w=u.lng-m.lng;if(_===0&&w===0)return a;var R=a.getSouthWest(),k=a.getNorthEast(),Y=new bt(R.lat-_,R.lng-w),J=new bt(k.lat-_,k.lng-w);return new _t(Y,J)}},we=l({},qt,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var m=Math.PI/180,_=a.lat*m,w=u.lat*m,R=Math.sin((u.lat-a.lat)*m/2),k=Math.sin((u.lng-a.lng)*m/2),Y=R*R+Math.cos(_)*Math.cos(w)*k*k,J=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*J}}),xe=6378137,fs={R:xe,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,m=this.MAX_LATITUDE,_=Math.max(Math.min(m,a.lat),-m),w=Math.sin(_*u);return new ct(this.R*a.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var u=180/Math.PI;return new bt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=xe*Math.PI;return new M([-a,-a],[a,a])})()};function Ls(a,u,m,_){if(ht(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=m,this._d=_}Ls.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new ct((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function ji(a,u,m,_){return new Ls(a,u,m,_)}var Ds=l({},we,{code:"EPSG:3857",projection:fs,transformation:(function(){var a=.5/(Math.PI*fs.R);return ji(a,.5,-a,.5)})()}),Hi=l({},Ds,{code:"EPSG:900913"});function $r(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Ms(a,u){var m="",_,w,R,k,Y,J;for(_=0,R=a.length;_<R;_++){for(Y=a[_],w=0,k=Y.length;w<k;w++)J=Y[w],m+=(w?"L":"M")+J.x+" "+J.y;m+=u?Rt.svg?"z":"x":""}return m||"M0 0"}var mr=document.documentElement.style,ks="ActiveXObject"in window,qe=ks&&!document.addEventListener,Fe="msLaunchUri"in navigator&&!("documentMode"in document),qi=yn("webkit"),fl=yn("android"),lo=yn("android 2")||yn("android 3"),Cn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pr=fl&&yn("Google")&&Cn<537&&!("AudioNode"in window),gr=!!window.opera,Jr=!Fe&&yn("chrome"),ds=yn("gecko")&&!qi&&!gr&&!ks,Tu=!Jr&&yn("safari"),uo=yn("phantom"),co="OTransition"in mr,dl=navigator.platform.indexOf("Win")===0,Jn=ks&&"transition"in mr,Je="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!lo,Gn="MozPerspective"in mr,ze=!window.L_DISABLE_3D&&(Jn||Je||Gn)&&!co&&!uo,Vs=typeof orientation<"u"||yn("mobile"),ta=Vs&&qi,ml=Vs&&Je,Ei=!window.PointerEvent&&window.MSPointerEvent,zs=!!(window.PointerEvent||Ei),Ue="ontouchstart"in window||!!window.TouchEvent,Fi=!window.L_NO_TOUCH&&(Ue||zs),Gi=Vs&&gr,Ti=Vs&&ds,wu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,pl=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",S,u),window.removeEventListener("testPassiveEventSupport",S,u)}catch{}return a})(),Zi=(function(){return!!document.createElement("canvas").getContext})(),ms=!!(document.createElementNS&&$r("svg").createSVGRect),bu=!!ms&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),_r=!ms&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),ho=navigator.platform.indexOf("Mac")===0,fo=navigator.platform.indexOf("Linux")===0;function yn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Rt={ie:ks,ielt9:qe,edge:Fe,webkit:qi,android:fl,android23:lo,androidStock:pr,opera:gr,chrome:Jr,gecko:ds,safari:Tu,phantom:uo,opera12:co,win:dl,ie3d:Jn,webkit3d:Je,gecko3d:Gn,any3d:ze,mobile:Vs,mobileWebkit:ta,mobileWebkit3d:ml,msPointer:Ei,pointer:zs,touch:Fi,touchNative:Ue,mobileOpera:Gi,mobileGecko:Ti,retina:wu,passiveEvents:pl,canvas:Zi,svg:ms,vml:_r,inlineSvg:bu,mac:ho,linux:fo},mo=Rt.msPointer?"MSPointerDown":"pointerdown",ti=Rt.msPointer?"MSPointerMove":"pointermove",ei=Rt.msPointer?"MSPointerUp":"pointerup",Be=Rt.msPointer?"MSPointerCancel":"pointercancel",Ge={touchstart:mo,touchmove:ti,touchend:ei,touchcancel:Be},wi={touchstart:Yi,touchmove:vn,touchend:vn,touchcancel:vn},bi={},gl=!1;function _l(a,u,m){return u==="touchstart"&&ni(),wi[u]?(m=wi[u].bind(this,m),a.addEventListener(Ge[u],m,!1),m):(console.warn("wrong event specified:",u),S)}function yl(a,u,m){if(!Ge[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(Ge[u],m,!1)}function Ki(a){bi[a.pointerId]=a}function ea(a){bi[a.pointerId]&&(bi[a.pointerId]=a)}function Ai(a){delete bi[a.pointerId]}function ni(){gl||(document.addEventListener(mo,Ki,!0),document.addEventListener(ti,ea,!0),document.addEventListener(ei,Ai,!0),document.addEventListener(Be,Ai,!0),gl=!0)}function vn(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in bi)u.touches.push(bi[m]);u.changedTouches=[u],a(u)}}function Yi(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Le(u),vn(a,u)}function Ze(a){var u={},m,_;for(_ in a)m=a[_],u[_]=m&&m.bind?m.bind(a):m;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var po=200;function go(a,u){a.addEventListener("dblclick",u);var m=0,_;function w(R){if(R.detail!==1){_=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var k=qs(R);if(!(k.some(function(J){return J instanceof HTMLLabelElement&&J.attributes.for})&&!k.some(function(J){return J instanceof HTMLInputElement||J instanceof HTMLSelectElement}))){var Y=Date.now();Y-m<=po?(_++,_===2&&u(Ze(R))):_=1,m=Y}}}return a.addEventListener("click",w),{dblclick:u,simDblclick:w}}function Qi(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var ii=vr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ps=vr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),na=ps==="webkitTransition"||ps==="OTransition"?ps+"End":"transitionend";function ia(a){return typeof a=="string"?document.getElementById(a):a}function Us(a,u){var m=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);m=_?_[u]:null}return m==="auto"?null:m}function Xt(a,u,m){var _=document.createElement(a);return _.className=u||"",m&&m.appendChild(_),_}function Wt(a){var u=a.parentNode;u&&u.removeChild(a)}function Oe(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Pe(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function Zn(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function yr(a,u){if(a.classList!==void 0)return a.classList.contains(u);var m=Xi(a);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function St(a,u){if(a.classList!==void 0)for(var m=nt(u),_=0,w=m.length;_<w;_++)a.classList.add(m[_]);else if(!yr(a,u)){var R=Xi(a);si(a,(R?R+" ":"")+u)}}function ye(a,u){a.classList!==void 0?a.classList.remove(u):si(a,F((" "+Xi(a)+" ").replace(" "+u+" "," ")))}function si(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Xi(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Re(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&sa(a,u)}function sa(a,u){var m=!1,_="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):a.style.filter+=" progid:"+_+"(opacity="+u+")"}function vr(a){for(var u=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in u)return a[m];return!1}function Si(a,u,m){var _=u||new ct(0,0);a.style[ii]=(Rt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(m?" scale("+m+")":"")}function ve(a,u){a._leaflet_pos=u,Rt.any3d?Si(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Wi(a){return a._leaflet_pos||new ct(0,0)}var ri,rn,ra;if("onselectstart"in document)ri=function(){Vt(window,"selectstart",Le)},rn=function(){he(window,"selectstart",Le)};else{var gs=vr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ri=function(){if(gs){var a=document.documentElement.style;ra=a[gs],a[gs]="none"}},rn=function(){gs&&(document.documentElement.style[gs]=ra,ra=void 0)}}function Er(){Vt(window,"dragstart",Le)}function Bs(){he(window,"dragstart",Le)}var Tr,$i;function js(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Mn(),Tr=a,$i=a.style.outlineStyle,a.style.outlineStyle="none",Vt(window,"keydown",Mn))}function Mn(){Tr&&(Tr.style.outlineStyle=$i,Tr=void 0,$i=void 0,he(window,"keydown",Mn))}function aa(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function kn(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var Hs={__proto__:null,TRANSFORM:ii,TRANSITION:ps,TRANSITION_END:na,get:ia,getStyle:Us,create:Xt,remove:Wt,empty:Oe,toFront:Pe,toBack:Zn,hasClass:yr,addClass:St,removeClass:ye,setClass:si,getClass:Xi,setOpacity:Re,testProp:vr,setTransform:Si,setPosition:ve,getPosition:Wi,get disableTextSelection(){return ri},get enableTextSelection(){return rn},disableImageDrag:Er,enableImageDrag:Bs,preventOutline:js,restoreOutline:Mn,getSizedParentNode:aa,getScale:kn};function Vt(a,u,m,_){if(u&&typeof u=="object")for(var w in u)Vn(a,w,u[w],m);else{u=nt(u);for(var R=0,k=u.length;R<k;R++)Vn(a,u[R],m,_)}return this}var En="_leaflet_events";function he(a,u,m,_){if(arguments.length===1)_s(a),delete a[En];else if(u&&typeof u=="object")for(var w in u)ys(a,w,u[w],m);else if(u=nt(u),arguments.length===2)_s(a,function(Y){return It(u,Y)!==-1});else for(var R=0,k=u.length;R<k;R++)ys(a,u[R],m,_);return this}function _s(a,u){for(var m in a[En]){var _=m.split(/\d/)[0];(!u||u(_))&&ys(a,_,null,null,m)}}var Kn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vn(a,u,m,_){var w=u+v(m)+(_?"_"+v(_):"");if(a[En]&&a[En][w])return this;var R=function(Y){return m.call(_||a,Y||window.event)},k=R;!Rt.touchNative&&Rt.pointer&&u.indexOf("touch")===0?R=_l(a,u,R):Rt.touch&&u==="dblclick"?R=go(a,R):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Kn[u]||u,R,Rt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(R=function(Y){Y=Y||window.event,Ci(a,Y)&&k(Y)},a.addEventListener(Kn[u],R,!1)):a.addEventListener(u,k,!1):a.attachEvent("on"+u,R),a[En]=a[En]||{},a[En][w]=R}function ys(a,u,m,_,w){w=w||u+v(m)+(_?"_"+v(_):"");var R=a[En]&&a[En][w];if(!R)return this;!Rt.touchNative&&Rt.pointer&&u.indexOf("touch")===0?yl(a,u,R):Rt.touch&&u==="dblclick"?Qi(a,R):"removeEventListener"in a?a.removeEventListener(Kn[u]||u,R,!1):a.detachEvent("on"+u,R),a[En][w]=null}function ne(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function ai(a){return Vn(a,"wheel",ne),this}function vs(a){return Vt(a,"mousedown touchstart dblclick contextmenu",ne),a._leaflet_disable_click=!0,this}function Le(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function xi(a){return Le(a),ne(a),this}function qs(a){if(a.composedPath)return a.composedPath();for(var u=[],m=a.target;m;)u.push(m),m=m.parentNode;return u}function Ji(a,u){if(!u)return new ct(a.clientX,a.clientY);var m=kn(u),_=m.boundingClientRect;return new ct((a.clientX-_.left)/m.x-u.clientLeft,(a.clientY-_.top)/m.y-u.clientTop)}var Ri=Rt.linux&&Rt.chrome?window.devicePixelRatio:Rt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function an(a){return Rt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Ri:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ci(a,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var ts={__proto__:null,on:Vt,off:he,stopPropagation:ne,disableScrollPropagation:ai,disableClickPropagation:vs,preventDefault:Le,stop:xi,getPropagationPath:qs,getMousePosition:Ji,getWheelDelta:an,isExternalTarget:Ci,addListener:Vt,removeListener:he},Es=gt.extend({run:function(a,u,m,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Wi(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var m=this._startPos.add(this._offset.multiplyBy(a));u&&m._round(),ve(this._el,m),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Qt=gt.extend({options:{crs:Ds,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=Q(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(wt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ps&&Rt.any3d&&!Rt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Vt(this._proxy,na,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(wt(a),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=l({animate:m.animate},m.zoom),m.pan=l({animate:m.animate,duration:m.duration},m.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,m.zoom):this._tryAnimatedPan(a,m.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,m){var _=this.getZoomScale(u),w=this.getSize().divideBy(2),R=a instanceof ct?a:this.latLngToContainerPoint(a),k=R.subtract(w).multiplyBy(1-1/_),Y=this.containerPointToLatLng(w.add(k));return this.setView(Y,u,{zoom:m})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():vt(a);var m=yt(u.paddingTopLeft||u.padding||[0,0]),_=yt(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(a,!1,m.add(_));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var R=_.subtract(m).divideBy(2),k=this.project(a.getSouthWest(),w),Y=this.project(a.getNorthEast(),w),J=this.unproject(k.add(Y).divideBy(2).add(R),w);return{center:J,zoom:w}},fitBounds:function(a,u){if(a=vt(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=yt(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Es,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){St(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,m){if(m=m||{},m.animate===!1||!Rt.any3d)return this.setView(a,u,m);this._stop();var _=this.project(this.getCenter()),w=this.project(a),R=this.getSize(),k=this._zoom;a=wt(a),u=u===void 0?k:u;var Y=Math.max(R.x,R.y),J=Y*this.getZoomScale(k,u),dt=w.distanceTo(_)||1,Tt=1.42,Pt=Tt*Tt;function Kt(je){var Ss=je?-1:1,Cr=je?J:Y,Iu=J*J-Y*Y+Ss*Pt*Pt*dt*dt,ko=2*Cr*Pt*dt,Vo=Iu/ko,Js=Math.sqrt(Vo*Vo+1)-Vo,xs=Js<1e-9?-18:Math.log(Js);return xs}function mn(je){return(Math.exp(je)-Math.exp(-je))/2}function Ke(je){return(Math.exp(je)+Math.exp(-je))/2}function Xn(je){return mn(je)/Ke(je)}var fe=Kt(0);function de(je){return Y*(Ke(fe)/Ke(fe+Tt*je))}function $t(je){return Y*(Ke(fe)*Xn(fe+Tt*je)-mn(fe))/Pt}function Ws(je){return 1-Math.pow(1-je,1.5)}var hi=Date.now(),Ol=(Kt(1)-fe)/Tt,$s=m.duration?1e3*m.duration:1e3*Ol*.8;function Cu(){var je=(Date.now()-hi)/$s,Ss=Ws(je)*Ol;je<=1?(this._flyToFrame=j(Cu,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy($t(Ss)/dt)),k),this.getScaleZoom(Y/de(Ss),k),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Cu.call(this),this},flyToBounds:function(a,u){var m=this._getBoundsCenterZoom(a,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(a){return a=vt(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var m=this.getCenter(),_=this._limitCenter(m,this._zoom,vt(a));return m.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var m=yt(u.paddingTopLeft||u.padding||[0,0]),_=yt(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),R=this.project(a),k=this.getPixelBounds(),Y=rt([k.min.add(m),k.max.subtract(_)]),J=Y.getSize();if(!Y.contains(R)){this._enforcingBounds=!0;var dt=R.subtract(Y.getCenter()),Tt=Y.extend(R).getSize().subtract(J);w.x+=dt.x<0?-Tt.x:Tt.x,w.y+=dt.y<0?-Tt.y:Tt.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),_=u.divideBy(2).round(),w=m.divideBy(2).round(),R=_.subtract(w);return!R.x&&!R.y?this:(a.animate&&a.pan?this.panBy(R):(a.pan&&this._rawPanBy(R),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=d(this._handleGeolocationResponse,this),m=d(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,a):navigator.geolocation.getCurrentPosition(u,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,m=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,m=a.coords.longitude,_=new bt(u,m),w=_.toBounds(a.coords.accuracy*2),R=this._locateOptions;if(R.setView){var k=this.getBoundsZoom(w);this.setView(_,R.maxZoom?Math.min(k,R.maxZoom):k)}var Y={latlng:_,bounds:w,timestamp:a.timestamp};for(var J in a.coords)typeof a.coords[J]=="number"&&(Y[J]=a.coords[J]);this.fire("locationfound",Y)}},addHandler:function(a,u){if(!u)return this;var m=this[a]=new u(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Wt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=Xt("div",m,u||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new _t(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,m){a=vt(a),m=yt(m||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),R=this.getMaxZoom(),k=a.getNorthWest(),Y=a.getSouthEast(),J=this.getSize().subtract(m),dt=rt(this.project(Y,_),this.project(k,_)).getSize(),Tt=Rt.any3d?this.options.zoomSnap:1,Pt=J.x/dt.x,Kt=J.y/dt.y,mn=u?Math.max(Pt,Kt):Math.min(Pt,Kt);return _=this.getScaleZoom(mn,_),Tt&&(_=Math.round(_/(Tt/100))*(Tt/100),_=u?Math.ceil(_/Tt)*Tt:Math.floor(_/Tt)*Tt),Math.max(w,Math.min(R,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ct(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var m=this._getTopLeftPoint(a,u);return new M(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(a)/m.scale(u)},getScaleZoom:function(a,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var _=m.zoom(a*m.scale(u));return isNaN(_)?1/0:_},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(wt(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(yt(a),u)},layerPointToLatLng:function(a){var u=yt(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(wt(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(wt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(vt(a))},distance:function(a,u){return this.options.crs.distance(wt(a),wt(u))},containerPointToLayerPoint:function(a){return yt(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return yt(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(yt(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wt(a)))},mouseEventToContainerPoint:function(a){return Ji(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=ia(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Vt(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Rt.any3d,St(a,"leaflet-container"+(Rt.touch?" leaflet-touch":"")+(Rt.retina?" leaflet-retina":"")+(Rt.ielt9?" leaflet-oldie":"")+(Rt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Us(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new ct(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(St(a.markerPane,"leaflet-zoom-hide"),St(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,m){ve(this._mapPane,new ct(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,m)._move(a,u)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,m,_){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?m&&m.pinch&&this.fire("zoom",m):((w||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){ve(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[v(this._container)]=this;var u=a?he:Vt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Rt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var m=[],_,w=u==="mouseout"||u==="mouseover",R=a.target||a.srcElement,k=!1;R;){if(_=this._targets[v(R)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){k=!0;break}if(_&&_.listens(u,!0)&&(w&&!Ci(R,a)||(m.push(_),w))||R===this._container)break;R=R.parentNode}return!m.length&&!k&&!w&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var m=a.type;m==="mousedown"&&js(u),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,m){if(a.type==="click"){var _=l({},a);_.type="preclick",this._fireDOMEvent(_,_.type,m)}var w=this._findEventTargets(a,u);if(m){for(var R=[],k=0;k<m.length;k++)m[k].listens(u,!0)&&R.push(m[k]);w=R.concat(w)}if(w.length){u==="contextmenu"&&Le(a);var Y=w[0],J={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var dt=Y.getLatLng&&(!Y._radius||Y._radius<=10);J.containerPoint=dt?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(a),J.layerPoint=this.containerPointToLayerPoint(J.containerPoint),J.latlng=dt?Y.getLatLng():this.layerPointToLatLng(J.layerPoint)}for(k=0;k<w.length;k++)if(w[k].fire(u,J,!0),J.originalEvent._stopped||w[k].options.bubblingMouseEvents===!1&&It(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Wi(this._mapPane)||new ct(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var m=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var m=this.getSize()._divideBy(2);return this.project(a,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,m){var _=this._getNewPixelOrigin(m,u);return this.project(a,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,u,m){var _=this._getNewPixelOrigin(m,u);return rt([this.project(a.getSouthWest(),u)._subtract(_),this.project(a.getNorthWest(),u)._subtract(_),this.project(a.getSouthEast(),u)._subtract(_),this.project(a.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,m){if(!m)return a;var _=this.project(a,u),w=this.getSize().divideBy(2),R=new M(_.subtract(w),_.add(w)),k=this._getBoundsOffset(R,m,u);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?a:this.unproject(_.add(k),u)},_limitOffset:function(a,u){if(!u)return a;var m=this.getPixelBounds(),_=new M(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(a,u,m){var _=rt(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),w=_.min.subtract(a.min),R=_.max.subtract(a.max),k=this._rebound(w.x,-R.x),Y=this._rebound(w.y,-R.y);return new ct(k,Y)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),m=this.getMaxZoom(),_=Rt.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(u,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var m=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var a=this._proxy=Xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var m=ii,_=this._proxy.style[m];Si(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Si(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),w=this._getCenterOffset(a)._divideBy(1-1/_);return m.animate!==!0&&!this.getSize().contains(w)?!1:(j(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,m,_){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,St(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fs(a,u){return new Qt(a,u)}var Tn=ee.extend({options:{position:"topright"},initialize:function(a){Q(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),m=this.getPosition(),_=a._controlCorners[m];return St(u,"leaflet-control"),m.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),zn=function(a){return new Tn(a)};Qt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",m=this._controlContainer=Xt("div",u+"control-container",this._container);function _(w,R){var k=u+w+" "+u+R;a[w+R]=Xt("div",k,m)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Wt(this._controlCorners[a]);Wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var wr=Tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,m,_){return m<_?-1:_<m?1:0}},initialize:function(a,u,m){Q(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Tn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){St(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(St(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=Xt("div",a),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),vs(u),ai(u);var _=this._section=Xt("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Vt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Xt("a",a+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Vt(w,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Le(R),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Xt("div",a+"-base",_),this._separator=Xt("div",a+"-separator",_),this._overlaysList=Xt("div",a+"-overlays",_),u.appendChild(_)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(d(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Oe(this._baseLayersList),Oe(this._overlaysList),this._layerControlInputs=[];var a,u,m,_,w=0;for(m=0;m<this._layers.length;m++)_=this._layers[m],this._addItem(_),u=u||_.overlay,a=a||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(v(a.target)),m=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(a,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=m,_.firstChild},_addItem:function(a){var u=document.createElement("label"),m=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=m):_=this._createRadioElement("leaflet-base-layers_"+v(this),m),this._layerControlInputs.push(_),_.layerId=v(a.layer),Vt(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var R=document.createElement("span");u.appendChild(R),R.appendChild(_),R.appendChild(w);var k=a.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,m,_=[],w=[];this._handlingClick=!0;for(var R=a.length-1;R>=0;R--)u=a[R],m=this._getLayer(u.layerId).layer,u.checked?_.push(m):u.checked||w.push(m);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])&&this._map.removeLayer(w[R]);for(R=0;R<_.length;R++)this._map.hasLayer(_[R])||this._map.addLayer(_[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,m,_=this._map.getZoom(),w=a.length-1;w>=0;w--)u=a[w],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&_<m.options.minZoom||m.options.maxZoom!==void 0&&_>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Vt(a,"click",Le),this.expand();var u=this;setTimeout(function(){he(a,"click",Le),u._preventClick=!1})}}),_o=function(a,u,m){return new wr(a,u,m)},Ts=Tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",m=Xt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,m,_,w){var R=Xt("a",m,_);return R.innerHTML=a,R.href="#",R.title=u,R.setAttribute("role","button"),R.setAttribute("aria-label",u),vs(R),Vt(R,"click",xi),Vt(R,"click",w,this),Vt(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";ye(this._zoomInButton,u),ye(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(St(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(St(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qt.mergeOptions({zoomControl:!0}),Qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ts,this.addControl(this.zoomControl))});var vl=function(a){return new Ts(a)},yo=Tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",m=Xt("div",u),_=this.options;return this._addScales(_,u+"-line",m),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,m){a.metric&&(this._mScale=Xt("div",u,m)),a.imperial&&(this._iScale=Xt("div",u,m))},_update:function(){var a=this._map,u=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/a)},_updateImperial:function(a){var u=a*3.2808399,m,_,w;u>5280?(m=u/5280,_=this._getRoundNum(m),this._updateScale(this._iScale,_+" mi",_/m)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(a,u,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),m=a/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),br=function(a){return new yo(a)},vo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',oa=Tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Rt.inlineSvg?vo+" ":"")+"Leaflet</a>"},initialize:function(a){Q(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Xt("div","leaflet-control-attribution"),vs(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Qt.mergeOptions({attributionControl:!0}),Qt.addInitHook(function(){this.options.attributionControl&&new oa().addTo(this)});var la=function(a){return new oa(a)};Tn.Layers=wr,Tn.Zoom=Ts,Tn.Scale=yo,Tn.Attribution=oa,zn.layers=_o,zn.zoom=vl,zn.scale=br,zn.attribution=la;var Yn=ee.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yn.addTo=function(a,u){return a.addHandler(u,this),this};var El={Events:it},Ii=Rt.touch?"touchstart mousedown":"mousedown",Ni=gt.extend({options:{clickTolerance:3},initialize:function(a,u,m,_){Q(this,_),this._element=a,this._dragStartTarget=u||a,this._preventOutline=m},enable:function(){this._enabled||(Vt(this._dragStartTarget,Ii,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ni._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,Ii,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!yr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ni._dragging===this&&this.finishDrag();return}if(!(Ni._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ni._dragging=this,this._preventOutline&&js(this._element),Er(),ri(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,m=aa(this._element);this._startPoint=new ct(u.clientX,u.clientY),this._startPos=Wi(this._element),this._parentScale=kn(m);var _=a.type==="mousedown";Vt(document,_?"mousemove":"touchmove",this._onMove,this),Vt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,m=new ct(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Le(a),this._moved||(this.fire("dragstart"),this._moved=!0,St(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),St(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),ve(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),Bs(),rn();var u=this._moved&&this._moving;this._moving=!1,Ni._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Eo(a,u,m){var _,w=[1,4,2,8],R,k,Y,J,dt,Tt,Pt,Kt;for(R=0,Tt=a.length;R<Tt;R++)a[R]._code=et(a[R],u);for(Y=0;Y<4;Y++){for(Pt=w[Y],_=[],R=0,Tt=a.length,k=Tt-1;R<Tt;k=R++)J=a[R],dt=a[k],J._code&Pt?dt._code&Pt||(Kt=X(dt,J,Pt,u,m),Kt._code=et(Kt,u),_.push(Kt)):(dt._code&Pt&&(Kt=X(dt,J,Pt,u,m),Kt._code=et(Kt,u),_.push(Kt)),_.push(J));a=_}return a}function To(a,u){var m,_,w,R,k,Y,J,dt,Tt;if(!a||a.length===0)throw new Error("latlngs not passed");le(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Pt=wt([0,0]),Kt=vt(a),mn=Kt.getNorthWest().distanceTo(Kt.getSouthWest())*Kt.getNorthEast().distanceTo(Kt.getNorthWest());mn<1700&&(Pt=ua(a));var Ke=a.length,Xn=[];for(m=0;m<Ke;m++){var fe=wt(a[m]);Xn.push(u.project(wt([fe.lat-Pt.lat,fe.lng-Pt.lng])))}for(Y=J=dt=0,m=0,_=Ke-1;m<Ke;_=m++)w=Xn[m],R=Xn[_],k=w.y*R.x-R.y*w.x,J+=(w.x+R.x)*k,dt+=(w.y+R.y)*k,Y+=k*3;Y===0?Tt=Xn[0]:Tt=[J/Y,dt/Y];var de=u.unproject(yt(Tt));return wt([de.lat+Pt.lat,de.lng+Pt.lng])}function ua(a){for(var u=0,m=0,_=0,w=0;w<a.length;w++){var R=wt(a[w]);u+=R.lat,m+=R.lng,_++}return wt([u/_,m/_])}var Gs={__proto__:null,clipPolygon:Eo,polygonCenter:To,centroid:ua};function wn(a,u){if(!u||!a.length)return a.slice();var m=u*u;return a=T(a,m),a=ws(a,m),a}function wo(a,u,m){return Math.sqrt(jt(a,u,m,!0))}function Tl(a,u,m){return jt(a,u,m)}function ws(a,u){var m=a.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(m);w[0]=w[m-1]=1,f(a,w,u,0,m-1);var R,k=[];for(R=0;R<m;R++)w[R]&&k.push(a[R]);return k}function f(a,u,m,_,w){var R=0,k,Y,J;for(Y=_+1;Y<=w-1;Y++)J=jt(a[Y],a[_],a[w],!0),J>R&&(k=Y,R=J);R>m&&(u[k]=1,f(a,u,m,_,k),f(a,u,m,k,w))}function T(a,u){for(var m=[a[0]],_=1,w=0,R=a.length;_<R;_++)Et(a[_],a[w])>u&&(m.push(a[_]),w=_);return w<R-1&&m.push(a[R-1]),m}var A;function N(a,u,m,_,w){var R=_?A:et(a,m),k=et(u,m),Y,J,dt;for(A=k;;){if(!(R|k))return[a,u];if(R&k)return!1;Y=R||k,J=X(a,u,Y,m,w),dt=et(J,m),Y===R?(a=J,R=dt):(u=J,k=dt)}}function X(a,u,m,_,w){var R=u.x-a.x,k=u.y-a.y,Y=_.min,J=_.max,dt,Tt;return m&8?(dt=a.x+R*(J.y-a.y)/k,Tt=J.y):m&4?(dt=a.x+R*(Y.y-a.y)/k,Tt=Y.y):m&2?(dt=J.x,Tt=a.y+k*(J.x-a.x)/R):m&1&&(dt=Y.x,Tt=a.y+k*(Y.x-a.x)/R),new ct(dt,Tt,w)}function et(a,u){var m=0;return a.x<u.min.x?m|=1:a.x>u.max.x&&(m|=2),a.y<u.min.y?m|=4:a.y>u.max.y&&(m|=8),m}function Et(a,u){var m=u.x-a.x,_=u.y-a.y;return m*m+_*_}function jt(a,u,m,_){var w=u.x,R=u.y,k=m.x-w,Y=m.y-R,J=k*k+Y*Y,dt;return J>0&&(dt=((a.x-w)*k+(a.y-R)*Y)/J,dt>1?(w=m.x,R=m.y):dt>0&&(w+=k*dt,R+=Y*dt)),k=a.x-w,Y=a.y-R,_?k*k+Y*Y:new ct(w,R)}function le(a){return!ht(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function ue(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),le(a)}function Ce(a,u){var m,_,w,R,k,Y,J,dt;if(!a||a.length===0)throw new Error("latlngs not passed");le(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Tt=wt([0,0]),Pt=vt(a),Kt=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Kt<1700&&(Tt=ua(a));var mn=a.length,Ke=[];for(m=0;m<mn;m++){var Xn=wt(a[m]);Ke.push(u.project(wt([Xn.lat-Tt.lat,Xn.lng-Tt.lng])))}for(m=0,_=0;m<mn-1;m++)_+=Ke[m].distanceTo(Ke[m+1])/2;if(_===0)dt=Ke[0];else for(m=0,R=0;m<mn-1;m++)if(k=Ke[m],Y=Ke[m+1],w=k.distanceTo(Y),R+=w,R>_){J=(R-_)/w,dt=[Y.x-J*(Y.x-k.x),Y.y-J*(Y.y-k.y)];break}var fe=u.unproject(yt(dt));return wt([fe.lat+Tt.lat,fe.lng+Tt.lng])}var oi={__proto__:null,simplify:wn,pointToSegmentDistance:wo,closestPointOnSegment:Tl,clipSegment:N,_getEdgeIntersection:X,_getBitCode:et,_sqClosestPointOnSegment:jt,isFlat:le,_flat:ue,polylineCenter:Ce},li={project:function(a){return new ct(a.lng,a.lat)},unproject:function(a){return new bt(a.y,a.x)},bounds:new M([-180,-90],[180,90])},Qn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new M([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,m=this.R,_=a.lat*u,w=this.R_MINOR/m,R=Math.sqrt(1-w*w),k=R*Math.sin(_),Y=Math.tan(Math.PI/4-_/2)/Math.pow((1-k)/(1+k),R/2);return _=-m*Math.log(Math.max(Y,1e-10)),new ct(a.lng*u*m,_)},unproject:function(a){for(var u=180/Math.PI,m=this.R,_=this.R_MINOR/m,w=Math.sqrt(1-_*_),R=Math.exp(-a.y/m),k=Math.PI/2-2*Math.atan(R),Y=0,J=.1,dt;Y<15&&Math.abs(J)>1e-7;Y++)dt=w*Math.sin(k),dt=Math.pow((1-dt)/(1+dt),w/2),J=Math.PI/2-2*Math.atan(R*dt)-k,k+=J;return new bt(k*u,a.x*u/m)}},Oi={__proto__:null,LonLat:li,Mercator:Qn,SphericalMercator:fs},Ar=l({},we,{code:"EPSG:3395",projection:Qn,transformation:(function(){var a=.5/(Math.PI*Qn.R);return ji(a,.5,-a,.5)})()}),Sr=l({},we,{code:"EPSG:4326",projection:li,transformation:ji(1/180,1,-1/180,.5)}),ca=l({},qt,{projection:li,transformation:ji(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var m=u.lng-a.lng,_=u.lat-a.lat;return Math.sqrt(m*m+_*_)},infinite:!0});qt.Earth=we,qt.EPSG3395=Ar,qt.EPSG3857=Ds,qt.EPSG900913=Hi,qt.EPSG4326=Sr,qt.Simple=ca;var Pi=gt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[v(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[v(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Qt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=v(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return v(a)in this._layers},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},_addLayers:function(a){a=a?ht(a)?a:[a]:[];for(var u=0,m=a.length;u<m;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[v(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=v(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,m=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ha=Pi.extend({initialize:function(a,u){Q(this,u),this._layers={};var m,_;if(a)for(m=0,_=a.length;m<_;m++)this.addLayer(a[m])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),m,_;for(m in this._layers)_=this._layers[m],_[a]&&_[a].apply(_,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return v(a)}}),Ed=function(a,u){return new ha(a,u)},es=ha.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ha.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ha.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new _t;for(var u in this._layers){var m=this._layers[u];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),th=function(a,u){return new es(a,u)},ns=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){Q(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,u){var m=this.options,_=m[u+"Size"];typeof _=="number"&&(_=[_,_]);var w=yt(_),R=yt(u==="shadow"&&m.shadowAnchor||m.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(m.className||""),R&&(a.style.marginLeft=-R.x+"px",a.style.marginTop=-R.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Rt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function bo(a){return new ns(a)}var Ao=ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ao.imagePath!="string"&&(Ao.imagePath=this._detectIconPath()),(this.options.imagePath||Ao.imagePath)+ns.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(m,_,w){var R=_.exec(m);return R&&R[w]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Xt("div","leaflet-default-icon-path",document.body),u=Us(a,"background-image")||Us(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),So=Yn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ni(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),St(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,m=u._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,R=Wi(u._icon),k=m.getPixelBounds(),Y=m.getPixelOrigin(),J=rt(k.min._subtract(Y).add(w),k.max._subtract(Y).subtract(w));if(!J.contains(R)){var dt=yt((Math.max(J.max.x,R.x)-J.max.x)/(k.max.x-J.max.x)-(Math.min(J.min.x,R.x)-J.min.x)/(k.min.x-J.min.x),(Math.max(J.max.y,R.y)-J.max.y)/(k.max.y-J.max.y)-(Math.min(J.min.y,R.y)-J.min.y)/(k.min.y-J.min.y)).multiplyBy(_);m.panBy(dt,{animate:!1}),this._draggable._newPos._add(dt),this._draggable._startPos._add(dt),ve(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=j(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,m=u._shadow,_=Wi(u._icon),w=u._map.layerPointToLatLng(_);m&&ve(m,_),u._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),xo=Pi.extend({options:{icon:new Ao,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){Q(this,u),this._latlng=wt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=wt(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),_=!1;m!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),St(m,u),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(m,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),R=!1;w!==this._shadow&&(this._removeShadow(),R=!0),w&&(St(w,u),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&R&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),Wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&ve(this._icon,a),this._shadow&&ve(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(St(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),So)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new So(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Re(this._icon,a),this._shadow&&Re(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,m=u.iconSize?yt(u.iconSize):yt(0,0),_=u.iconAnchor?yt(u.iconAnchor):yt(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:m.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function eh(a,u){return new xo(a,u)}var is=Pi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return Q(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fa=is.extend({options:{fill:!0,radius:10},initialize:function(a,u){Q(this,u),this._latlng=wt(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=wt(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return is.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,m=this._clickTolerance(),_=[a+m,u+m];this._pxBounds=new M(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function nh(a,u){return new fa(a,u)}var wl=fa.extend({initialize:function(a,u,m){if(typeof u=="number"&&(u=l({},m,{radius:u})),Q(this,u),this._latlng=wt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new _t(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:is.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,m=this._map,_=m.options.crs;if(_.distance===we.distance){var w=Math.PI/180,R=this._mRadius/we.R/w,k=m.project([u+R,a]),Y=m.project([u-R,a]),J=k.add(Y).divideBy(2),dt=m.unproject(J).lat,Tt=Math.acos((Math.cos(R*w)-Math.sin(u*w)*Math.sin(dt*w))/(Math.cos(u*w)*Math.cos(dt*w)))/w;(isNaN(Tt)||Tt===0)&&(Tt=R/Math.cos(Math.PI/180*u)),this._point=J.subtract(m.getPixelOrigin()),this._radius=isNaN(Tt)?0:J.x-m.project([dt,a-Tt]).x,this._radiusY=J.y-k.y}else{var Pt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Pt).x}this._updateBounds()}});function ih(a,u,m){return new wl(a,u,m)}var bs=is.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){Q(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,m=null,_=jt,w,R,k=0,Y=this._parts.length;k<Y;k++)for(var J=this._parts[k],dt=1,Tt=J.length;dt<Tt;dt++){w=J[dt-1],R=J[dt];var Pt=_(a,w,R,!0);Pt<u&&(u=Pt,m=_(a,w,R))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ce(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=wt(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new _t,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return le(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],m=le(a),_=0,w=a.length;_<w;_++)m?(u[_]=wt(a[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(a[_]);return u},_project:function(){var a=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new ct(a,a);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,m){var _=a[0]instanceof bt,w=a.length,R,k;if(_){for(k=[],R=0;R<w;R++)k[R]=this._map.latLngToLayerPoint(a[R]),m.extend(k[R]);u.push(k)}else for(R=0;R<w;R++)this._projectLatlngs(a[R],u,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,_,w,R,k,Y,J;for(m=0,w=0,R=this._rings.length;m<R;m++)for(J=this._rings[m],_=0,k=J.length;_<k-1;_++)Y=N(J[_],J[_+1],a,_,!0),Y&&(u[w]=u[w]||[],u[w].push(Y[0]),(Y[1]!==J[_+1]||_===k-2)&&(u[w].push(Y[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,m=0,_=a.length;m<_;m++)a[m]=wn(a[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var m,_,w,R,k,Y,J=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,R=this._parts.length;m<R;m++)for(Y=this._parts[m],_=0,k=Y.length,w=k-1;_<k;w=_++)if(!(!u&&_===0)&&wo(a,Y[w],Y[_])<=J)return!0;return!1}});function Td(a,u){return new bs(a,u)}bs._flat=ue;var da=bs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return To(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=bs.prototype._convertLatLngs.call(this,a),m=u.length;return m>=2&&u[0]instanceof bt&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(a){bs.prototype._setLatLngs.call(this,a),le(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return le(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,m=new ct(u,u);if(a=new M(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,R;_<w;_++)R=Eo(this._rings[_],a,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,m,_,w,R,k,Y,J,dt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(R=0,J=this._parts.length;R<J;R++)for(m=this._parts[R],k=0,dt=m.length,Y=dt-1;k<dt;Y=k++)_=m[k],w=m[Y],_.y>a.y!=w.y>a.y&&a.x<(w.x-_.x)*(a.y-_.y)/(w.y-_.y)+_.x&&(u=!u);return u||bs.prototype._containsPoint.call(this,a,!0)}});function wd(a,u){return new da(a,u)}var As=es.extend({initialize:function(a,u){Q(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=ht(a)?a:a.features,m,_,w;if(u){for(m=0,_=u.length;m<_;m++)w=u[m],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var R=this.options;if(R.filter&&!R.filter(a))return this;var k=bn(a,R);return k?(k.feature=Sl(a),k.defaultOptions=k.options,this.resetStyle(k),R.onEachFeature&&R.onEachFeature(a,k),this.addLayer(k)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function bn(a,u){var m=a.type==="Feature"?a.geometry:a,_=m?m.coordinates:null,w=[],R=u&&u.pointToLayer,k=u&&u.coordsToLatLng||bl,Y,J,dt,Tt;if(!_&&!m)return null;switch(m.type){case"Point":return Y=k(_),ma(R,a,Y,u);case"MultiPoint":for(dt=0,Tt=_.length;dt<Tt;dt++)Y=k(_[dt]),w.push(ma(R,a,Y,u));return new es(w);case"LineString":case"MultiLineString":return J=Ro(_,m.type==="LineString"?0:1,k),new bs(J,u);case"Polygon":case"MultiPolygon":return J=Ro(_,m.type==="Polygon"?1:2,k),new da(J,u);case"GeometryCollection":for(dt=0,Tt=m.geometries.length;dt<Tt;dt++){var Pt=bn({geometry:m.geometries[dt],type:"Feature",properties:a.properties},u);Pt&&w.push(Pt)}return new es(w);case"FeatureCollection":for(dt=0,Tt=m.features.length;dt<Tt;dt++){var Kt=bn(m.features[dt],u);Kt&&w.push(Kt)}return new es(w);default:throw new Error("Invalid GeoJSON object.")}}function ma(a,u,m,_){return a?a(u,m):new xo(m,_&&_.markersInheritOptions&&_)}function bl(a){return new bt(a[1],a[0],a[2])}function Ro(a,u,m){for(var _=[],w=0,R=a.length,k;w<R;w++)k=u?Ro(a[w],u-1,m):(m||bl)(a[w]),_.push(k);return _}function Al(a,u){return a=wt(a),a.alt!==void 0?[O(a.lng,u),O(a.lat,u),O(a.alt,u)]:[O(a.lng,u),O(a.lat,u)]}function Co(a,u,m,_){for(var w=[],R=0,k=a.length;R<k;R++)w.push(u?Co(a[R],le(a[R])?0:u-1,m,_):Al(a[R],_));return!u&&m&&w.length>0&&w.push(w[0].slice()),w}function Zs(a,u){return a.feature?l({},a.feature,{geometry:u}):Sl(u)}function Sl(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ks={toGeoJSON:function(a){return Zs(this,{type:"Point",coordinates:Al(this.getLatLng(),a)})}};xo.include(Ks),wl.include(Ks),fa.include(Ks),bs.include({toGeoJSON:function(a){var u=!le(this._latlngs),m=Co(this._latlngs,u?1:0,!1,a);return Zs(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),da.include({toGeoJSON:function(a){var u=!le(this._latlngs),m=u&&!le(this._latlngs[0]),_=Co(this._latlngs,m?2:u?1:0,!0,a);return u||(_=[_]),Zs(this,{type:(m?"Multi":"")+"Polygon",coordinates:_})}}),ha.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(a).geometry.coordinates)}),Zs(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var m=u==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var R=w.toGeoJSON(a);if(m)_.push(R.geometry);else{var k=Sl(R);k.type==="FeatureCollection"?_.push.apply(_,k.features):_.push(k)}}}),m?Zs(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function xl(a,u){return new As(a,u)}var Io=xl,pa=Pi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,m){this._url=a,this._bounds=vt(u),Q(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(St(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Pe(this._image),this},bringToBack:function(){return this._map&&Zn(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=vt(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:Xt("img");if(St(u,"leaflet-image-layer"),this._zoomAnimated&&St(u,"leaflet-zoom-animated"),this.options.className&&St(u,this.options.className),u.onselectstart=S,u.onmousemove=S,u.onload=d(this.fire,this,"load"),u.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Si(this._image,m,u)},_reset:function(){var a=this._image,u=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();ve(a,u.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Re(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),sh=function(a,u,m){return new pa(a,u,m)},Ys=pa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:Xt("video");if(St(u,"leaflet-image-layer"),this._zoomAnimated&&St(u,"leaflet-zoom-animated"),this.options.className&&St(u,this.options.className),u.onselectstart=S,u.onmousemove=S,u.onloadeddata=d(this.fire,this,"load"),a){for(var m=u.getElementsByTagName("source"),_=[],w=0;w<m.length;w++)_.push(m[w].src);this._url=m.length>0?_:[u.src];return}ht(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var k=Xt("source");k.src=this._url[R],u.appendChild(k)}}});function ga(a,u,m){return new Ys(a,u,m)}var Rl=pa.extend({_initImage:function(){var a=this._image=this._url;St(a,"leaflet-image-layer"),this._zoomAnimated&&St(a,"leaflet-zoom-animated"),this.options.className&&St(a,this.options.className),a.onselectstart=S,a.onmousemove=S}});function rh(a,u,m){return new Rl(a,u,m)}var An=Pi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof bt||ht(a))?(this._latlng=wt(a),Q(this,u)):(Q(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Re(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Re(this._container,1),this.bringToFront(),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Re(this._container,0),this._removeTimeout=setTimeout(d(Wt,void 0,this._container),200)):Wt(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=wt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pe(this._container),this},bringToBack:function(){return this._map&&Zn(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof es){u=null;var m=this._source._layers;for(var _ in m)if(m[_]._map){u=m[_];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=yt(this.options.offset),m=this._getAnchor();this._zoomAnimated?ve(this._container,a.add(m)):u=u.add(a).add(m);var _=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Qt.include({_initOverlay:function(a,u,m,_){var w=u;return w instanceof a||(w=new a(_).setContent(u)),m&&w.setLatLng(m),w}}),Pi.include({_initOverlay:function(a,u,m,_){var w=m;return w instanceof a?(Q(w,_),w._source=this):(w=u&&!_?u:new a(_,this),w.setContent(m)),w}});var No=An.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,An.prototype.openOn.call(this,a)},onAdd:function(a){An.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof is||this._source.on("preclick",ne))},onRemove:function(a){An.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof is||this._source.off("preclick",ne))},getEvents:function(){var a=An.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=Xt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Xt("div",a+"-content-wrapper",u);if(this._contentNode=Xt("div",a+"-content",m),vs(u),ai(this._contentNode),Vt(u,"contextmenu",ne),this._tipContainer=Xt("div",a+"-tip-container",u),this._tip=Xt("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Xt("a",a+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Vt(_,"click",function(w){Le(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var _=a.offsetHeight,w=this.options.maxHeight,R="leaflet-popup-scrolled";w&&_>w?(u.height=w+"px",St(a,R)):ye(a,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();ve(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Us(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,_=this._containerWidth,w=new ct(this._containerLeft,-m-this._containerBottom);w._add(Wi(this._container));var R=a.layerPointToContainerPoint(w),k=yt(this.options.autoPanPadding),Y=yt(this.options.autoPanPaddingTopLeft||k),J=yt(this.options.autoPanPaddingBottomRight||k),dt=a.getSize(),Tt=0,Pt=0;R.x+_+J.x>dt.x&&(Tt=R.x+_-dt.x+J.x),R.x-Tt-Y.x<0&&(Tt=R.x-Y.x),R.y+m+J.y>dt.y&&(Pt=R.y+m-dt.y+J.y),R.y-Pt-Y.y<0&&(Pt=R.y-Y.y),(Tt||Pt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Tt,Pt]))}},_getAnchor:function(){return yt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ah=function(a,u){return new No(a,u)};Qt.mergeOptions({closePopupOnClick:!0}),Qt.include({openPopup:function(a,u,m){return this._initOverlay(No,a,u,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Pi.include({bindPopup:function(a,u){return this._popup=this._initOverlay(No,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof es||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){xi(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof is)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Oo=An.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){An.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){An.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=An.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Xt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,m,_=this._map,w=this._container,R=_.latLngToContainerPoint(_.getCenter()),k=_.layerPointToContainerPoint(a),Y=this.options.direction,J=w.offsetWidth,dt=w.offsetHeight,Tt=yt(this.options.offset),Pt=this._getAnchor();Y==="top"?(u=J/2,m=dt):Y==="bottom"?(u=J/2,m=0):Y==="center"?(u=J/2,m=dt/2):Y==="right"?(u=0,m=dt/2):Y==="left"?(u=J,m=dt/2):k.x<R.x?(Y="right",u=0,m=dt/2):(Y="left",u=J+(Tt.x+Pt.x)*2,m=dt/2),a=a.subtract(yt(u,m,!0)).add(Tt).add(Pt),ye(w,"leaflet-tooltip-right"),ye(w,"leaflet-tooltip-left"),ye(w,"leaflet-tooltip-top"),ye(w,"leaflet-tooltip-bottom"),St(w,"leaflet-tooltip-"+Y),ve(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Re(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return yt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),bd=function(a,u){return new Oo(a,u)};Qt.include({openTooltip:function(a,u,m){return this._initOverlay(Oo,a,u,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Pi.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Oo,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof es||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Vt(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Vt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,m,_;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var oh=ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Oe(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var _=yt(m.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Ad(a){return new oh(a)}ns.Default=Ao;var _a=Pi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Rt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){Q(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Wt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof ct?a:new ct(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,m=-a(-1/0,1/0),_=0,w=u.length,R;_<w;_++)R=u[_].style.zIndex,u[_]!==this._container&&R&&(m=a(m,+R));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Rt.ielt9){Re(this._container,this.options.opacity);var a=+new Date,u=!1,m=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var R=Math.min(1,(a-w.loaded)/200);Re(w.el,R),R<1?u=!0:(w.active?m=!0:this._onOpaqueTile(w),w.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(G(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=Xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=u-Math.abs(a-m),this._onUpdateLevel(m)):(Wt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var _=this._levels[a],w=this._map;return _||(_=this._levels[a]={},_.el=Xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,w.getCenter(),w.getZoom()),S(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var a,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Wt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,m,_){var w=Math.floor(a/2),R=Math.floor(u/2),k=m-1,Y=new ct(+w,+R);Y.z=+k;var J=this._tileCoordsToKey(Y),dt=this._tiles[J];return dt&&dt.active?(dt.retain=!0,!0):(dt&&dt.loaded&&(dt.retain=!0),k>_?this._retainParent(w,R,k,_):!1)},_retainChildren:function(a,u,m,_){for(var w=2*a;w<2*a+2;w++)for(var R=2*u;R<2*u+2;R++){var k=new ct(w,R);k.z=m+1;var Y=this._tileCoordsToKey(k),J=this._tiles[Y];if(J&&J.active){J.retain=!0;continue}else J&&J.loaded&&(J.retain=!0);m+1<_&&this._retainChildren(w,R,m+1,_)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,m,_){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var R=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||R)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,u)},_setZoomTransform:function(a,u,m){var _=this._map.getZoomScale(m,a.zoom),w=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,m)).round();Rt.any3d?Si(a.el,w,_):ve(a.el,w)},_resetGrid:function(){var a=this._map,u=a.options.crs,m=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],_).x/m.x),Math.ceil(a.project([0,u.wrapLng[1]],_).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],_).y/m.x),Math.ceil(a.project([u.wrapLat[1],0],_).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(m,this._tileZoom),w=u.project(a,this._tileZoom).floor(),R=u.getSize().divideBy(_*2);return new M(w.subtract(R),w.add(R))},_update:function(a){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(_),R=w.getCenter(),k=[],Y=this.options.keepBuffer,J=new M(w.getBottomLeft().subtract([Y,-Y]),w.getTopRight().add([Y,-Y]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var dt in this._tiles){var Tt=this._tiles[dt].coords;(Tt.z!==this._tileZoom||!J.contains(new ct(Tt.x,Tt.y)))&&(this._tiles[dt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Pt=w.min.y;Pt<=w.max.y;Pt++)for(var Kt=w.min.x;Kt<=w.max.x;Kt++){var mn=new ct(Kt,Pt);if(mn.z=this._tileZoom,!!this._isValidTile(mn)){var Ke=this._tiles[this._tileCoordsToKey(mn)];Ke?Ke.current=!0:k.push(mn)}}if(k.sort(function(fe,de){return fe.distanceTo(R)-de.distanceTo(R)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Xn=document.createDocumentFragment();for(Kt=0;Kt<k.length;Kt++)this._addTile(k[Kt],Xn);this._level.el.appendChild(Xn)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!u.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return vt(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,m=this.getTileSize(),_=a.scaleBy(m),w=_.add(m),R=u.unproject(_,a.z),k=u.unproject(w,a.z);return[R,k]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),m=new _t(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),m=new ct(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(a){var u=this._tiles[a];u&&(Wt(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){St(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=S,a.onmousemove=S,Rt.ielt9&&this.options.opacity<1&&Re(a,this.options.opacity)},_addTile:function(a,u){var m=this._getTilePos(a),_=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),d(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&j(d(this._tileReady,this,a,null,w)),ve(w,m),this._tiles[_]={el:w,coords:a,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:a});var _=this._tileCoordsToKey(a);m=this._tiles[_],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Re(m.el,0),G(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(St(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Rt.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new ct(this._wrapX?x(a.x,this._wrapX):a.x,this._wrapY?x(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new M(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function lh(a){return new _a(a)}var Qs=_a.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=Q(this,u),u.detectRetina&&Rt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var m=document.createElement("img");return Vt(m,"load",d(this._tileOnLoad,this,u,m)),Vt(m,"error",d(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var u={r:Rt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=m),u["-y"]=m}return at(this._url,l(u,this.options))},_tileOnLoad:function(a,u){Rt.ielt9?setTimeout(d(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,m){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),a(m,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,_=this.options.zoomOffset;return m&&(a=u-a),a+_},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=S,u.onerror=S,!u.complete)){u.src=Nt;var m=this._tiles[a].coords;Wt(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",Nt),_a.prototype._removeTile.call(this,a)},_tileReady:function(a,u,m){if(!(!this._map||m&&m.getAttribute("src")===Nt))return _a.prototype._tileReady.call(this,a,u,m)}});function ui(a,u){return new Qs(a,u)}var Po=Qs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var m=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(m[_]=u[_]);u=Q(this,u);var w=u.detectRetina&&Rt.retina?2:1,R=this.getTileSize();m.width=R.x*w,m.height=R.y*w,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Qs.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),m=this._crs,_=rt(m.project(u[0]),m.project(u[1])),w=_.min,R=_.max,k=(this._wmsVersion>=1.3&&this._crs===Sr?[w.y,w.x,R.y,R.x]:[w.x,w.y,R.x,R.y]).join(","),Y=Qs.prototype.getTileUrl.call(this,a);return Y+B(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(a,u){return l(this.wmsParams,a),u||this.redraw(),this}});function ci(a,u){return new Po(a,u)}Qs.WMS=Po,ui.wms=ci;var Un=Pi.extend({options:{padding:.1},initialize:function(a){Q(this,a),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),St(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var m=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),R=_.multiplyBy(-m).add(w).subtract(this._map._getNewPixelOrigin(a,u));Rt.any3d?Si(this._container,R,m):ve(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new M(m,m.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Cl=Un.extend({options:{tolerance:0},getEvents:function(){var a=Un.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Un.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Vt(a,"mousemove",this._onMouseMove,this),Vt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Vt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Wt(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Un.prototype._update.call(this);var a=this._bounds,u=this._container,m=a.getSize(),_=Rt.retina?2:1;ve(u,a.min),u.width=_*m.x,u.height=_*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",Rt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Un.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[v(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,m=u.next,_=u.prev;m?m.prev=_:this._drawLast=_,_?_.next=m:this._drawFirst=m,delete a._order,delete this._layers[v(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),m=[],_,w;for(w=0;w<u.length;w++){if(_=Number(u[w]),isNaN(_))return;m.push(_)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var m,_,w,R,k=a._parts,Y=k.length,J=this._ctx;if(Y){for(J.beginPath(),m=0;m<Y;m++){for(_=0,w=k[m].length;_<w;_++)R=k[m][_],J[_?"lineTo":"moveTo"](R.x,R.y);u&&J.closePath()}this._fillStroke(J,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,m=this._ctx,_=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||_)/_;w!==1&&(m.save(),m.scale(1,w)),m.beginPath(),m.arc(u.x,u.y/w,_,0,Math.PI*2,!1),w!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,u){var m=u.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),m,_,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(_=m);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(ye(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var m,_,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(u)&&(_=m);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(St(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,m){this._map._fireDOMEvent(u,m||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var m=u.next,_=u.prev;if(m)m.prev=_;else return;_?_.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var m=u.next,_=u.prev;if(_)_.next=m;else return;m?m.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function Lo(a){return Rt.canvas?new Cl(a):null}var Xs=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Au={_initContainer:function(){this._container=Xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Un.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=Xs("shape");St(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=Xs("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;Wt(u),a.removeInteractiveTarget(u),delete this._layers[v(a)]},_updateStyle:function(a){var u=a._stroke,m=a._fill,_=a.options,w=a._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(u||(u=a._stroke=Xs("stroke")),w.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=ht(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(w.removeChild(u),a._stroke=null),_.fill?(m||(m=a._fill=Xs("fill")),w.appendChild(m),m.color=_.fillColor||_.color,m.opacity=_.fillOpacity):m&&(w.removeChild(m),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),m=Math.round(a._radius),_=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+_+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Pe(a._container)},_bringToBack:function(a){Zn(a._container)}},ss=Rt.vml?Xs:$r,ya=Un.extend({_initContainer:function(){this._container=ss("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ss("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wt(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Un.prototype._update.call(this);var a=this._bounds,u=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),ve(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=ss("path");a.options.className&&St(u,a.options.className),a.options.interactive&&St(u,"leaflet-interactive"),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Wt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[v(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,m=a.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,Ms(a._parts,u))},_updateCircle:function(a){var u=a._point,m=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||m,w="a"+m+","+_+" 0 1,0 ",R=a._empty()?"M0 0":"M"+(u.x-m)+","+u.y+w+m*2+",0 "+w+-m*2+",0 ";this._setPath(a,R)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Pe(a._path)},_bringToBack:function(a){Zn(a._path)}});Rt.vml&&ya.include(Au);function Do(a){return Rt.svg||Rt.vml?new ya(a):null}Qt.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&Lo(a)||Do(a)}});var xr=da.extend({initialize:function(a,u){da.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=vt(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Sd(a,u){return new xr(a,u)}ya.create=ss,ya.pointsToPath=Ms,As.geometryToLayer=bn,As.coordsToLatLng=bl,As.coordsToLatLngs=Ro,As.latLngToCoords=Al,As.latLngsToCoords=Co,As.getFeature=Zs,As.asFeature=Sl,Qt.mergeOptions({boxZoom:!0});var Bn=Yn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ri(),Er(),this._startPoint=this._map.mouseEventToContainerPoint(a),Vt(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Xt("div","leaflet-zoom-box",this._container),St(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new M(this._point,this._startPoint),m=u.getSize();ve(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Wt(this._box),ye(this._container,"leaflet-crosshair")),rn(),Bs(),he(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var u=new _t(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qt.addInitHook("addHandler","boxZoom",Bn),Qt.mergeOptions({doubleClickZoom:!0});var Il=Yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,m=u.getZoom(),_=u.options.zoomDelta,w=a.originalEvent.shiftKey?m-_:m+_;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(a.containerPoint,w)}});Qt.addInitHook("addHandler","doubleClickZoom",Il),Qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var rs=Yn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ni(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}St(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=vt(this._map.options.maxBounds);this._offsetLimit=rt(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),m=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-u+m)%a+u-m,R=(_+u+m)%a-u-m,k=Math.abs(w+m)<Math.abs(R+m)?w:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(a){var u=this._map,m=u.options,_=!m.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),_)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,k=m.easeLinearity,Y=w.multiplyBy(k/R),J=Y.distanceTo([0,0]),dt=Math.min(m.inertiaMaxSpeed,J),Tt=Y.multiplyBy(dt/J),Pt=dt/(m.inertiaDeceleration*k),Kt=Tt.multiplyBy(-Pt/2).round();!Kt.x&&!Kt.y?u.fire("moveend"):(Kt=u._limitOffset(Kt,u.options.maxBounds),j(function(){u.panBy(Kt,{duration:Pt,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});Qt.addInitHook("addHandler","dragging",rs),Qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Su=Yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Vt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,m=a.scrollTop||u.scrollTop,_=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},m=this.keyCodes,_,w;for(_=0,w=m.left.length;_<w;_++)u[m.left[_]]=[-1*a,0];for(_=0,w=m.right.length;_<w;_++)u[m.right[_]]=[a,0];for(_=0,w=m.down.length;_<w;_++)u[m.down[_]]=[0,a];for(_=0,w=m.up.length;_<w;_++)u[m.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},m=this.keyCodes,_,w;for(_=0,w=m.zoomIn.length;_<w;_++)u[m.zoomIn[_]]=a;for(_=0,w=m.zoomOut.length;_<w;_++)u[m.zoomOut[_]]=-a},_addHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,m=this._map,_;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(_=this._panKeys[u],a.shiftKey&&(_=yt(_).multiplyBy(3)),m.options.maxBounds&&(_=m._limitOffset(yt(_),m.options.maxBounds)),m.options.worldCopyJump){var w=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(_)));m.panTo(w)}else m.panBy(_)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;xi(a)}}});Qt.addInitHook("addHandler","keyboard",Su),Qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mo=Yn.extend({addHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=an(a),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),_),xi(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,R=m?Math.ceil(w/m)*m:w,k=a._limitZoom(u+(this._delta>0?R:-R))-u;this._delta=0,this._startTime=null,k&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+k):a.setZoomAround(this._lastMousePos,u+k))}});Qt.addInitHook("addHandler","scrollWheelZoom",Mo);var Rr=600;Qt.mergeOptions({tapHold:Rt.touchNative&&Rt.safari&&Rt.mobile,tapTolerance:15});var Nl=Yn.extend({addHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new ct(u.clientX,u.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Vt(document,"touchend",Le),Vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Rr),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){he(document,"touchend",Le),he(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new ct(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});Qt.addInitHook("addHandler","tapHold",Nl),Qt.mergeOptions({touchZoom:Rt.touch,bounceAtZoomLimits:!0});var xu=Yn.extend({addHooks:function(){St(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(_)._divideBy(2))),this._startDist=m.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),Le(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]),w=m.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var R=m._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&R.x===0&&R.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var k=d(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(k,this,!0),Le(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qt.addInitHook("addHandler","touchZoom",xu),Qt.BoxZoom=Bn,Qt.DoubleClickZoom=Il,Qt.Drag=rs,Qt.Keyboard=Su,Qt.ScrollWheelZoom=Mo,Qt.TapHold=Nl,Qt.TouchZoom=xu,n.Bounds=M,n.Browser=Rt,n.CRS=qt,n.Canvas=Cl,n.Circle=wl,n.CircleMarker=fa,n.Class=ee,n.Control=Tn,n.DivIcon=oh,n.DivOverlay=An,n.DomEvent=ts,n.DomUtil=Hs,n.Draggable=Ni,n.Evented=gt,n.FeatureGroup=es,n.GeoJSON=As,n.GridLayer=_a,n.Handler=Yn,n.Icon=ns,n.ImageOverlay=pa,n.LatLng=bt,n.LatLngBounds=_t,n.Layer=Pi,n.LayerGroup=ha,n.LineUtil=oi,n.Map=Qt,n.Marker=xo,n.Mixin=El,n.Path=is,n.Point=ct,n.PolyUtil=Gs,n.Polygon=da,n.Polyline=bs,n.Popup=No,n.PosAnimation=Es,n.Projection=Oi,n.Rectangle=xr,n.Renderer=Un,n.SVG=ya,n.SVGOverlay=Rl,n.TileLayer=Qs,n.Tooltip=Oo,n.Transformation=Ls,n.Util=z,n.VideoOverlay=Ys,n.bind=d,n.bounds=rt,n.canvas=Lo,n.circle=ih,n.circleMarker=nh,n.control=zn,n.divIcon=Ad,n.extend=l,n.featureGroup=th,n.geoJSON=xl,n.geoJson=Io,n.gridLayer=lh,n.icon=bo,n.imageOverlay=sh,n.latLng=wt,n.latLngBounds=vt,n.layerGroup=Ed,n.map=Fs,n.marker=eh,n.point=yt,n.polygon=wd,n.polyline=Td,n.popup=ah,n.rectangle=Sd,n.setOptions=Q,n.stamp=v,n.svg=Do,n.svgOverlay=rh,n.tileLayer=ui,n.tooltip=bd,n.transformation=ji,n.version=r,n.videoOverlay=ga;var Ru=window.L;n.noConflict=function(){return window.L=Ru,this},window.L=n}))})(gc,gc.exports)),gc.exports}var Jc=WD();const EA=lT(Jc);function l_(s,t,n){return Object.freeze({instance:s,context:t,container:n})}function u_(s,t){return t==null?function(r,l){const h=Z.useRef(void 0);return h.current||(h.current=s(r,l)),h}:function(r,l){const h=Z.useRef(void 0);h.current||(h.current=s(r,l));const d=Z.useRef(r),{instance:y}=h.current;return Z.useEffect(function(){d.current!==r&&(t(y,r,d.current),d.current=r)},[y,r,t]),h}}function $D(s,t){Z.useEffect(function(){return(t.layerContainer??t.map).addLayer(s.instance),function(){t.layerContainer?.removeLayer(s.instance),t.map.removeLayer(s.instance)}},[t,s])}function TA(s){return function(n){const r=yA(),l=s(o_(n,r),r);return _A(r.map,n.attribution),vA(l.current,n.eventHandlers),$D(l.current,r),l}}function JD(s,t){const n=u_(s,t),r=TA(n);return ZD(r)}function tM(s,t){const n=u_(s),r=QD(n,t);return KD(r)}function eM(s,t){const n=u_(s,t),r=TA(n);return YD(r)}function nM(s,t,n){const{opacity:r,zIndex:l}=t;r!=null&&r!==n.opacity&&s.setOpacity(r),l!=null&&l!==n.zIndex&&s.setZIndex(l)}function iM({bounds:s,boundsOptions:t,center:n,children:r,className:l,id:h,placeholder:d,style:y,whenReady:v,zoom:E,...x},S){const[O]=Z.useState({className:l,id:h,style:y}),[F,nt]=Z.useState(null),Q=Z.useRef(void 0);Z.useImperativeHandle(S,()=>F?.map??null,[F]);const B=Z.useCallback(at=>{if(at!==null&&!Q.current){const ht=new Jc.Map(at,x);Q.current=ht,n!=null&&E!=null?ht.setView(n,E):s!=null&&ht.fitBounds(s,t),v!=null&&ht.whenReady(v),nt(FD(ht))}},[]);Z.useEffect(()=>()=>{F?.map.remove()},[F]);const lt=F?Sp.createElement(a_,{value:F},r):d??null;return Sp.createElement("div",{...O,ref:B},lt)}const sM=Z.forwardRef(iM),rM=JD(function({position:t,...n},r){const l=new Jc.Marker(t,n);return l_(l,GD(r,{overlayContainer:l}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),aM=tM(function(t,n){const r=new Jc.Popup(t,n.overlayContainer);return l_(r,n)},function(t,n,{position:r},l){Z.useEffect(function(){const{instance:d}=t;function y(E){E.popup===d&&(d.update(),l(!0))}function v(E){E.popup===d&&l(!1)}return n.map.on({popupopen:y,popupclose:v}),n.overlayContainer==null?(r!=null&&d.setLatLng(r),d.openOn(n.map)):n.overlayContainer.bindPopup(d),function(){n.map.off({popupopen:y,popupclose:v}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(d)}},[t,n,l,r])}),oM=eM(function({url:t,...n},r){const l=new Jc.TileLayer(t,o_(n,r));return l_(l,r)},function(t,n,r){nM(t,n,r);const{url:l}=n;l!=null&&l!==r.url&&t.setUrl(l)}),lM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",uM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let cM=EA.icon({iconUrl:lM,shadowUrl:uM,iconSize:[25,41],iconAnchor:[12,41]});EA.Marker.prototype.options.icon=cM;const hM=({reports:s})=>{const t=[20.5937,78.9629];return I.jsx("div",{style:{height:"400px",width:"100%"},children:I.jsxs(sM,{center:t,zoom:5,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},children:[I.jsx(oM,{attribution:" OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.map(n=>n.location&&I.jsx(rM,{position:[n.location.lat,n.location.lng],children:I.jsx(aM,{children:I.jsxs("div",{className:"p-2",children:[I.jsx("h3",{className:"font-bold",children:n.title}),I.jsx("p",{className:"text-sm",children:n.category}),I.jsx("span",{className:`text-[10px] uppercase font-bold ${n.status==="Resolved"?"text-emerald-500":"text-amber-500"}`,children:n.status})]})})},n.id))]})})},fM=({reports:s})=>{const t=Z.useMemo(()=>{const n=s.length,r=s.filter(y=>y.status==="resolved").length,l=s.filter(y=>y.status==="pending").length,h=s.filter(y=>y.status==="in-progress").length,d=s.reduce((y,v)=>{const E=v.category||"Uncategorized";return y[E]=(y[E]||0)+1,y},{});return{total:n,resolved:r,pending:l,inProgress:h,categories:d,resolutionRate:n>0?Math.round(r/n*100):0}},[s]);return I.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8 animate-fade-in",children:[I.jsxs("div",{className:"bg-slate-900 text-white rounded-[32px] p-6 shadow-xl relative overflow-hidden group",children:[I.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity",children:I.jsx(Ox,{size:120})}),I.jsxs("div",{className:"relative z-10",children:[I.jsxs("div",{className:"flex items-center gap-3 mb-4 text-slate-400",children:[I.jsx(Mx,{size:20}),I.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Total Reports"})]}),I.jsx("div",{className:"text-5xl font-black mb-2",children:t.total}),I.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-sm font-bold",children:[I.jsx(w0,{size:16}),I.jsxs("span",{children:[t.resolutionRate,"% Resolution Rate"]})]})]})]}),I.jsxs("div",{className:"bg-white rounded-[32px] p-6 shadow-lg border border-slate-100",children:[I.jsxs("div",{className:"flex items-center gap-3 mb-6 text-slate-500",children:[I.jsx(Vx,{size:20}),I.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Status Overview"})]}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"p-2 bg-emerald-100 text-emerald-600 rounded-xl",children:I.jsx(qx,{size:16})}),I.jsx("span",{className:"font-bold text-sm text-slate-700",children:"Resolved"})]}),I.jsx("span",{className:"font-black text-slate-900",children:t.resolved})]}),I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-xl",children:I.jsx(Ux,{size:16})}),I.jsx("span",{className:"font-bold text-sm text-slate-700",children:"Pending"})]}),I.jsx("span",{className:"font-black text-slate-900",children:t.pending})]}),I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-xl",children:I.jsx(Gx,{size:16})}),I.jsx("span",{className:"font-bold text-sm text-slate-700",children:"In Progress"})]}),I.jsx("span",{className:"font-black text-slate-900",children:t.inProgress})]})]})]}),I.jsxs("div",{className:"bg-white rounded-[32px] p-6 shadow-lg border border-slate-100",children:[I.jsxs("div",{className:"flex items-center gap-3 mb-6 text-slate-500",children:[I.jsx(w0,{size:20}),I.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Categories"})]}),I.jsx("div",{className:"space-y-3",children:Object.entries(t.categories).map(([n,r])=>I.jsxs("div",{className:"space-y-1",children:[I.jsxs("div",{className:"flex justify-between text-xs font-bold px-1",children:[I.jsx("span",{className:"text-slate-600",children:n}),I.jsx("span",{className:"text-slate-900",children:r})]}),I.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:I.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-1000",style:{width:`${r/t.total*100}%`}})})]},n))})]})]})},dM=({reports:s})=>{const[t,n]=Z.useState(null),[r,l]=Z.useState({}),[h,d]=Z.useState({}),[y,v]=Z.useState({}),[E,x]=Z.useState(null),S=async(B,lt)=>{n(B);try{const at=Ga(sr,"reports",B);await bf(at,{status:lt,updatedAt:new Date})}catch(at){console.error("Error updating status:",at),alert("Failed to update status. Please try again.")}finally{n(null)}},O=async B=>{const lt=r[B];if(!lt||lt.trim()===""){alert("Please provide a resolution note before marking as resolved.");return}n(B);try{let at="";const ht=y[B];if(ht){const Nt=DD(BD,`resolutions/${B}_${Date.now()}_${ht.name}`),Mt=await PD(Nt,ht);at=await LD(Mt.ref)}const It=Ga(sr,"reports",B);await bf(It,{status:"resolved",adminResolutionNote:lt,resolutionImageUrl:at,resolvedAt:Wp()}),l(Nt=>({...Nt,[B]:""})),v(Nt=>({...Nt,[B]:null}))}catch(at){console.error("Error resolving report:",at),alert("Failed to resolve report. Please try again.")}finally{n(null)}},F=async B=>{const lt=h[B];if(!lt||lt.trim()===""){alert("Please provide a comment before updating.");return}n(B);try{const at=Ga(sr,"reports",B);await bf(at,{adminUpdate:lt,lastUpdated:Wp()}),d(ht=>({...ht,[B]:""}))}catch(at){console.error("Error updating comment:",at),alert("Failed to update comment. Please try again.")}finally{n(null)}},nt=async B=>{if(window.confirm("Are you sure you want to permanently delete this report?"))try{const lt=Ga(sr,"reports",B);await vb(lt),alert("Report deleted successfully.")}catch(lt){console.error("Error deleting report:",lt),alert("Failed to delete report. Please try again.")}},Q=B=>{switch(B){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return I.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[I.jsxs("header",{className:"flex justify-between items-center mb-8 md:mb-10",children:[I.jsx("h1",{className:"text-2xl md:text-4xl font-black italic uppercase",children:"Admin Command Center"}),I.jsx("div",{className:"flex gap-4",children:I.jsx("div",{className:"bg-slate-900 text-white px-6 py-2 rounded-full font-bold",children:"Live Data"})})]}),I.jsx(fM,{reports:s}),I.jsx("div",{className:"w-full h-[45vh] md:h-[450px] rounded-[32px] md:rounded-[40px] overflow-hidden mb-6 md:mb-12 shadow-2xl border-4 border-white",children:I.jsx(hM,{reports:s})}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8",children:s.map(B=>I.jsxs("div",{className:"bg-white rounded-[32px] overflow-hidden shadow-lg border border-slate-100 hover:shadow-2xl transition-shadow group relative",children:[I.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:I.jsx("button",{onClick:()=>nt(B.id),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors shadow-lg",title:"Delete Report",children:""})}),I.jsx("div",{className:"h-36 sm:h-40 md:h-48 bg-slate-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>x(B),children:B.imageUrl?I.jsx("img",{src:B.imageUrl,className:"w-full h-full object-cover",alt:"Report"}):I.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-bold uppercase",children:"No Image"})}),I.jsxs("div",{className:"p-4 md:p-6",children:[I.jsxs("div",{className:"flex justify-between items-start mb-3",children:[I.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-500 bg-indigo-50 px-3 py-1 rounded-full",children:B.category}),I.jsx("span",{className:`text-[10px] font-black uppercase px-3 py-1 rounded-full ${Q(B.status)}`,children:B.status?.toUpperCase()||"PENDING"})]}),I.jsx("h3",{className:"text-lg md:text-xl font-bold mb-2",children:B.title}),I.jsx("p",{className:"text-slate-500 text-sm mb-4 line-clamp-2",children:B.description}),B.address&&I.jsxs("div",{className:"flex items-start gap-1 mb-3 text-xs text-slate-500",children:[I.jsx("span",{className:"shrink-0",children:""}),I.jsx("span",{className:"font-medium line-clamp-1",title:B.address,children:B.address})]}),B.audioUrl&&I.jsxs("div",{className:"mb-4 p-2 bg-indigo-50 rounded-xl flex items-center gap-2 border border-indigo-100",children:[I.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center flex-shrink-0 text-[10px]",children:""}),I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsx("span",{className:"text-[9px] font-black uppercase text-indigo-500 block",children:"Voice Note"}),I.jsx("audio",{controls:!0,src:B.audioUrl,className:"w-full h-6"})]})]}),I.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("span",{className:"text-xs font-bold text-slate-400 italic",children:" Pinned on Map"}),I.jsx("div",{className:"flex gap-2",children:I.jsxs("select",{value:B.status||"pending",onChange:lt=>S(B.id,lt.target.value),disabled:t===B.id,className:"text-xs bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full border-0 font-bold uppercase",children:[I.jsx("option",{value:"pending",children:"Pending"}),I.jsx("option",{value:"in-progress",children:"In Progress"}),I.jsx("option",{value:"resolved",children:"Resolved"}),I.jsx("option",{value:"rejected",children:"Rejected"})]})})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"text-xs font-bold text-slate-600 uppercase",children:"Admin Update:"}),I.jsx("textarea",{value:h[B.id]||"",onChange:lt=>d(at=>({...at,[B.id]:lt.target.value})),placeholder:"Write an update for the user...",className:"w-full p-3 text-sm border border-slate-200 rounded-xl resize-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",rows:"2"}),I.jsx("button",{onClick:()=>F(B.id),disabled:t===B.id||!h[B.id]?.trim(),className:"w-full bg-indigo-600 text-white text-xs font-bold uppercase py-2 px-4 rounded-xl hover:bg-indigo-500 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:t===B.id?"UPDATING...":"SEND UPDATE"})]}),B.status!=="resolved"&&I.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-100",children:[I.jsx("label",{className:"text-xs font-bold text-emerald-600 uppercase",children:"Resolution Details:"}),I.jsxs("div",{className:"relative",children:[I.jsx("input",{type:"file",accept:"image/*",onChange:lt=>v(at=>({...at,[B.id]:lt.target.files[0]})),className:"hidden",id:`resolution-photo-${B.id}`}),I.jsx("label",{htmlFor:`resolution-photo-${B.id}`,className:"flex flex-col items-center justify-center w-full h-20 bg-emerald-50 border-2 border-dashed border-emerald-200 rounded-xl cursor-pointer hover:border-emerald-400 hover:bg-emerald-100 transition-all",children:y[B.id]?I.jsxs("div",{className:"text-center",children:[I.jsx("span",{className:"text-emerald-600 font-bold text-xs",children:" Photo Selected"}),I.jsx("p",{className:"text-emerald-500 text-xs mt-1",children:y[B.id].name})]}):I.jsxs(I.Fragment,{children:[I.jsx("span",{className:"text-emerald-400 text-xs",children:" Upload Resolution Photo"}),I.jsx("span",{className:"text-emerald-300 text-xs",children:"(Optional)"})]})})]}),I.jsx("textarea",{value:r[B.id]||"",onChange:lt=>l(at=>({...at,[B.id]:lt.target.value})),placeholder:"Describe what was done to resolve this issue...",className:"w-full p-3 text-sm border border-emerald-200 rounded-xl resize-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500",rows:"3"}),I.jsx("button",{onClick:()=>O(B.id),disabled:t===B.id||!r[B.id]?.trim(),className:"w-full bg-emerald-600 text-white text-xs font-bold uppercase py-3 px-4 rounded-xl hover:bg-emerald-500 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:t===B.id?"UPLOADING...":"MARK AS RESOLVED"})]})]})]})]},B.id))}),E&&I.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:I.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[40px] p-8 shadow-2xl max-h-[90vh] overflow-y-auto",children:[I.jsxs("div",{className:"flex justify-between items-center mb-6",children:[I.jsx("h2",{className:"text-3xl font-black italic uppercase",children:"Report Details"}),I.jsx("button",{onClick:()=>x(null),className:"text-slate-400 hover:text-slate-900 text-2xl font-bold",children:""})]}),I.jsx("div",{className:"w-full h-96 bg-slate-100 rounded-2xl overflow-hidden mb-6",children:E.imageUrl?I.jsx("img",{src:E.imageUrl,className:"w-full h-full object-cover",alt:"Report"}):I.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-bold uppercase",children:"No Image Available"})}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Title"}),I.jsx("p",{className:"text-lg font-bold text-slate-900",children:E.title})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Category"}),I.jsx("p",{className:"text-lg font-bold text-slate-900",children:E.category||"Uncategorized"})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Description"}),I.jsx("p",{className:"text-slate-700",children:E.description})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Status"}),I.jsx("span",{className:`inline-block px-4 py-2 rounded-full font-bold text-xs uppercase ${Q(E.status)}`,children:E.status})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Submitted by"}),I.jsx("p",{className:"text-sm text-slate-600",children:E.userId})]}),E.location&&I.jsxs("div",{children:[I.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Location"}),I.jsx("p",{className:"text-sm text-slate-600",children:E.address?I.jsxs(I.Fragment,{children:[I.jsx("span",{className:"block font-bold text-slate-800 mb-1",children:E.address}),I.jsxs("span",{className:"text-xs text-slate-400",children:["(",E.location.lat,", ",E.location.lng,")"]})]}):`Lat: ${E.location.lat}, Lng: ${E.location.lng}`})]}),E.audioUrl&&I.jsxs("div",{className:"pt-2",children:[I.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-2",children:"Voice Message"}),I.jsx("div",{className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200",children:I.jsx("audio",{controls:!0,src:E.audioUrl,className:"w-full"})})]})]}),I.jsx("button",{onClick:()=>x(null),className:"w-full mt-6 bg-slate-900 text-white font-bold py-3 rounded-2xl hover:bg-slate-800 transition-colors",children:"Close"})]})})]})},mM=({onAdminLogin:s})=>{const[t,n]=Z.useState(!0),[r,l]=Z.useState({email:"",password:"",phone:""}),[h,d]=Z.useState(""),[y,v]=Z.useState(!1),E=async x=>{x.preventDefault(),d("");try{if(t)await uP(Vc,r.email,r.password);else{const S=await lP(Vc,r.email,r.password);await oO(Ga(sr,"users",S.user.uid),{email:r.email,phone:r.phone,role:"user",uid:S.user.uid})}}catch(S){d(S.message)}};return I.jsxs("div",{className:"min-h-screen w-full grid md:grid-cols-2 bg-slate-900 text-white",children:[I.jsx("div",{className:"flex items-center justify-center p-4 md:p-8",children:I.jsxs("form",{onSubmit:E,className:"bg-white text-slate-900 p-6 md:p-10 rounded-[28px] md:rounded-[40px] shadow-2xl w-full max-w-md",children:[I.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-6 uppercase italic",children:"UrbanPulse Login"}),I.jsx("input",{type:"email",placeholder:"Email",autoComplete:"email",className:"w-full mb-4 p-4 bg-slate-100 rounded-2xl outline-none",onChange:x=>l({...r,email:x.target.value})}),!t&&I.jsx("input",{type:"tel",placeholder:"Phone Number",autoComplete:"tel",className:"w-full mb-4 p-4 bg-slate-100 rounded-2xl outline-none",onChange:x=>l({...r,phone:x.target.value})}),I.jsxs("div",{className:"relative mb-6",children:[I.jsx("input",{type:y?"text":"password",placeholder:"Password",autoComplete:t?"current-password":"new-password",className:"w-full p-4 bg-slate-100 rounded-2xl outline-none pr-12",onChange:x=>l({...r,password:x.target.value})}),I.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 transition-all",children:y?I.jsx(Kx,{size:20}):I.jsx(Qx,{size:20})})]}),h&&I.jsx("div",{className:"text-rose-600 text-sm mb-3",children:h}),I.jsx("button",{className:"w-full bg-indigo-600 text-white p-4 md:p-5 rounded-2xl font-bold uppercase tracking-widest hover:bg-indigo-700 transition-all",children:t?"Citizen Sign In":"Create Account"}),I.jsx("p",{className:"mt-6 text-center text-slate-400 cursor-pointer text-sm",onClick:()=>n(!t),children:t?"Don't have an account? Sign Up":"Already have an account? Login"}),I.jsx("button",{type:"button",onClick:()=>s?.(),className:"mt-4 w-full text-xs font-bold text-slate-500 uppercase hover:text-rose-500 transition-colors",children:"Access Admin Portal"})]})}),I.jsxs("div",{className:"relative p-8 hidden md:flex items-center justify-center",children:[I.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/20 to-rose-600/20 blur-3xl"}),I.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-[40px] p-10 w-full max-w-md shadow-2xl",children:[I.jsx("h3",{className:"text-xl font-black uppercase tracking-widest text-white mb-4",children:"UrbanPulse"}),I.jsx("p",{className:"text-slate-200 mb-6",children:"Optimize the grid with secure access."}),I.jsxs("ul",{className:"text-slate-300 text-sm space-y-2",children:[I.jsx("li",{children:" Citizen reports feed"}),I.jsx("li",{children:" Admin command center"}),I.jsx("li",{children:" Live map with pins"})]})]})]})]})},pM=({onAuthorized:s})=>{const[t,n]=Z.useState(""),[r,l]=Z.useState(""),h=d=>{d.preventDefault(),t==="ADMIN_INDIA_2026"?(s?.(),l("")):l("Invalid admin passcode")};return I.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 p-4 md:p-6",children:I.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-[28px] md:rounded-[40px] p-6 md:p-10 w-full max-w-md shadow-2xl text-white",children:[I.jsx("h2",{className:"text-2xl md:text-3xl font-black uppercase mb-4",children:"Terminal Admin"}),I.jsx("p",{className:"text-slate-300 mb-6",children:"Authorize Session"}),I.jsxs("form",{onSubmit:h,className:"space-y-4",children:[I.jsx("input",{type:"password",placeholder:"Admin Passcode",autoComplete:"current-password",value:t,onChange:d=>n(d.target.value),className:"w-full p-4 rounded-2xl bg-white/20 border border-white/30 text-white placeholder-slate-300 outline-none"}),r&&I.jsx("div",{className:"text-rose-400 text-sm",children:r}),I.jsx("button",{className:"w-full bg-rose-600 text-white p-3 md:p-4 rounded-2xl font-bold uppercase tracking-widest hover:bg-rose-700 transition-all",children:"Authorize"})]})]})})};function gM(){const[s,t]=Z.useState(!1),[n,r]=Z.useState("user"),[l,h]=Z.useState([]),[d,y]=Z.useState(!1),[v,E]=Z.useState(null),[x,S]=Z.useState(!0),[O,F]=Z.useState(!1),nt=async()=>{try{await Vc.signOut(),F(!1),t(!1),r("login"),E(null),h([])}catch(Q){console.error("Error signing out:",Q)}};return Z.useEffect(()=>fP(Vc,B=>{B?(E(B),S(!1)):(r("login"),S(!1))}),[]),Z.useEffect(()=>{if(!v&&!O)return;let Q;return n==="admin"||O?Q=LE(Qp(sr,"reports"),DE("createdAt","desc")):Q=LE(Qp(sr,"reports"),sO("userId","==",v.uid),DE("createdAt","desc")),uO(Q,lt=>{h(lt.docs.map(at=>({...at.data(),id:at.id})))})},[v,n,O]),s?x?I.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),I.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):!v&&!O?n==="admin-login"?I.jsx(pM,{onAuthorized:()=>{F(!0),r("admin")}}):I.jsx(mM,{onAdminLogin:()=>r("admin-login")}):I.jsxs("div",{className:"min-h-screen bg-slate-50",children:[I.jsxs("header",{className:"flex justify-between items-center p-4 md:p-8 bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-slate-100 shadow-sm",children:[I.jsxs("div",{className:"text-2xl font-black italic uppercase tracking-tighter",children:["URBAN",I.jsx("span",{className:"text-indigo-600",children:"PULSE"})]}),I.jsxs("div",{className:"flex items-center gap-3",children:[n==="user"&&I.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-2xl font-bold text-sm uppercase shadow-lg hover:shadow-xl hover:from-indigo-700 hover:to-indigo-800 transition-all transform hover:-translate-y-0.5",children:[I.jsx("span",{className:"text-lg",children:"+"}),"NEW REPORT"]}),I.jsx("button",{onClick:nt,className:"px-5 py-3 bg-slate-900 text-white rounded-2xl font-bold text-sm uppercase hover:bg-slate-800 transition-all shadow-md hover:shadow-lg",children:"LOGOUT"})]})]}),I.jsxs("div",{className:"p-4 md:p-8",children:[n==="admin"?I.jsx(dM,{reports:l}):I.jsx(HD,{onOpenModal:()=>y(!0),reports:l,user:v}),I.jsx(jD,{isOpen:d,onClose:()=>y(!1)})]})]}):I.jsx(Ax,{onEnter:()=>t(!0)})}ZS.createRoot(document.getElementById("root")).render(I.jsx(Z.StrictMode,{children:I.jsx(dx,{children:I.jsx(gM,{})})}));
