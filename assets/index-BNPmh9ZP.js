(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function RT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var km={exports:{}},Ju={};var Iv;function VA(){if(Iv)return Ju;Iv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,h){var p=null;if(h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),"key"in l){h={};for(var v in l)v!=="key"&&(h[v]=l[v])}else h=l;return l=h.ref,{$$typeof:s,type:a,key:p,ref:l!==void 0?l:null,props:h}}return Ju.Fragment=t,Ju.jsx=n,Ju.jsxs=n,Ju}var Nv;function zA(){return Nv||(Nv=1,km.exports=VA()),km.exports}var R=zA(),Vm={exports:{}},Ft={};var Ov;function UA(){if(Ov)return Ft;Ov=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),z=Symbol.iterator;function $(P){return P===null||typeof P!="object"?null:(P=z&&P[z]||P["@@iterator"],typeof P=="function"?P:null)}var ct={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,Z={};function mt(P,nt,dt){this.props=P,this.context=nt,this.refs=Z,this.updater=dt||ct}mt.prototype.isReactComponent={},mt.prototype.setState=function(P,nt){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,nt,"setState")},mt.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function vt(){}vt.prototype=mt.prototype;function yt(P,nt,dt){this.props=P,this.context=nt,this.refs=Z,this.updater=dt||ct}var Lt=yt.prototype=new vt;Lt.constructor=yt,st(Lt,mt.prototype),Lt.isPureReactComponent=!0;var Bt=Array.isArray;function jt(){}var U={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function M(P,nt,dt){var gt=dt.ref;return{$$typeof:s,type:P,key:nt,ref:gt!==void 0?gt:null,props:dt}}function H(P,nt){return M(P.type,nt,P.props)}function B(P){return typeof P=="object"&&P!==null&&P.$$typeof===s}function q(P){var nt={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(dt){return nt[dt]})}var k=/\/+/g;function ee(P,nt){return typeof P=="object"&&P!==null&&P.key!=null?q(""+P.key):nt.toString(36)}function Ve(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(jt,jt):(P.status="pending",P.then(function(nt){P.status==="pending"&&(P.status="fulfilled",P.value=nt)},function(nt){P.status==="pending"&&(P.status="rejected",P.reason=nt)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function tt(P,nt,dt,gt,bt){var Et=typeof P;(Et==="undefined"||Et==="boolean")&&(P=null);var qt=!1;if(P===null)qt=!0;else switch(Et){case"bigint":case"string":case"number":qt=!0;break;case"object":switch(P.$$typeof){case s:case t:qt=!0;break;case I:return qt=P._init,tt(qt(P._payload),nt,dt,gt,bt)}}if(qt)return bt=bt(P),qt=gt===""?"."+ee(P,0):gt,Bt(bt)?(dt="",qt!=null&&(dt=qt.replace(k,"$&/")+"/"),tt(bt,nt,dt,"",function(cs){return cs})):bt!=null&&(B(bt)&&(bt=H(bt,dt+(bt.key==null||P&&P.key===bt.key?"":(""+bt.key).replace(k,"$&/")+"/")+qt)),nt.push(bt)),1;qt=0;var be=gt===""?".":gt+":";if(Bt(P))for(var xe=0;xe<P.length;xe++)gt=P[xe],Et=be+ee(gt,xe),qt+=tt(gt,nt,dt,Et,bt);else if(xe=$(P),typeof xe=="function")for(P=xe.call(P),xe=0;!(gt=P.next()).done;)gt=gt.value,Et=be+ee(gt,xe++),qt+=tt(gt,nt,dt,Et,bt);else if(Et==="object"){if(typeof P.then=="function")return tt(Ve(P),nt,dt,gt,bt);throw nt=String(P),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return qt}function ft(P,nt,dt){if(P==null)return P;var gt=[],bt=0;return tt(P,gt,"","",function(Et){return nt.call(dt,Et,bt++)}),gt}function at(P){if(P._status===-1){var nt=P._result;nt=nt(),nt.then(function(dt){(P._status===0||P._status===-1)&&(P._status=1,P._result=dt)},function(dt){(P._status===0||P._status===-1)&&(P._status=2,P._result=dt)}),P._status===-1&&(P._status=0,P._result=nt)}if(P._status===1)return P._result.default;throw P._result}var Dt=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},pt={map:ft,forEach:function(P,nt,dt){ft(P,function(){nt.apply(this,arguments)},dt)},count:function(P){var nt=0;return ft(P,function(){nt++}),nt},toArray:function(P){return ft(P,function(nt){return nt})||[]},only:function(P){if(!B(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ft.Activity=C,Ft.Children=pt,Ft.Component=mt,Ft.Fragment=n,Ft.Profiler=l,Ft.PureComponent=yt,Ft.StrictMode=a,Ft.Suspense=T,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(P){return U.H.useMemoCache(P)}},Ft.cache=function(P){return function(){return P.apply(null,arguments)}},Ft.cacheSignal=function(){return null},Ft.cloneElement=function(P,nt,dt){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var gt=st({},P.props),bt=P.key;if(nt!=null)for(Et in nt.key!==void 0&&(bt=""+nt.key),nt)!O.call(nt,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&nt.ref===void 0||(gt[Et]=nt[Et]);var Et=arguments.length-2;if(Et===1)gt.children=dt;else if(1<Et){for(var qt=Array(Et),be=0;be<Et;be++)qt[be]=arguments[be+2];gt.children=qt}return M(P.type,bt,gt)},Ft.createContext=function(P){return P={$$typeof:p,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:h,_context:P},P},Ft.createElement=function(P,nt,dt){var gt,bt={},Et=null;if(nt!=null)for(gt in nt.key!==void 0&&(Et=""+nt.key),nt)O.call(nt,gt)&&gt!=="key"&&gt!=="__self"&&gt!=="__source"&&(bt[gt]=nt[gt]);var qt=arguments.length-2;if(qt===1)bt.children=dt;else if(1<qt){for(var be=Array(qt),xe=0;xe<qt;xe++)be[xe]=arguments[xe+2];bt.children=be}if(P&&P.defaultProps)for(gt in qt=P.defaultProps,qt)bt[gt]===void 0&&(bt[gt]=qt[gt]);return M(P,Et,bt)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(P){return{$$typeof:v,render:P}},Ft.isValidElement=B,Ft.lazy=function(P){return{$$typeof:I,_payload:{_status:-1,_result:P},_init:at}},Ft.memo=function(P,nt){return{$$typeof:E,type:P,compare:nt===void 0?null:nt}},Ft.startTransition=function(P){var nt=U.T,dt={};U.T=dt;try{var gt=P(),bt=U.S;bt!==null&&bt(dt,gt),typeof gt=="object"&&gt!==null&&typeof gt.then=="function"&&gt.then(jt,Dt)}catch(Et){Dt(Et)}finally{nt!==null&&dt.types!==null&&(nt.types=dt.types),U.T=nt}},Ft.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Ft.use=function(P){return U.H.use(P)},Ft.useActionState=function(P,nt,dt){return U.H.useActionState(P,nt,dt)},Ft.useCallback=function(P,nt){return U.H.useCallback(P,nt)},Ft.useContext=function(P){return U.H.useContext(P)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(P,nt){return U.H.useDeferredValue(P,nt)},Ft.useEffect=function(P,nt){return U.H.useEffect(P,nt)},Ft.useEffectEvent=function(P){return U.H.useEffectEvent(P)},Ft.useId=function(){return U.H.useId()},Ft.useImperativeHandle=function(P,nt,dt){return U.H.useImperativeHandle(P,nt,dt)},Ft.useInsertionEffect=function(P,nt){return U.H.useInsertionEffect(P,nt)},Ft.useLayoutEffect=function(P,nt){return U.H.useLayoutEffect(P,nt)},Ft.useMemo=function(P,nt){return U.H.useMemo(P,nt)},Ft.useOptimistic=function(P,nt){return U.H.useOptimistic(P,nt)},Ft.useReducer=function(P,nt,dt){return U.H.useReducer(P,nt,dt)},Ft.useRef=function(P){return U.H.useRef(P)},Ft.useState=function(P){return U.H.useState(P)},Ft.useSyncExternalStore=function(P,nt,dt){return U.H.useSyncExternalStore(P,nt,dt)},Ft.useTransition=function(){return U.H.useTransition()},Ft.version="19.2.3",Ft}var Pv;function Dp(){return Pv||(Pv=1,Vm.exports=UA()),Vm.exports}var xt=Dp();const np=RT(xt);var zm={exports:{}},$u={},Um={exports:{}},Bm={};var Dv;function BA(){return Dv||(Dv=1,(function(s){function t(tt,ft){var at=tt.length;tt.push(ft);t:for(;0<at;){var Dt=at-1>>>1,pt=tt[Dt];if(0<l(pt,ft))tt[Dt]=ft,tt[at]=pt,at=Dt;else break t}}function n(tt){return tt.length===0?null:tt[0]}function a(tt){if(tt.length===0)return null;var ft=tt[0],at=tt.pop();if(at!==ft){tt[0]=at;t:for(var Dt=0,pt=tt.length,P=pt>>>1;Dt<P;){var nt=2*(Dt+1)-1,dt=tt[nt],gt=nt+1,bt=tt[gt];if(0>l(dt,at))gt<pt&&0>l(bt,dt)?(tt[Dt]=bt,tt[gt]=at,Dt=gt):(tt[Dt]=dt,tt[nt]=at,Dt=nt);else if(gt<pt&&0>l(bt,at))tt[Dt]=bt,tt[gt]=at,Dt=gt;else break t}}return ft}function l(tt,ft){var at=tt.sortIndex-ft.sortIndex;return at!==0?at:tt.id-ft.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var p=Date,v=p.now();s.unstable_now=function(){return p.now()-v}}var T=[],E=[],I=1,C=null,z=3,$=!1,ct=!1,st=!1,Z=!1,mt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Lt(tt){for(var ft=n(E);ft!==null;){if(ft.callback===null)a(E);else if(ft.startTime<=tt)a(E),ft.sortIndex=ft.expirationTime,t(T,ft);else break;ft=n(E)}}function Bt(tt){if(st=!1,Lt(tt),!ct)if(n(T)!==null)ct=!0,jt||(jt=!0,q());else{var ft=n(E);ft!==null&&Ve(Bt,ft.startTime-tt)}}var jt=!1,U=-1,O=5,M=-1;function H(){return Z?!0:!(s.unstable_now()-M<O)}function B(){if(Z=!1,jt){var tt=s.unstable_now();M=tt;var ft=!0;try{t:{ct=!1,st&&(st=!1,vt(U),U=-1),$=!0;var at=z;try{e:{for(Lt(tt),C=n(T);C!==null&&!(C.expirationTime>tt&&H());){var Dt=C.callback;if(typeof Dt=="function"){C.callback=null,z=C.priorityLevel;var pt=Dt(C.expirationTime<=tt);if(tt=s.unstable_now(),typeof pt=="function"){C.callback=pt,Lt(tt),ft=!0;break e}C===n(T)&&a(T),Lt(tt)}else a(T);C=n(T)}if(C!==null)ft=!0;else{var P=n(E);P!==null&&Ve(Bt,P.startTime-tt),ft=!1}}break t}finally{C=null,z=at,$=!1}ft=void 0}}finally{ft?q():jt=!1}}}var q;if(typeof yt=="function")q=function(){yt(B)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ee=k.port2;k.port1.onmessage=B,q=function(){ee.postMessage(null)}}else q=function(){mt(B,0)};function Ve(tt,ft){U=mt(function(){tt(s.unstable_now())},ft)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(tt){tt.callback=null},s.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<tt?Math.floor(1e3/tt):5},s.unstable_getCurrentPriorityLevel=function(){return z},s.unstable_next=function(tt){switch(z){case 1:case 2:case 3:var ft=3;break;default:ft=z}var at=z;z=ft;try{return tt()}finally{z=at}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(tt,ft){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var at=z;z=tt;try{return ft()}finally{z=at}},s.unstable_scheduleCallback=function(tt,ft,at){var Dt=s.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Dt+at:Dt):at=Dt,tt){case 1:var pt=-1;break;case 2:pt=250;break;case 5:pt=1073741823;break;case 4:pt=1e4;break;default:pt=5e3}return pt=at+pt,tt={id:I++,callback:ft,priorityLevel:tt,startTime:at,expirationTime:pt,sortIndex:-1},at>Dt?(tt.sortIndex=at,t(E,tt),n(T)===null&&tt===n(E)&&(st?(vt(U),U=-1):st=!0,Ve(Bt,at-Dt))):(tt.sortIndex=pt,t(T,tt),ct||$||(ct=!0,jt||(jt=!0,q()))),tt},s.unstable_shouldYield=H,s.unstable_wrapCallback=function(tt){var ft=z;return function(){var at=z;z=ft;try{return tt.apply(this,arguments)}finally{z=at}}}})(Bm)),Bm}var Mv;function jA(){return Mv||(Mv=1,Um.exports=BA()),Um.exports}var jm={exports:{}},Un={};var Lv;function HA(){if(Lv)return Un;Lv=1;var s=Dp();function t(T){var E="https://react.dev/errors/"+T;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)E+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+T+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(T,E,I){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:T,containerInfo:E,implementation:I}}var p=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(T,E){if(T==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Un.createPortal=function(T,E){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return h(T,E,null,I)},Un.flushSync=function(T){var E=p.T,I=a.p;try{if(p.T=null,a.p=2,T)return T()}finally{p.T=E,a.p=I,a.d.f()}},Un.preconnect=function(T,E){typeof T=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(T,E))},Un.prefetchDNS=function(T){typeof T=="string"&&a.d.D(T)},Un.preinit=function(T,E){if(typeof T=="string"&&E&&typeof E.as=="string"){var I=E.as,C=v(I,E.crossOrigin),z=typeof E.integrity=="string"?E.integrity:void 0,$=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;I==="style"?a.d.S(T,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:C,integrity:z,fetchPriority:$}):I==="script"&&a.d.X(T,{crossOrigin:C,integrity:z,fetchPriority:$,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Un.preinitModule=function(T,E){if(typeof T=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var I=v(E.as,E.crossOrigin);a.d.M(T,{crossOrigin:I,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(T)},Un.preload=function(T,E){if(typeof T=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var I=E.as,C=v(I,E.crossOrigin);a.d.L(T,I,{crossOrigin:C,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Un.preloadModule=function(T,E){if(typeof T=="string")if(E){var I=v(E.as,E.crossOrigin);a.d.m(T,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:I,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(T)},Un.requestFormReset=function(T){a.d.r(T)},Un.unstable_batchedUpdates=function(T,E){return T(E)},Un.useFormState=function(T,E,I){return p.H.useFormState(T,E,I)},Un.useFormStatus=function(){return p.H.useHostTransitionStatus()},Un.version="19.2.3",Un}var kv;function CT(){if(kv)return jm.exports;kv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jm.exports=HA(),jm.exports}var Vv;function qA(){if(Vv)return $u;Vv=1;var s=jA(),t=Dp(),n=CT();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function p(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function T(e){if(h(e)!==e)throw Error(a(188))}function E(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,c=i;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return T(m),e;if(g===c)return T(m),i;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=g;else{for(var w=!1,x=m.child;x;){if(x===o){w=!0,o=m,c=g;break}if(x===c){w=!0,c=m,o=g;break}x=x.sibling}if(!w){for(x=g.child;x;){if(x===o){w=!0,o=g,c=m;break}if(x===c){w=!0,c=g,o=m;break}x=x.sibling}if(!w)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function I(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=I(e),i!==null)return i;e=e.sibling}return null}var C=Object.assign,z=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),ct=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),Bt=Symbol.for("react.suspense"),jt=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var k=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===k?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case mt:return"Profiler";case Z:return"StrictMode";case Bt:return"Suspense";case jt:return"SuspenseList";case M:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ct:return"Portal";case yt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Lt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return i=e.displayName||null,i!==null?i:ee(e.type)||"Memo";case O:i=e._payload,e=e._init;try{return ee(e(i))}catch{}}return null}var Ve=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Dt=[],pt=-1;function P(e){return{current:e}}function nt(e){0>pt||(e.current=Dt[pt],Dt[pt]=null,pt--)}function dt(e,i){pt++,Dt[pt]=e.current,e.current=i}var gt=P(null),bt=P(null),Et=P(null),qt=P(null);function be(e,i){switch(dt(Et,i),dt(bt,e),dt(gt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Jy(i),e=$y(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(gt),dt(gt,e)}function xe(){nt(gt),nt(bt),nt(Et)}function cs(e){e.memoizedState!==null&&dt(qt,e);var i=gt.current,o=$y(i,e.type);i!==o&&(dt(bt,e),dt(gt,o))}function Ns(e){bt.current===e&&(nt(gt),nt(bt)),qt.current===e&&(nt(qt),Yu._currentValue=at)}var Bi,Os;function ji(e){if(Bi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Bi=i&&i[1]||"",Os=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bi+e+Os}var Zr=!1;function Ps(e,i){if(!e||Zr)return"";Zr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(et){var W=et}Reflect.construct(e,[],ut)}else{try{ut.call()}catch(et){W=et}e.call(ut.prototype)}}else{try{throw Error()}catch(et){W=et}(ut=e())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(et){if(et&&W&&typeof et.stack=="string")return[et.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],x=g[1];if(w&&x){var V=w.split(`
`),Q=x.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===Q.length)for(c=V.length-1,m=Q.length-1;1<=c&&0<=m&&V[c]!==Q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==Q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==Q[m]){var it=`
`+V[c].replace(" at new "," at ");return e.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",e.displayName)),it}while(1<=c&&0<=m);break}}}finally{Zr=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?ji(o):""}function hr(e,i){switch(e.tag){case 26:case 27:case 5:return ji(e.type);case 16:return ji("Lazy");case 13:return e.child!==i&&i!==null?ji("Suspense Fallback"):ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Ps(e.type,!1);case 11:return Ps(e.type.render,!1);case 1:return Ps(e.type,!0);case 31:return ji("Activity");default:return""}}function Ds(e){try{var i="",o=null;do i+=hr(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var qe=Object.prototype.hasOwnProperty,Fe=s.unstable_scheduleCallback,Hi=s.unstable_cancelCallback,rl=s.unstable_shouldYield,no=s.unstable_requestPaint,xn=s.unstable_now,fr=s.unstable_getCurrentPriorityLevel,dr=s.unstable_ImmediatePriority,Kr=s.unstable_UserBlockingPriority,hs=s.unstable_NormalPriority,du=s.unstable_LowPriority,io=s.unstable_IdlePriority,so=s.log,al=s.unstable_setDisableYieldValue,Jn=null,$e=null;function Fn(e){if(typeof so=="function"&&al(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Jn,e)}catch{}}var ze=Math.clz32?Math.clz32:ol,Ms=Math.log,Yr=Math.LN2;function ol(e){return e>>>=0,e===0?32:31-(Ms(e)/Yr|0)|0}var vi=256,Ls=262144,Ue=4194304;function qi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fi(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var m=0,g=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var x=c&134217727;return x!==0?(c=x&~g,c!==0?m=qi(c):(w&=x,w!==0?m=qi(w):o||(o=x&~e,o!==0&&(m=qi(o))))):(x=c&~g,x!==0?m=qi(x):w!==0?m=qi(w):o||(o=c&~e,o!==0&&(m=qi(o)))),m===0?0:i!==0&&i!==m&&(i&g)===0&&(g=m&-m,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:m}function Ti(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function mu(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ll(){var e=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),e}function Gi(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function fs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pu(e,i,o,c,m,g){var w=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var x=e.entanglements,V=e.expirationTimes,Q=e.hiddenUpdates;for(o=w&~o;0<o;){var it=31-ze(o),ut=1<<it;x[it]=0,V[it]=-1;var W=Q[it];if(W!==null)for(Q[it]=null,it=0;it<W.length;it++){var et=W[it];et!==null&&(et.lane&=-536870913)}o&=~ut}c!==0&&mr(e,c,0),g!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=g&~(w&~i))}function mr(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-ze(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function ro(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-ze(o),m=1<<c;m&i|e[c]&i&&(e[c]|=i),o&=~m}}function ao(e,i){var o=i&-i;return o=(o&42)!==0?1:_n(o),(o&(e.suspendedLanes|i))!==0?0:o}function _n(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function oo(){var e=ft.p;return e!==0?e:(e=window.event,e===void 0?32:bv(e.type))}function $n(e,i){var o=ft.p;try{return ft.p=e,i()}finally{ft.p=o}}var ti=Math.random().toString(36).slice(2),Be="__reactFiber$"+ti,Ge="__reactProps$"+ti,Ei="__reactContainer$"+ti,bi="__reactEvents$"+ti,ul="__reactListeners$"+ti,cl="__reactHandles$"+ti,hl="__reactResources$"+ti,Zi="__reactMarker$"+ti;function Qr(e){delete e[Be],delete e[Ge],delete e[bi],delete e[ul],delete e[cl]}function wi(e){var i=e[Be];if(i)return i;for(var o=e.parentNode;o;){if(i=o[Ei]||o[Be]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=av(e);e!==null;){if(o=e[Be])return o;e=av(e)}return i}e=o,o=e.parentNode}return null}function ei(e){if(e=e[Be]||e[Ei]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function yn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function Ki(e){var i=e[hl];return i||(i=e[hl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(e){e[Zi]=!0}var lo=new Set,uo={};function Yi(e,i){ni(e,i),ni(e+"Capture",i)}function ni(e,i){for(uo[e]=i,e=0;e<i.length;e++)lo.add(i[e])}var ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xr={},Wr={};function ks(e){return qe.call(Wr,e)?!0:qe.call(Xr,e)?!1:ds.test(e)?Wr[e]=!0:(Xr[e]=!0,!1)}function Xt(e,i,o){if(ks(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Wt(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function Oe(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pr(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function At(e){if(!e._valueTracker){var i=Gn(e)?"checked":"value";e._valueTracker=pr(e,i,""+e[i])}}function ye(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=Gn(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qi=/[\n"\\]/g;function Re(e){return e.replace(Qi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Jr(e,i,o,c,m,g,w,x){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),i!=null?w==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),i!=null?Ai(e,w,Pe(i)):o!=null?Ai(e,w,Pe(o)):c!=null&&e.removeAttribute("value"),m==null&&g!=null&&(e.defaultChecked=!!g),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Pe(x):e.removeAttribute("name")}function gr(e,i,o,c,m,g,w,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){At(e);return}o=o!=null?""+Pe(o):"",i=i!=null?""+Pe(i):o,x||i===e.value||(e.value=i),e.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=x?e.checked:!!c,e.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),At(e)}function Ai(e,i,o){i==="number"&&ii(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ve(e,i,o,c){if(e=e.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=i.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Pe(o),i=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}i!==null||e[m].disabled||(i=e[m])}i!==null&&(i.selected=!0)}}function Xi(e,i,o){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Pe(o):""}function si(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(Ve(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Pe(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),At(e)}function rn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var $r=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ms(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||$r.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function _r(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&ms(e,m,c)}else for(var g in i)i.hasOwnProperty(g)&&ms(e,g,i[g])}function Vs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(e){return Wi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var ta=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Us=null,Mt=null;function vn(e){var i=ei(e);if(i&&(e=i.stateNode)){var o=e[Ge]||null;t:switch(e=i.stateNode,i.type){case"input":if(Jr(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Re(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var m=c[Ge]||null;if(!m)throw Error(a(90));Jr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&ye(c)}break t;case"textarea":Xi(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&ve(e,!!o.multiple,i,!1)}}}var he=!1;function ps(e,i,o){if(he)return e(i,o);he=!0;try{var c=e(i);return c}finally{if(he=!1,(Us!==null||Mt!==null)&&(Ah(),Us&&(i=Us,e=Mt,Mt=Us=null,vn(i),e)))for(i=0;i<e.length;i++)vn(e[i])}}function Zn(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Ge]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(Ln)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){gs=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{gs=!1}var ri=null,_s=null,De=null;function Si(){if(De)return De;var e,i=_s,o=i.length,c,m="value"in ri?ri.value:ri.textContent,g=m.length;for(e=0;e<o&&i[e]===m[e];e++);var w=o-e;for(c=1;c<=w&&i[o-c]===m[g-c];c++);return De=m.slice(e,1<c?1-c:void 0)}function Bs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function xi(){return!1}function an(e){function i(o,c,m,g,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(o=e[x],this[x]=o?o(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ji:xi,this.isPropagationStopped=xi,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),i}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=an(Ri),ys=C({},Ri,{view:0,detail:0}),Qt=an(ys),js,Tn,kn,vr=C({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kn&&(kn&&e.type==="mousemove"?(js=e.screenX-kn.screenX,Tn=e.screenY-kn.screenY):Tn=js=0,kn=e),js)},movementY:function(e){return"movementY"in e?e.movementY:Tn}}),co=an(vr),vs=C({},vr,{dataTransfer:0}),fl=an(vs),ho=C({},ys,{relatedTarget:0}),Tr=an(ho),fo=C({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),ea=an(fo),na=C({},Ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kn=an(na),dl=C({},Ri,{data:0}),Ci=an(dl),Ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ia(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=po[e])?!!i[e]:!1}function Hs(){return ia}var En=C({},ys,{key:function(e){if(e.key){var i=Ii[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(e){return e.type==="keypress"?Bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),go=an(En),ml=C({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ts=an(ml),f=C({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),y=an(f),A=C({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=an(A),K=C({},vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J=an(K),_t=C({},Ri,{newState:0,oldState:0}),Ut=an(_t),le=[9,13,27,32],ue=Ln&&"CompositionEvent"in window,Ce=null;Ln&&"documentMode"in document&&(Ce=document.documentMode);var ai=Ln&&"TextEvent"in window&&!Ce,oi=Ln&&(!ue||Ce&&8<Ce&&11>=Ce),Yn=" ",Ni=!1;function Er(e,i){switch(e){case"keyup":return le.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function br(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function Oi(e,i){switch(e){case"compositionend":return br(i);case"keypress":return i.which!==32?null:(Ni=!0,Yn);case"textInput":return e=i.data,e===Yn&&Ni?null:e;default:return null}}function ra(e,i){if(sa)return e==="compositionend"||!ue&&Er(e,i)?(e=Si(),De=_s=ri=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return oi&&i.locale!=="ko"?null:i.data;default:return null}}var td={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ts(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!td[e.type]:i==="textarea"}function jc(e,i,o,c){Us?Mt?Mt.push(c):Mt=[c]:Us=c,i=Oh(i,"onChange"),0<i.length&&(o=new $i("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var es=null,_o=null;function yo(e){Zy(e,0)}function vo(e){var i=yn(e);if(ye(i))return e}function To(e,i){if(e==="change")return i}var Hc=!1;if(Ln){var ns;if(Ln){var aa="oninput"in document;if(!aa){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),aa=typeof qc.oninput=="function"}ns=aa}else ns=!1;Hc=ns&&(!document.documentMode||9<document.documentMode)}function pl(){es&&(es.detachEvent("onpropertychange",Fc),_o=es=null)}function Fc(e){if(e.propertyName==="value"&&vo(_o)){var i=[];jc(i,_o,e,Mn(e)),ps(yo,i)}}function Es(e,i,o){e==="focusin"?(pl(),es=i,_o=o,es.attachEvent("onpropertychange",Fc)):e==="focusout"&&pl()}function ed(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vo(_o)}function oa(e,i){if(e==="click")return vo(i)}function nd(e,i){if(e==="input"||e==="change")return vo(i)}function bs(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var bn=typeof Object.is=="function"?Object.is:bs;function la(e,i){if(bn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!qe.call(i,m)||!bn(e[m],i[m]))return!1}return!0}function gl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eo(e,i){var o=gl(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=gl(o)}}function _l(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?_l(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function bo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ii(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=ii(e.document)}return i}function qs(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var yl=Ln&&"documentMode"in document&&11>=document.documentMode,Fs=null,vl=null,wo=null,ua=!1;function Gc(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ua||Fs==null||Fs!==ii(c)||(c=Fs,"selectionStart"in c&&qs(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),wo&&la(wo,c)||(wo=c,c=Oh(vl,"onSelect"),0<c.length&&(i=new $i("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=Fs)))}function Gs(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var ca={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},Tl={},Zc={};Ln&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function wn(e){if(Tl[e])return Tl[e];if(!ca[e])return e;var i=ca[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Zc)return Tl[e]=i[o];return e}var Ao=wn("animationend"),Kc=wn("animationiteration"),So=wn("animationstart"),id=wn("transitionrun"),Yc=wn("transitionstart"),sd=wn("transitioncancel"),ha=wn("transitionend"),Qc=new Map,Zs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zs.push("scrollEnd");function li(e,i){Qc.set(e,i),Yi(i,[e])}var xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ui=[],Vn=0,El=0;function Ro(){for(var e=Vn,i=El=Vn=0;i<e;){var o=ui[i];ui[i++]=null;var c=ui[i];ui[i++]=null;var m=ui[i];ui[i++]=null;var g=ui[i];if(ui[i++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}g!==0&&fa(o,m,g)}}function Ks(e,i,o,c){ui[Vn++]=e,ui[Vn++]=i,ui[Vn++]=o,ui[Vn++]=c,El|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function gu(e,i,o,c){return Ks(e,i,o,c),Co(e)}function is(e,i){return Ks(e,null,null,i),Co(e)}function fa(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(m=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,m&&i!==null&&(m=31-ze(o),e=g.hiddenUpdates,c=e[m],c===null?e[m]=[i]:c.push(i),i.lane=o|536870912),g):null}function Co(e){if(50<ju)throw ju=0,am=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var wr={};function rd(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,i,o,c){return new rd(e,i,o,c)}function bl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ss(e,i){var o=e.alternate;return o===null?(o=zn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function _u(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Io(e,i,o,c,m,g){var w=0;if(c=e,typeof e=="function")bl(e)&&(w=1);else if(typeof e=="string")w=SA(e,o,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case M:return e=zn(31,o,i,m),e.elementType=M,e.lanes=g,e;case st:return Ar(o.children,m,g,i);case Z:w=8,m|=24;break;case mt:return e=zn(12,o,i,m|2),e.elementType=mt,e.lanes=g,e;case Bt:return e=zn(13,o,i,m),e.elementType=Bt,e.lanes=g,e;case jt:return e=zn(19,o,i,m),e.elementType=jt,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:w=10;break t;case vt:w=9;break t;case Lt:w=11;break t;case U:w=14;break t;case O:w=16,c=null;break t}w=29,o=Error(a(130,e===null?"null":typeof e,"")),c=null}return i=zn(w,o,i,m),i.elementType=e,i.type=c,i.lanes=g,i}function Ar(e,i,o,c){return e=zn(7,e,c,i),e.lanes=o,e}function wl(e,i,o){return e=zn(6,e,null,i),e.lanes=o,e}function yu(e){var i=zn(18,null,null,0);return i.stateNode=e,i}function vu(e,i,o){return i=zn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var r=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=r.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Ds(i)},r.set(e,i),i)}return{value:e,source:i,stack:Ds(i)}}var d=[],_=0,b=null,S=0,D=[],G=0,X=null,lt=1,Tt="";function Nt(e,i){d[_++]=S,d[_++]=b,b=e,S=i}function Kt(e,i,o){D[G++]=lt,D[G++]=Tt,D[G++]=X,X=e;var c=lt;e=Tt;var m=32-ze(c)-1;c&=~(1<<m),o+=1;var g=32-ze(i)+m;if(30<g){var w=m-m%5;g=(c&(1<<w)-1).toString(32),c>>=w,m-=w,lt=1<<32-ze(i)+m|o<<m|c,Tt=g+e}else lt=1<<g|o<<m|c,Tt=e}function mn(e){e.return!==null&&(Nt(e,1),Kt(e,1,0))}function Ke(e){for(;e===b;)b=d[--_],d[_]=null,S=d[--_],d[_]=null;for(;e===X;)X=D[--G],D[G]=null,Tt=D[--G],D[G]=null,lt=D[--G],D[G]=null}function Qn(e,i){D[G++]=lt,D[G++]=Tt,D[G++]=X,lt=i.id,Tt=i.overflow,X=e}var fe=null,de=null,Jt=!1,Ys=null,ci=!1,Al=Error(a(519));function Qs(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw No(u(i,e)),Al}function Tu(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Be]=e,i[Ge]=c,o){case"dialog":te("cancel",i),te("close",i);break;case"iframe":case"object":case"embed":te("load",i);break;case"video":case"audio":for(o=0;o<qu.length;o++)te(qu[o],i);break;case"source":te("error",i);break;case"img":case"image":case"link":te("error",i),te("load",i);break;case"details":te("toggle",i);break;case"input":te("invalid",i),gr(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":te("invalid",i);break;case"textarea":te("invalid",i),si(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Xy(i.textContent,o)?(c.popover!=null&&(te("beforetoggle",i),te("toggle",i)),c.onScroll!=null&&te("scroll",i),c.onScrollEnd!=null&&te("scrollend",i),c.onClick!=null&&(i.onclick=Dn),i=!0):i=!1,i||Qs(e,!0)}function je(e){for(fe=e.return;fe;)switch(fe.tag){case 5:case 31:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:fe=fe.return}}function ws(e){if(e!==fe)return!1;if(!Jt)return je(e),Jt=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Em(e.type,e.memoizedProps)),o=!o),o&&de&&Qs(e),je(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=rv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=rv(e)}else i===27?(i=de,xa(e.type)?(e=xm,xm=null,de=e):de=i):de=fe?as(e.stateNode.nextSibling):null;return!0}function Sr(){de=fe=null,Jt=!1}function Eu(){var e=Ys;return e!==null&&(mi===null?mi=e:mi.push.apply(mi,e),Ys=null),e}function No(e){Ys===null?Ys=[e]:Ys.push(e)}var Oo=P(null),Xs=null,As=null;function da(e,i,o){dt(Oo,i._currentValue),i._currentValue=o}function xr(e){e._currentValue=Oo.current,nt(Oo)}function ad(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function od(e,i,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;t:for(;g!==null;){var x=g;g=m;for(var V=0;V<i.length;V++)if(x.context===i[V]){g.lanes|=o,x=g.alternate,x!==null&&(x.lanes|=o),ad(g.return,o,e),c||(w=null);break t}g=x.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(a(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),ad(w,o,e),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===e){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Sl(e,i,o,c){e=null;for(var m=i,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var x=m.type;bn(m.pendingProps.value,w.value)||(e!==null?e.push(x):e=[x])}}else if(m===qt.current){if(w=m.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Yu):e=[Yu])}m=m.return}e!==null&&od(i,e,o,c),i.flags|=262144}function Xc(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Po(e){Xs=e,As=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rn(e){return Lg(Xs,e)}function Wc(e,i){return Xs===null&&Po(e),Lg(e,i)}function Lg(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},As===null){if(e===null)throw Error(a(308));As=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else As=As.next=i;return o}var Ew=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},bw=s.unstable_scheduleCallback,ww=s.unstable_NormalPriority,on={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new Ew,data:new Map,refCount:0}}function bu(e){e.refCount--,e.refCount===0&&bw(ww,function(){e.controller.abort()})}var wu=null,ud=0,xl=0,Rl=null;function Aw(e,i){if(wu===null){var o=wu=[];ud=0,xl=fm(),Rl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return ud++,i.then(kg,kg),i}function kg(){if(--ud===0&&wu!==null){Rl!==null&&(Rl.status="fulfilled");var e=wu;wu=null,xl=0,Rl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Sw(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Vg=tt.S;tt.S=function(e,i){Ty=xn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Aw(e,i),Vg!==null&&Vg(e,i)};var Do=P(null);function cd(){var e=Do.current;return e!==null?e:Ie.pooledCache}function Jc(e,i){i===null?dt(Do,Do.current):dt(Do,i.pool)}function zg(){var e=cd();return e===null?null:{parent:on._currentValue,pool:e}}var Cl=Error(a(460)),hd=Error(a(474)),$c=Error(a(542)),th={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bg(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(Dn,Dn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Hg(e),e;default:if(typeof i.status=="string")i.then(Dn,Dn);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Hg(e),e}throw Lo=i,Cl}}function Mo(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Lo=o,Cl):o}}var Lo=null;function jg(){if(Lo===null)throw Error(a(459));var e=Lo;return Lo=null,e}function Hg(e){if(e===Cl||e===$c)throw Error(a(483))}var Il=null,Au=0;function eh(e){var i=Au;return Au+=1,Il===null&&(Il=[]),Bg(Il,e,i)}function Su(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function nh(e,i){throw i.$$typeof===z?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function qg(e){function i(F,j){if(e){var Y=F.deletions;Y===null?(F.deletions=[j],F.flags|=16):Y.push(j)}}function o(F,j){if(!e)return null;for(;j!==null;)i(F,j),j=j.sibling;return null}function c(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function m(F,j){return F=ss(F,j),F.index=0,F.sibling=null,F}function g(F,j,Y){return F.index=Y,e?(Y=F.alternate,Y!==null?(Y=Y.index,Y<j?(F.flags|=67108866,j):Y):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function w(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function x(F,j,Y,rt){return j===null||j.tag!==6?(j=wl(Y,F.mode,rt),j.return=F,j):(j=m(j,Y),j.return=F,j)}function V(F,j,Y,rt){var Ot=Y.type;return Ot===st?it(F,j,Y.props.children,rt,Y.key):j!==null&&(j.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===O&&Mo(Ot)===j.type)?(j=m(j,Y.props),Su(j,Y),j.return=F,j):(j=Io(Y.type,Y.key,Y.props,null,F.mode,rt),Su(j,Y),j.return=F,j)}function Q(F,j,Y,rt){return j===null||j.tag!==4||j.stateNode.containerInfo!==Y.containerInfo||j.stateNode.implementation!==Y.implementation?(j=vu(Y,F.mode,rt),j.return=F,j):(j=m(j,Y.children||[]),j.return=F,j)}function it(F,j,Y,rt,Ot){return j===null||j.tag!==7?(j=Ar(Y,F.mode,rt,Ot),j.return=F,j):(j=m(j,Y),j.return=F,j)}function ut(F,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=wl(""+j,F.mode,Y),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $:return Y=Io(j.type,j.key,j.props,null,F.mode,Y),Su(Y,j),Y.return=F,Y;case ct:return j=vu(j,F.mode,Y),j.return=F,j;case O:return j=Mo(j),ut(F,j,Y)}if(Ve(j)||q(j))return j=Ar(j,F.mode,Y,null),j.return=F,j;if(typeof j.then=="function")return ut(F,eh(j),Y);if(j.$$typeof===yt)return ut(F,Wc(F,j),Y);nh(F,j)}return null}function W(F,j,Y,rt){var Ot=j!==null?j.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ot!==null?null:x(F,j,""+Y,rt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return Y.key===Ot?V(F,j,Y,rt):null;case ct:return Y.key===Ot?Q(F,j,Y,rt):null;case O:return Y=Mo(Y),W(F,j,Y,rt)}if(Ve(Y)||q(Y))return Ot!==null?null:it(F,j,Y,rt,null);if(typeof Y.then=="function")return W(F,j,eh(Y),rt);if(Y.$$typeof===yt)return W(F,j,Wc(F,Y),rt);nh(F,Y)}return null}function et(F,j,Y,rt,Ot){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return F=F.get(Y)||null,x(j,F,""+rt,Ot);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case $:return F=F.get(rt.key===null?Y:rt.key)||null,V(j,F,rt,Ot);case ct:return F=F.get(rt.key===null?Y:rt.key)||null,Q(j,F,rt,Ot);case O:return rt=Mo(rt),et(F,j,Y,rt,Ot)}if(Ve(rt)||q(rt))return F=F.get(Y)||null,it(j,F,rt,Ot,null);if(typeof rt.then=="function")return et(F,j,Y,eh(rt),Ot);if(rt.$$typeof===yt)return et(F,j,Y,Wc(j,rt),Ot);nh(j,rt)}return null}function Ct(F,j,Y,rt){for(var Ot=null,me=null,It=j,Yt=j=0,se=null;It!==null&&Yt<Y.length;Yt++){It.index>Yt?(se=It,It=null):se=It.sibling;var pe=W(F,It,Y[Yt],rt);if(pe===null){It===null&&(It=se);break}e&&It&&pe.alternate===null&&i(F,It),j=g(pe,j,Yt),me===null?Ot=pe:me.sibling=pe,me=pe,It=se}if(Yt===Y.length)return o(F,It),Jt&&Nt(F,Yt),Ot;if(It===null){for(;Yt<Y.length;Yt++)It=ut(F,Y[Yt],rt),It!==null&&(j=g(It,j,Yt),me===null?Ot=It:me.sibling=It,me=It);return Jt&&Nt(F,Yt),Ot}for(It=c(It);Yt<Y.length;Yt++)se=et(It,F,Yt,Y[Yt],rt),se!==null&&(e&&se.alternate!==null&&It.delete(se.key===null?Yt:se.key),j=g(se,j,Yt),me===null?Ot=se:me.sibling=se,me=se);return e&&It.forEach(function(Oa){return i(F,Oa)}),Jt&&Nt(F,Yt),Ot}function kt(F,j,Y,rt){if(Y==null)throw Error(a(151));for(var Ot=null,me=null,It=j,Yt=j=0,se=null,pe=Y.next();It!==null&&!pe.done;Yt++,pe=Y.next()){It.index>Yt?(se=It,It=null):se=It.sibling;var Oa=W(F,It,pe.value,rt);if(Oa===null){It===null&&(It=se);break}e&&It&&Oa.alternate===null&&i(F,It),j=g(Oa,j,Yt),me===null?Ot=Oa:me.sibling=Oa,me=Oa,It=se}if(pe.done)return o(F,It),Jt&&Nt(F,Yt),Ot;if(It===null){for(;!pe.done;Yt++,pe=Y.next())pe=ut(F,pe.value,rt),pe!==null&&(j=g(pe,j,Yt),me===null?Ot=pe:me.sibling=pe,me=pe);return Jt&&Nt(F,Yt),Ot}for(It=c(It);!pe.done;Yt++,pe=Y.next())pe=et(It,F,Yt,pe.value,rt),pe!==null&&(e&&pe.alternate!==null&&It.delete(pe.key===null?Yt:pe.key),j=g(pe,j,Yt),me===null?Ot=pe:me.sibling=pe,me=pe);return e&&It.forEach(function(kA){return i(F,kA)}),Jt&&Nt(F,Yt),Ot}function Se(F,j,Y,rt){if(typeof Y=="object"&&Y!==null&&Y.type===st&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:t:{for(var Ot=Y.key;j!==null;){if(j.key===Ot){if(Ot=Y.type,Ot===st){if(j.tag===7){o(F,j.sibling),rt=m(j,Y.props.children),rt.return=F,F=rt;break t}}else if(j.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===O&&Mo(Ot)===j.type){o(F,j.sibling),rt=m(j,Y.props),Su(rt,Y),rt.return=F,F=rt;break t}o(F,j);break}else i(F,j);j=j.sibling}Y.type===st?(rt=Ar(Y.props.children,F.mode,rt,Y.key),rt.return=F,F=rt):(rt=Io(Y.type,Y.key,Y.props,null,F.mode,rt),Su(rt,Y),rt.return=F,F=rt)}return w(F);case ct:t:{for(Ot=Y.key;j!==null;){if(j.key===Ot)if(j.tag===4&&j.stateNode.containerInfo===Y.containerInfo&&j.stateNode.implementation===Y.implementation){o(F,j.sibling),rt=m(j,Y.children||[]),rt.return=F,F=rt;break t}else{o(F,j);break}else i(F,j);j=j.sibling}rt=vu(Y,F.mode,rt),rt.return=F,F=rt}return w(F);case O:return Y=Mo(Y),Se(F,j,Y,rt)}if(Ve(Y))return Ct(F,j,Y,rt);if(q(Y)){if(Ot=q(Y),typeof Ot!="function")throw Error(a(150));return Y=Ot.call(Y),kt(F,j,Y,rt)}if(typeof Y.then=="function")return Se(F,j,eh(Y),rt);if(Y.$$typeof===yt)return Se(F,j,Wc(F,Y),rt);nh(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,j!==null&&j.tag===6?(o(F,j.sibling),rt=m(j,Y),rt.return=F,F=rt):(o(F,j),rt=wl(Y,F.mode,rt),rt.return=F,F=rt),w(F)):o(F,j)}return function(F,j,Y,rt){try{Au=0;var Ot=Se(F,j,Y,rt);return Il=null,Ot}catch(It){if(It===Cl||It===$c)throw It;var me=zn(29,It,null,F.mode);return me.lanes=rt,me.return=F,me}}}var ko=qg(!0),Fg=qg(!1),ma=!1;function fd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ga(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=Co(e),fa(e,null,o),i}return Ks(e,c,i,o),Co(e)}function xu(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,ro(e,o)}}function md(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?m=g=i:g=g.next=i}else m=g=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var pd=!1;function Ru(){if(pd){var e=Rl;if(e!==null)throw e}}function Cu(e,i,o,c){pd=!1;var m=e.updateQueue;ma=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var V=x,Q=V.next;V.next=null,w===null?g=Q:w.next=Q,w=V;var it=e.alternate;it!==null&&(it=it.updateQueue,x=it.lastBaseUpdate,x!==w&&(x===null?it.firstBaseUpdate=Q:x.next=Q,it.lastBaseUpdate=V))}if(g!==null){var ut=m.baseState;w=0,it=Q=V=null,x=g;do{var W=x.lane&-536870913,et=W!==x.lane;if(et?(ie&W)===W:(c&W)===W){W!==0&&W===xl&&(pd=!0),it!==null&&(it=it.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var Ct=e,kt=x;W=i;var Se=o;switch(kt.tag){case 1:if(Ct=kt.payload,typeof Ct=="function"){ut=Ct.call(Se,ut,W);break t}ut=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=kt.payload,W=typeof Ct=="function"?Ct.call(Se,ut,W):Ct,W==null)break t;ut=C({},ut,W);break t;case 2:ma=!0}}W=x.callback,W!==null&&(e.flags|=64,et&&(e.flags|=8192),et=m.callbacks,et===null?m.callbacks=[W]:et.push(W))}else et={lane:W,tag:x.tag,payload:x.payload,callback:x.callback,next:null},it===null?(Q=it=et,V=ut):it=it.next=et,w|=W;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;et=x,x=et.next,et.next=null,m.lastBaseUpdate=et,m.shared.pending=null}}while(!0);it===null&&(V=ut),m.baseState=V,m.firstBaseUpdate=Q,m.lastBaseUpdate=it,g===null&&(m.shared.lanes=0),Ea|=w,e.lanes=w,e.memoizedState=ut}}function Gg(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Zg(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Gg(o[e],i)}var Nl=P(null),ih=P(0);function Kg(e,i){e=Lr,dt(ih,e),dt(Nl,i),Lr=e|i.baseLanes}function gd(){dt(ih,Lr),dt(Nl,Nl.current)}function _d(){Lr=ih.current,nt(Nl),nt(ih)}var Pi=P(null),rs=null;function _a(e){var i=e.alternate;dt(tn,tn.current&1),dt(Pi,e),rs===null&&(i===null||Nl.current!==null||i.memoizedState!==null)&&(rs=e)}function yd(e){dt(tn,tn.current),dt(Pi,e),rs===null&&(rs=e)}function Yg(e){e.tag===22?(dt(tn,tn.current),dt(Pi,e),rs===null&&(rs=e)):ya()}function ya(){dt(tn,tn.current),dt(Pi,Pi.current)}function Di(e){nt(Pi),rs===e&&(rs=null),nt(tn)}var tn=P(0);function sh(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Am(o)||Sm(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Rr=0,Zt=null,we=null,ln=null,rh=!1,Ol=!1,Vo=!1,ah=0,Iu=0,Pl=null,xw=0;function Ye(){throw Error(a(321))}function vd(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!bn(e[o],i[o]))return!1;return!0}function Td(e,i,o,c,m,g){return Rr=g,Zt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,tt.H=e===null||e.memoizedState===null?O_:Ld,Vo=!1,g=o(c,m),Vo=!1,Ol&&(g=Xg(i,o,c,m)),Qg(e),g}function Qg(e){tt.H=Pu;var i=we!==null&&we.next!==null;if(Rr=0,ln=we=Zt=null,rh=!1,Iu=0,Pl=null,i)throw Error(a(300));e===null||un||(e=e.dependencies,e!==null&&Xc(e)&&(un=!0))}function Xg(e,i,o,c){Zt=e;var m=0;do{if(Ol&&(Pl=null),Iu=0,Ol=!1,25<=m)throw Error(a(301));if(m+=1,ln=we=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}tt.H=P_,g=i(o,c)}while(Ol);return g}function Rw(){var e=tt.H,i=e.useState()[0];return i=typeof i.then=="function"?Nu(i):i,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(Zt.flags|=1024),i}function Ed(){var e=ah!==0;return ah=0,e}function bd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function wd(e){if(rh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}rh=!1}Rr=0,ln=we=Zt=null,Ol=!1,Iu=ah=0,Pl=null}function Xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Zt.memoizedState=ln=e:ln=ln.next=e,ln}function en(){if(we===null){var e=Zt.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var i=ln===null?Zt.memoizedState:ln.next;if(i!==null)ln=i,we=e;else{if(e===null)throw Zt.alternate===null?Error(a(467)):Error(a(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},ln===null?Zt.memoizedState=ln=e:ln=ln.next=e}return ln}function oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(e){var i=Iu;return Iu+=1,Pl===null&&(Pl=[]),e=Bg(Pl,e,i),i=Zt,(ln===null?i.memoizedState:ln.next)===null&&(i=i.alternate,tt.H=i===null||i.memoizedState===null?O_:Ld),e}function lh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Nu(e);if(e.$$typeof===yt)return Rn(e)}throw Error(a(438,String(e)))}function Ad(e){var i=null,o=Zt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Zt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=oh(),Zt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=H;return i.index++,o}function Cr(e,i){return typeof i=="function"?i(e):i}function uh(e){var i=en();return Sd(i,we,e)}function Sd(e,i,o){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=e.baseQueue,g=c.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}i.baseQueue=m=g,c.pending=null}if(g=e.baseState,m===null)e.memoizedState=g;else{i=m.next;var x=w=null,V=null,Q=i,it=!1;do{var ut=Q.lane&-536870913;if(ut!==Q.lane?(ie&ut)===ut:(Rr&ut)===ut){var W=Q.revertLane;if(W===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ut===xl&&(it=!0);else if((Rr&W)===W){Q=Q.next,W===xl&&(it=!0);continue}else ut={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(x=V=ut,w=g):V=V.next=ut,Zt.lanes|=W,Ea|=W;ut=Q.action,Vo&&o(g,ut),g=Q.hasEagerState?Q.eagerState:o(g,ut)}else W={lane:ut,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(x=V=W,w=g):V=V.next=W,Zt.lanes|=ut,Ea|=ut;Q=Q.next}while(Q!==null&&Q!==i);if(V===null?w=g:V.next=x,!bn(g,e.memoizedState)&&(un=!0,it&&(o=Rl,o!==null)))throw o;e.memoizedState=g,e.baseState=w,e.baseQueue=V,c.lastRenderedState=g}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function xd(e){var i=en(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,g=i.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do g=e(g,w.action),w=w.next;while(w!==m);bn(g,i.memoizedState)||(un=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function Wg(e,i,o){var c=Zt,m=en(),g=Jt;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=i();var w=!bn((we||m).memoizedState,o);if(w&&(m.memoizedState=o,un=!0),m=m.queue,Id(t_.bind(null,c,m,e),[e]),m.getSnapshot!==i||w||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,Dl(9,{destroy:void 0},$g.bind(null,c,m,o,i),null),Ie===null)throw Error(a(349));g||(Rr&127)!==0||Jg(c,i,o)}return o}function Jg(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Zt.updateQueue,i===null?(i=oh(),Zt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function $g(e,i,o,c){i.value=o,i.getSnapshot=c,e_(i)&&n_(e)}function t_(e,i,o){return o(function(){e_(i)&&n_(e)})}function e_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!bn(e,o)}catch{return!0}}function n_(e){var i=is(e,2);i!==null&&pi(i,e,2)}function Rd(e){var i=Xn();if(typeof e=="function"){var o=e;if(e=o(),Vo){Fn(!0);try{o()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:e},i}function i_(e,i,o,c){return e.baseState=o,Sd(e,we,typeof c=="function"?c:Cr)}function Cw(e,i,o,c,m){if(fh(e))throw Error(a(485));if(e=i.action,e!==null){var g={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};tt.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,s_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function s_(e,i){var o=i.action,c=i.payload,m=e.state;if(i.isTransition){var g=tt.T,w={};tt.T=w;try{var x=o(m,c),V=tt.S;V!==null&&V(w,x),r_(e,i,x)}catch(Q){Cd(e,i,Q)}finally{g!==null&&w.types!==null&&(g.types=w.types),tt.T=g}}else try{g=o(m,c),r_(e,i,g)}catch(Q){Cd(e,i,Q)}}function r_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){a_(e,i,c)},function(c){return Cd(e,i,c)}):a_(e,i,o)}function a_(e,i,o){i.status="fulfilled",i.value=o,o_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,s_(e,o)))}function Cd(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,o_(i),i=i.next;while(i!==c)}e.action=null}function o_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function l_(e,i){return i}function u_(e,i){if(Jt){var o=Ie.formState;if(o!==null){t:{var c=Zt;if(Jt){if(de){e:{for(var m=de,g=ci;m.nodeType!==8;){if(!g){m=null;break e}if(m=as(m.nextSibling),m===null){m=null;break e}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){de=as(m.nextSibling),c=m.data==="F!";break t}}Qs(c)}c=!1}c&&(i=o[0])}}return o=Xn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l_,lastRenderedState:i},o.queue=c,o=C_.bind(null,Zt,c),c.dispatch=o,c=Rd(!1),g=Md.bind(null,Zt,!1,c.queue),c=Xn(),m={state:i,dispatch:null,action:e,pending:null},c.queue=m,o=Cw.bind(null,Zt,m,g,o),m.dispatch=o,c.memoizedState=e,[i,o,!1]}function c_(e){var i=en();return h_(i,we,e)}function h_(e,i,o){if(i=Sd(e,i,l_)[0],e=uh(Cr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Nu(i)}catch(w){throw w===Cl?$c:w}else c=i;i=en();var m=i.queue,g=m.dispatch;return o!==i.memoizedState&&(Zt.flags|=2048,Dl(9,{destroy:void 0},Iw.bind(null,m,o),null)),[c,g,e]}function Iw(e,i){e.action=i}function f_(e){var i=en(),o=we;if(o!==null)return h_(i,o,e);en(),i=i.memoizedState,o=en();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function Dl(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Zt.updateQueue,i===null&&(i=oh(),Zt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function d_(){return en().memoizedState}function ch(e,i,o,c){var m=Xn();Zt.flags|=e,m.memoizedState=Dl(1|i,{destroy:void 0},o,c===void 0?null:c)}function hh(e,i,o,c){var m=en();c=c===void 0?null:c;var g=m.memoizedState.inst;we!==null&&c!==null&&vd(c,we.memoizedState.deps)?m.memoizedState=Dl(i,g,o,c):(Zt.flags|=e,m.memoizedState=Dl(1|i,g,o,c))}function m_(e,i){ch(8390656,8,e,i)}function Id(e,i){hh(2048,8,e,i)}function Nw(e){Zt.flags|=4;var i=Zt.updateQueue;if(i===null)i=oh(),Zt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function p_(e){var i=en().memoizedState;return Nw({ref:i,nextImpl:e}),function(){if((ge&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function g_(e,i){return hh(4,2,e,i)}function __(e,i){return hh(4,4,e,i)}function y_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function v_(e,i,o){o=o!=null?o.concat([e]):null,hh(4,4,y_.bind(null,i,e),o)}function Nd(){}function T_(e,i){var o=en();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&vd(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function E_(e,i){var o=en();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&vd(i,c[1]))return c[0];if(c=e(),Vo){Fn(!0);try{e()}finally{Fn(!1)}}return o.memoizedState=[c,i],c}function Od(e,i,o){return o===void 0||(Rr&1073741824)!==0&&(ie&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=by(),Zt.lanes|=e,Ea|=e,o)}function b_(e,i,o,c){return bn(o,i)?o:Nl.current!==null?(e=Od(e,o,c),bn(e,i)||(un=!0),e):(Rr&42)===0||(Rr&1073741824)!==0&&(ie&261930)===0?(un=!0,e.memoizedState=o):(e=by(),Zt.lanes|=e,Ea|=e,i)}function w_(e,i,o,c,m){var g=ft.p;ft.p=g!==0&&8>g?g:8;var w=tt.T,x={};tt.T=x,Md(e,!1,i,o);try{var V=m(),Q=tt.S;if(Q!==null&&Q(x,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var it=Sw(V,c);Ou(e,i,it,ki(e))}else Ou(e,i,c,ki(e))}catch(ut){Ou(e,i,{then:function(){},status:"rejected",reason:ut},ki())}finally{ft.p=g,w!==null&&x.types!==null&&(w.types=x.types),tt.T=w}}function Ow(){}function Pd(e,i,o,c){if(e.tag!==5)throw Error(a(476));var m=A_(e).queue;w_(e,m,i,at,o===null?Ow:function(){return S_(e),o(c)})}function A_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:at},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function S_(e){var i=A_(e);i.next===null&&(i=e.alternate.memoizedState),Ou(e,i.next.queue,{},ki())}function Dd(){return Rn(Yu)}function x_(){return en().memoizedState}function R_(){return en().memoizedState}function Pw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=ki();e=pa(o);var c=ga(i,e,o);c!==null&&(pi(c,i,o),xu(c,i,o)),i={cache:ld()},e.payload=i;return}i=i.return}}function Dw(e,i,o){var c=ki();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},fh(e)?I_(i,o):(o=gu(e,i,o,c),o!==null&&(pi(o,e,c),N_(o,i,c)))}function C_(e,i,o){var c=ki();Ou(e,i,o,c)}function Ou(e,i,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(fh(e))I_(i,m);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var w=i.lastRenderedState,x=g(w,o);if(m.hasEagerState=!0,m.eagerState=x,bn(x,w))return Ks(e,i,m,0),Ie===null&&Ro(),!1}catch{}if(o=gu(e,i,m,c),o!==null)return pi(o,e,c),N_(o,i,c),!0}return!1}function Md(e,i,o,c){if(c={lane:2,revertLane:fm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},fh(e)){if(i)throw Error(a(479))}else i=gu(e,o,c,2),i!==null&&pi(i,e,2)}function fh(e){var i=e.alternate;return e===Zt||i!==null&&i===Zt}function I_(e,i){Ol=rh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function N_(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,ro(e,o)}}var Pu={readContext:Rn,use:lh,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Pu.useEffectEvent=Ye;var O_={readContext:Rn,use:lh,useCallback:function(e,i){return Xn().memoizedState=[e,i===void 0?null:i],e},useContext:Rn,useEffect:m_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,ch(4194308,4,y_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return ch(4194308,4,e,i)},useInsertionEffect:function(e,i){ch(4,2,e,i)},useMemo:function(e,i){var o=Xn();i=i===void 0?null:i;var c=e();if(Vo){Fn(!0);try{e()}finally{Fn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=Xn();if(o!==void 0){var m=o(i);if(Vo){Fn(!0);try{o(i)}finally{Fn(!1)}}}else m=i;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=Dw.bind(null,Zt,e),[c.memoizedState,e]},useRef:function(e){var i=Xn();return e={current:e},i.memoizedState=e},useState:function(e){e=Rd(e);var i=e.queue,o=C_.bind(null,Zt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Nd,useDeferredValue:function(e,i){var o=Xn();return Od(o,e,i)},useTransition:function(){var e=Rd(!1);return e=w_.bind(null,Zt,e.queue,!0,!1),Xn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Zt,m=Xn();if(Jt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ie===null)throw Error(a(349));(ie&127)!==0||Jg(c,i,o)}m.memoizedState=o;var g={value:o,getSnapshot:i};return m.queue=g,m_(t_.bind(null,c,g,e),[e]),c.flags|=2048,Dl(9,{destroy:void 0},$g.bind(null,c,g,o,i),null),o},useId:function(){var e=Xn(),i=Ie.identifierPrefix;if(Jt){var o=Tt,c=lt;o=(c&~(1<<32-ze(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=ah++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=xw++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Dd,useFormState:u_,useActionState:u_,useOptimistic:function(e){var i=Xn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Md.bind(null,Zt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Ad,useCacheRefresh:function(){return Xn().memoizedState=Pw.bind(null,Zt)},useEffectEvent:function(e){var i=Xn(),o={impl:e};return i.memoizedState=o,function(){if((ge&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Ld={readContext:Rn,use:lh,useCallback:T_,useContext:Rn,useEffect:Id,useImperativeHandle:v_,useInsertionEffect:g_,useLayoutEffect:__,useMemo:E_,useReducer:uh,useRef:d_,useState:function(){return uh(Cr)},useDebugValue:Nd,useDeferredValue:function(e,i){var o=en();return b_(o,we.memoizedState,e,i)},useTransition:function(){var e=uh(Cr)[0],i=en().memoizedState;return[typeof e=="boolean"?e:Nu(e),i]},useSyncExternalStore:Wg,useId:x_,useHostTransitionStatus:Dd,useFormState:c_,useActionState:c_,useOptimistic:function(e,i){var o=en();return i_(o,we,e,i)},useMemoCache:Ad,useCacheRefresh:R_};Ld.useEffectEvent=p_;var P_={readContext:Rn,use:lh,useCallback:T_,useContext:Rn,useEffect:Id,useImperativeHandle:v_,useInsertionEffect:g_,useLayoutEffect:__,useMemo:E_,useReducer:xd,useRef:d_,useState:function(){return xd(Cr)},useDebugValue:Nd,useDeferredValue:function(e,i){var o=en();return we===null?Od(o,e,i):b_(o,we.memoizedState,e,i)},useTransition:function(){var e=xd(Cr)[0],i=en().memoizedState;return[typeof e=="boolean"?e:Nu(e),i]},useSyncExternalStore:Wg,useId:x_,useHostTransitionStatus:Dd,useFormState:f_,useActionState:f_,useOptimistic:function(e,i){var o=en();return we!==null?i_(o,we,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:R_};P_.useEffectEvent=p_;function kd(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:C({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Vd={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=ki(),m=pa(c);m.payload=i,o!=null&&(m.callback=o),i=ga(e,m,c),i!==null&&(pi(i,e,c),xu(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=ki(),m=pa(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=ga(e,m,c),i!==null&&(pi(i,e,c),xu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=ki(),c=pa(o);c.tag=2,i!=null&&(c.callback=i),i=ga(e,c,o),i!==null&&(pi(i,e,o),xu(i,e,o))}};function D_(e,i,o,c,m,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,w):i.prototype&&i.prototype.isPureReactComponent?!la(o,c)||!la(m,g):!0}function M_(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&Vd.enqueueReplaceState(i,i.state,null)}function zo(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=C({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}function L_(e){xo(e)}function k_(e){console.error(e)}function V_(e){xo(e)}function dh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function z_(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function zd(e,i,o){return o=pa(o),o.tag=3,o.payload={element:null},o.callback=function(){dh(e,i)},o}function U_(e){return e=pa(e),e.tag=3,e}function B_(e,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;e.payload=function(){return m(g)},e.callback=function(){z_(i,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){z_(i,o,c),typeof m!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function Mw(e,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Sl(i,o,m,!0),o=Pi.current,o!==null){switch(o.tag){case 31:case 13:return rs===null?Sh():o.alternate===null&&Qe===0&&(Qe=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===th?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),um(e,c,m)),!1;case 22:return o.flags|=65536,c===th?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),um(e,c,m)),!1}throw Error(a(435,o.tag))}return um(e,c,m),Sh(),!1}if(Jt)return i=Pi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==Al&&(e=Error(a(422),{cause:c}),No(u(e,o)))):(c!==Al&&(i=Error(a(423),{cause:c}),No(u(i,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=u(c,o),m=zd(e.stateNode,c,m),md(e,m),Qe!==4&&(Qe=2)),!1;var g=Error(a(520),{cause:c});if(g=u(g,o),Bu===null?Bu=[g]:Bu.push(g),Qe!==4&&(Qe=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=zd(o.stateNode,c,e),md(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ba===null||!ba.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=U_(m),B_(m,e,o,c),md(o,m),!1}o=o.return}while(o!==null);return!1}var Ud=Error(a(461)),un=!1;function Cn(e,i,o,c){i.child=e===null?Fg(i,null,o,c):ko(i,e.child,o,c)}function j_(e,i,o,c,m){o=o.render;var g=i.ref;if("ref"in c){var w={};for(var x in c)x!=="ref"&&(w[x]=c[x])}else w=c;return Po(i),c=Td(e,i,o,w,g,m),x=Ed(),e!==null&&!un?(bd(e,i,m),Ir(e,i,m)):(Jt&&x&&mn(i),i.flags|=1,Cn(e,i,c,m),i.child)}function H_(e,i,o,c,m){if(e===null){var g=o.type;return typeof g=="function"&&!bl(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,q_(e,i,g,c,m)):(e=Io(o.type,null,c,i,i.mode,m),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!Kd(e,m)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:la,o(w,c)&&e.ref===i.ref)return Ir(e,i,m)}return i.flags|=1,e=ss(g,c),e.ref=i.ref,e.return=i,i.child=e}function q_(e,i,o,c,m){if(e!==null){var g=e.memoizedProps;if(la(g,c)&&e.ref===i.ref)if(un=!1,i.pendingProps=c=g,Kd(e,m))(e.flags&131072)!==0&&(un=!0);else return i.lanes=e.lanes,Ir(e,i,m)}return Bd(e,i,o,c,m)}function F_(e,i,o,c){var m=c.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=i.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,i.child=null;return G_(e,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jc(i,g!==null?g.cachePool:null),g!==null?Kg(i,g):gd(),Yg(i);else return c=i.lanes=536870912,G_(e,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Jc(i,g.cachePool),Kg(i,g),ya(),i.memoizedState=null):(e!==null&&Jc(i,null),gd(),ya());return Cn(e,i,m,o),i.child}function Du(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function G_(e,i,o,c,m){var g=cd();return g=g===null?null:{parent:on._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},e!==null&&Jc(i,null),gd(),Yg(i),e!==null&&Sl(e,i,c,!0),i.childLanes=m,null}function mh(e,i){return i=gh({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Z_(e,i,o){return ko(i,e.child,null,o),e=mh(i,i.pendingProps),e.flags|=2,Di(i),i.memoizedState=null,e}function Lw(e,i,o){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Jt){if(c.mode==="hidden")return e=mh(i,c),i.lanes=536870912,Du(null,e);if(yd(i),(e=de)?(e=sv(e,ci),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:X!==null?{id:lt,overflow:Tt}:null,retryLane:536870912,hydrationErrors:null},o=yu(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Qs(i);return i.lanes=536870912,null}return mh(i,c)}var g=e.memoizedState;if(g!==null){var w=g.dehydrated;if(yd(i),m)if(i.flags&256)i.flags&=-257,i=Z_(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(un||Sl(e,i,o,!1),m=(o&e.childLanes)!==0,un||m){if(c=Ie,c!==null&&(w=ao(c,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,is(e,w),pi(c,e,w),Ud;Sh(),i=Z_(e,i,o)}else e=g.treeContext,de=as(w.nextSibling),fe=i,Jt=!0,Ys=null,ci=!1,e!==null&&Qn(i,e),i=mh(i,c),i.flags|=4096;return i}return e=ss(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ph(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function Bd(e,i,o,c,m){return Po(i),o=Td(e,i,o,c,void 0,m),c=Ed(),e!==null&&!un?(bd(e,i,m),Ir(e,i,m)):(Jt&&c&&mn(i),i.flags|=1,Cn(e,i,o,m),i.child)}function K_(e,i,o,c,m,g){return Po(i),i.updateQueue=null,o=Xg(i,c,o,m),Qg(e),c=Ed(),e!==null&&!un?(bd(e,i,g),Ir(e,i,g)):(Jt&&c&&mn(i),i.flags|=1,Cn(e,i,o,g),i.child)}function Y_(e,i,o,c,m){if(Po(i),i.stateNode===null){var g=wr,w=o.contextType;typeof w=="object"&&w!==null&&(g=Rn(w)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Vd,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},fd(i),w=o.contextType,g.context=typeof w=="object"&&w!==null?Rn(w):wr,g.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(kd(i,o,w,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Vd.enqueueReplaceState(g,g.state,null),Cu(i,c,g,m),Ru(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var x=i.memoizedProps,V=zo(o,x);g.props=V;var Q=g.context,it=o.contextType;w=wr,typeof it=="object"&&it!==null&&(w=Rn(it));var ut=o.getDerivedStateFromProps;it=typeof ut=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,it||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||Q!==w)&&M_(i,g,c,w),ma=!1;var W=i.memoizedState;g.state=W,Cu(i,c,g,m),Ru(),Q=i.memoizedState,x||W!==Q||ma?(typeof ut=="function"&&(kd(i,o,ut,c),Q=i.memoizedState),(V=ma||D_(i,o,V,c,W,Q,w))?(it||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Q),g.props=c,g.state=Q,g.context=w,c=V):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,dd(e,i),w=i.memoizedProps,it=zo(o,w),g.props=it,ut=i.pendingProps,W=g.context,Q=o.contextType,V=wr,typeof Q=="object"&&Q!==null&&(V=Rn(Q)),x=o.getDerivedStateFromProps,(Q=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ut||W!==V)&&M_(i,g,c,V),ma=!1,W=i.memoizedState,g.state=W,Cu(i,c,g,m),Ru();var et=i.memoizedState;w!==ut||W!==et||ma||e!==null&&e.dependencies!==null&&Xc(e.dependencies)?(typeof x=="function"&&(kd(i,o,x,c),et=i.memoizedState),(it=ma||D_(i,o,it,c,W,et,V)||e!==null&&e.dependencies!==null&&Xc(e.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,et,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,et,V)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=et),g.props=c,g.state=et,g.context=V,c=it):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,ph(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=ko(i,e.child,null,m),i.child=ko(i,null,o,m)):Cn(e,i,o,m),i.memoizedState=g.state,e=i.child):e=Ir(e,i,m),e}function Q_(e,i,o,c){return Sr(),i.flags|=256,Cn(e,i,o,c),i.child}var jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(e){return{baseLanes:e,cachePool:zg()}}function qd(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Li),e}function X_(e,i,o){var c=i.pendingProps,m=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(tn.current&2)!==0),w&&(m=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,e===null){if(Jt){if(m?_a(i):ya(),(e=de)?(e=sv(e,ci),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:X!==null?{id:lt,overflow:Tt}:null,retryLane:536870912,hydrationErrors:null},o=yu(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Qs(i);return Sm(e)?i.lanes=32:i.lanes=536870912,null}var x=c.children;return c=c.fallback,m?(ya(),m=i.mode,x=gh({mode:"hidden",children:x},m),c=Ar(c,m,o,null),x.return=i,c.return=i,x.sibling=c,i.child=x,c=i.child,c.memoizedState=Hd(o),c.childLanes=qd(e,w,o),i.memoizedState=jd,Du(null,c)):(_a(i),Fd(i,x))}var V=e.memoizedState;if(V!==null&&(x=V.dehydrated,x!==null)){if(g)i.flags&256?(_a(i),i.flags&=-257,i=Gd(e,i,o)):i.memoizedState!==null?(ya(),i.child=e.child,i.flags|=128,i=null):(ya(),x=c.fallback,m=i.mode,c=gh({mode:"visible",children:c.children},m),x=Ar(x,m,o,null),x.flags|=2,c.return=i,x.return=i,c.sibling=x,i.child=c,ko(i,e.child,null,o),c=i.child,c.memoizedState=Hd(o),c.childLanes=qd(e,w,o),i.memoizedState=jd,i=Du(null,c));else if(_a(i),Sm(x)){if(w=x.nextSibling&&x.nextSibling.dataset,w)var Q=w.dgst;w=Q,c=Error(a(419)),c.stack="",c.digest=w,No({value:c,source:null,stack:null}),i=Gd(e,i,o)}else if(un||Sl(e,i,o,!1),w=(o&e.childLanes)!==0,un||w){if(w=Ie,w!==null&&(c=ao(w,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,is(e,c),pi(w,e,c),Ud;Am(x)||Sh(),i=Gd(e,i,o)}else Am(x)?(i.flags|=192,i.child=e.child,i=null):(e=V.treeContext,de=as(x.nextSibling),fe=i,Jt=!0,Ys=null,ci=!1,e!==null&&Qn(i,e),i=Fd(i,c.children),i.flags|=4096);return i}return m?(ya(),x=c.fallback,m=i.mode,V=e.child,Q=V.sibling,c=ss(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,Q!==null?x=ss(Q,x):(x=Ar(x,m,o,null),x.flags|=2),x.return=i,c.return=i,c.sibling=x,i.child=c,Du(null,c),c=i.child,x=e.child.memoizedState,x===null?x=Hd(o):(m=x.cachePool,m!==null?(V=on._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=zg(),x={baseLanes:x.baseLanes|o,cachePool:m}),c.memoizedState=x,c.childLanes=qd(e,w,o),i.memoizedState=jd,Du(e.child,c)):(_a(i),o=e.child,e=o.sibling,o=ss(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(w=i.deletions,w===null?(i.deletions=[e],i.flags|=16):w.push(e)),i.child=o,i.memoizedState=null,o)}function Fd(e,i){return i=gh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function gh(e,i){return e=zn(22,e,null,i),e.lanes=0,e}function Gd(e,i,o){return ko(i,e.child,null,o),e=Fd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function W_(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),ad(e.return,i,o)}function Zd(e,i,o,c,m,g){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=m,w.treeForkCount=g)}function J_(e,i,o){var c=i.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var w=tn.current,x=(w&2)!==0;if(x?(w=w&1|2,i.flags|=128):w&=1,dt(tn,w),Cn(e,i,c,o),c=Jt?S:0,!x&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&W_(e,o,i);else if(e.tag===19)W_(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(o=i.child,m=null;o!==null;)e=o.alternate,e!==null&&sh(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Zd(i,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(e=m.alternate,e!==null&&sh(e)===null){i.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}Zd(i,!0,o,null,g,c);break;case"together":Zd(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Ir(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Ea|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Sl(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=ss(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=ss(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Kd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Xc(e)))}function kw(e,i,o){switch(i.tag){case 3:be(i,i.stateNode.containerInfo),da(i,on,e.memoizedState.cache),Sr();break;case 27:case 5:cs(i);break;case 4:be(i,i.stateNode.containerInfo);break;case 10:da(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,yd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(_a(i),i.flags|=128,null):(o&i.child.childLanes)!==0?X_(e,i,o):(_a(i),e=Ir(e,i,o),e!==null?e.sibling:null);_a(i);break;case 19:var m=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Sl(e,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return J_(e,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),dt(tn,tn.current),c)break;return null;case 22:return i.lanes=0,F_(e,i,o,i.pendingProps);case 24:da(i,on,e.memoizedState.cache)}return Ir(e,i,o)}function $_(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)un=!0;else{if(!Kd(e,o)&&(i.flags&128)===0)return un=!1,kw(e,i,o);un=(e.flags&131072)!==0}else un=!1,Jt&&(i.flags&1048576)!==0&&Kt(i,S,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=Mo(i.elementType),i.type=e,typeof e=="function")bl(e)?(c=zo(e,c),i.tag=1,i=Y_(null,i,e,c,o)):(i.tag=0,i=Bd(null,i,e,c,o));else{if(e!=null){var m=e.$$typeof;if(m===Lt){i.tag=11,i=j_(null,i,e,c,o);break t}else if(m===U){i.tag=14,i=H_(null,i,e,c,o);break t}}throw i=ee(e)||e,Error(a(306,i,""))}}return i;case 0:return Bd(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=zo(c,i.pendingProps),Y_(e,i,c,m,o);case 3:t:{if(be(i,i.stateNode.containerInfo),e===null)throw Error(a(387));c=i.pendingProps;var g=i.memoizedState;m=g.element,dd(e,i),Cu(i,c,null,o);var w=i.memoizedState;if(c=w.cache,da(i,on,c),c!==g.cache&&od(i,[on],o,!0),Ru(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Q_(e,i,c,o);break t}else if(c!==m){m=u(Error(a(424)),i),No(m),i=Q_(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,de=as(e.firstChild),fe=i,Jt=!0,Ys=null,ci=!0,o=Fg(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Sr(),c===m){i=Ir(e,i,o);break t}Cn(e,i,c,o)}i=i.child}return i;case 26:return ph(e,i),e===null?(o=cv(i.type,null,i.pendingProps,null))?i.memoizedState=o:Jt||(o=i.type,e=i.pendingProps,c=Ph(Et.current).createElement(o),c[Be]=i,c[Ge]=e,In(c,o,e),Ze(c),i.stateNode=c):i.memoizedState=cv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return cs(i),e===null&&Jt&&(c=i.stateNode=ov(i.type,i.pendingProps,Et.current),fe=i,ci=!0,m=de,xa(i.type)?(xm=m,de=as(c.firstChild)):de=m),Cn(e,i,i.pendingProps.children,o),ph(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Jt&&((m=c=de)&&(c=fA(c,i.type,i.pendingProps,ci),c!==null?(i.stateNode=c,fe=i,de=as(c.firstChild),ci=!1,m=!0):m=!1),m||Qs(i)),cs(i),m=i.type,g=i.pendingProps,w=e!==null?e.memoizedProps:null,c=g.children,Em(m,g)?c=null:w!==null&&Em(m,w)&&(i.flags|=32),i.memoizedState!==null&&(m=Td(e,i,Rw,null,null,o),Yu._currentValue=m),ph(e,i),Cn(e,i,c,o),i.child;case 6:return e===null&&Jt&&((e=o=de)&&(o=dA(o,i.pendingProps,ci),o!==null?(i.stateNode=o,fe=i,de=null,e=!0):e=!1),e||Qs(i)),null;case 13:return X_(e,i,o);case 4:return be(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=ko(i,null,c,o):Cn(e,i,c,o),i.child;case 11:return j_(e,i,i.type,i.pendingProps,o);case 7:return Cn(e,i,i.pendingProps,o),i.child;case 8:return Cn(e,i,i.pendingProps.children,o),i.child;case 12:return Cn(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,da(i,i.type,c.value),Cn(e,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,Po(i),m=Rn(m),c=c(m),i.flags|=1,Cn(e,i,c,o),i.child;case 14:return H_(e,i,i.type,i.pendingProps,o);case 15:return q_(e,i,i.type,i.pendingProps,o);case 19:return J_(e,i,o);case 31:return Lw(e,i,o);case 22:return F_(e,i,o,i.pendingProps);case 24:return Po(i),c=Rn(on),e===null?(m=cd(),m===null&&(m=Ie,g=ld(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),i.memoizedState={parent:c,cache:m},fd(i),da(i,on,m)):((e.lanes&o)!==0&&(dd(e,i),Cu(i,null,null,o),Ru()),m=e.memoizedState,g=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),da(i,on,c)):(c=g.cache,da(i,on,c),c!==m.cache&&od(i,[on],o,!0))),Cn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Nr(e){e.flags|=4}function Yd(e,i,o,c,m){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(xy())e.flags|=8192;else throw Lo=th,hd}else e.flags&=-16777217}function ty(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pv(i))if(xy())e.flags|=8192;else throw Lo=th,hd}function _h(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ll():536870912,e.lanes|=i,Vl|=i)}function Mu(e,i){if(!Jt)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Me(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function Vw(e,i,o){var c=i.pendingProps;switch(Ke(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(i),null;case 1:return Me(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),xr(on),xe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ws(i)?Nr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Eu())),Me(i),null;case 26:var m=i.type,g=i.memoizedState;return e===null?(Nr(i),g!==null?(Me(i),ty(i,g)):(Me(i),Yd(i,m,null,c,o))):g?g!==e.memoizedState?(Nr(i),Me(i),ty(i,g)):(Me(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&Nr(i),Me(i),Yd(i,m,e,c,o)),null;case 27:if(Ns(i),o=Et.current,m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Nr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Me(i),null}e=gt.current,ws(i)?Tu(i):(e=ov(m,c,o),i.stateNode=e,Nr(i))}return Me(i),null;case 5:if(Ns(i),m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Nr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Me(i),null}if(g=gt.current,ws(i))Tu(i);else{var w=Ph(Et.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?w.createElement(m,{is:c.is}):w.createElement(m)}}g[Be]=i,g[Ge]=c;t:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break t;for(;w.sibling===null;){if(w.return===null||w.return===i)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=g;t:switch(In(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Nr(i)}}return Me(i),Yd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Nr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(e=Et.current,ws(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,m=fe,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[Be]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Xy(e.nodeValue,o)),e||Qs(i,!0)}else e=Ph(e).createTextNode(c),e[Be]=i,i.stateNode=e}return Me(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=ws(i),o!==null){if(e===null){if(!c)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Be]=i}else Sr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Me(i),e=!1}else o=Eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(Di(i),i):(Di(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Me(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=ws(i),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Be]=i}else Sr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Me(i),m=!1}else m=Eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Di(i),i):(Di(i),null)}return Di(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),_h(i,i.updateQueue),Me(i),null);case 4:return xe(),e===null&&gm(i.stateNode.containerInfo),Me(i),null;case 10:return xr(i.type),Me(i),null;case 19:if(nt(tn),c=i.memoizedState,c===null)return Me(i),null;if(m=(i.flags&128)!==0,g=c.rendering,g===null)if(m)Mu(c,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=sh(e),g!==null){for(i.flags|=128,Mu(c,!1),e=g.updateQueue,i.updateQueue=e,_h(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)_u(o,e),o=o.sibling;return dt(tn,tn.current&1|2),Jt&&Nt(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&xn()>bh&&(i.flags|=128,m=!0,Mu(c,!1),i.lanes=4194304)}else{if(!m)if(e=sh(g),e!==null){if(i.flags|=128,m=!0,e=e.updateQueue,i.updateQueue=e,_h(i,e),Mu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Jt)return Me(i),null}else 2*xn()-c.renderingStartTime>bh&&o!==536870912&&(i.flags|=128,m=!0,Mu(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(e=c.last,e!==null?e.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=xn(),e.sibling=null,o=tn.current,dt(tn,m?o&1|2:o&1),Jt&&Nt(i,c.treeForkCount),e):(Me(i),null);case 22:case 23:return Di(i),_d(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Me(i),i.subtreeFlags&6&&(i.flags|=8192)):Me(i),o=i.updateQueue,o!==null&&_h(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&nt(Do),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),xr(on),Me(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function zw(e,i){switch(Ke(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return xr(on),xe(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ns(i),null;case 31:if(i.memoizedState!==null){if(Di(i),i.alternate===null)throw Error(a(340));Sr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Di(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Sr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(tn),null;case 4:return xe(),null;case 10:return xr(i.type),null;case 22:case 23:return Di(i),_d(),e!==null&&nt(Do),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return xr(on),null;case 25:return null;default:return null}}function ey(e,i){switch(Ke(i),i.tag){case 3:xr(on),xe();break;case 26:case 27:case 5:Ns(i);break;case 4:xe();break;case 31:i.memoizedState!==null&&Di(i);break;case 13:Di(i);break;case 19:nt(tn);break;case 10:xr(i.type);break;case 22:case 23:Di(i),_d(),e!==null&&nt(Do);break;case 24:xr(on)}}function Lu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==m)}}catch(x){Ee(i,i.return,x)}}function va(e,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&e)===e){var w=c.inst,x=w.destroy;if(x!==void 0){w.destroy=void 0,m=i;var V=o,Q=x;try{Q()}catch(it){Ee(m,V,it)}}}c=c.next}while(c!==g)}}catch(it){Ee(i,i.return,it)}}function ny(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{Zg(i,o)}catch(c){Ee(e,e.return,c)}}}function iy(e,i,o){o.props=zo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Ee(e,i,c)}}function ku(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(m){Ee(e,i,m)}}function Ws(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Ee(e,i,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ee(e,i,m)}else o.current=null}function sy(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Ee(e,e.return,m)}}function Qd(e,i,o){try{var c=e.stateNode;aA(c,e.type,o,i),c[Ge]=i}catch(m){Ee(e,e.return,m)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xa(e.type)||e.tag===4}function Xd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wd(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Dn));else if(c!==4&&(c===27&&xa(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(Wd(e,i,o),e=e.sibling;e!==null;)Wd(e,i,o),e=e.sibling}function yh(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&xa(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(yh(e,i,o),e=e.sibling;e!==null;)yh(e,i,o),e=e.sibling}function ay(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);In(i,c,o),i[Be]=e,i[Ge]=o}catch(g){Ee(e,e.return,g)}}var Or=!1,cn=!1,Jd=!1,oy=typeof WeakSet=="function"?WeakSet:Set,An=null;function Uw(e,i){if(e=e.containerInfo,vm=Uh,e=bo(e),qs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var w=0,x=-1,V=-1,Q=0,it=0,ut=e,W=null;e:for(;;){for(var et;ut!==o||m!==0&&ut.nodeType!==3||(x=w+m),ut!==g||c!==0&&ut.nodeType!==3||(V=w+c),ut.nodeType===3&&(w+=ut.nodeValue.length),(et=ut.firstChild)!==null;)W=ut,ut=et;for(;;){if(ut===e)break e;if(W===o&&++Q===m&&(x=w),W===g&&++it===c&&(V=w),(et=ut.nextSibling)!==null)break;ut=W,W=ut.parentNode}ut=et}o=x===-1||V===-1?null:{start:x,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tm={focusedElem:e,selectionRange:o},Uh=!1,An=i;An!==null;)if(i=An,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,An=e;else for(;An!==null;){switch(i=An,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)m=e[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Ct=zo(o.type,m);e=c.getSnapshotBeforeUpdate(Ct,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(kt){Ee(o,o.return,kt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)wm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,An=e;break}An=i.return}}function ly(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Dr(e,o),c&4&&Lu(5,o);break;case 1:if(Dr(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(w){Ee(o,o.return,w)}else{var m=zo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(m,i,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Ee(o,o.return,w)}}c&64&&ny(o),c&512&&ku(o,o.return);break;case 3:if(Dr(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Zg(e,i)}catch(w){Ee(o,o.return,w)}}break;case 27:i===null&&c&4&&ay(o);case 26:case 5:Dr(e,o),i===null&&c&4&&sy(o),c&512&&ku(o,o.return);break;case 12:Dr(e,o);break;case 31:Dr(e,o),c&4&&hy(e,o);break;case 13:Dr(e,o),c&4&&fy(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Yw.bind(null,o),mA(e,o))));break;case 22:if(c=o.memoizedState!==null||Or,!c){i=i!==null&&i.memoizedState!==null||cn,m=Or;var g=cn;Or=c,(cn=i)&&!g?Mr(e,o,(o.subtreeFlags&8772)!==0):Dr(e,o),Or=m,cn=g}break;case 30:break;default:Dr(e,o)}}function uy(e){var i=e.alternate;i!==null&&(e.alternate=null,uy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Qr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,hi=!1;function Pr(e,i,o){for(o=o.child;o!==null;)cy(e,i,o),o=o.sibling}function cy(e,i,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Jn,o)}catch{}switch(o.tag){case 26:cn||Ws(o,i),Pr(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:cn||Ws(o,i);var c=ke,m=hi;xa(o.type)&&(ke=o.stateNode,hi=!1),Pr(e,i,o),Gu(o.stateNode),ke=c,hi=m;break;case 5:cn||Ws(o,i);case 6:if(c=ke,m=hi,ke=null,Pr(e,i,o),ke=c,hi=m,ke!==null)if(hi)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(o.stateNode)}catch(g){Ee(o,i,g)}else try{ke.removeChild(o.stateNode)}catch(g){Ee(o,i,g)}break;case 18:ke!==null&&(hi?(e=ke,nv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Gl(e)):nv(ke,o.stateNode));break;case 4:c=ke,m=hi,ke=o.stateNode.containerInfo,hi=!0,Pr(e,i,o),ke=c,hi=m;break;case 0:case 11:case 14:case 15:va(2,o,i),cn||va(4,o,i),Pr(e,i,o);break;case 1:cn||(Ws(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&iy(o,i,c)),Pr(e,i,o);break;case 21:Pr(e,i,o);break;case 22:cn=(c=cn)||o.memoizedState!==null,Pr(e,i,o),cn=c;break;default:Pr(e,i,o)}}function hy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gl(e)}catch(o){Ee(i,i.return,o)}}}function fy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gl(e)}catch(o){Ee(i,i.return,o)}}function Bw(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new oy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new oy),i;default:throw Error(a(435,e.tag))}}function vh(e,i){var o=Bw(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var m=Qw.bind(null,e,c);c.then(m,m)}})}function fi(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=e,w=i,x=w;t:for(;x!==null;){switch(x.tag){case 27:if(xa(x.type)){ke=x.stateNode,hi=!1;break t}break;case 5:ke=x.stateNode,hi=!1;break t;case 3:case 4:ke=x.stateNode.containerInfo,hi=!0;break t}x=x.return}if(ke===null)throw Error(a(160));cy(g,w,m),ke=null,hi=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)dy(i,e),i=i.sibling}var Ss=null;function dy(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fi(i,e),di(e),c&4&&(va(3,e,e.return),Lu(3,e),va(5,e,e.return));break;case 1:fi(i,e),di(e),c&512&&(cn||o===null||Ws(o,o.return)),c&64&&Or&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Ss;if(fi(i,e),di(e),c&512&&(cn||o===null||Ws(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Zi]||g[Be]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),In(g,c,o),g[Be]=e,Ze(g),c=g;break t;case"link":var w=dv("link","href",m).get(c+(o.href||""));if(w){for(var x=0;x<w.length;x++)if(g=w[x],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(x,1);break e}}g=m.createElement(c),In(g,c,o),m.head.appendChild(g);break;case"meta":if(w=dv("meta","content",m).get(c+(o.content||""))){for(x=0;x<w.length;x++)if(g=w[x],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(x,1);break e}}g=m.createElement(c),In(g,c,o),m.head.appendChild(g);break;default:throw Error(a(468,c))}g[Be]=e,Ze(g),c=g}e.stateNode=c}else mv(m,e.type,e.stateNode);else e.stateNode=fv(m,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?mv(m,e.type,e.stateNode):fv(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Qd(e,e.memoizedProps,o.memoizedProps)}break;case 27:fi(i,e),di(e),c&512&&(cn||o===null||Ws(o,o.return)),o!==null&&c&4&&Qd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(fi(i,e),di(e),c&512&&(cn||o===null||Ws(o,o.return)),e.flags&32){m=e.stateNode;try{rn(m,"")}catch(Ct){Ee(e,e.return,Ct)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Qd(e,m,o!==null?o.memoizedProps:m)),c&1024&&(Jd=!0);break;case 6:if(fi(i,e),di(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Ct){Ee(e,e.return,Ct)}}break;case 3:if(Lh=null,m=Ss,Ss=Dh(i.containerInfo),fi(i,e),Ss=m,di(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Gl(i.containerInfo)}catch(Ct){Ee(e,e.return,Ct)}Jd&&(Jd=!1,my(e));break;case 4:c=Ss,Ss=Dh(e.stateNode.containerInfo),fi(i,e),di(e),Ss=c;break;case 12:fi(i,e),di(e);break;case 31:fi(i,e),di(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,vh(e,c)));break;case 13:fi(i,e),di(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Eh=xn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,vh(e,c)));break;case 22:m=e.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Q=Or,it=cn;if(Or=Q||m,cn=it||V,fi(i,e),cn=it,Or=Q,di(e),c&8192)t:for(i=e.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||V||Or||cn||Uo(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){V=o=i;try{if(g=V.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{x=V.stateNode;var ut=V.memoizedProps.style,W=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;x.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ct){Ee(V,V.return,Ct)}}}else if(i.tag===6){if(o===null){V=i;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(Ct){Ee(V,V.return,Ct)}}}else if(i.tag===18){if(o===null){V=i;try{var et=V.stateNode;m?iv(et,!0):iv(V.stateNode,!1)}catch(Ct){Ee(V,V.return,Ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,vh(e,o))));break;case 19:fi(i,e),di(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,vh(e,c)));break;case 30:break;case 21:break;default:fi(i,e),di(e)}}function di(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(ry(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,g=Xd(e);yh(e,g,m);break;case 5:var w=o.stateNode;o.flags&32&&(rn(w,""),o.flags&=-33);var x=Xd(e);yh(e,x,w);break;case 3:case 4:var V=o.stateNode.containerInfo,Q=Xd(e);Wd(e,Q,V);break;default:throw Error(a(161))}}catch(it){Ee(e,e.return,it)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;my(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Dr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ly(e,i.alternate,i),i=i.sibling}function Uo(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:va(4,i,i.return),Uo(i);break;case 1:Ws(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&iy(i,i.return,o),Uo(i);break;case 27:Gu(i.stateNode);case 26:case 5:Ws(i,i.return),Uo(i);break;case 22:i.memoizedState===null&&Uo(i);break;case 30:Uo(i);break;default:Uo(i)}e=e.sibling}}function Mr(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=e,g=i,w=g.flags;switch(g.tag){case 0:case 11:case 15:Mr(m,g,o),Lu(4,g);break;case 1:if(Mr(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){Ee(c,c.return,Q)}if(c=g,m=c.updateQueue,m!==null){var x=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)Gg(V[m],x)}catch(Q){Ee(c,c.return,Q)}}o&&w&64&&ny(g),ku(g,g.return);break;case 27:ay(g);case 26:case 5:Mr(m,g,o),o&&c===null&&w&4&&sy(g),ku(g,g.return);break;case 12:Mr(m,g,o);break;case 31:Mr(m,g,o),o&&w&4&&hy(m,g);break;case 13:Mr(m,g,o),o&&w&4&&fy(m,g);break;case 22:g.memoizedState===null&&Mr(m,g,o),ku(g,g.return);break;case 30:break;default:Mr(m,g,o)}i=i.sibling}}function $d(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&bu(o))}function tm(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&bu(e))}function xs(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)py(e,i,o,c),i=i.sibling}function py(e,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:xs(e,i,o,c),m&2048&&Lu(9,i);break;case 1:xs(e,i,o,c);break;case 3:xs(e,i,o,c),m&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&bu(e)));break;case 12:if(m&2048){xs(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,w=g.id,x=g.onPostCommit;typeof x=="function"&&x(w,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){Ee(i,i.return,V)}}else xs(e,i,o,c);break;case 31:xs(e,i,o,c);break;case 13:xs(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,w=i.alternate,i.memoizedState!==null?g._visibility&2?xs(e,i,o,c):Vu(e,i):g._visibility&2?xs(e,i,o,c):(g._visibility|=2,Ml(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&$d(w,i);break;case 24:xs(e,i,o,c),m&2048&&tm(i.alternate,i);break;default:xs(e,i,o,c)}}function Ml(e,i,o,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,w=i,x=o,V=c,Q=w.flags;switch(w.tag){case 0:case 11:case 15:Ml(g,w,x,V,m),Lu(8,w);break;case 23:break;case 22:var it=w.stateNode;w.memoizedState!==null?it._visibility&2?Ml(g,w,x,V,m):Vu(g,w):(it._visibility|=2,Ml(g,w,x,V,m)),m&&Q&2048&&$d(w.alternate,w);break;case 24:Ml(g,w,x,V,m),m&&Q&2048&&tm(w.alternate,w);break;default:Ml(g,w,x,V,m)}i=i.sibling}}function Vu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,m=c.flags;switch(c.tag){case 22:Vu(o,c),m&2048&&$d(c.alternate,c);break;case 24:Vu(o,c),m&2048&&tm(c.alternate,c);break;default:Vu(o,c)}i=i.sibling}}var zu=8192;function Ll(e,i,o){if(e.subtreeFlags&zu)for(e=e.child;e!==null;)gy(e,i,o),e=e.sibling}function gy(e,i,o){switch(e.tag){case 26:Ll(e,i,o),e.flags&zu&&e.memoizedState!==null&&xA(o,Ss,e.memoizedState,e.memoizedProps);break;case 5:Ll(e,i,o);break;case 3:case 4:var c=Ss;Ss=Dh(e.stateNode.containerInfo),Ll(e,i,o),Ss=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=zu,zu=16777216,Ll(e,i,o),zu=c):Ll(e,i,o));break;default:Ll(e,i,o)}}function _y(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Uu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];An=c,vy(c,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yy(e),e=e.sibling}function yy(e){switch(e.tag){case 0:case 11:case 15:Uu(e),e.flags&2048&&va(9,e,e.return);break;case 3:Uu(e);break;case 12:Uu(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Th(e)):Uu(e);break;default:Uu(e)}}function Th(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];An=c,vy(c,e)}_y(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:va(8,i,i.return),Th(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Th(i));break;default:Th(i)}e=e.sibling}}function vy(e,i){for(;An!==null;){var o=An;switch(o.tag){case 0:case 11:case 15:va(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,An=c;else t:for(o=e;An!==null;){c=An;var m=c.sibling,g=c.return;if(uy(c),c===o){An=null;break t}if(m!==null){m.return=g,An=m;break t}An=g}}}var jw={getCacheForType:function(e){var i=Rn(on),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return Rn(on).controller.signal}},Hw=typeof WeakMap=="function"?WeakMap:Map,ge=0,Ie=null,$t=null,ie=0,Te=0,Mi=null,Ta=!1,kl=!1,em=!1,Lr=0,Qe=0,Ea=0,Bo=0,nm=0,Li=0,Vl=0,Bu=null,mi=null,im=!1,Eh=0,Ty=0,bh=1/0,wh=null,ba=null,pn=0,wa=null,zl=null,kr=0,sm=0,rm=null,Ey=null,ju=0,am=null;function ki(){return(ge&2)!==0&&ie!==0?ie&-ie:tt.T!==null?fm():oo()}function by(){if(Li===0)if((ie&536870912)===0||Jt){var e=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),Li=e}else Li=536870912;return e=Pi.current,e!==null&&(e.flags|=32),Li}function pi(e,i,o){(e===Ie&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(Ul(e,0),Aa(e,ie,Li,!1)),fs(e,o),((ge&2)===0||e!==Ie)&&(e===Ie&&((ge&2)===0&&(Bo|=o),Qe===4&&Aa(e,ie,Li,!1)),Js(e))}function wy(e,i,o){if((ge&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||Ti(e,i),m=c?Gw(e,i):lm(e,i,!0),g=c;do{if(m===0){kl&&!c&&Aa(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!qw(o)){m=lm(e,i,!1),g=!1;continue}if(m===2){if(g=i,e.errorRecoveryDisabledLanes&g)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;t:{var x=e;m=Bu;var V=x.current.memoizedState.isDehydrated;if(V&&(Ul(x,w).flags|=256),w=lm(x,w,!1),w!==2){if(em&&!V){x.errorRecoveryDisabledLanes|=g,Bo|=g,m=4;break t}g=mi,mi=m,g!==null&&(mi===null?mi=g:mi.push.apply(mi,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){Ul(e,0),Aa(e,i,0,!0);break}t:{switch(c=e,g=m,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Aa(c,i,Li,!Ta);break t;case 2:mi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=Eh+300-xn(),10<m)){if(Aa(c,i,Li,!Ta),Fi(c,0,!0)!==0)break t;kr=i,c.timeoutHandle=tv(Ay.bind(null,c,o,mi,wh,im,i,Li,Bo,Vl,Ta,g,"Throttled",-0,0),m);break t}Ay(c,o,mi,wh,im,i,Li,Bo,Vl,Ta,g,null,-0,0)}}break}while(!0);Js(e)}function Ay(e,i,o,c,m,g,w,x,V,Q,it,ut,W,et){if(e.timeoutHandle=-1,ut=i.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},gy(i,g,ut);var Ct=(g&62914560)===g?Eh-xn():(g&4194048)===g?Ty-xn():0;if(Ct=RA(ut,Ct),Ct!==null){kr=g,e.cancelPendingCommit=Ct(Py.bind(null,e,i,g,o,c,m,w,x,V,it,ut,null,W,et)),Aa(e,g,w,!Q);return}}Py(e,i,g,o,c,m,w,x,V)}function qw(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!bn(g(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Aa(e,i,o,c){i&=~nm,i&=~Bo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var m=i;0<m;){var g=31-ze(m),w=1<<g;c[g]=-1,m&=~w}o!==0&&mr(e,o,i)}function Ah(){return(ge&6)===0?(Hu(0),!1):!0}function om(){if($t!==null){if(Te===0)var e=$t.return;else e=$t,As=Xs=null,wd(e),Il=null,Au=0,e=$t;for(;e!==null;)ey(e.alternate,e),e=e.return;$t=null}}function Ul(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,uA(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),kr=0,om(),Ie=e,$t=o=ss(e.current,null),ie=i,Te=0,Mi=null,Ta=!1,kl=Ti(e,i),em=!1,Vl=Li=nm=Bo=Ea=Qe=0,mi=Bu=null,im=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var m=31-ze(c),g=1<<m;i|=e[m],c&=~g}return Lr=i,Ro(),o}function Sy(e,i){Zt=null,tt.H=Pu,i===Cl||i===$c?(i=jg(),Te=3):i===hd?(i=jg(),Te=4):Te=i===Ud?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mi=i,$t===null&&(Qe=1,dh(e,u(i,e.current)))}function xy(){var e=Pi.current;return e===null?!0:(ie&4194048)===ie?rs===null:(ie&62914560)===ie||(ie&536870912)!==0?e===rs:!1}function Ry(){var e=tt.H;return tt.H=Pu,e===null?Pu:e}function Cy(){var e=tt.A;return tt.A=jw,e}function Sh(){Qe=4,Ta||(ie&4194048)!==ie&&Pi.current!==null||(kl=!0),(Ea&134217727)===0&&(Bo&134217727)===0||Ie===null||Aa(Ie,ie,Li,!1)}function lm(e,i,o){var c=ge;ge|=2;var m=Ry(),g=Cy();(Ie!==e||ie!==i)&&(wh=null,Ul(e,i)),i=!1;var w=Qe;t:do try{if(Te!==0&&$t!==null){var x=$t,V=Mi;switch(Te){case 8:om(),w=6;break t;case 3:case 2:case 9:case 6:Pi.current===null&&(i=!0);var Q=Te;if(Te=0,Mi=null,Bl(e,x,V,Q),o&&kl){w=0;break t}break;default:Q=Te,Te=0,Mi=null,Bl(e,x,V,Q)}}Fw(),w=Qe;break}catch(it){Sy(e,it)}while(!0);return i&&e.shellSuspendCounter++,As=Xs=null,ge=c,tt.H=m,tt.A=g,$t===null&&(Ie=null,ie=0,Ro()),w}function Fw(){for(;$t!==null;)Iy($t)}function Gw(e,i){var o=ge;ge|=2;var c=Ry(),m=Cy();Ie!==e||ie!==i?(wh=null,bh=xn()+500,Ul(e,i)):kl=Ti(e,i);t:do try{if(Te!==0&&$t!==null){i=$t;var g=Mi;e:switch(Te){case 1:Te=0,Mi=null,Bl(e,i,g,1);break;case 2:case 9:if(Ug(g)){Te=0,Mi=null,Ny(i);break}i=function(){Te!==2&&Te!==9||Ie!==e||(Te=7),Js(e)},g.then(i,i);break t;case 3:Te=7;break t;case 4:Te=5;break t;case 7:Ug(g)?(Te=0,Mi=null,Ny(i)):(Te=0,Mi=null,Bl(e,i,g,7));break;case 5:var w=null;switch($t.tag){case 26:w=$t.memoizedState;case 5:case 27:var x=$t;if(w?pv(w):x.stateNode.complete){Te=0,Mi=null;var V=x.sibling;if(V!==null)$t=V;else{var Q=x.return;Q!==null?($t=Q,xh(Q)):$t=null}break e}}Te=0,Mi=null,Bl(e,i,g,5);break;case 6:Te=0,Mi=null,Bl(e,i,g,6);break;case 8:om(),Qe=6;break t;default:throw Error(a(462))}}Zw();break}catch(it){Sy(e,it)}while(!0);return As=Xs=null,tt.H=c,tt.A=m,ge=o,$t!==null?0:(Ie=null,ie=0,Ro(),Qe)}function Zw(){for(;$t!==null&&!rl();)Iy($t)}function Iy(e){var i=$_(e.alternate,e,Lr);e.memoizedProps=e.pendingProps,i===null?xh(e):$t=i}function Ny(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=K_(o,i,i.pendingProps,i.type,void 0,ie);break;case 11:i=K_(o,i,i.pendingProps,i.type.render,i.ref,ie);break;case 5:wd(i);default:ey(o,i),i=$t=_u(i,Lr),i=$_(o,i,Lr)}e.memoizedProps=e.pendingProps,i===null?xh(e):$t=i}function Bl(e,i,o,c){As=Xs=null,wd(i),Il=null,Au=0;var m=i.return;try{if(Mw(e,m,i,o,ie)){Qe=1,dh(e,u(o,e.current)),$t=null;return}}catch(g){if(m!==null)throw $t=m,g;Qe=1,dh(e,u(o,e.current)),$t=null;return}i.flags&32768?(Jt||c===1?e=!0:kl||(ie&536870912)!==0?e=!1:(Ta=e=!0,(c===2||c===9||c===3||c===6)&&(c=Pi.current,c!==null&&c.tag===13&&(c.flags|=16384))),Oy(i,e)):xh(i)}function xh(e){var i=e;do{if((i.flags&32768)!==0){Oy(i,Ta);return}e=i.return;var o=Vw(i.alternate,i,Lr);if(o!==null){$t=o;return}if(i=i.sibling,i!==null){$t=i;return}$t=i=e}while(i!==null);Qe===0&&(Qe=5)}function Oy(e,i){do{var o=zw(e.alternate,e);if(o!==null){o.flags&=32767,$t=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){$t=e;return}$t=e=o}while(e!==null);Qe=6,$t=null}function Py(e,i,o,c,m,g,w,x,V){e.cancelPendingCommit=null;do Rh();while(pn!==0);if((ge&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=El,pu(e,o,g,w,x,V),e===Ie&&($t=Ie=null,ie=0),zl=i,wa=e,kr=o,sm=g,rm=m,Ey=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Xw(hs,function(){return Vy(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=tt.T,tt.T=null,m=ft.p,ft.p=2,w=ge,ge|=4;try{Uw(e,i,o)}finally{ge=w,ft.p=m,tt.T=c}}pn=1,Dy(),My(),Ly()}}function Dy(){if(pn===1){pn=0;var e=wa,i=zl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=tt.T,tt.T=null;var c=ft.p;ft.p=2;var m=ge;ge|=4;try{dy(i,e);var g=Tm,w=bo(e.containerInfo),x=g.focusedElem,V=g.selectionRange;if(w!==x&&x&&x.ownerDocument&&_l(x.ownerDocument.documentElement,x)){if(V!==null&&qs(x)){var Q=V.start,it=V.end;if(it===void 0&&(it=Q),"selectionStart"in x)x.selectionStart=Q,x.selectionEnd=Math.min(it,x.value.length);else{var ut=x.ownerDocument||document,W=ut&&ut.defaultView||window;if(W.getSelection){var et=W.getSelection(),Ct=x.textContent.length,kt=Math.min(V.start,Ct),Se=V.end===void 0?kt:Math.min(V.end,Ct);!et.extend&&kt>Se&&(w=Se,Se=kt,kt=w);var F=Eo(x,kt),j=Eo(x,Se);if(F&&j&&(et.rangeCount!==1||et.anchorNode!==F.node||et.anchorOffset!==F.offset||et.focusNode!==j.node||et.focusOffset!==j.offset)){var Y=ut.createRange();Y.setStart(F.node,F.offset),et.removeAllRanges(),kt>Se?(et.addRange(Y),et.extend(j.node,j.offset)):(Y.setEnd(j.node,j.offset),et.addRange(Y))}}}}for(ut=[],et=x;et=et.parentNode;)et.nodeType===1&&ut.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ut.length;x++){var rt=ut[x];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Uh=!!vm,Tm=vm=null}finally{ge=m,ft.p=c,tt.T=o}}e.current=i,pn=2}}function My(){if(pn===2){pn=0;var e=wa,i=zl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=tt.T,tt.T=null;var c=ft.p;ft.p=2;var m=ge;ge|=4;try{ly(e,i.alternate,i)}finally{ge=m,ft.p=c,tt.T=o}}pn=3}}function Ly(){if(pn===4||pn===3){pn=0,no();var e=wa,i=zl,o=kr,c=Ey;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pn=5:(pn=0,zl=wa=null,ky(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(ba=null),Rt(o),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Jn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=tt.T,m=ft.p,ft.p=2,tt.T=null;try{for(var g=e.onRecoverableError,w=0;w<c.length;w++){var x=c[w];g(x.value,{componentStack:x.stack})}}finally{tt.T=i,ft.p=m}}(kr&3)!==0&&Rh(),Js(e),m=e.pendingLanes,(o&261930)!==0&&(m&42)!==0?e===am?ju++:(ju=0,am=e):ju=0,Hu(0)}}function ky(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,bu(i)))}function Rh(){return Dy(),My(),Ly(),Vy()}function Vy(){if(pn!==5)return!1;var e=wa,i=sm;sm=0;var o=Rt(kr),c=tt.T,m=ft.p;try{ft.p=32>o?32:o,tt.T=null,o=rm,rm=null;var g=wa,w=kr;if(pn=0,zl=wa=null,kr=0,(ge&6)!==0)throw Error(a(331));var x=ge;if(ge|=4,yy(g.current),py(g,g.current,w,o),ge=x,Hu(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Jn,g)}catch{}return!0}finally{ft.p=m,tt.T=c,ky(e,i)}}function zy(e,i,o){i=u(o,i),i=zd(e.stateNode,i,2),e=ga(e,i,2),e!==null&&(fs(e,2),Js(e))}function Ee(e,i,o){if(e.tag===3)zy(e,e,o);else for(;i!==null;){if(i.tag===3){zy(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ba===null||!ba.has(c))){e=u(o,e),o=U_(2),c=ga(i,o,2),c!==null&&(B_(o,c,i,e),fs(c,2),Js(c));break}}i=i.return}}function um(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new Hw;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(em=!0,m.add(o),e=Kw.bind(null,e,i,o),i.then(e,e))}function Kw(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ie===e&&(ie&o)===o&&(Qe===4||Qe===3&&(ie&62914560)===ie&&300>xn()-Eh?(ge&2)===0&&Ul(e,0):nm|=o,Vl===ie&&(Vl=0)),Js(e)}function Uy(e,i){i===0&&(i=ll()),e=is(e,i),e!==null&&(fs(e,i),Js(e))}function Yw(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),Uy(e,o)}function Qw(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Uy(e,o)}function Xw(e,i){return Fe(e,i)}var Ch=null,jl=null,cm=!1,Ih=!1,hm=!1,Sa=0;function Js(e){e!==jl&&e.next===null&&(jl===null?Ch=jl=e:jl=jl.next=e),Ih=!0,cm||(cm=!0,Jw())}function Hu(e,i){if(!hm&&Ih){hm=!0;do for(var o=!1,c=Ch;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var w=c.suspendedLanes,x=c.pingedLanes;g=(1<<31-ze(42|e)+1)-1,g&=m&~(w&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,qy(c,g))}else g=ie,g=Fi(c,c===Ie?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ti(c,g)||(o=!0,qy(c,g));c=c.next}while(o);hm=!1}}function Ww(){By()}function By(){Ih=cm=!1;var e=0;Sa!==0&&lA()&&(e=Sa);for(var i=xn(),o=null,c=Ch;c!==null;){var m=c.next,g=jy(c,i);g===0?(c.next=null,o===null?Ch=m:o.next=m,m===null&&(jl=o)):(o=c,(e!==0||(g&3)!==0)&&(Ih=!0)),c=m}pn!==0&&pn!==5||Hu(e),Sa!==0&&(Sa=0)}function jy(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var w=31-ze(g),x=1<<w,V=m[w];V===-1?((x&o)===0||(x&c)!==0)&&(m[w]=mu(x,i)):V<=i&&(e.expiredLanes|=x),g&=~x}if(i=Ie,o=ie,o=Fi(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Hi(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Ti(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&Hi(c),Rt(o)){case 2:case 8:o=Kr;break;case 32:o=hs;break;case 268435456:o=io;break;default:o=hs}return c=Hy.bind(null,e),o=Fe(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&Hi(c),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,i){if(pn!==0&&pn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Rh()&&e.callbackNode!==o)return null;var c=ie;return c=Fi(e,e===Ie?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(wy(e,c,i),jy(e,xn()),e.callbackNode!=null&&e.callbackNode===o?Hy.bind(null,e):null)}function qy(e,i){if(Rh())return null;wy(e,i,!0)}function Jw(){cA(function(){(ge&6)!==0?Fe(dr,Ww):By()})}function fm(){if(Sa===0){var e=xl;e===0&&(e=vi,vi<<=1,(vi&261888)===0&&(vi=256)),Sa=e}return Sa}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zs(""+e)}function Gy(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function $w(e,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var g=Fy((m[Ge]||null).action),w=c.submitter;w&&(i=(i=w[Ge]||null)?Fy(i.formAction):w.getAttribute("formAction"),i!==null&&(g=i,w=null));var x=new $i("action","action",null,c,m);e.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Sa!==0){var V=w?Gy(m,w):new FormData(m);Pd(o,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(x.preventDefault(),V=w?Gy(m,w):new FormData(m),Pd(o,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var dm=0;dm<Zs.length;dm++){var mm=Zs[dm],tA=mm.toLowerCase(),eA=mm[0].toUpperCase()+mm.slice(1);li(tA,"on"+eA)}li(Ao,"onAnimationEnd"),li(Kc,"onAnimationIteration"),li(So,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(id,"onTransitionRun"),li(Yc,"onTransitionStart"),li(sd,"onTransitionCancel"),li(ha,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qu));function Zy(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var w=c.length-1;0<=w;w--){var x=c[w],V=x.instance,Q=x.currentTarget;if(x=x.listener,V!==g&&m.isPropagationStopped())break t;g=x,m.currentTarget=Q;try{g(m)}catch(it){xo(it)}m.currentTarget=null,g=V}else for(w=0;w<c.length;w++){if(x=c[w],V=x.instance,Q=x.currentTarget,x=x.listener,V!==g&&m.isPropagationStopped())break t;g=x,m.currentTarget=Q;try{g(m)}catch(it){xo(it)}m.currentTarget=null,g=V}}}}function te(e,i){var o=i[bi];o===void 0&&(o=i[bi]=new Set);var c=e+"__bubble";o.has(c)||(Ky(i,e,2,!1),o.add(c))}function pm(e,i,o){var c=0;i&&(c|=4),Ky(o,e,c,i)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function gm(e){if(!e[Nh]){e[Nh]=!0,lo.forEach(function(o){o!=="selectionchange"&&(nA.has(o)||pm(o,!1,e),pm(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Nh]||(i[Nh]=!0,pm("selectionchange",!1,i))}}function Ky(e,i,o,c){switch(bv(i)){case 2:var m=NA;break;case 8:m=OA;break;default:m=Om}o=m.bind(null,i,o,e),m=void 0,!gs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(i,o,{capture:!0,passive:m}):e.addEventListener(i,o,!0):m!==void 0?e.addEventListener(i,o,{passive:m}):e.addEventListener(i,o,!1)}function _m(e,i,o,c,m){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var x=c.stateNode.containerInfo;if(x===m)break;if(w===4)for(w=c.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;x!==null;){if(w=wi(x),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){c=g=w;continue t}x=x.parentNode}}c=c.return}ps(function(){var Q=g,it=Mn(o),ut=[];t:{var W=Qc.get(e);if(W!==void 0){var et=$i,Ct=e;switch(e){case"keypress":if(Bs(o)===0)break t;case"keydown":case"keyup":et=go;break;case"focusin":Ct="focus",et=Tr;break;case"focusout":Ct="blur",et=Tr;break;case"beforeblur":case"afterblur":et=Tr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=fl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=y;break;case Ao:case Kc:case So:et=ea;break;case ha:et=N;break;case"scroll":case"scrollend":et=Qt;break;case"wheel":et=J;break;case"copy":case"cut":case"paste":et=Kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Ts;break;case"toggle":case"beforetoggle":et=Ut}var kt=(i&4)!==0,Se=!kt&&(e==="scroll"||e==="scrollend"),F=kt?W!==null?W+"Capture":null:W;kt=[];for(var j=Q,Y;j!==null;){var rt=j;if(Y=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Y===null||F===null||(rt=Zn(j,F),rt!=null&&kt.push(Fu(j,rt,Y))),Se)break;j=j.return}0<kt.length&&(W=new et(W,Ct,null,o,it),ut.push({event:W,listeners:kt}))}}if((i&7)===0){t:{if(W=e==="mouseover"||e==="pointerover",et=e==="mouseout"||e==="pointerout",W&&o!==ta&&(Ct=o.relatedTarget||o.fromElement)&&(wi(Ct)||Ct[Ei]))break t;if((et||W)&&(W=it.window===it?it:(W=it.ownerDocument)?W.defaultView||W.parentWindow:window,et?(Ct=o.relatedTarget||o.toElement,et=Q,Ct=Ct?wi(Ct):null,Ct!==null&&(Se=h(Ct),kt=Ct.tag,Ct!==Se||kt!==5&&kt!==27&&kt!==6)&&(Ct=null)):(et=null,Ct=Q),et!==Ct)){if(kt=co,rt="onMouseLeave",F="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(kt=Ts,rt="onPointerLeave",F="onPointerEnter",j="pointer"),Se=et==null?W:yn(et),Y=Ct==null?W:yn(Ct),W=new kt(rt,j+"leave",et,o,it),W.target=Se,W.relatedTarget=Y,rt=null,wi(it)===Q&&(kt=new kt(F,j+"enter",Ct,o,it),kt.target=Y,kt.relatedTarget=Se,rt=kt),Se=rt,et&&Ct)e:{for(kt=iA,F=et,j=Ct,Y=0,rt=F;rt;rt=kt(rt))Y++;rt=0;for(var Ot=j;Ot;Ot=kt(Ot))rt++;for(;0<Y-rt;)F=kt(F),Y--;for(;0<rt-Y;)j=kt(j),rt--;for(;Y--;){if(F===j||j!==null&&F===j.alternate){kt=F;break e}F=kt(F),j=kt(j)}kt=null}else kt=null;et!==null&&Yy(ut,W,et,kt,!1),Ct!==null&&Se!==null&&Yy(ut,Se,Ct,kt,!0)}}t:{if(W=Q?yn(Q):window,et=W.nodeName&&W.nodeName.toLowerCase(),et==="select"||et==="input"&&W.type==="file")var me=To;else if(ts(W))if(Hc)me=nd;else{me=ed;var It=Es}else et=W.nodeName,!et||et.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&Vs(Q.elementType)&&(me=To):me=oa;if(me&&(me=me(e,Q))){jc(ut,me,o,it);break t}It&&It(e,W,Q),e==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&Ai(W,"number",W.value)}switch(It=Q?yn(Q):window,e){case"focusin":(ts(It)||It.contentEditable==="true")&&(Fs=It,vl=Q,wo=null);break;case"focusout":wo=vl=Fs=null;break;case"mousedown":ua=!0;break;case"contextmenu":case"mouseup":case"dragend":ua=!1,Gc(ut,o,it);break;case"selectionchange":if(yl)break;case"keydown":case"keyup":Gc(ut,o,it)}var Yt;if(ue)t:{switch(e){case"compositionstart":var se="onCompositionStart";break t;case"compositionend":se="onCompositionEnd";break t;case"compositionupdate":se="onCompositionUpdate";break t}se=void 0}else sa?Er(e,o)&&(se="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(se="onCompositionStart");se&&(oi&&o.locale!=="ko"&&(sa||se!=="onCompositionStart"?se==="onCompositionEnd"&&sa&&(Yt=Si()):(ri=it,_s="value"in ri?ri.value:ri.textContent,sa=!0)),It=Oh(Q,se),0<It.length&&(se=new Ci(se,e,null,o,it),ut.push({event:se,listeners:It}),Yt?se.data=Yt:(Yt=br(o),Yt!==null&&(se.data=Yt)))),(Yt=ai?Oi(e,o):ra(e,o))&&(se=Oh(Q,"onBeforeInput"),0<se.length&&(It=new Ci("onBeforeInput","beforeinput",null,o,it),ut.push({event:It,listeners:se}),It.data=Yt)),$w(ut,e,Q,o,it)}Zy(ut,i)})}function Fu(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Oh(e,i){for(var o=i+"Capture",c=[];e!==null;){var m=e,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Zn(e,o),m!=null&&c.unshift(Fu(e,m,g)),m=Zn(e,i),m!=null&&c.push(Fu(e,m,g))),e.tag===3)return c;e=e.return}return[]}function iA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yy(e,i,o,c,m){for(var g=i._reactName,w=[];o!==null&&o!==c;){var x=o,V=x.alternate,Q=x.stateNode;if(x=x.tag,V!==null&&V===c)break;x!==5&&x!==26&&x!==27||Q===null||(V=Q,m?(Q=Zn(o,g),Q!=null&&w.unshift(Fu(o,Q,V))):m||(Q=Zn(o,g),Q!=null&&w.push(Fu(o,Q,V)))),o=o.return}w.length!==0&&e.push({event:i,listeners:w})}var sA=/\r\n?/g,rA=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(sA,`
`).replace(rA,"")}function Xy(e,i){return i=Qy(i),Qy(e)===i}function Ae(e,i,o,c,m,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||rn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&rn(e,""+c);break;case"className":Wt(e,"class",c);break;case"tabIndex":Wt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Wt(e,o,c);break;case"style":_r(e,c,g);break;case"data":if(i!=="object"){Wt(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=zs(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Ae(e,i,"name",m.name,m,null),Ae(e,i,"formEncType",m.formEncType,m,null),Ae(e,i,"formMethod",m.formMethod,m,null),Ae(e,i,"formTarget",m.formTarget,m,null)):(Ae(e,i,"encType",m.encType,m,null),Ae(e,i,"method",m.method,m,null),Ae(e,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=zs(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=Dn);break;case"onScroll":c!=null&&te("scroll",e);break;case"onScrollEnd":c!=null&&te("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=zs(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":te("beforetoggle",e),te("toggle",e),Xt(e,"popover",c);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Xt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=yr.get(o)||o,Xt(e,o,c))}}function ym(e,i,o,c,m,g){switch(o){case"style":_r(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof c=="string"?rn(e,c):(typeof c=="number"||typeof c=="bigint")&&rn(e,""+c);break;case"onScroll":c!=null&&te("scroll",e);break;case"onScrollEnd":c!=null&&te("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uo.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),g=e[Ge]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Xt(e,o,c)}}}function In(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",e),te("load",e);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ae(e,i,g,w,o,null)}}m&&Ae(e,i,"srcSet",o.srcSet,o,null),c&&Ae(e,i,"src",o.src,o,null);return;case"input":te("invalid",e);var x=g=w=m=null,V=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var it=o[c];if(it!=null)switch(c){case"name":m=it;break;case"type":w=it;break;case"checked":V=it;break;case"defaultChecked":Q=it;break;case"value":g=it;break;case"defaultValue":x=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,i));break;default:Ae(e,i,c,it,o,null)}}gr(e,g,x,V,Q,w,m,!1);return;case"select":te("invalid",e),c=w=g=null;for(m in o)if(o.hasOwnProperty(m)&&(x=o[m],x!=null))switch(m){case"value":g=x;break;case"defaultValue":w=x;break;case"multiple":c=x;default:Ae(e,i,m,x,o,null)}i=g,o=w,e.multiple=!!c,i!=null?ve(e,!!c,i,!1):o!=null&&ve(e,!!c,o,!0);return;case"textarea":te("invalid",e),g=m=c=null;for(w in o)if(o.hasOwnProperty(w)&&(x=o[w],x!=null))switch(w){case"value":c=x;break;case"defaultValue":m=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:Ae(e,i,w,x,o,null)}si(e,c,m,g);return;case"option":for(V in o)o.hasOwnProperty(V)&&(c=o[V],c!=null)&&(V==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Ae(e,i,V,c,o,null));return;case"dialog":te("beforetoggle",e),te("toggle",e),te("cancel",e),te("close",e);break;case"iframe":case"object":te("load",e);break;case"video":case"audio":for(c=0;c<qu.length;c++)te(qu[c],e);break;case"image":te("error",e),te("load",e);break;case"details":te("toggle",e);break;case"embed":case"source":case"link":te("error",e),te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ae(e,i,Q,c,o,null)}return;default:if(Vs(i)){for(it in o)o.hasOwnProperty(it)&&(c=o[it],c!==void 0&&ym(e,i,it,c,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(c=o[x],c!=null&&Ae(e,i,x,c,o,null))}function aA(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,x=null,V=null,Q=null,it=null;for(et in o){var ut=o[et];if(o.hasOwnProperty(et)&&ut!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":V=ut;default:c.hasOwnProperty(et)||Ae(e,i,et,null,c,ut)}}for(var W in c){var et=c[W];if(ut=o[W],c.hasOwnProperty(W)&&(et!=null||ut!=null))switch(W){case"type":g=et;break;case"name":m=et;break;case"checked":Q=et;break;case"defaultChecked":it=et;break;case"value":w=et;break;case"defaultValue":x=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(a(137,i));break;default:et!==ut&&Ae(e,i,W,et,c,ut)}}Jr(e,w,x,V,Q,it,g,m);return;case"select":et=w=x=W=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":et=V;default:c.hasOwnProperty(g)||Ae(e,i,g,null,c,V)}for(m in c)if(g=c[m],V=o[m],c.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":W=g;break;case"defaultValue":x=g;break;case"multiple":w=g;default:g!==V&&Ae(e,i,m,g,c,V)}i=x,o=w,c=et,W!=null?ve(e,!!o,W,!1):!!c!=!!o&&(i!=null?ve(e,!!o,i,!0):ve(e,!!o,o?[]:"",!1));return;case"textarea":et=W=null;for(x in o)if(m=o[x],o.hasOwnProperty(x)&&m!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ae(e,i,x,null,c,m)}for(w in c)if(m=c[w],g=o[w],c.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":W=m;break;case"defaultValue":et=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==g&&Ae(e,i,w,m,c,g)}Xi(e,W,et);return;case"option":for(var Ct in o)W=o[Ct],o.hasOwnProperty(Ct)&&W!=null&&!c.hasOwnProperty(Ct)&&(Ct==="selected"?e.selected=!1:Ae(e,i,Ct,null,c,W));for(V in c)W=c[V],et=o[V],c.hasOwnProperty(V)&&W!==et&&(W!=null||et!=null)&&(V==="selected"?e.selected=W&&typeof W!="function"&&typeof W!="symbol":Ae(e,i,V,W,c,et));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in o)W=o[kt],o.hasOwnProperty(kt)&&W!=null&&!c.hasOwnProperty(kt)&&Ae(e,i,kt,null,c,W);for(Q in c)if(W=c[Q],et=o[Q],c.hasOwnProperty(Q)&&W!==et&&(W!=null||et!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:Ae(e,i,Q,W,c,et)}return;default:if(Vs(i)){for(var Se in o)W=o[Se],o.hasOwnProperty(Se)&&W!==void 0&&!c.hasOwnProperty(Se)&&ym(e,i,Se,void 0,c,W);for(it in c)W=c[it],et=o[it],!c.hasOwnProperty(it)||W===et||W===void 0&&et===void 0||ym(e,i,it,W,c,et);return}}for(var F in o)W=o[F],o.hasOwnProperty(F)&&W!=null&&!c.hasOwnProperty(F)&&Ae(e,i,F,null,c,W);for(ut in c)W=c[ut],et=o[ut],!c.hasOwnProperty(ut)||W===et||W==null&&et==null||Ae(e,i,ut,W,c,et)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,w=m.initiatorType,x=m.duration;if(g&&x&&Wy(w)){for(w=0,x=m.responseEnd,c+=1;c<o.length;c++){var V=o[c],Q=V.startTime;if(Q>x)break;var it=V.transferSize,ut=V.initiatorType;it&&Wy(ut)&&(V=V.responseEnd,w+=it*(V<x?1:(x-Q)/(V-Q)))}if(--c,i+=8*(g+w)/(m.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vm=null,Tm=null;function Ph(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Em(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bm=null;function lA(){var e=window.event;return e&&e.type==="popstate"?e===bm?!1:(bm=e,!0):(bm=null,!1)}var tv=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(e){return ev.resolve(null).then(e).catch(hA)}:tv;function hA(e){setTimeout(function(){throw e})}function xa(e){return e==="head"}function nv(e,i){var o=i,c=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(m),Gl(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Gu(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Gu(o);for(var g=o.firstChild;g;){var w=g.nextSibling,x=g.nodeName;g[Zi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&Gu(e.ownerDocument.body);o=m}while(o);Gl(i)}function iv(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function wm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wm(o),Qr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function fA(e,i,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Zi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=as(e.nextSibling),e===null)break}return null}function dA(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=as(e.nextSibling),e===null))return null;return e}function sv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=as(e.nextSibling),e===null))return null;return e}function Am(e){return e.data==="$?"||e.data==="$~"}function Sm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mA(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function as(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var xm=null;function rv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return as(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function av(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function ov(e,i,o){switch(i=Ph(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Gu(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Qr(e)}var os=new Map,lv=new Set;function Dh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vr=ft.d;ft.d={f:pA,r:gA,D:_A,C:yA,L:vA,m:TA,X:bA,S:EA,M:wA};function pA(){var e=Vr.f(),i=Ah();return e||i}function gA(e){var i=ei(e);i!==null&&i.tag===5&&i.type==="form"?S_(i):Vr.r(e)}var Hl=typeof document>"u"?null:document;function uv(e,i,o){var c=Hl;if(c&&typeof i=="string"&&i){var m=Re(i);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),lv.has(m)||(lv.add(m),e={rel:e,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),In(i,"link",e),Ze(i),c.head.appendChild(i)))}}function _A(e){Vr.D(e),uv("dns-prefetch",e,null)}function yA(e,i){Vr.C(e,i),uv("preconnect",e,i)}function vA(e,i,o){Vr.L(e,i,o);var c=Hl;if(c&&e&&i){var m='link[rel="preload"][as="'+Re(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Re(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Re(o.imageSizes)+'"]')):m+='[href="'+Re(e)+'"]';var g=m;switch(i){case"style":g=ql(e);break;case"script":g=Fl(e)}os.has(g)||(e=C({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),os.set(g,e),c.querySelector(m)!==null||i==="style"&&c.querySelector(Zu(g))||i==="script"&&c.querySelector(Ku(g))||(i=c.createElement("link"),In(i,"link",e),Ze(i),c.head.appendChild(i)))}}function TA(e,i){Vr.m(e,i);var o=Hl;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Re(c)+'"][href="'+Re(e)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Fl(e)}if(!os.has(g)&&(e=C({rel:"modulepreload",href:e},i),os.set(g,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ku(g)))return}c=o.createElement("link"),In(c,"link",e),Ze(c),o.head.appendChild(c)}}}function EA(e,i,o){Vr.S(e,i,o);var c=Hl;if(c&&e){var m=Ki(c).hoistableStyles,g=ql(e);i=i||"default";var w=m.get(g);if(!w){var x={loading:0,preload:null};if(w=c.querySelector(Zu(g)))x.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},o),(o=os.get(g))&&Rm(e,o);var V=w=c.createElement("link");Ze(V),In(V,"link",e),V._p=new Promise(function(Q,it){V.onload=Q,V.onerror=it}),V.addEventListener("load",function(){x.loading|=1}),V.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Mh(w,i,c)}w={type:"stylesheet",instance:w,count:1,state:x},m.set(g,w)}}}function bA(e,i){Vr.X(e,i);var o=Hl;if(o&&e){var c=Ki(o).hoistableScripts,m=Fl(e),g=c.get(m);g||(g=o.querySelector(Ku(m)),g||(e=C({src:e,async:!0},i),(i=os.get(m))&&Cm(e,i),g=o.createElement("script"),Ze(g),In(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function wA(e,i){Vr.M(e,i);var o=Hl;if(o&&e){var c=Ki(o).hoistableScripts,m=Fl(e),g=c.get(m);g||(g=o.querySelector(Ku(m)),g||(e=C({src:e,async:!0,type:"module"},i),(i=os.get(m))&&Cm(e,i),g=o.createElement("script"),Ze(g),In(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function cv(e,i,o,c){var m=(m=Et.current)?Dh(m):null;if(!m)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ql(o.href),o=Ki(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=ql(o.href);var g=Ki(m).hoistableStyles,w=g.get(e);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,w),(g=m.querySelector(Zu(e)))&&!g._p&&(w.instance=g,w.state.loading=5),os.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},os.set(e,o),g||AA(m,e,o,w.state))),i&&c===null)throw Error(a(528,""));return w}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fl(o),o=Ki(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ql(e){return'href="'+Re(e)+'"'}function Zu(e){return'link[rel="stylesheet"]['+e+"]"}function hv(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function AA(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),In(i,"link",o),Ze(i),e.head.appendChild(i))}function Fl(e){return'[src="'+Re(e)+'"]'}function Ku(e){return"script[async]"+e}function fv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Re(o.href)+'"]');if(c)return i.instance=c,Ze(c),c;var m=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ze(c),In(c,"style",m),Mh(c,o.precedence,e),i.instance=c;case"stylesheet":m=ql(o.href);var g=e.querySelector(Zu(m));if(g)return i.state.loading|=4,i.instance=g,Ze(g),g;c=hv(o),(m=os.get(m))&&Rm(c,m),g=(e.ownerDocument||e).createElement("link"),Ze(g);var w=g;return w._p=new Promise(function(x,V){w.onload=x,w.onerror=V}),In(g,"link",c),i.state.loading|=4,Mh(g,o.precedence,e),i.instance=g;case"script":return g=Fl(o.src),(m=e.querySelector(Ku(g)))?(i.instance=m,Ze(m),m):(c=o,(m=os.get(g))&&(c=C({},o),Cm(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Ze(m),In(m,"link",c),e.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Mh(c,o.precedence,e));return i.instance}function Mh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,w=0;w<c.length;w++){var x=c[w];if(x.dataset.precedence===i)g=x;else if(g!==m)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Rm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Cm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Lh=null;function dv(e,i,o){if(Lh===null){var c=new Map,m=Lh=new Map;m.set(o,c)}else m=Lh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var g=o[m];if(!(g[Zi]||g[Be]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(i)||"";w=e+w;var x=c.get(w);x?x.push(g):c.set(w,[g])}}return c}function mv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function SA(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function pv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xA(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=ql(c.href),g=i.querySelector(Zu(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=kh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=g,Ze(g);return}g=i.ownerDocument||i,c=hv(c),(m=os.get(m))&&Rm(c,m),g=g.createElement("link"),Ze(g);var w=g;w._p=new Promise(function(x,V){w.onload=x,w.onerror=V}),In(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=kh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Im=0;function RA(e,i){return e.stylesheets&&e.count===0&&zh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&zh(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Im===0&&(Im=62500*oA());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zh(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Im?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vh=null;function zh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vh=new Map,i.forEach(CA,e),Vh=null,kh.call(e))}function CA(e,i){if(!(i.state.loading&4)){var o=Vh.get(e);if(o)var c=o.get(null);else{o=new Map,Vh.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}m=i.instance,w=m.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,m),o.set(w,m),this.count++,c=kh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),i.state.loading|=4}}var Yu={$$typeof:yt,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function IA(e,i,o,c,m,g,w,x,V){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function gv(e,i,o,c,m,g,w,x,V,Q,it,ut){return e=new IA(e,i,o,w,V,Q,it,ut,x),i=1,g===!0&&(i|=24),g=zn(3,null,null,i),e.current=g,g.stateNode=e,i=ld(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},fd(g),e}function _v(e){return e?(e=wr,e):wr}function yv(e,i,o,c,m,g){m=_v(m),c.context===null?c.context=m:c.pendingContext=m,c=pa(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ga(e,c,i),o!==null&&(pi(o,e,i),xu(o,e,i))}function vv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Nm(e,i){vv(e,i),(e=e.alternate)&&vv(e,i)}function Tv(e){if(e.tag===13||e.tag===31){var i=is(e,67108864);i!==null&&pi(i,e,67108864),Nm(e,67108864)}}function Ev(e){if(e.tag===13||e.tag===31){var i=ki();i=_n(i);var o=is(e,i);o!==null&&pi(o,e,i),Nm(e,i)}}var Uh=!0;function NA(e,i,o,c){var m=tt.T;tt.T=null;var g=ft.p;try{ft.p=2,Om(e,i,o,c)}finally{ft.p=g,tt.T=m}}function OA(e,i,o,c){var m=tt.T;tt.T=null;var g=ft.p;try{ft.p=8,Om(e,i,o,c)}finally{ft.p=g,tt.T=m}}function Om(e,i,o,c){if(Uh){var m=Pm(c);if(m===null)_m(e,i,c,Bh,o),wv(e,c);else if(DA(m,e,i,o,c))c.stopPropagation();else if(wv(e,c),i&4&&-1<PA.indexOf(e)){for(;m!==null;){var g=ei(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=qi(g.pendingLanes);if(w!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;w;){var V=1<<31-ze(w);x.entanglements[1]|=V,w&=~V}Js(g),(ge&6)===0&&(bh=xn()+500,Hu(0))}}break;case 31:case 13:x=is(g,2),x!==null&&pi(x,g,2),Ah(),Nm(g,2)}if(g=Pm(c),g===null&&_m(e,i,c,Bh,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else _m(e,i,c,null,o)}}function Pm(e){return e=Mn(e),Dm(e)}var Bh=null;function Dm(e){if(Bh=null,e=wi(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=p(i),e!==null)return e;e=null}else if(o===31){if(e=v(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Bh=e,null}function bv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fr()){case dr:return 2;case Kr:return 8;case hs:case du:return 32;case io:return 268435456;default:return 32}default:return 32}}var Mm=!1,Ra=null,Ca=null,Ia=null,Qu=new Map,Xu=new Map,Na=[],PA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(e,i){switch(e){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":Qu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(i.pointerId)}}function Wu(e,i,o,c,m,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},i!==null&&(i=ei(i),i!==null&&Tv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),e)}function DA(e,i,o,c,m){switch(i){case"focusin":return Ra=Wu(Ra,e,i,o,c,m),!0;case"dragenter":return Ca=Wu(Ca,e,i,o,c,m),!0;case"mouseover":return Ia=Wu(Ia,e,i,o,c,m),!0;case"pointerover":var g=m.pointerId;return Qu.set(g,Wu(Qu.get(g)||null,e,i,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Xu.set(g,Wu(Xu.get(g)||null,e,i,o,c,m)),!0}return!1}function Av(e){var i=wi(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=p(o),i!==null){e.blockedOn=i,$n(e.priority,function(){Ev(o)});return}}else if(i===31){if(i=v(o),i!==null){e.blockedOn=i,$n(e.priority,function(){Ev(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Pm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);ta=c,o.target.dispatchEvent(c),ta=null}else return i=ei(o),i!==null&&Tv(i),e.blockedOn=o,!1;i.shift()}return!0}function Sv(e,i,o){jh(e)&&o.delete(i)}function MA(){Mm=!1,Ra!==null&&jh(Ra)&&(Ra=null),Ca!==null&&jh(Ca)&&(Ca=null),Ia!==null&&jh(Ia)&&(Ia=null),Qu.forEach(Sv),Xu.forEach(Sv)}function Hh(e,i){e.blockedOn===i&&(e.blockedOn=null,Mm||(Mm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,MA)))}var qh=null;function xv(e){qh!==e&&(qh=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],m=e[i+2];if(typeof c!="function"){if(Dm(c||o)===null)continue;break}var g=ei(o);g!==null&&(e.splice(i,3),i-=3,Pd(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Gl(e){function i(V){return Hh(V,e)}Ra!==null&&Hh(Ra,e),Ca!==null&&Hh(Ca,e),Ia!==null&&Hh(Ia,e),Qu.forEach(i),Xu.forEach(i);for(var o=0;o<Na.length;o++){var c=Na[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Na.length&&(o=Na[0],o.blockedOn===null);)Av(o),o.blockedOn===null&&Na.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],w=m[Ge]||null;if(typeof g=="function")w||xv(o);else if(w){var x=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[Ge]||null)x=w.formAction;else if(Dm(m)!==null)continue}else x=w.action;typeof x=="function"?o[c+1]=x:(o.splice(c,3),c-=3),xv(o)}}}function Rv(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function Lm(e){this._internalRoot=e}Fh.prototype.render=Lm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=ki();yv(o,c,e,i,null,null)},Fh.prototype.unmount=Lm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;yv(e.current,2,null,e,null,null),Ah(),i[Ei]=null}};function Fh(e){this._internalRoot=e}Fh.prototype.unstable_scheduleHydration=function(e){if(e){var i=oo();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Na.length&&i!==0&&i<Na[o].priority;o++);Na.splice(o,0,e),o===0&&Av(e)}};var Cv=t.version;if(Cv!=="19.2.3")throw Error(a(527,Cv,"19.2.3"));ft.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=E(i),e=e!==null?I(e):null,e=e===null?null:e.stateNode,e};var LA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{Jn=Gh.inject(LA),$e=Gh}catch{}}return $u.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,c="",m=L_,g=k_,w=V_;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=gv(e,1,!1,null,null,o,c,null,m,g,w,Rv),e[Ei]=i.current,gm(e),new Lm(i)},$u.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var c=!1,m="",g=L_,w=k_,x=V_,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),i=gv(e,1,!0,i,o??null,c,m,V,g,w,x,Rv),i.context=_v(null),o=i.current,c=ki(),c=_n(c),m=pa(c),m.callback=null,ga(o,m,c),o=c,i.current.lanes=o,fs(i,o),Js(i),e[Ei]=i.current,gm(e),new Fh(i)},$u.version="19.2.3",$u}var zv;function FA(){if(zv)return zm.exports;zv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),zm.exports=qA(),zm.exports}var GA=FA();const ZA=({onEnter:s})=>R.jsxs("div",{className:"relative h-screen w-full overflow-hidden flex items-center justify-center",children:[R.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",style:{position:"fixed",right:0,bottom:0,minWidth:"100%",minHeight:"100%",objectFit:"cover",zIndex:-1,filter:"brightness(1.5)"},children:R.jsx("source",{src:"/urbanpulse/assets/hero.mp4",type:"video/mp4"})}),R.jsxs("div",{className:"relative z-10 text-center animate-slide-up px-4",children:[R.jsxs("h1",{className:"text-4xl md:text-8xl font-black italic uppercase text-white tracking-tighter mb-8 drop-shadow-2xl",children:["URBAN",R.jsx("span",{className:"text-indigo-500",children:"PULSE"})]}),R.jsx("button",{onClick:s,className:`bg-indigo-600 text-white px-8 md:px-12 py-4 md:py-5 rounded-[32px] text-lg md:text-xl font-bold uppercase tracking-widest\r
                     hover:bg-indigo-500 hover:scale-105 transition-all shadow-[0_0_40px_rgba(79,70,229,0.3)]`,children:"ENTER PLATFORM"})]})]});const KA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),Uv=s=>{const t=YA(s);return t.charAt(0).toUpperCase()+t.slice(1)},IT=(...s)=>s.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim(),QA=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var XA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WA=xt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:h,iconNode:p,...v},T)=>xt.createElement("svg",{ref:T,...XA,width:t,height:t,stroke:s,strokeWidth:a?Number(n)*24/Number(t):n,className:IT("lucide",l),...!h&&!QA(v)&&{"aria-hidden":"true"},...v},[...p.map(([E,I])=>xt.createElement(E,I)),...Array.isArray(h)?h:[h]]));const qn=(s,t)=>{const n=xt.forwardRef(({className:a,...l},h)=>xt.createElement(WA,{ref:h,iconNode:t,className:IT(`lucide-${KA(Uv(s))}`,`lucide-${s}`,a),...l}));return n.displayName=Uv(s),n};const JA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$A=qn("activity",JA);const tS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],eS=qn("camera",tS);const nS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],iS=qn("chart-column",nS);const sS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],rS=qn("chart-pie",sS);const aS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],oS=qn("circle-alert",aS);const lS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uS=qn("circle-check-big",lS);const cS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hS=qn("circle-check",cS);const fS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dS=qn("clock",fS);const mS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bv=qn("loader-circle",mS);const pS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gS=qn("map-pin",pS);const _S=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],yS=qn("mic",_S);const vS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],TS=qn("play",vS);const ES=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bS=qn("send",ES);const wS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],AS=qn("trash-2",wS);const SS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],jv=qn("trending-up",SS);const xS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],RS=qn("x",xS),CS=()=>{};var Hv={};const NT=function(s){const t=[];let n=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},IS=function(s){const t=[];let n=0,a=0;for(;n<s.length;){const l=s[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[n++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[n++],p=s[n++],v=s[n++],T=((l&7)<<18|(h&63)<<12|(p&63)<<6|v&63)-65536;t[a++]=String.fromCharCode(55296+(T>>10)),t[a++]=String.fromCharCode(56320+(T&1023))}else{const h=s[n++],p=s[n++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|p&63)}}return t.join("")},OT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const h=s[l],p=l+1<s.length,v=p?s[l+1]:0,T=l+2<s.length,E=T?s[l+2]:0,I=h>>2,C=(h&3)<<4|v>>4;let z=(v&15)<<2|E>>6,$=E&63;T||($=64,p||(z=64)),a.push(n[I],n[C],n[z],n[$])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(NT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):IS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const h=n[s.charAt(l++)],v=l<s.length?n[s.charAt(l)]:0;++l;const E=l<s.length?n[s.charAt(l)]:64;++l;const C=l<s.length?n[s.charAt(l)]:64;if(++l,h==null||v==null||E==null||C==null)throw new NS;const z=h<<2|v>>4;if(a.push(z),E!==64){const $=v<<4&240|E>>2;if(a.push($),C!==64){const ct=E<<6&192|C;a.push(ct)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class NS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OS=function(s){const t=NT(s);return OT.encodeByteArray(t,!0)},ff=function(s){return OS(s).replace(/\./g,"")},PT=function(s){try{return OT.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function PS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DS=()=>PS().__FIREBASE_DEFAULTS__,MS=()=>{if(typeof process>"u"||typeof Hv>"u")return;const s=Hv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},LS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&PT(s[1]);return t&&JSON.parse(t)},Nf=()=>{try{return CS()||DS()||MS()||LS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},DT=s=>Nf()?.emulatorHosts?.[s],kS=s=>{const t=DT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},MT=()=>Nf()?.config,LT=s=>Nf()?.[`_${s}`];class VS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}function Wa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mp(s){return(await fetch(s,{credentials:"include"})).ok}function zS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ff(JSON.stringify(n)),ff(JSON.stringify(p)),""].join(".")}const lc={};function US(){const s={prod:[],emulator:[]};for(const t of Object.keys(lc))lc[t]?s.emulator.push(t):s.prod.push(t);return s}function BS(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let qv=!1;function kT(s,t){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||lc[s]===t||lc[s]||qv)return;lc[s]=t;function n(z){return`__firebase__banner__${z}`}const a="__firebase__banner",h=US().prod.length>0;function p(){const z=document.getElementById(a);z&&z.remove()}function v(z){z.style.display="flex",z.style.background="#7faaf0",z.style.position="fixed",z.style.bottom="5px",z.style.left="5px",z.style.padding=".5em",z.style.borderRadius="5px",z.style.alignItems="center"}function T(z,$){z.setAttribute("width","24"),z.setAttribute("id",$),z.setAttribute("height","24"),z.setAttribute("viewBox","0 0 24 24"),z.setAttribute("fill","none"),z.style.marginLeft="-6px"}function E(){const z=document.createElement("span");return z.style.cursor="pointer",z.style.marginLeft="16px",z.style.fontSize="24px",z.innerHTML=" &times;",z.onclick=()=>{qv=!0,p()},z}function I(z,$){z.setAttribute("id",$),z.innerText="Learn more",z.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",z.setAttribute("target","__blank"),z.style.paddingLeft="5px",z.style.textDecoration="underline"}function C(){const z=BS(a),$=n("text"),ct=document.getElementById($)||document.createElement("span"),st=n("learnmore"),Z=document.getElementById(st)||document.createElement("a"),mt=n("preprendIcon"),vt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(z.created){const yt=z.element;v(yt),I(Z,st);const Lt=E();T(vt,mt),yt.append(vt,ct,Z,Lt),document.body.appendChild(yt)}h?(ct.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ct.innerText="Preview backend running in this workspace."),ct.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function HS(){const s=Nf()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function GS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZS(){const s=Hn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function KS(){return!HS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YS(){try{return typeof indexedDB=="object"}catch{return!1}}function QS(){return new Promise((s,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const XS="FirebaseError";class cr extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=XS,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],p=h?WS(h,a):"Error",v=`${this.serviceName}: ${p} (${l}).`;return new cr(l,v,a)}}function WS(s,t){return s.replace(JS,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const JS=/\{\$([^}]+)}/g;function $S(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Zo(s,t){if(s===t)return!0;const n=Object.keys(s),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const h=s[l],p=t[l];if(Fv(h)&&Fv(p)){if(!Zo(h,p))return!1}else if(h!==p)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Fv(s){return s!==null&&typeof s=="object"}function Ic(s){const t=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ec(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,h]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function nc(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function t1(s,t){const n=new e1(s,t);return n.subscribe.bind(n)}class e1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");n1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=Hm),l.error===void 0&&(l.error=Hm),l.complete===void 0&&(l.complete=Hm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n1(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Hm(){}function Xe(s){return s&&s._delegate?s._delegate:s}class Fa{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const jo="[DEFAULT]";class i1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new VS;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(r1(t))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=jo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=jo){return this.instances.has(t)}getOptions(t=jo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[h,p]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);a===v&&p.resolve(l)}return l}onInit(t,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:s1(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=jo){return this.component?this.component.multipleInstances?t:jo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s1(s){return s===jo?void 0:s}function r1(s){return s.instantiationMode==="EAGER"}class a1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new i1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var re;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(re||(re={}));const o1={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},l1=re.INFO,u1={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},c1=(s,t,...n)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=u1[t];if(l)console[l](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lp{constructor(t){this.name=t,this._logLevel=l1,this._logHandler=c1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?o1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const h1=(s,t)=>t.some(n=>s instanceof n);let Gv,Zv;function f1(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d1(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VT=new WeakMap,ip=new WeakMap,zT=new WeakMap,qm=new WeakMap,kp=new WeakMap;function m1(s){const t=new Promise((n,a)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",p)},h=()=>{n(Ba(s.result)),l()},p=()=>{a(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",p)});return t.then(n=>{n instanceof IDBCursor&&VT.set(n,s)}).catch(()=>{}),kp.set(t,s),t}function p1(s){if(ip.has(s))return;const t=new Promise((n,a)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",p),s.removeEventListener("abort",p)},h=()=>{n(),l()},p=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",p),s.addEventListener("abort",p)});ip.set(s,t)}let sp={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return ip.get(s);if(t==="objectStoreNames")return s.objectStoreNames||zT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function g1(s){sp=s(sp)}function _1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=s.call(Fm(this),t,...n);return zT.set(a,t.sort?t.sort():[t]),Ba(a)}:d1().includes(s)?function(...t){return s.apply(Fm(this),t),Ba(VT.get(this))}:function(...t){return Ba(s.apply(Fm(this),t))}}function y1(s){return typeof s=="function"?_1(s):(s instanceof IDBTransaction&&p1(s),h1(s,f1())?new Proxy(s,sp):s)}function Ba(s){if(s instanceof IDBRequest)return m1(s);if(qm.has(s))return qm.get(s);const t=y1(s);return t!==s&&(qm.set(s,t),kp.set(t,s)),t}const Fm=s=>kp.get(s);function v1(s,t,{blocked:n,upgrade:a,blocking:l,terminated:h}={}){const p=indexedDB.open(s,t),v=Ba(p);return a&&p.addEventListener("upgradeneeded",T=>{a(Ba(p.result),T.oldVersion,T.newVersion,Ba(p.transaction),T)}),n&&p.addEventListener("blocked",T=>n(T.oldVersion,T.newVersion,T)),v.then(T=>{h&&T.addEventListener("close",()=>h()),l&&T.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),v}const T1=["get","getKey","getAll","getAllKeys","count"],E1=["put","add","delete","clear"],Gm=new Map;function Kv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Gm.get(t))return Gm.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=E1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||T1.includes(n)))return;const h=async function(p,...v){const T=this.transaction(p,l?"readwrite":"readonly");let E=T.store;return a&&(E=E.index(v.shift())),(await Promise.all([E[n](...v),l&&T.done]))[0]};return Gm.set(t,h),h}g1(s=>({...s,get:(t,n,a)=>Kv(t,n)||s.get(t,n,a),has:(t,n)=>!!Kv(t,n)||s.has(t,n)}));class b1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w1(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function w1(s){return s.getComponent()?.type==="VERSION"}const rp="@firebase/app",Yv="0.14.6";const Hr=new Lp("@firebase/app"),A1="@firebase/app-compat",S1="@firebase/analytics-compat",x1="@firebase/analytics",R1="@firebase/app-check-compat",C1="@firebase/app-check",I1="@firebase/auth",N1="@firebase/auth-compat",O1="@firebase/database",P1="@firebase/data-connect",D1="@firebase/database-compat",M1="@firebase/functions",L1="@firebase/functions-compat",k1="@firebase/installations",V1="@firebase/installations-compat",z1="@firebase/messaging",U1="@firebase/messaging-compat",B1="@firebase/performance",j1="@firebase/performance-compat",H1="@firebase/remote-config",q1="@firebase/remote-config-compat",F1="@firebase/storage",G1="@firebase/storage-compat",Z1="@firebase/firestore",K1="@firebase/ai",Y1="@firebase/firestore-compat",Q1="firebase",X1="12.6.0";const ap="[DEFAULT]",W1={[rp]:"fire-core",[A1]:"fire-core-compat",[x1]:"fire-analytics",[S1]:"fire-analytics-compat",[C1]:"fire-app-check",[R1]:"fire-app-check-compat",[I1]:"fire-auth",[N1]:"fire-auth-compat",[O1]:"fire-rtdb",[P1]:"fire-data-connect",[D1]:"fire-rtdb-compat",[M1]:"fire-fn",[L1]:"fire-fn-compat",[k1]:"fire-iid",[V1]:"fire-iid-compat",[z1]:"fire-fcm",[U1]:"fire-fcm-compat",[B1]:"fire-perf",[j1]:"fire-perf-compat",[H1]:"fire-rc",[q1]:"fire-rc-compat",[F1]:"fire-gcs",[G1]:"fire-gcs-compat",[Z1]:"fire-fst",[Y1]:"fire-fst-compat",[K1]:"fire-vertex","fire-js":"fire-js",[Q1]:"fire-js-all"};const df=new Map,J1=new Map,op=new Map;function Qv(s,t){try{s.container.addComponent(t)}catch(n){Hr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ko(s){const t=s.name;if(op.has(t))return Hr.debug(`There were multiple attempts to register component ${t}.`),!1;op.set(t,s);for(const n of df.values())Qv(n,s);for(const n of J1.values())Qv(n,s);return!0}function Of(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Vi(s){return s==null?!1:s.settings!==void 0}const $1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ja=new Cc("app","Firebase",$1);class tx{constructor(t,n,a){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ja.create("app-deleted",{appName:this._name})}}const tl=X1;function UT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const a={name:ap,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ja.create("bad-app-name",{appName:String(l)});if(n||(n=MT()),!n)throw ja.create("no-options");const h=df.get(l);if(h){if(Zo(n,h.options)&&Zo(a,h.config))return h;throw ja.create("duplicate-app",{appName:l})}const p=new a1(l);for(const T of op.values())p.addComponent(T);const v=new tx(n,a,p);return df.set(l,v),v}function BT(s=ap){const t=df.get(s);if(!t&&s===ap&&MT())return UT();if(!t)throw ja.create("no-app",{appName:s});return t}function nr(s,t,n){let a=W1[s]??s;n&&(a+=`-${n}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const p=[`Unable to register library "${a}" with version "${t}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&p.push("and"),h&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hr.warn(p.join(" "));return}Ko(new Fa(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const ex="firebase-heartbeat-database",nx=1,pc="firebase-heartbeat-store";let Zm=null;function jT(){return Zm||(Zm=v1(ex,nx,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(pc)}catch(n){console.warn(n)}}}}).catch(s=>{throw ja.create("idb-open",{originalErrorMessage:s.message})})),Zm}async function ix(s){try{const n=(await jT()).transaction(pc),a=await n.objectStore(pc).get(HT(s));return await n.done,a}catch(t){if(t instanceof cr)Hr.warn(t.message);else{const n=ja.create("idb-get",{originalErrorMessage:t?.message});Hr.warn(n.message)}}}async function Xv(s,t){try{const a=(await jT()).transaction(pc,"readwrite");await a.objectStore(pc).put(t,HT(s)),await a.done}catch(n){if(n instanceof cr)Hr.warn(n.message);else{const a=ja.create("idb-set",{originalErrorMessage:n?.message});Hr.warn(a.message)}}}function HT(s){return`${s.name}!${s.options.appId}`}const sx=1024,rx=30;class ax{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lx(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>rx){const l=ux(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Wv(),{heartbeatsToSend:n,unsentEntries:a}=ox(this._heartbeatsCache.heartbeats),l=ff(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Hr.warn(t),""}}}function Wv(){return new Date().toISOString().substring(0,10)}function ox(s,t=sx){const n=[];let a=s.slice();for(const l of s){const h=n.find(p=>p.agent===l.agent);if(h){if(h.dates.push(l.date),Jv(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Jv(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class lx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YS()?QS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ix(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Jv(s){return ff(JSON.stringify({version:2,heartbeats:s})).length}function ux(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,t=a);return t}function cx(s){Ko(new Fa("platform-logger",t=>new b1(t),"PRIVATE")),Ko(new Fa("heartbeat",t=>new ax(t),"PRIVATE")),nr(rp,Yv,s),nr(rp,Yv,"esm2020"),nr("fire-js","")}cx("");var hx="firebase",fx="12.7.0";nr(hx,fx,"app");var $v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ha,qT;(function(){var s;function t(U,O){function M(){}M.prototype=O.prototype,U.F=O.prototype,U.prototype=new M,U.prototype.constructor=U,U.D=function(H,B,q){for(var k=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)k[ee-2]=arguments[ee];return O.prototype[B].apply(H,k)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(U,O,M){M||(M=0);const H=Array(16);if(typeof O=="string")for(var B=0;B<16;++B)H[B]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(B=0;B<16;++B)H[B]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=U.g[0],M=U.g[1],B=U.g[2];let q=U.g[3],k;k=O+(q^M&(B^q))+H[0]+3614090360&4294967295,O=M+(k<<7&4294967295|k>>>25),k=q+(B^O&(M^B))+H[1]+3905402710&4294967295,q=O+(k<<12&4294967295|k>>>20),k=B+(M^q&(O^M))+H[2]+606105819&4294967295,B=q+(k<<17&4294967295|k>>>15),k=M+(O^B&(q^O))+H[3]+3250441966&4294967295,M=B+(k<<22&4294967295|k>>>10),k=O+(q^M&(B^q))+H[4]+4118548399&4294967295,O=M+(k<<7&4294967295|k>>>25),k=q+(B^O&(M^B))+H[5]+1200080426&4294967295,q=O+(k<<12&4294967295|k>>>20),k=B+(M^q&(O^M))+H[6]+2821735955&4294967295,B=q+(k<<17&4294967295|k>>>15),k=M+(O^B&(q^O))+H[7]+4249261313&4294967295,M=B+(k<<22&4294967295|k>>>10),k=O+(q^M&(B^q))+H[8]+1770035416&4294967295,O=M+(k<<7&4294967295|k>>>25),k=q+(B^O&(M^B))+H[9]+2336552879&4294967295,q=O+(k<<12&4294967295|k>>>20),k=B+(M^q&(O^M))+H[10]+4294925233&4294967295,B=q+(k<<17&4294967295|k>>>15),k=M+(O^B&(q^O))+H[11]+2304563134&4294967295,M=B+(k<<22&4294967295|k>>>10),k=O+(q^M&(B^q))+H[12]+1804603682&4294967295,O=M+(k<<7&4294967295|k>>>25),k=q+(B^O&(M^B))+H[13]+4254626195&4294967295,q=O+(k<<12&4294967295|k>>>20),k=B+(M^q&(O^M))+H[14]+2792965006&4294967295,B=q+(k<<17&4294967295|k>>>15),k=M+(O^B&(q^O))+H[15]+1236535329&4294967295,M=B+(k<<22&4294967295|k>>>10),k=O+(B^q&(M^B))+H[1]+4129170786&4294967295,O=M+(k<<5&4294967295|k>>>27),k=q+(M^B&(O^M))+H[6]+3225465664&4294967295,q=O+(k<<9&4294967295|k>>>23),k=B+(O^M&(q^O))+H[11]+643717713&4294967295,B=q+(k<<14&4294967295|k>>>18),k=M+(q^O&(B^q))+H[0]+3921069994&4294967295,M=B+(k<<20&4294967295|k>>>12),k=O+(B^q&(M^B))+H[5]+3593408605&4294967295,O=M+(k<<5&4294967295|k>>>27),k=q+(M^B&(O^M))+H[10]+38016083&4294967295,q=O+(k<<9&4294967295|k>>>23),k=B+(O^M&(q^O))+H[15]+3634488961&4294967295,B=q+(k<<14&4294967295|k>>>18),k=M+(q^O&(B^q))+H[4]+3889429448&4294967295,M=B+(k<<20&4294967295|k>>>12),k=O+(B^q&(M^B))+H[9]+568446438&4294967295,O=M+(k<<5&4294967295|k>>>27),k=q+(M^B&(O^M))+H[14]+3275163606&4294967295,q=O+(k<<9&4294967295|k>>>23),k=B+(O^M&(q^O))+H[3]+4107603335&4294967295,B=q+(k<<14&4294967295|k>>>18),k=M+(q^O&(B^q))+H[8]+1163531501&4294967295,M=B+(k<<20&4294967295|k>>>12),k=O+(B^q&(M^B))+H[13]+2850285829&4294967295,O=M+(k<<5&4294967295|k>>>27),k=q+(M^B&(O^M))+H[2]+4243563512&4294967295,q=O+(k<<9&4294967295|k>>>23),k=B+(O^M&(q^O))+H[7]+1735328473&4294967295,B=q+(k<<14&4294967295|k>>>18),k=M+(q^O&(B^q))+H[12]+2368359562&4294967295,M=B+(k<<20&4294967295|k>>>12),k=O+(M^B^q)+H[5]+4294588738&4294967295,O=M+(k<<4&4294967295|k>>>28),k=q+(O^M^B)+H[8]+2272392833&4294967295,q=O+(k<<11&4294967295|k>>>21),k=B+(q^O^M)+H[11]+1839030562&4294967295,B=q+(k<<16&4294967295|k>>>16),k=M+(B^q^O)+H[14]+4259657740&4294967295,M=B+(k<<23&4294967295|k>>>9),k=O+(M^B^q)+H[1]+2763975236&4294967295,O=M+(k<<4&4294967295|k>>>28),k=q+(O^M^B)+H[4]+1272893353&4294967295,q=O+(k<<11&4294967295|k>>>21),k=B+(q^O^M)+H[7]+4139469664&4294967295,B=q+(k<<16&4294967295|k>>>16),k=M+(B^q^O)+H[10]+3200236656&4294967295,M=B+(k<<23&4294967295|k>>>9),k=O+(M^B^q)+H[13]+681279174&4294967295,O=M+(k<<4&4294967295|k>>>28),k=q+(O^M^B)+H[0]+3936430074&4294967295,q=O+(k<<11&4294967295|k>>>21),k=B+(q^O^M)+H[3]+3572445317&4294967295,B=q+(k<<16&4294967295|k>>>16),k=M+(B^q^O)+H[6]+76029189&4294967295,M=B+(k<<23&4294967295|k>>>9),k=O+(M^B^q)+H[9]+3654602809&4294967295,O=M+(k<<4&4294967295|k>>>28),k=q+(O^M^B)+H[12]+3873151461&4294967295,q=O+(k<<11&4294967295|k>>>21),k=B+(q^O^M)+H[15]+530742520&4294967295,B=q+(k<<16&4294967295|k>>>16),k=M+(B^q^O)+H[2]+3299628645&4294967295,M=B+(k<<23&4294967295|k>>>9),k=O+(B^(M|~q))+H[0]+4096336452&4294967295,O=M+(k<<6&4294967295|k>>>26),k=q+(M^(O|~B))+H[7]+1126891415&4294967295,q=O+(k<<10&4294967295|k>>>22),k=B+(O^(q|~M))+H[14]+2878612391&4294967295,B=q+(k<<15&4294967295|k>>>17),k=M+(q^(B|~O))+H[5]+4237533241&4294967295,M=B+(k<<21&4294967295|k>>>11),k=O+(B^(M|~q))+H[12]+1700485571&4294967295,O=M+(k<<6&4294967295|k>>>26),k=q+(M^(O|~B))+H[3]+2399980690&4294967295,q=O+(k<<10&4294967295|k>>>22),k=B+(O^(q|~M))+H[10]+4293915773&4294967295,B=q+(k<<15&4294967295|k>>>17),k=M+(q^(B|~O))+H[1]+2240044497&4294967295,M=B+(k<<21&4294967295|k>>>11),k=O+(B^(M|~q))+H[8]+1873313359&4294967295,O=M+(k<<6&4294967295|k>>>26),k=q+(M^(O|~B))+H[15]+4264355552&4294967295,q=O+(k<<10&4294967295|k>>>22),k=B+(O^(q|~M))+H[6]+2734768916&4294967295,B=q+(k<<15&4294967295|k>>>17),k=M+(q^(B|~O))+H[13]+1309151649&4294967295,M=B+(k<<21&4294967295|k>>>11),k=O+(B^(M|~q))+H[4]+4149444226&4294967295,O=M+(k<<6&4294967295|k>>>26),k=q+(M^(O|~B))+H[11]+3174756917&4294967295,q=O+(k<<10&4294967295|k>>>22),k=B+(O^(q|~M))+H[2]+718787259&4294967295,B=q+(k<<15&4294967295|k>>>17),k=M+(q^(B|~O))+H[9]+3951481745&4294967295,U.g[0]=U.g[0]+O&4294967295,U.g[1]=U.g[1]+(B+(k<<21&4294967295|k>>>11))&4294967295,U.g[2]=U.g[2]+B&4294967295,U.g[3]=U.g[3]+q&4294967295}a.prototype.v=function(U,O){O===void 0&&(O=U.length);const M=O-this.blockSize,H=this.C;let B=this.h,q=0;for(;q<O;){if(B==0)for(;q<=M;)l(this,U,q),q+=this.blockSize;if(typeof U=="string"){for(;q<O;)if(H[B++]=U.charCodeAt(q++),B==this.blockSize){l(this,H),B=0;break}}else for(;q<O;)if(H[B++]=U[q++],B==this.blockSize){l(this,H),B=0;break}}this.h=B,this.o+=O},a.prototype.A=function(){var U=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);U[0]=128;for(var O=1;O<U.length-8;++O)U[O]=0;O=this.o*8;for(var M=U.length-8;M<U.length;++M)U[M]=O&255,O/=256;for(this.v(U),U=Array(16),O=0,M=0;M<4;++M)for(let H=0;H<32;H+=8)U[O++]=this.g[M]>>>H&255;return U};function h(U,O){var M=v;return Object.prototype.hasOwnProperty.call(M,U)?M[U]:M[U]=O(U)}function p(U,O){this.h=O;const M=[];let H=!0;for(let B=U.length-1;B>=0;B--){const q=U[B]|0;H&&q==O||(M[B]=q,H=!1)}this.g=M}var v={};function T(U){return-128<=U&&U<128?h(U,function(O){return new p([O|0],O<0?-1:0)}):new p([U|0],U<0?-1:0)}function E(U){if(isNaN(U)||!isFinite(U))return C;if(U<0)return Z(E(-U));const O=[];let M=1;for(let H=0;U>=M;H++)O[H]=U/M|0,M*=4294967296;return new p(O,0)}function I(U,O){if(U.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(U.charAt(0)=="-")return Z(I(U.substring(1),O));if(U.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=E(Math.pow(O,8));let H=C;for(let q=0;q<U.length;q+=8){var B=Math.min(8,U.length-q);const k=parseInt(U.substring(q,q+B),O);B<8?(B=E(Math.pow(O,B)),H=H.j(B).add(E(k))):(H=H.j(M),H=H.add(E(k)))}return H}var C=T(0),z=T(1),$=T(16777216);s=p.prototype,s.m=function(){if(st(this))return-Z(this).m();let U=0,O=1;for(let M=0;M<this.g.length;M++){const H=this.i(M);U+=(H>=0?H:4294967296+H)*O,O*=4294967296}return U},s.toString=function(U){if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(ct(this))return"0";if(st(this))return"-"+Z(this).toString(U);const O=E(Math.pow(U,6));var M=this;let H="";for(;;){const B=Lt(M,O).g;M=mt(M,B.j(O));let q=((M.g.length>0?M.g[0]:M.h)>>>0).toString(U);if(M=B,ct(M))return q+H;for(;q.length<6;)q="0"+q;H=q+H}},s.i=function(U){return U<0?0:U<this.g.length?this.g[U]:this.h};function ct(U){if(U.h!=0)return!1;for(let O=0;O<U.g.length;O++)if(U.g[O]!=0)return!1;return!0}function st(U){return U.h==-1}s.l=function(U){return U=mt(this,U),st(U)?-1:ct(U)?0:1};function Z(U){const O=U.g.length,M=[];for(let H=0;H<O;H++)M[H]=~U.g[H];return new p(M,~U.h).add(z)}s.abs=function(){return st(this)?Z(this):this},s.add=function(U){const O=Math.max(this.g.length,U.g.length),M=[];let H=0;for(let B=0;B<=O;B++){let q=H+(this.i(B)&65535)+(U.i(B)&65535),k=(q>>>16)+(this.i(B)>>>16)+(U.i(B)>>>16);H=k>>>16,q&=65535,k&=65535,M[B]=k<<16|q}return new p(M,M[M.length-1]&-2147483648?-1:0)};function mt(U,O){return U.add(Z(O))}s.j=function(U){if(ct(this)||ct(U))return C;if(st(this))return st(U)?Z(this).j(Z(U)):Z(Z(this).j(U));if(st(U))return Z(this.j(Z(U)));if(this.l($)<0&&U.l($)<0)return E(this.m()*U.m());const O=this.g.length+U.g.length,M=[];for(var H=0;H<2*O;H++)M[H]=0;for(H=0;H<this.g.length;H++)for(let B=0;B<U.g.length;B++){const q=this.i(H)>>>16,k=this.i(H)&65535,ee=U.i(B)>>>16,Ve=U.i(B)&65535;M[2*H+2*B]+=k*Ve,vt(M,2*H+2*B),M[2*H+2*B+1]+=q*Ve,vt(M,2*H+2*B+1),M[2*H+2*B+1]+=k*ee,vt(M,2*H+2*B+1),M[2*H+2*B+2]+=q*ee,vt(M,2*H+2*B+2)}for(U=0;U<O;U++)M[U]=M[2*U+1]<<16|M[2*U];for(U=O;U<2*O;U++)M[U]=0;return new p(M,0)};function vt(U,O){for(;(U[O]&65535)!=U[O];)U[O+1]+=U[O]>>>16,U[O]&=65535,O++}function yt(U,O){this.g=U,this.h=O}function Lt(U,O){if(ct(O))throw Error("division by zero");if(ct(U))return new yt(C,C);if(st(U))return O=Lt(Z(U),O),new yt(Z(O.g),Z(O.h));if(st(O))return O=Lt(U,Z(O)),new yt(Z(O.g),O.h);if(U.g.length>30){if(st(U)||st(O))throw Error("slowDivide_ only works with positive integers.");for(var M=z,H=O;H.l(U)<=0;)M=Bt(M),H=Bt(H);var B=jt(M,1),q=jt(H,1);for(H=jt(H,2),M=jt(M,2);!ct(H);){var k=q.add(H);k.l(U)<=0&&(B=B.add(M),q=k),H=jt(H,1),M=jt(M,1)}return O=mt(U,B.j(O)),new yt(B,O)}for(B=C;U.l(O)>=0;){for(M=Math.max(1,Math.floor(U.m()/O.m())),H=Math.ceil(Math.log(M)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),q=E(M),k=q.j(O);st(k)||k.l(U)>0;)M-=H,q=E(M),k=q.j(O);ct(q)&&(q=z),B=B.add(q),U=mt(U,k)}return new yt(B,U)}s.B=function(U){return Lt(this,U).h},s.and=function(U){const O=Math.max(this.g.length,U.g.length),M=[];for(let H=0;H<O;H++)M[H]=this.i(H)&U.i(H);return new p(M,this.h&U.h)},s.or=function(U){const O=Math.max(this.g.length,U.g.length),M=[];for(let H=0;H<O;H++)M[H]=this.i(H)|U.i(H);return new p(M,this.h|U.h)},s.xor=function(U){const O=Math.max(this.g.length,U.g.length),M=[];for(let H=0;H<O;H++)M[H]=this.i(H)^U.i(H);return new p(M,this.h^U.h)};function Bt(U){const O=U.g.length+1,M=[];for(let H=0;H<O;H++)M[H]=U.i(H)<<1|U.i(H-1)>>>31;return new p(M,U.h)}function jt(U,O){const M=O>>5;O%=32;const H=U.g.length-M,B=[];for(let q=0;q<H;q++)B[q]=O>0?U.i(q+M)>>>O|U.i(q+M+1)<<32-O:U.i(q+M);return new p(B,U.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,qT=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=I,Ha=p}).apply(typeof $v<"u"?$v:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FT,ic,GT,tf,lp,ZT,KT,YT;(function(){var s,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var y=0;y<f.length;++y){var A=f[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=n(this);function l(f,y){if(y)t:{var A=a;f=f.split(".");for(var N=0;N<f.length-1;N++){var K=f[N];if(!(K in A))break t;A=A[K]}f=f[f.length-1],N=A[f],y=y(N),y!=N&&y!=null&&t(A,f,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(y){var A=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&A.push([N,y[N]]);return A}});var h=h||{},p=this||self;function v(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function T(f,y,A){return f.call.apply(f.bind,arguments)}function E(f,y,A){return E=T,E.apply(null,arguments)}function I(f,y){var A=Array.prototype.slice.call(arguments,1);return function(){var N=A.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function C(f,y){function A(){}A.prototype=y.prototype,f.Z=y.prototype,f.prototype=new A,f.prototype.constructor=f,f.Ob=function(N,K,J){for(var _t=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)_t[Ut-2]=arguments[Ut];return y.prototype[K].apply(N,_t)}}var z=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function $(f){const y=f.length;if(y>0){const A=Array(y);for(let N=0;N<y;N++)A[N]=f[N];return A}return[]}function ct(f,y){for(let N=1;N<arguments.length;N++){const K=arguments[N];var A=typeof K;if(A=A!="object"?A:K?Array.isArray(K)?"array":A:"null",A=="array"||A=="object"&&typeof K.length=="number"){A=f.length||0;const J=K.length||0;f.length=A+J;for(let _t=0;_t<J;_t++)f[A+_t]=K[_t]}else f.push(K)}}class st{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(f){p.setTimeout(()=>{throw f},0)}function mt(){var f=U;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class vt{constructor(){this.h=this.g=null}add(y,A){const N=yt.get();N.set(y,A),this.h?this.h.next=N:this.g=N,this.h=N}}var yt=new st(()=>new Lt,f=>f.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Bt,jt=!1,U=new vt,O=()=>{const f=Promise.resolve(void 0);Bt=()=>{f.then(M)}};function M(){for(var f;f=mt();){try{f.h.call(f.g)}catch(A){Z(A)}var y=yt;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}jt=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function ee(f,y){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}C(ee,B),ee.prototype.init=function(f,y){const A=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(A=="mouseover"?y=f.fromElement:A=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),tt=0;function ft(f,y,A,N,K){this.listener=f,this.proxy=null,this.src=y,this.type=A,this.capture=!!N,this.ha=K,this.key=++tt,this.da=this.fa=!1}function at(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Dt(f,y,A){for(const N in f)y.call(A,f[N],N,f)}function pt(f,y){for(const A in f)y.call(void 0,f[A],A,f)}function P(f){const y={};for(const A in f)y[A]=f[A];return y}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(f,y){let A,N;for(let K=1;K<arguments.length;K++){N=arguments[K];for(A in N)f[A]=N[A];for(let J=0;J<nt.length;J++)A=nt[J],Object.prototype.hasOwnProperty.call(N,A)&&(f[A]=N[A])}}function gt(f){this.src=f,this.g={},this.h=0}gt.prototype.add=function(f,y,A,N,K){const J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);const _t=Et(f,y,N,K);return _t>-1?(y=f[_t],A||(y.fa=!1)):(y=new ft(y,this.src,J,!!N,K),y.fa=A,f.push(y)),y};function bt(f,y){const A=y.type;if(A in f.g){var N=f.g[A],K=Array.prototype.indexOf.call(N,y,void 0),J;(J=K>=0)&&Array.prototype.splice.call(N,K,1),J&&(at(y),f.g[A].length==0&&(delete f.g[A],f.h--))}}function Et(f,y,A,N){for(let K=0;K<f.length;++K){const J=f[K];if(!J.da&&J.listener==y&&J.capture==!!A&&J.ha==N)return K}return-1}var qt="closure_lm_"+(Math.random()*1e6|0),be={};function xe(f,y,A,N,K){if(Array.isArray(y)){for(let J=0;J<y.length;J++)xe(f,y[J],A,N,K);return null}return A=Ds(A),f&&f[Ve]?f.J(y,A,v(N)?!!N.capture:!1,K):cs(f,y,A,!1,N,K)}function cs(f,y,A,N,K,J){if(!y)throw Error("Invalid event type");const _t=v(K)?!!K.capture:!!K;let Ut=Ps(f);if(Ut||(f[qt]=Ut=new gt(f)),A=Ut.add(y,A,N,_t,J),A.proxy)return A;if(N=Ns(),A.proxy=N,N.src=f,N.listener=A,f.addEventListener)q||(K=_t),K===void 0&&(K=!1),f.addEventListener(y.toString(),N,K);else if(f.attachEvent)f.attachEvent(ji(y.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ns(){function f(A){return y.call(f.src,f.listener,A)}const y=Zr;return f}function Bi(f,y,A,N,K){if(Array.isArray(y))for(var J=0;J<y.length;J++)Bi(f,y[J],A,N,K);else N=v(N)?!!N.capture:!!N,A=Ds(A),f&&f[Ve]?(f=f.i,J=String(y).toString(),J in f.g&&(y=f.g[J],A=Et(y,A,N,K),A>-1&&(at(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete f.g[J],f.h--)))):f&&(f=Ps(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Et(y,A,N,K)),(A=f>-1?y[f]:null)&&Os(A))}function Os(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Ve])bt(y.i,f);else{var A=f.type,N=f.proxy;y.removeEventListener?y.removeEventListener(A,N,f.capture):y.detachEvent?y.detachEvent(ji(A),N):y.addListener&&y.removeListener&&y.removeListener(N),(A=Ps(y))?(bt(A,f),A.h==0&&(A.src=null,y[qt]=null)):at(f)}}}function ji(f){return f in be?be[f]:be[f]="on"+f}function Zr(f,y){if(f.da)f=!0;else{y=new ee(y,this);const A=f.listener,N=f.ha||f.src;f.fa&&Os(f),f=A.call(N,y)}return f}function Ps(f){return f=f[qt],f instanceof gt?f:null}var hr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ds(f){return typeof f=="function"?f:(f[hr]||(f[hr]=function(y){return f.handleEvent(y)}),f[hr])}function qe(){H.call(this),this.i=new gt(this),this.M=this,this.G=null}C(qe,H),qe.prototype[Ve]=!0,qe.prototype.removeEventListener=function(f,y,A,N){Bi(this,f,y,A,N)};function Fe(f,y){var A,N=f.G;if(N)for(A=[];N;N=N.G)A.push(N);if(f=f.M,N=y.type||y,typeof y=="string")y=new B(y,f);else if(y instanceof B)y.target=y.target||f;else{var K=y;y=new B(N,f),dt(y,K)}K=!0;let J,_t;if(A)for(_t=A.length-1;_t>=0;_t--)J=y.g=A[_t],K=Hi(J,N,!0,y)&&K;if(J=y.g=f,K=Hi(J,N,!0,y)&&K,K=Hi(J,N,!1,y)&&K,A)for(_t=0;_t<A.length;_t++)J=y.g=A[_t],K=Hi(J,N,!1,y)&&K}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const A=f.g[y];for(let N=0;N<A.length;N++)at(A[N]);delete f.g[y],f.h--}}this.G=null},qe.prototype.J=function(f,y,A,N){return this.i.add(String(f),y,!1,A,N)},qe.prototype.K=function(f,y,A,N){return this.i.add(String(f),y,!0,A,N)};function Hi(f,y,A,N){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let K=!0;for(let J=0;J<y.length;++J){const _t=y[J];if(_t&&!_t.da&&_t.capture==A){const Ut=_t.listener,le=_t.ha||_t.src;_t.fa&&bt(f.i,_t),K=Ut.call(le,N)!==!1&&K}}return K&&!N.defaultPrevented}function rl(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(f,y||0)}function no(f){f.g=rl(()=>{f.g=null,f.i&&(f.i=!1,no(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class xn extends H{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:no(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(f){H.call(this),this.h=f,this.g={}}C(fr,H);var dr=[];function Kr(f){Dt(f.g,function(y,A){this.g.hasOwnProperty(A)&&Os(y)},f),f.g={}}fr.prototype.N=function(){fr.Z.N.call(this),Kr(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=p.JSON.stringify,du=p.JSON.parse,io=class{stringify(f){return p.JSON.stringify(f,void 0)}parse(f){return p.JSON.parse(f,void 0)}};function so(){}function al(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){B.call(this,"d")}C($e,B);function Fn(){B.call(this,"c")}C(Fn,B);var ze={},Ms=null;function Yr(){return Ms=Ms||new qe}ze.Ia="serverreachability";function ol(f){B.call(this,ze.Ia,f)}C(ol,B);function vi(f){const y=Yr();Fe(y,new ol(y))}ze.STAT_EVENT="statevent";function Ls(f,y){B.call(this,ze.STAT_EVENT,f),this.stat=y}C(Ls,B);function Ue(f){const y=Yr();Fe(y,new Ls(y,f))}ze.Ja="timingevent";function qi(f,y){B.call(this,ze.Ja,f),this.size=y}C(qi,B);function Fi(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){f()},y)}function Ti(){this.g=!0}Ti.prototype.ua=function(){this.g=!1};function mu(f,y,A,N,K,J){f.info(function(){if(f.g)if(J){var _t="",Ut=J.split("&");for(let ue=0;ue<Ut.length;ue++){var le=Ut[ue].split("=");if(le.length>1){const Ce=le[0];le=le[1];const ai=Ce.split("_");_t=ai.length>=2&&ai[1]=="type"?_t+(Ce+"="+le+"&"):_t+(Ce+"=redacted&")}}}else _t=null;else _t=J;return"XMLHTTP REQ ("+N+") [attempt "+K+"]: "+y+`
`+A+`
`+_t})}function ll(f,y,A,N,K,J,_t){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+K+"]: "+y+`
`+A+`
`+J+" "+_t})}function Gi(f,y,A,N){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+pu(f,A)+(N?" "+N:"")})}function fs(f,y){f.info(function(){return"TIMEOUT: "+y})}Ti.prototype.info=function(){};function pu(f,y){if(!f.g)return y;if(!y)return null;try{const J=JSON.parse(y);if(J){for(f=0;f<J.length;f++)if(Array.isArray(J[f])){var A=J[f];if(!(A.length<2)){var N=A[1];if(Array.isArray(N)&&!(N.length<1)){var K=N[0];if(K!="noop"&&K!="stop"&&K!="close")for(let _t=1;_t<N.length;_t++)N[_t]=""}}}}return hs(J)}catch{return y}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ao;function _n(){}C(_n,so),_n.prototype.g=function(){return new XMLHttpRequest},ao=new _n;function Rt(f){return encodeURIComponent(String(f))}function oo(f){var y=1;f=f.split(":");const A=[];for(;y>0&&f.length;)A.push(f.shift()),y--;return f.length&&A.push(f.join(":")),A}function $n(f,y,A,N){this.j=f,this.i=y,this.l=A,this.S=N||1,this.V=new fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var Be={},Ge={};function Ei(f,y,A){f.M=1,f.A=ye(Oe(y)),f.u=A,f.R=!0,bi(f,null)}function bi(f,y){f.F=Date.now(),Zi(f),f.B=Oe(f.A);var A=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),Vs(A.i,"t",N),f.C=0,A=f.j.L,f.h=new ti,f.g=po(f.j,A?y:null,!f.u),f.P>0&&(f.O=new xn(E(f.Y,f,f.g),f.P)),y=f.V,A=f.g,N=f.ba;var K="readystatechange";Array.isArray(K)||(K&&(dr[0]=K.toString()),K=dr);for(let J=0;J<K.length;J++){const _t=xe(A,K[J],N||y.handleEvent,!1,y.h||y);if(!_t)break;y.g[_t.key]=_t}y=f.J?P(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),vi(),mu(f.i,f.v,f.B,f.l,f.S,f.u)}$n.prototype.ba=function(f){f=f.target;const y=this.O;y&&xi(f)==3?y.j():this.Y(f)},$n.prototype.Y=function(f){try{if(f==this.g)t:{const Ut=xi(this.g),le=this.g.ya(),ue=this.g.ca();if(!(Ut<3)&&(Ut!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Ut!=4||le==7||(le==8||ue<=0?vi(3):vi(2)),wi(this);var y=this.g.ca();this.X=y;var A=ul(this);if(this.o=y==200,ll(this.i,this.v,this.B,this.l,this.S,Ut,y),this.o){if(this.U&&!this.L){e:{if(this.g){var N,K=this.g;if((N=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(N)){var J=N;break e}}J=null}if(f=J)Gi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ki(this,f);else{this.o=!1,this.m=3,Ue(12),yn(this),ei(this);break t}}if(this.R){f=!0;let Ce;for(;!this.K&&this.C<A.length;)if(Ce=hl(this,A),Ce==Ge){Ut==4&&(this.m=4,Ue(14),f=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ce==Be){this.m=4,Ue(15),Gi(this.i,this.l,A,"[Invalid Chunk]"),f=!1;break}else Gi(this.i,this.l,Ce,null),Ki(this,Ce);if(cl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||A.length!=0||this.h.h||(this.m=1,Ue(16),f=!1),this.o=this.o&&f,!f)Gi(this.i,this.l,A,"[Invalid Chunked Response]"),yn(this),ei(this);else if(A.length>0&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.aa&&!_t.P&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),fo(_t),_t.P=!0,Ue(11))}}else Gi(this.i,this.l,A,null),Ki(this,A);Ut==4&&yn(this),this.o&&!this.K&&(Ut==4?Kn(this.j,this):(this.o=!1,Zi(this)))}else Ri(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),yn(this),ei(this)}}}catch{}};function ul(f){if(!cl(f))return f.g.la();const y=an(f.g);if(y==="")return"";let A="";const N=y.length,K=xi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return yn(f),ei(f),"";f.h.i=new p.TextDecoder}for(let J=0;J<N;J++)f.h.h=!0,A+=f.h.i.decode(y[J],{stream:!(K&&J==N-1)});return y.length=0,f.h.g+=A,f.C=0,f.h.g}function cl(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function hl(f,y){var A=f.C,N=y.indexOf(`
`,A);return N==-1?Ge:(A=Number(y.substring(A,N)),isNaN(A)?Be:(N+=1,N+A>y.length?Ge:(y=y.slice(N,N+A),f.C=N+A,y)))}$n.prototype.cancel=function(){this.K=!0,yn(this)};function Zi(f){f.T=Date.now()+f.H,Qr(f,f.H)}function Qr(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Fi(E(f.aa,f),y)}function wi(f){f.D&&(p.clearTimeout(f.D),f.D=null)}$n.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(fs(this.i,this.B),this.M!=2&&(vi(),Ue(17)),yn(this),this.m=2,ei(this)):Qr(this,this.T-f)};function ei(f){f.j.I==0||f.K||Kn(f.j,f)}function yn(f){wi(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,Kr(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function Ki(f,y){try{var A=f.j;if(A.I!=0&&(A.g==f||ni(A.h,f))){if(!f.L&&ni(A.h,f)&&A.I==3){try{var N=A.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var K=N;if(K[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<f.F)na(A),js(A);else break t;Tr(A),Ue(18)}}else A.xa=K[1],0<A.xa-A.K&&K[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Fi(E(A.Va,A),6e3));Yi(A.h)<=1&&A.ta&&(A.ta=void 0)}else Ci(A,11)}else if((f.L||A.g==f)&&na(A),!k(y))for(K=A.Ba.g.parse(y),y=0;y<K.length;y++){let ue=K[y];const Ce=ue[0];if(!(Ce<=A.K))if(A.K=Ce,ue=ue[1],A.I==2)if(ue[0]=="c"){A.M=ue[1],A.ba=ue[2];const ai=ue[3];ai!=null&&(A.ka=ai,A.j.info("VER="+A.ka));const oi=ue[4];oi!=null&&(A.za=oi,A.j.info("SVER="+A.za));const Yn=ue[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(N=1.5*Yn,A.O=N,A.j.info("backChannelRequestTimeoutMs_="+N)),N=A;const Ni=f.g;if(Ni){const Er=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var J=N.h;J.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ds(J,J.h),J.h=null))}if(N.G){const br=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;br&&(N.wa=br,At(N.J,N.G,br))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-f.F,A.j.info("Handshake RTT: "+A.T+"ms")),N=A;var _t=f;if(N.na=mo(N,N.L?N.ba:null,N.W),_t.L){Xr(N.h,_t);var Ut=_t,le=N.O;le&&(Ut.H=le),Ut.D&&(wi(Ut),Zi(Ut)),N.g=_t}else ho(N);A.i.length>0&&kn(A)}else ue[0]!="stop"&&ue[0]!="close"||Ci(A,7);else A.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?Ci(A,7):Qt(A):ue[0]!="noop"&&A.l&&A.l.qa(ue),A.A=0)}}vi(4)}catch{}}var Ze=class{constructor(f,y){this.g=f,this.map=y}};function lo(f){this.l=f||10,p.PerformanceNavigationTiming?(f=p.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function uo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Yi(f){return f.h?1:f.g?f.g.size:0}function ni(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function ds(f,y){f.g?f.g.add(y):f.h=y}function Xr(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}lo.prototype.cancel=function(){if(this.i=Wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Wr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const A of f.g.values())y=y.concat(A.G);return y}return $(f.i)}var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xt(f,y){if(f){f=f.split("&");for(let A=0;A<f.length;A++){const N=f[A].indexOf("=");let K,J=null;N>=0?(K=f[A].substring(0,N),J=f[A].substring(N+1)):K=f[A],y(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Wt(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof Wt?(this.l=f.l,Pe(this,f.j),this.o=f.o,this.g=f.g,Gn(this,f.u),this.h=f.h,pr(this,yr(f.i)),this.m=f.m):f&&(y=String(f).match(ks))?(this.l=!1,Pe(this,y[1]||"",!0),this.o=ii(y[2]||""),this.g=ii(y[3]||"",!0),Gn(this,y[4]),this.h=ii(y[5]||"",!0),pr(this,y[6]||"",!0),this.m=ii(y[7]||"")):(this.l=!1,this.i=new si(null,this.l))}Wt.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(Qi(y,Jr,!0),":");var A=this.g;return(A||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Qi(y,Jr,!0),"@"),f.push(Rt(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&f.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(Qi(A,A.charAt(0)=="/"?Ai:gr,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",Qi(A,Xi)),f.join("")},Wt.prototype.resolve=function(f){const y=Oe(this);let A=!!f.j;A?Pe(y,f.j):A=!!f.o,A?y.o=f.o:A=!!f.g,A?y.g=f.g:A=f.u!=null;var N=f.h;if(A)Gn(y,f.u);else if(A=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var K=y.h.lastIndexOf("/");K!=-1&&(N=y.h.slice(0,K+1)+N)}if(K=N,K==".."||K==".")N="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){N=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let _t=0;_t<K.length;){const Ut=K[_t++];Ut=="."?N&&_t==K.length&&J.push(""):Ut==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),N&&_t==K.length&&J.push("")):(J.push(Ut),N=!0)}N=J.join("/")}else N=K}return A?y.h=N:A=f.i.toString()!=="",A?pr(y,yr(f.i)):A=!!f.m,A&&(y.m=f.m),y};function Oe(f){return new Wt(f)}function Pe(f,y,A){f.j=A?ii(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Gn(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function pr(f,y,A){y instanceof si?(f.i=y,zs(f.i,f.l)):(A||(y=Qi(y,ve)),f.i=new si(y,f.l))}function At(f,y,A){f.i.set(y,A)}function ye(f){return At(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ii(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Qi(f,y,A){return typeof f=="string"?(f=encodeURI(f).replace(y,Re),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Re(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Jr=/[#\/\?@]/g,gr=/[#\?:]/g,Ai=/[#\?]/g,ve=/[#\?@]/g,Xi=/#/g;function si(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function rn(f){f.g||(f.g=new Map,f.h=0,f.i&&Xt(f.i,function(y,A){f.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}s=si.prototype,s.add=function(f,y){rn(this),this.i=null,f=Wi(this,f);let A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(y),this.h+=1,this};function $r(f,y){rn(f),y=Wi(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function ms(f,y){return rn(f),y=Wi(f,y),f.g.has(y)}s.forEach=function(f,y){rn(this),this.g.forEach(function(A,N){A.forEach(function(K){f.call(y,K,N,this)},this)},this)};function _r(f,y){rn(f);let A=[];if(typeof y=="string")ms(f,y)&&(A=A.concat(f.g.get(Wi(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)A=A.concat(f[y]);return A}s.set=function(f,y){return rn(this),this.i=null,f=Wi(this,f),ms(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},s.get=function(f,y){return f?(f=_r(this,f),f.length>0?String(f[0]):y):y};function Vs(f,y,A){$r(f,y),A.length>0&&(f.i=null,f.g.set(Wi(f,y),$(A)),f.h+=A.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var A=y[N];const K=Rt(A);A=_r(this,A);for(let J=0;J<A.length;J++){let _t=K;A[J]!==""&&(_t+="="+Rt(A[J])),f.push(_t)}}return this.i=f.join("&")};function yr(f){const y=new si;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Wi(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function zs(f,y){y&&!f.j&&(rn(f),f.i=null,f.g.forEach(function(A,N){const K=N.toLowerCase();N!=K&&($r(this,N),Vs(this,K,A))},f)),f.j=y}function Dn(f,y){const A=new Ti;if(p.Image){const N=new Image;N.onload=I(Mn,A,"TestLoadImage: loaded",!0,y,N),N.onerror=I(Mn,A,"TestLoadImage: error",!1,y,N),N.onabort=I(Mn,A,"TestLoadImage: abort",!1,y,N),N.ontimeout=I(Mn,A,"TestLoadImage: timeout",!1,y,N),p.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else y(!1)}function ta(f,y){const A=new Ti,N=new AbortController,K=setTimeout(()=>{N.abort(),Mn(A,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:N.signal}).then(J=>{clearTimeout(K),J.ok?Mn(A,"TestPingServer: ok",!0,y):Mn(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),Mn(A,"TestPingServer: error",!1,y)})}function Mn(f,y,A,N,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),N(A)}catch{}}function Us(){this.g=new io}function Mt(f){this.i=f.Sb||null,this.h=f.ab||!1}C(Mt,so),Mt.prototype.g=function(){return new vn(this.i,this.h)};function vn(f,y){qe.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(vn,qe),s=vn.prototype,s.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,Zn(this)},s.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},s.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;he(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function he(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}s.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?ps(this):Zn(this),this.readyState==3&&he(this)}},s.Oa=function(f){this.g&&(this.response=this.responseText=f,ps(this))},s.Na=function(f){this.g&&(this.response=f,ps(this))},s.ga=function(){this.g&&ps(this)};function ps(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Zn(f)}s.setRequestHeader=function(f,y){this.A.append(f,y)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=y.next();return f.join(`\r
`)};function Zn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ln(f){let y="";return Dt(f,function(A,N){y+=N,y+=":",y+=A,y+=`\r
`}),y}function gs(f,y,A){t:{for(N in A){var N=!1;break t}N=!0}N||(A=Ln(A),typeof f=="string"?A!=null&&Rt(A):At(f,y,A))}function ne(f){qe.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(ne,qe);var ri=/^https?$/i,_s=["POST","PUT"];s=ne.prototype,s.Fa=function(f){this.H=f},s.ea=function(f,y,A,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ao.g(),this.g.onreadystatechange=z(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(J){De(this,J);return}if(f=A||"",A=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var K in N)A.set(K,N[K]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const J of N.keys())A.set(J,N.get(J));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(A.keys()).find(J=>J.toLowerCase()=="content-type"),K=p.FormData&&f instanceof p.FormData,!(Array.prototype.indexOf.call(_s,y,void 0)>=0)||N||K||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,_t]of A)this.g.setRequestHeader(J,_t);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(J){De(this,J)}};function De(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,Si(f),Ji(f)}function Si(f){f.A||(f.A=!0,Fe(f,"complete"),Fe(f,"error"))}s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Fe(this,"complete"),Fe(this,"abort"),Ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),ne.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Bs(this):this.Xa())},s.Xa=function(){Bs(this)};function Bs(f){if(f.h&&typeof h<"u"){if(f.v&&xi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Fe(f,"readystatechange"),xi(f)==4){f.h=!1;try{const J=f.ca();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var A;if(!(A=y)){var N;if(N=J===0){let _t=String(f.D).match(ks)[1]||null;!_t&&p.self&&p.self.location&&(_t=p.self.location.protocol.slice(0,-1)),N=!ri.test(_t?_t.toLowerCase():"")}A=N}if(A)Fe(f,"complete"),Fe(f,"success");else{f.o=6;try{var K=xi(f)>2?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.ca()+"]",Si(f)}}finally{Ji(f)}}}}function Ji(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const A=f.g;f.g=null,y||Fe(f,"ready");try{A.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function xi(f){return f.g?f.g.readyState:0}s.ca=function(){try{return xi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),du(y)}};function an(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(f){const y={};f=(f.g&&xi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(k(f[N]))continue;var A=oo(f[N]);const K=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const J=y[K]||[];y[K]=J,J.push(A)}pt(y,function(N){return N.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $i(f,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||y}function ys(f){this.za=0,this.i=[],this.j=new Ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$i("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$i("baseRetryDelayMs",5e3,f),this.Za=$i("retryDelaySeedMs",1e4,f),this.Ta=$i("forwardChannelMaxRetries",2,f),this.va=$i("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new lo(f&&f.concurrentRequestLimit),this.Ba=new Us,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ys.prototype,s.ka=8,s.I=1,s.connect=function(f,y,A,N){Ue(0),this.W=f,this.H=y||{},A&&N!==void 0&&(this.H.OSID=A,this.H.OAID=N),this.F=this.X,this.J=mo(this,null,this.W),kn(this)};function Qt(f){if(Tn(f),f.I==3){var y=f.V++,A=Oe(f.J);if(At(A,"SID",f.M),At(A,"RID",y),At(A,"TYPE","terminate"),vs(f,A),y=new $n(f,f.j,y),y.M=2,y.A=ye(Oe(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=po(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Zi(y)}Ii(f)}function js(f){f.g&&(fo(f),f.g.cancel(),f.g=null)}function Tn(f){js(f),f.v&&(p.clearTimeout(f.v),f.v=null),na(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&p.clearTimeout(f.m),f.m=null)}function kn(f){if(!uo(f.h)&&!f.m){f.m=!0;var y=f.Ea;Bt||O(),jt||(Bt(),jt=!0),U.add(y,f),f.D=0}}function vr(f,y){return Yi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Fi(E(f.Ea,f,y),dl(f,f.D)),f.D++,!0)}s.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const K=new $n(this,this.j,f);let J=this.o;if(this.U&&(J?(J=P(J),dt(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)t:{for(var y=0,A=0;A<this.i.length;A++){e:{var N=this.i[A];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=A;break t}if(y===4096||A===this.i.length-1){y=A+1;break t}}y=1e3}else y=1e3;y=fl(this,K,y),A=Oe(this.J),At(A,"RID",f),At(A,"CVER",22),this.G&&At(A,"X-HTTP-Session-Id",this.G),vs(this,A),J&&(this.R?y="headers="+Rt(Ln(J))+"&"+y:this.u&&gs(A,this.u,J)),ds(this.h,K),this.Ra&&At(A,"TYPE","init"),this.S?(At(A,"$req",y),At(A,"SID","null"),K.U=!0,Ei(K,A,null)):Ei(K,A,y),this.I=2}}else this.I==3&&(f?co(this,f):this.i.length==0||uo(this.h)||co(this))};function co(f,y){var A;y?A=y.l:A=f.V++;const N=Oe(f.J);At(N,"SID",f.M),At(N,"RID",A),At(N,"AID",f.K),vs(f,N),f.u&&f.o&&gs(N,f.u,f.o),A=new $n(f,f.j,A,f.D+1),f.u===null&&(A.J=f.o),y&&(f.i=y.G.concat(f.i)),y=fl(f,A,1e3),A.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ds(f.h,A),Ei(A,N,y)}function vs(f,y){f.H&&Dt(f.H,function(A,N){At(y,N,A)}),f.l&&Dt({},function(A,N){At(y,N,A)})}function fl(f,y,A){A=Math.min(f.i.length,A);const N=f.l?E(f.l.Ka,f.l,f):null;t:{var K=f.i;let Ut=-1;for(;;){const le=["count="+A];Ut==-1?A>0?(Ut=K[0].g,le.push("ofs="+Ut)):Ut=0:le.push("ofs="+Ut);let ue=!0;for(let Ce=0;Ce<A;Ce++){var J=K[Ce].g;const ai=K[Ce].map;if(J-=Ut,J<0)Ut=Math.max(0,K[Ce].g-100),ue=!1;else try{J="req"+J+"_"||"";try{var _t=ai instanceof Map?ai:Object.entries(ai);for(const[oi,Yn]of _t){let Ni=Yn;v(Yn)&&(Ni=hs(Yn)),le.push(J+oi+"="+encodeURIComponent(Ni))}}catch(oi){throw le.push(J+"type="+encodeURIComponent("_badmap")),oi}}catch{N&&N(ai)}}if(ue){_t=le.join("&");break t}}_t=void 0}return f=f.i.splice(0,A),y.G=f,_t}function ho(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;Bt||O(),jt||(Bt(),jt=!0),U.add(y,f),f.A=0}}function Tr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Fi(E(f.Da,f),dl(f,f.A)),f.A++,!0)}s.Da=function(){if(this.v=null,ea(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Fi(E(this.Wa,this),f)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),js(this),ea(this))};function fo(f){f.B!=null&&(p.clearTimeout(f.B),f.B=null)}function ea(f){f.g=new $n(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=Oe(f.na);At(y,"RID","rpc"),At(y,"SID",f.M),At(y,"AID",f.K),At(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&At(y,"TO",f.ia),At(y,"TYPE","xmlhttp"),vs(f,y),f.u&&f.o&&gs(y,f.u,f.o),f.O&&(f.g.H=f.O);var A=f.g;f=f.ba,A.M=1,A.A=ye(Oe(y)),A.u=null,A.R=!0,bi(A,f)}s.Va=function(){this.C!=null&&(this.C=null,js(this),Tr(this),Ue(19))};function na(f){f.C!=null&&(p.clearTimeout(f.C),f.C=null)}function Kn(f,y){var A=null;if(f.g==y){na(f),fo(f),f.g=null;var N=2}else if(ni(f.h,y))A=y.G,Xr(f.h,y),N=1;else return;if(f.I!=0){if(y.o)if(N==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var K=f.D;N=Yr(),Fe(N,new qi(N,A)),kn(f)}else ho(f);else if(K=y.m,K==3||K==0&&y.X>0||!(N==1&&vr(f,y)||N==2&&Tr(f)))switch(A&&A.length>0&&(y=f.h,y.i=y.i.concat(A)),K){case 1:Ci(f,5);break;case 4:Ci(f,10);break;case 3:Ci(f,6);break;default:Ci(f,2)}}}function dl(f,y){let A=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(A*=2),A*y}function Ci(f,y){if(f.j.info("Error code "+y),y==2){var A=E(f.bb,f),N=f.Ua;const K=!N;N=new Wt(N||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Pe(N,"https"),ye(N),K?Dn(N.toString(),A):ta(N.toString(),A)}else Ue(2);f.I=0,f.l&&f.l.pa(y),Ii(f),Tn(f)}s.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function Ii(f){if(f.I=0,f.ja=[],f.l){const y=Wr(f.h);(y.length!=0||f.i.length!=0)&&(ct(f.ja,y),ct(f.ja,f.i),f.h.i.length=0,$(f.i),f.i.length=0),f.l.oa()}}function mo(f,y,A){var N=A instanceof Wt?Oe(A):new Wt(A);if(N.g!="")y&&(N.g=y+"."+N.g),Gn(N,N.u);else{var K=p.location;N=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;const J=new Wt(null);N&&Pe(J,N),y&&(J.g=y),K&&Gn(J,K),A&&(J.h=A),N=J}return A=f.G,y=f.wa,A&&y&&At(N,A,y),At(N,"VER",f.ka),vs(f,N),N}function po(f,y,A){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new ne(new Mt({ab:A})):new ne(f.ma),y.Fa(f.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ia(){}s=ia.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Hs(){}Hs.prototype.g=function(f,y){return new En(f,y)};function En(f,y){qe.call(this),this.g=new ys(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!k(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Ts(this)}C(En,qe),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Qt(this.g)},En.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.v&&(A={},A.__data__=hs(f),f=A);y.i.push(new Ze(y.Ya++,f)),y.I==3&&kn(y)},En.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,En.Z.N.call(this)};function go(f){$e.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){t:{for(const A in y){f=A;break t}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}C(go,$e);function ml(){Fn.call(this),this.status=1}C(ml,Fn);function Ts(f){this.g=f}C(Ts,ia),Ts.prototype.ra=function(){Fe(this.g,"a")},Ts.prototype.qa=function(f){Fe(this.g,new go(f))},Ts.prototype.pa=function(f){Fe(this.g,new ml)},Ts.prototype.oa=function(){Fe(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,YT=function(){return new Hs},KT=function(){return Yr()},ZT=ze,lp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,tf=mr,ro.COMPLETE="complete",GT=ro,al.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",qe.prototype.listen=qe.prototype.J,ic=al,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,FT=ne}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const t0="@firebase/firestore",e0="4.9.3";class gi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");let ou="12.7.0";const Yo=new Lp("@firebase/firestore");function Zl(){return Yo.logLevel}function St(s,...t){if(Yo.logLevel<=re.DEBUG){const n=t.map(Vp);Yo.debug(`Firestore (${ou}): ${s}`,...n)}}function qr(s,...t){if(Yo.logLevel<=re.ERROR){const n=t.map(Vp);Yo.error(`Firestore (${ou}): ${s}`,...n)}}function gc(s,...t){if(Yo.logLevel<=re.WARN){const n=t.map(Vp);Yo.warn(`Firestore (${ou}): ${s}`,...n)}}function Vp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function zt(s,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,QT(s,a,n)}function QT(s,t,n){let a=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw qr(a),new Error(a)}function _e(s,t,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,s||QT(t,l,a)}function Gt(s,t){return s}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends cr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qo{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class dx{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(gi.UNAUTHENTICATED)))}shutdown(){}}class px{constructor(t){this.t=t,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_e(this.o===void 0,42304);let a=this.i;const l=T=>this.i!==a?(a=this.i,n(T)):Promise.resolve();let h=new qo;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new qo,t.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const T=h;t.enqueueRetryable((async()=>{await T.promise,await l(this.currentUser)}))},v=T=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((T=>v(T))),setTimeout((()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?v(T):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new qo)}}),0),p()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(_e(typeof a.accessToken=="string",31837,{l:a}),new dx(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string",2055,{h:t}),new gi(t)}}class gx{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=gi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _x{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new gx(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(gi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yx{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){_e(this.o===void 0,3512);const a=h=>{h.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const p=h.token!==this.m;return this.m=h.token,St("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new n0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vx(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}class zp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=vx(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<n&&(a+=t.charAt(l[h]%62))}return a}}function ae(s,t){return s<t?-1:s>t?1:0}function up(s,t){const n=Math.min(s.length,t.length);for(let a=0;a<n;a++){const l=s.charAt(a),h=t.charAt(a);if(l!==h)return Km(l)===Km(h)?ae(l,h):Km(l)?1:-1}return ae(s.length,t.length)}const Tx=55296,Ex=57343;function Km(s){const t=s.charCodeAt(0);return t>=Tx&&t<=Ex}function nu(s,t,n){return s.length===t.length&&s.every(((a,l)=>n(a,t[l])))}const i0="__name__";class $s{constructor(t,n,a){n===void 0?n=0:n>t.length&&zt(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&zt(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return $s.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $s?t.forEach((a=>{n.push(a)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const h=$s.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return ae(t.length,n.length)}static compareSegments(t,n){const a=$s.isNumericId(t),l=$s.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?$s.extractNumericId(t).compare($s.extractNumericId(n)):up(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ha.fromString(t.substring(4,t.length-2))}}class Ne extends $s{construct(t,n,a){return new Ne(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new wt(ot.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new Ne(n)}static emptyPath(){return new Ne([])}}const bx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends $s{construct(t,n,a){return new On(t,n,a)}static isValidIdentifier(t){return bx.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i0}static keyField(){return new On([i0])}static fromServerFormat(t){const n=[];let a="",l=0;const h=()=>{if(a.length===0)throw new wt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let p=!1;for(;l<t.length;){const v=t[l];if(v==="\\"){if(l+1===t.length)throw new wt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const T=t[l+1];if(T!=="\\"&&T!=="."&&T!=="`")throw new wt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=T,l+=2}else v==="`"?(p=!p,l++):v!=="."||p?(a+=v,l++):(h(),l++)}if(h(),p)throw new wt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new On(n)}static emptyPath(){return new On([])}}class Pt{constructor(t){this.path=t}static fromPath(t){return new Pt(Ne.fromString(t))}static fromName(t){return new Pt(Ne.fromString(t).popFirst(5))}static empty(){return new Pt(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Pt(new Ne(t.slice()))}}function XT(s,t,n){if(!n)throw new wt(ot.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function wx(s,t,n,a){if(t===!0&&a===!0)throw new wt(ot.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function s0(s){if(!Pt.isDocumentKey(s))throw new wt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function r0(s){if(Pt.isDocumentKey(s))throw new wt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function WT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Pf(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":zt(12329,{type:typeof s})}function Br(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new wt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pf(s);throw new wt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function dn(s,t){const n={typeString:s};return t&&(n.value=t),n}function Nc(s,t){if(!WT(s))throw new wt(ot.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){n=`JSON missing required field: '${a}'`;break}const p=s[a];if(l&&typeof p!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&p!==h.value){n=`Expected '${a}' field to equal '${h.value}'`;break}}if(n)throw new wt(ot.INVALID_ARGUMENT,n);return!0}const a0=-62135596800,o0=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*o0);return new Le(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new wt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new wt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<a0)throw new wt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o0}_compareTo(t){return this.seconds===t.seconds?ae(this.nanoseconds,t.nanoseconds):ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Nc(t,Le._jsonSchema))return new Le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-a0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:dn("string",Le._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};class Ht{static fromTimestamp(t){return new Ht(t)}static min(){return new Ht(new Le(0,0))}static max(){return new Ht(new Le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _c=-1;function Ax(s,t){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Ht.fromTimestamp(a===1e9?new Le(n+1,0):new Le(n,a));return new Ga(l,Pt.empty(),t)}function Sx(s){return new Ga(s.readTime,s.key,_c)}class Ga{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new Ga(Ht.min(),Pt.empty(),_c)}static max(){return new Ga(Ht.max(),Pt.empty(),_c)}}function xx(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=Pt.comparator(s.documentKey,t.documentKey),n!==0?n:ae(s.largestBatchId,t.largestBatchId))}const Rx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lu(s){if(s.code!==ot.FAILED_PRECONDITION||s.message!==Rx)throw s;St("LocalStore","Unexpectedly lost primary lease")}class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&zt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ht(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(a,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof ht?n:ht.resolve(n)}catch(n){return ht.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):ht.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):ht.reject(n)}static resolve(t){return new ht(((n,a)=>{n(t)}))}static reject(t){return new ht(((n,a)=>{a(t)}))}static waitFor(t){return new ht(((n,a)=>{let l=0,h=0,p=!1;t.forEach((v=>{++l,v.next((()=>{++h,p&&h===l&&n()}),(T=>a(T)))})),p=!0,h===l&&n()}))}static or(t){let n=ht.resolve(!1);for(const a of t)n=n.next((l=>l?ht.resolve(l):a()));return n}static forEach(t,n){const a=[];return t.forEach(((l,h)=>{a.push(n.call(this,l,h))})),this.waitFor(a)}static mapArray(t,n){return new ht(((a,l)=>{const h=t.length,p=new Array(h);let v=0;for(let T=0;T<h;T++){const E=T;n(t[E]).next((I=>{p[E]=I,++v,v===h&&a(p)}),(I=>l(I)))}}))}static doWhile(t,n){return new ht(((a,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):a()};h()}))}}function Ix(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uu(s){return s.name==="IndexedDbTransactionError"}class Df{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Df.ce=-1;const Up=-1;function Mf(s){return s==null}function mf(s){return s===0&&1/s==-1/0}function Nx(s){return typeof s=="number"&&Number.isInteger(s)&&!mf(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const JT="";function Ox(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=l0(t)),t=Px(s.get(n),t);return l0(t)}function Px(s,t){let n=t;const a=s.length;for(let l=0;l<a;l++){const h=s.charAt(l);switch(h){case"\0":n+="";break;case JT:n+="";break;default:n+=h}}return n}function l0(s){return s+JT+""}function u0(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function Ja(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function $T(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class He{constructor(t,n){this.comparator=t,this.root=n||Nn.EMPTY}insert(t,n){return new He(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(t){return new He(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,a)=>(t(n,a),!1)))}toString(){const t=[];return this.inorderTraversal(((n,a)=>(t.push(`${n}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Kh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Kh(this.root,t,this.comparator,!0)}}class Kh{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?a(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Nn{constructor(t,n,a,l,h){this.key=t,this.value=n,this.color=a??Nn.RED,this.left=l??Nn.EMPTY,this.right=h??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,h){return new Nn(t??this.key,n??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,a),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Nn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw zt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw zt(27949);return t+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw zt(57766)}get value(){throw zt(16141)}get color(){throw zt(16727)}get left(){throw zt(29726)}get right(){throw zt(36894)}copy(t,n,a,l,h){return this}insert(t,n,a){return new Nn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(t){this.comparator=t,this.data=new He(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,a)=>(t(n),!1)))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new c0(this.data.getIterator())}getIteratorFrom(t){return new c0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((a=>{n=n.add(a)})),n}isEqual(t){if(!(t instanceof gn)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new gn(this.comparator);return n.data=t,n}}class c0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zi{constructor(t){this.fields=t,t.sort(On.comparator)}static empty(){return new zi([])}unionWith(t){let n=new gn(On.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new zi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return nu(this.fields,t.fields,((n,a)=>n.isEqual(a)))}}class tE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new tE("Invalid base64 string: "+h):h}})(t);return new Pn(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let p=0;p<l.length;++p)h+=String.fromCharCode(l[p]);return h})(t);return new Pn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const Dx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(s){if(_e(!!s,39018),typeof s=="string"){let t=0;const n=Dx.exec(s);if(_e(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:nn(s.seconds),nanos:nn(s.nanos)}}function nn(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ka(s){return typeof s=="string"?Pn.fromBase64String(s):Pn.fromUint8Array(s)}const eE="server_timestamp",nE="__type__",iE="__previous_value__",sE="__local_write_time__";function Bp(s){return(s?.mapValue?.fields||{})[nE]?.stringValue===eE}function Lf(s){const t=s.mapValue.fields[iE];return Bp(t)?Lf(t):t}function yc(s){const t=Za(s.mapValue.fields[sE].timestampValue);return new Le(t.seconds,t.nanos)}class Mx{constructor(t,n,a,l,h,p,v,T,E,I){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=p,this.autoDetectLongPolling=v,this.longPollingOptions=T,this.useFetchStreams=E,this.isUsingEmulator=I}}const pf="(default)";class vc{constructor(t,n){this.projectId=t,this.database=n||pf}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===pf}isEqual(t){return t instanceof vc&&t.projectId===this.projectId&&t.database===this.database}}const rE="__type__",Lx="__max__",Yh={mapValue:{}},aE="__vector__",gf="value";function Ya(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Bp(s)?4:Vx(s)?9007199254740991:kx(s)?10:11:zt(28295,{value:s})}function ur(s,t){if(s===t)return!0;const n=Ya(s);if(n!==Ya(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return yc(s).isEqual(yc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const p=Za(l.timestampValue),v=Za(h.timestampValue);return p.seconds===v.seconds&&p.nanos===v.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,h){return Ka(l.bytesValue).isEqual(Ka(h.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,h){return nn(l.geoPointValue.latitude)===nn(h.geoPointValue.latitude)&&nn(l.geoPointValue.longitude)===nn(h.geoPointValue.longitude)})(s,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return nn(l.integerValue)===nn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const p=nn(l.doubleValue),v=nn(h.doubleValue);return p===v?mf(p)===mf(v):isNaN(p)&&isNaN(v)}return!1})(s,t);case 9:return nu(s.arrayValue.values||[],t.arrayValue.values||[],ur);case 10:case 11:return(function(l,h){const p=l.mapValue.fields||{},v=h.mapValue.fields||{};if(u0(p)!==u0(v))return!1;for(const T in p)if(p.hasOwnProperty(T)&&(v[T]===void 0||!ur(p[T],v[T])))return!1;return!0})(s,t);default:return zt(52216,{left:s})}}function Tc(s,t){return(s.values||[]).find((n=>ur(n,t)))!==void 0}function iu(s,t){if(s===t)return 0;const n=Ya(s),a=Ya(t);if(n!==a)return ae(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(s.booleanValue,t.booleanValue);case 2:return(function(h,p){const v=nn(h.integerValue||h.doubleValue),T=nn(p.integerValue||p.doubleValue);return v<T?-1:v>T?1:v===T?0:isNaN(v)?isNaN(T)?0:-1:1})(s,t);case 3:return h0(s.timestampValue,t.timestampValue);case 4:return h0(yc(s),yc(t));case 5:return up(s.stringValue,t.stringValue);case 6:return(function(h,p){const v=Ka(h),T=Ka(p);return v.compareTo(T)})(s.bytesValue,t.bytesValue);case 7:return(function(h,p){const v=h.split("/"),T=p.split("/");for(let E=0;E<v.length&&E<T.length;E++){const I=ae(v[E],T[E]);if(I!==0)return I}return ae(v.length,T.length)})(s.referenceValue,t.referenceValue);case 8:return(function(h,p){const v=ae(nn(h.latitude),nn(p.latitude));return v!==0?v:ae(nn(h.longitude),nn(p.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return f0(s.arrayValue,t.arrayValue);case 10:return(function(h,p){const v=h.fields||{},T=p.fields||{},E=v[gf]?.arrayValue,I=T[gf]?.arrayValue,C=ae(E?.values?.length||0,I?.values?.length||0);return C!==0?C:f0(E,I)})(s.mapValue,t.mapValue);case 11:return(function(h,p){if(h===Yh.mapValue&&p===Yh.mapValue)return 0;if(h===Yh.mapValue)return 1;if(p===Yh.mapValue)return-1;const v=h.fields||{},T=Object.keys(v),E=p.fields||{},I=Object.keys(E);T.sort(),I.sort();for(let C=0;C<T.length&&C<I.length;++C){const z=up(T[C],I[C]);if(z!==0)return z;const $=iu(v[T[C]],E[I[C]]);if($!==0)return $}return ae(T.length,I.length)})(s.mapValue,t.mapValue);default:throw zt(23264,{he:n})}}function h0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return ae(s,t);const n=Za(s),a=Za(t),l=ae(n.seconds,a.seconds);return l!==0?l:ae(n.nanos,a.nanos)}function f0(s,t){const n=s.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const h=iu(n[l],a[l]);if(h)return h}return ae(n.length,a.length)}function su(s){return cp(s)}function cp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const a=Za(n);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Ka(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Pt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let a="[",l=!0;for(const h of n.values||[])l?l=!1:a+=",",a+=cp(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const p of a)h?h=!1:l+=",",l+=`${p}:${cp(n.fields[p])}`;return l+"}"})(s.mapValue):zt(61005,{value:s})}function ef(s){switch(Ya(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Lf(s);return t?16+ef(t):16;case 5:return 2*s.stringValue.length;case 6:return Ka(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+ef(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Ja(a.fields,((h,p)=>{l+=h.length+ef(p)})),l})(s.mapValue);default:throw zt(13486,{value:s})}}function d0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function hp(s){return!!s&&"integerValue"in s}function jp(s){return!!s&&"arrayValue"in s}function m0(s){return!!s&&"nullValue"in s}function p0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nf(s){return!!s&&"mapValue"in s}function kx(s){return(s?.mapValue?.fields||{})[rE]?.stringValue===aE}function uc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Ja(s.mapValue.fields,((n,a)=>t.mapValue.fields[n]=uc(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=uc(s.arrayValue.values[n]);return t}return{...s}}function Vx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Lx}class yi{constructor(t){this.value=t}static empty(){return new yi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!nf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=uc(n)}setAll(t){let n=On.emptyPath(),a={},l=[];t.forEach(((p,v)=>{if(!n.isImmediateParentOf(v)){const T=this.getFieldsMap(n);this.applyChanges(T,a,l),a={},l=[],n=v.popLast()}p?a[v.lastSegment()]=uc(p):l.push(v.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,a,l)}delete(t){const n=this.field(t.popLast());nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ur(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];nf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){Ja(n,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new yi(uc(this.value))}}function oE(s){const t=[];return Ja(s.fields,((n,a)=>{const l=new On([n]);if(nf(a)){const h=oE(a.mapValue).fields;if(h.length===0)t.push(l);else for(const p of h)t.push(l.child(p))}else t.push(l)})),new zi(t)}class jn{constructor(t,n,a,l,h,p,v){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=h,this.data=p,this.documentState=v}static newInvalidDocument(t){return new jn(t,0,Ht.min(),Ht.min(),Ht.min(),yi.empty(),0)}static newFoundDocument(t,n,a,l){return new jn(t,1,n,Ht.min(),a,l,0)}static newNoDocument(t,n){return new jn(t,2,n,Ht.min(),Ht.min(),yi.empty(),0)}static newUnknownDocument(t,n){return new jn(t,3,n,Ht.min(),Ht.min(),yi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof jn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _f{constructor(t,n){this.position=t,this.inclusive=n}}function g0(s,t,n){let a=0;for(let l=0;l<s.position.length;l++){const h=t[l],p=s.position[l];if(h.field.isKeyField()?a=Pt.comparator(Pt.fromName(p.referenceValue),n.key):a=iu(p,n.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function _0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ur(s.position[n],t.position[n]))return!1;return!0}class Ec{constructor(t,n="asc"){this.field=t,this.dir=n}}function zx(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class lE{}class fn extends lE{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new Bx(t,n,a):n==="array-contains"?new qx(t,a):n==="in"?new Fx(t,a):n==="not-in"?new Gx(t,a):n==="array-contains-any"?new Zx(t,a):new fn(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new jx(t,a):new Hx(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(iu(n,this.value)):n!==null&&Ya(this.value)===Ya(n)&&this.matchesComparison(iu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return zt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cs extends lE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Cs(t,n)}matches(t){return uE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uE(s){return s.op==="and"}function cE(s){return Ux(s)&&uE(s)}function Ux(s){for(const t of s.filters)if(t instanceof Cs)return!1;return!0}function fp(s){if(s instanceof fn)return s.field.canonicalString()+s.op.toString()+su(s.value);if(cE(s))return s.filters.map((t=>fp(t))).join(",");{const t=s.filters.map((n=>fp(n))).join(",");return`${s.op}(${t})`}}function hE(s,t){return s instanceof fn?(function(a,l){return l instanceof fn&&a.op===l.op&&a.field.isEqual(l.field)&&ur(a.value,l.value)})(s,t):s instanceof Cs?(function(a,l){return l instanceof Cs&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,p,v)=>h&&hE(p,l.filters[v])),!0):!1})(s,t):void zt(19439)}function fE(s){return s instanceof fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${su(n.value)}`})(s):s instanceof Cs?(function(n){return n.op.toString()+" {"+n.getFilters().map(fE).join(" ,")+"}"})(s):"Filter"}class Bx extends fn{constructor(t,n,a){super(t,n,a),this.key=Pt.fromName(a.referenceValue)}matches(t){const n=Pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class jx extends fn{constructor(t,n){super(t,"in",n),this.keys=dE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Hx extends fn{constructor(t,n){super(t,"not-in",n),this.keys=dE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function dE(s,t){return(t.arrayValue?.values||[]).map((n=>Pt.fromName(n.referenceValue)))}class qx extends fn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return jp(n)&&Tc(n.arrayValue,this.value)}}class Fx extends fn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}}class Gx extends fn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tc(this.value.arrayValue,n)}}class Zx extends fn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Tc(this.value.arrayValue,a)))}}class Kx{constructor(t,n=null,a=[],l=[],h=null,p=null,v=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=p,this.endAt=v,this.Te=null}}function y0(s,t=null,n=[],a=[],l=null,h=null,p=null){return new Kx(s,t,n,a,l,h,p)}function Hp(s){const t=Gt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((a=>fp(a))).join(","),n+="|ob:",n+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Mf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>su(a))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>su(a))).join(",")),t.Te=n}return t.Te}function qp(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!zx(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!hE(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!_0(s.startAt,t.startAt)&&_0(s.endAt,t.endAt)}function dp(s){return Pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class cu{constructor(t,n=null,a=[],l=[],h=null,p="F",v=null,T=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=p,this.startAt=v,this.endAt=T,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Yx(s,t,n,a,l,h,p,v){return new cu(s,t,n,a,l,h,p,v)}function Fp(s){return new cu(s)}function v0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function mE(s){return s.collectionGroup!==null}function cc(s){const t=Gt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let v=new gn(On.comparator);return p.filters.forEach((T=>{T.getFlattenedFilters().forEach((E=>{E.isInequality()&&(v=v.add(E.field))}))})),v})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Ec(h,a))})),n.has(On.keyField().canonicalString())||t.Ie.push(new Ec(On.keyField(),a))}return t.Ie}function ir(s){const t=Gt(s);return t.Ee||(t.Ee=Qx(t,cc(s))),t.Ee}function Qx(s,t){if(s.limitType==="F")return y0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Ec(l.field,h)}));const n=s.endAt?new _f(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new _f(s.startAt.position,s.startAt.inclusive):null;return y0(s.path,s.collectionGroup,t,s.filters,s.limit,n,a)}}function mp(s,t){const n=s.filters.concat([t]);return new cu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function pp(s,t,n){return new cu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function kf(s,t){return qp(ir(s),ir(t))&&s.limitType===t.limitType}function pE(s){return`${Hp(ir(s))}|lt:${s.limitType}`}function Kl(s){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>fE(l))).join(", ")}]`),Mf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>su(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>su(l))).join(",")),`Target(${a})`})(ir(s))}; limitType=${s.limitType})`}function Vf(s,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Pt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,t)&&(function(a,l){for(const h of cc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(p,v,T){const E=g0(p,v,T);return p.inclusive?E<=0:E<0})(a.startAt,cc(a),l)||a.endAt&&!(function(p,v,T){const E=g0(p,v,T);return p.inclusive?E>=0:E>0})(a.endAt,cc(a),l))})(s,t)}function Xx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function gE(s){return(t,n)=>{let a=!1;for(const l of cc(s)){const h=Wx(l,t,n);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function Wx(s,t,n){const a=s.field.isKeyField()?Pt.comparator(t.key,n.key):(function(h,p,v){const T=p.data.field(h),E=v.data.field(h);return T!==null&&E!==null?iu(T,E):zt(42886)})(s.field,t,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return zt(19790,{direction:s.dir})}}class el{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ja(this.inner,((n,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return $T(this.inner)}size(){return this.innerSize}}const Jx=new He(Pt.comparator);function Fr(){return Jx}const _E=new He(Pt.comparator);function sc(...s){let t=_E;for(const n of s)t=t.insert(n.key,n);return t}function yE(s){let t=_E;return s.forEach(((n,a)=>t=t.insert(n,a.overlayedDocument))),t}function Ho(){return hc()}function vE(){return hc()}function hc(){return new el((s=>s.toString()),((s,t)=>s.isEqual(t)))}const $x=new He(Pt.comparator),tR=new gn(Pt.comparator);function oe(...s){let t=tR;for(const n of s)t=t.add(n);return t}const eR=new gn(ae);function nR(){return eR}function Gp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(t)?"-0":t}}function TE(s){return{integerValue:""+s}}function iR(s,t){return Nx(t)?TE(t):Gp(s,t)}class zf{constructor(){this._=void 0}}function sR(s,t,n){return s instanceof bc?(function(l,h){const p={fields:{[nE]:{stringValue:eE},[sE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Bp(h)&&(h=Lf(h)),h&&(p.fields[iE]=h),{mapValue:p}})(n,t):s instanceof wc?bE(s,t):s instanceof Ac?wE(s,t):(function(l,h){const p=EE(l,h),v=T0(p)+T0(l.Ae);return hp(p)&&hp(l.Ae)?TE(v):Gp(l.serializer,v)})(s,t)}function rR(s,t,n){return s instanceof wc?bE(s,t):s instanceof Ac?wE(s,t):n}function EE(s,t){return s instanceof yf?(function(a){return hp(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class bc extends zf{}class wc extends zf{constructor(t){super(),this.elements=t}}function bE(s,t){const n=AE(t);for(const a of s.elements)n.some((l=>ur(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Ac extends zf{constructor(t){super(),this.elements=t}}function wE(s,t){let n=AE(t);for(const a of s.elements)n=n.filter((l=>!ur(l,a)));return{arrayValue:{values:n}}}class yf extends zf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function T0(s){return nn(s.integerValue||s.doubleValue)}function AE(s){return jp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class aR{constructor(t,n){this.field=t,this.transform=n}}function oR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof wc&&l instanceof wc||a instanceof Ac&&l instanceof Ac?nu(a.elements,l.elements,ur):a instanceof yf&&l instanceof yf?ur(a.Ae,l.Ae):a instanceof bc&&l instanceof bc})(s.transform,t.transform)}class lR{constructor(t,n){this.version=t,this.transformResults=n}}class us{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new us}static exists(t){return new us(void 0,t)}static updateTime(t){return new us(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sf(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Uf{}function SE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Zp(s.key,us.none()):new Oc(s.key,s.data,us.none());{const n=s.data,a=yi.empty();let l=new gn(On.comparator);for(let h of t.fields)if(!l.has(h)){let p=n.field(h);p===null&&h.length>1&&(h=h.popLast(),p=n.field(h)),p===null?a.delete(h):a.set(h,p),l=l.add(h)}return new $a(s.key,a,new zi(l.toArray()),us.none())}}function uR(s,t,n){s instanceof Oc?(function(l,h,p){const v=l.value.clone(),T=b0(l.fieldTransforms,h,p.transformResults);v.setAll(T),h.convertToFoundDocument(p.version,v).setHasCommittedMutations()})(s,t,n):s instanceof $a?(function(l,h,p){if(!sf(l.precondition,h))return void h.convertToUnknownDocument(p.version);const v=b0(l.fieldTransforms,h,p.transformResults),T=h.data;T.setAll(xE(l)),T.setAll(v),h.convertToFoundDocument(p.version,T).setHasCommittedMutations()})(s,t,n):(function(l,h,p){h.convertToNoDocument(p.version).setHasCommittedMutations()})(0,t,n)}function fc(s,t,n,a){return s instanceof Oc?(function(h,p,v,T){if(!sf(h.precondition,p))return v;const E=h.value.clone(),I=w0(h.fieldTransforms,T,p);return E.setAll(I),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(s,t,n,a):s instanceof $a?(function(h,p,v,T){if(!sf(h.precondition,p))return v;const E=w0(h.fieldTransforms,T,p),I=p.data;return I.setAll(xE(h)),I.setAll(E),p.convertToFoundDocument(p.version,I).setHasLocalMutations(),v===null?null:v.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(s,t,n,a):(function(h,p,v){return sf(h.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):v})(s,t,n)}function cR(s,t){let n=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),h=EE(a.transform,l||null);h!=null&&(n===null&&(n=yi.empty()),n.set(a.field,h))}return n||null}function E0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&nu(a,l,((h,p)=>oR(h,p)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Oc extends Uf{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class $a extends Uf{constructor(t,n,a,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function xE(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=s.data.field(n);t.set(n,a)}})),t}function b0(s,t,n){const a=new Map;_e(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const h=s[l],p=h.transform,v=t.data.field(h.field);a.set(h.field,rR(p,v,n[l]))}return a}function w0(s,t,n){const a=new Map;for(const l of s){const h=l.transform,p=n.data.field(l.field);a.set(l.field,sR(h,p,t))}return a}class Zp extends Uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hR extends Uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fR{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&uR(h,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=fc(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=fc(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=vE();return this.mutations.forEach((l=>{const h=t.get(l.key),p=h.overlayedDocument;let v=this.applyToLocalView(p,h.mutatedFields);v=n.has(l.key)?null:v;const T=SE(p,v);T!==null&&a.set(l.key,T),p.isValidDocument()||p.convertToNoDocument(Ht.min())})),a}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),oe())}isEqual(t){return this.batchId===t.batchId&&nu(this.mutations,t.mutations,((n,a)=>E0(n,a)))&&nu(this.baseMutations,t.baseMutations,((n,a)=>E0(n,a)))}}class Kp{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){_e(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return $x})();const h=t.mutations;for(let p=0;p<h.length;p++)l=l.insert(h[p].key,a[p].version);return new Kp(t,n,a,l)}}class dR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mR{constructor(t,n){this.count=t,this.unchangedNames=n}}var hn,ce;function pR(s){switch(s){case ot.OK:return zt(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return zt(15467,{code:s})}}function RE(s){if(s===void 0)return qr("GRPC error has no .code"),ot.UNKNOWN;switch(s){case hn.OK:return ot.OK;case hn.CANCELLED:return ot.CANCELLED;case hn.UNKNOWN:return ot.UNKNOWN;case hn.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case hn.INTERNAL:return ot.INTERNAL;case hn.UNAVAILABLE:return ot.UNAVAILABLE;case hn.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case hn.NOT_FOUND:return ot.NOT_FOUND;case hn.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case hn.ABORTED:return ot.ABORTED;case hn.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case hn.DATA_LOSS:return ot.DATA_LOSS;default:return zt(39323,{code:s})}}(ce=hn||(hn={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";function gR(){return new TextEncoder}const _R=new Ha([4294967295,4294967295],0);function A0(s){const t=gR().encode(s),n=new qT;return n.update(t),new Uint8Array(n.digest())}function S0(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Ha([n,a],0),new Ha([l,h],0)]}class Yp{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new rc(`Invalid padding: ${n}`);if(a<0)throw new rc(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new rc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ha.fromNumber(this.ge)}ye(t,n,a){let l=t.add(n.multiply(Ha.fromNumber(a)));return l.compare(_R)===1&&(l=new Ha([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=A0(t),[a,l]=S0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);if(!this.we(p))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),p=new Yp(h,l,n);return a.forEach((v=>p.insert(v))),p}insert(t){if(this.ge===0)return;const n=A0(t),[a,l]=S0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);this.Se(p)}}Se(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bf{constructor(t,n,a,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,Pc.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new Bf(Ht.min(),l,new He(ae),Fr(),oe())}}class Pc{constructor(t,n,a,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Pc(a,n,oe(),oe(),oe())}}class rf{constructor(t,n,a,l){this.be=t,this.removedTargetIds=n,this.key=a,this.De=l}}class CE{constructor(t,n){this.targetId=t,this.Ce=n}}class IE{constructor(t,n,a=Pn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class x0{constructor(){this.ve=0,this.Fe=R0(),this.Me=Pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=oe(),n=oe(),a=oe();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:zt(38017,{changeType:h})}})),new Pc(this.Me,this.xe,t,n,a)}qe(){this.Oe=!1,this.Fe=R0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Fr(),this.Je=Qh(),this.He=Qh(),this.Ye=new He(ae)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const a=this.nt(n);switch(t.state){case 0:this.rt(n)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(t.resumeToken));break;default:zt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,a=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(dp(h))if(a===0){const p=new Pt(h.path);this.et(n,p,jn.newNoDocument(p,Ht.min()))}else _e(a===1,20013,{expectedCount:a});else{const p=this._t(n);if(p!==a){const v=this.ut(t),T=v?this.ct(v,t,p):1;if(T!==0){this.it(n);const E=T===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,E)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=n;let p,v;try{p=Ka(a).toUint8Array()}catch(T){if(T instanceof tE)return gc("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw T}try{v=new Yp(p,l,h)}catch(T){return gc(T instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",T),null}return v.ge===0?null:v}ct(t,n,a){return n.Ce.count===a-this.Pt(t,n.targetId)?0:2}Pt(t,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((h=>{const p=this.Ge.ht(),v=`projects/${p.projectId}/databases/${p.database}/documents/${h.path.canonicalString()}`;t.mightContain(v)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,p)=>{const v=this.ot(p);if(v){if(h.current&&dp(v.target)){const T=new Pt(v.target.path);this.It(T).has(p)||this.Et(p,T)||this.et(p,T,jn.newNoDocument(T,t))}h.Be&&(n.set(p,h.ke()),h.qe())}}));let a=oe();this.He.forEach(((h,p)=>{let v=!0;p.forEachWhile((T=>{const E=this.ot(T);return!E||E.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(a=a.add(h))})),this.je.forEach(((h,p)=>p.setReadTime(t)));const l=new Bf(t,n,this.Ye,this.je,a);return this.je=Fr(),this.Je=Qh(),this.He=Qh(),this.Ye=new He(ae),l}Xe(t,n){if(!this.rt(t))return;const a=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),a&&(this.je=this.je.insert(n,a))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new x0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new gn(ae),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new gn(ae),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||St("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new x0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Qh(){return new He(Pt.comparator)}function R0(){return new He(Pt.comparator)}const vR={asc:"ASCENDING",desc:"DESCENDING"},TR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ER={and:"AND",or:"OR"};class bR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function gp(s,t){return s.useProto3Json||Mf(t)?t:{value:t}}function vf(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function wR(s,t){return vf(s,t.toTimestamp())}function sr(s){return _e(!!s,49232),Ht.fromTimestamp((function(n){const a=Za(n);return new Le(a.seconds,a.nanos)})(s))}function Qp(s,t){return _p(s,t).canonicalString()}function _p(s,t){const n=(function(l){return new Ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function OE(s){const t=Ne.fromString(s);return _e(kE(t),10190,{key:t.toString()}),t}function yp(s,t){return Qp(s.databaseId,t.path)}function Ym(s,t){const n=OE(t);if(n.get(1)!==s.databaseId.projectId)throw new wt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new wt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Pt(DE(n))}function PE(s,t){return Qp(s.databaseId,t)}function AR(s){const t=OE(s);return t.length===4?Ne.emptyPath():DE(t)}function vp(s){return new Ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function DE(s){return _e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function C0(s,t,n){return{name:yp(s,t),fields:n.value.mapValue.fields}}function SR(s,t){let n;if("targetChange"in t){t.targetChange;const a=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:zt(39313,{state:E})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(E,I){return E.useProto3Json?(_e(I===void 0||typeof I=="string",58123),Pn.fromBase64String(I||"")):(_e(I===void 0||I instanceof Buffer||I instanceof Uint8Array,16193),Pn.fromUint8Array(I||new Uint8Array))})(s,t.targetChange.resumeToken),p=t.targetChange.cause,v=p&&(function(E){const I=E.code===void 0?ot.UNKNOWN:RE(E.code);return new wt(I,E.message||"")})(p);n=new IE(a,l,h,v||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Ym(s,a.document.name),h=sr(a.document.updateTime),p=a.document.createTime?sr(a.document.createTime):Ht.min(),v=new yi({mapValue:{fields:a.document.fields}}),T=jn.newFoundDocument(l,h,p,v),E=a.targetIds||[],I=a.removedTargetIds||[];n=new rf(E,I,T.key,T)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Ym(s,a.document),h=a.readTime?sr(a.readTime):Ht.min(),p=jn.newNoDocument(l,h),v=a.removedTargetIds||[];n=new rf([],v,p.key,p)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Ym(s,a.document),h=a.removedTargetIds||[];n=new rf([],h,l,null)}else{if(!("filter"in t))return zt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,p=new mR(l,h),v=a.targetId;n=new CE(v,p)}}return n}function xR(s,t){let n;if(t instanceof Oc)n={update:C0(s,t.key,t.value)};else if(t instanceof Zp)n={delete:yp(s,t.key)};else if(t instanceof $a)n={update:C0(s,t.key,t.data),updateMask:LR(t.fieldMask)};else{if(!(t instanceof hR))return zt(16599,{Vt:t.type});n={verify:yp(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((a=>(function(h,p){const v=p.transform;if(v instanceof bc)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof wc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Ac)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof yf)return{fieldPath:p.field.canonicalString(),increment:v.Ae};throw zt(20930,{transform:p.transform})})(0,a)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:wR(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:zt(27497)})(s,t.precondition)),n}function RR(s,t){return s&&s.length>0?(_e(t!==void 0,14353),s.map((n=>(function(l,h){let p=l.updateTime?sr(l.updateTime):sr(h);return p.isEqual(Ht.min())&&(p=sr(h)),new lR(p,l.transformResults||[])})(n,t)))):[]}function CR(s,t){return{documents:[PE(s,t.path)]}}function IR(s,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=PE(s,l);const h=(function(E){if(E.length!==0)return LE(Cs.create(E,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const p=(function(E){if(E.length!==0)return E.map((I=>(function(z){return{field:Yl(z.field),direction:PR(z.dir)}})(I)))})(t.orderBy);p&&(n.structuredQuery.orderBy=p);const v=gp(s,t.limit);return v!==null&&(n.structuredQuery.limit=v),t.startAt&&(n.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(t.endAt)),{ft:n,parent:l}}function NR(s){let t=AR(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){_e(a===1,65062);const I=n.from[0];I.allDescendants?l=I.collectionId:t=t.child(I.collectionId)}let h=[];n.where&&(h=(function(C){const z=ME(C);return z instanceof Cs&&cE(z)?z.getFilters():[z]})(n.where));let p=[];n.orderBy&&(p=(function(C){return C.map((z=>(function(ct){return new Ec(Ql(ct.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ct.direction))})(z)))})(n.orderBy));let v=null;n.limit&&(v=(function(C){let z;return z=typeof C=="object"?C.value:C,Mf(z)?null:z})(n.limit));let T=null;n.startAt&&(T=(function(C){const z=!!C.before,$=C.values||[];return new _f($,z)})(n.startAt));let E=null;return n.endAt&&(E=(function(C){const z=!C.before,$=C.values||[];return new _f($,z)})(n.endAt)),Yx(t,l,p,h,v,"F",T,E)}function OR(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ME(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Ql(n.unaryFilter.field);return fn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ql(n.unaryFilter.field);return fn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ql(n.unaryFilter.field);return fn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ql(n.unaryFilter.field);return fn.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return zt(61313);default:return zt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return fn.create(Ql(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return zt(58110);default:return zt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Cs.create(n.compositeFilter.filters.map((a=>ME(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return zt(1026)}})(n.compositeFilter.op))})(s):zt(30097,{filter:s})}function PR(s){return vR[s]}function DR(s){return TR[s]}function MR(s){return ER[s]}function Yl(s){return{fieldPath:s.canonicalString()}}function Ql(s){return On.fromServerFormat(s.fieldPath)}function LE(s){return s instanceof fn?(function(n){if(n.op==="=="){if(p0(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NAN"}};if(m0(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p0(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NOT_NAN"}};if(m0(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yl(n.field),op:DR(n.op),value:n.value}}})(s):s instanceof Cs?(function(n){const a=n.getFilters().map((l=>LE(l)));return a.length===1?a[0]:{compositeFilter:{op:MR(n.op),filters:a}}})(s):zt(54877,{filter:s})}function LR(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function kE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class za{constructor(t,n,a,l,h=Ht.min(),p=Ht.min(),v=Pn.EMPTY_BYTE_STRING,T=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=v,this.expectedCount=T}withSequenceNumber(t){return new za(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class kR{constructor(t){this.yt=t}}function VR(s){const t=NR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?pp(t,t.limit,"L"):t}class zR{constructor(){this.Cn=new UR}addToCollectionParentIndex(t,n){return this.Cn.add(n),ht.resolve()}getCollectionParents(t,n){return ht.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return ht.resolve()}deleteFieldIndex(t,n){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,n){return ht.resolve()}getDocumentsMatchingTarget(t,n){return ht.resolve(null)}getIndexType(t,n){return ht.resolve(0)}getFieldIndexes(t,n){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,n){return ht.resolve(Ga.min())}getMinOffsetFromCollectionGroup(t,n){return ht.resolve(Ga.min())}updateCollectionGroup(t,n,a){return ht.resolve()}updateIndexEntries(t,n){return ht.resolve()}}class UR{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new gn(Ne.comparator),h=!l.has(a);return this.index[n]=l.add(a),h}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new gn(Ne.comparator)).toArray()}}const I0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VE=41943040;class _i{static withCacheSize(t){return new _i(t,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(VE,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);class ru{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ru(0)}static cr(){return new ru(-1)}}const N0="LruGarbageCollector",zE=1048576;function O0([s,t],[n,a]){const l=ae(s,n);return l===0?ae(t,a):l}class BR{constructor(t){this.Ir=t,this.buffer=new gn(O0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();O0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jR{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){St(N0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uu(n)?St(N0,"Ignoring IndexedDB error during garbage collection: ",n):await lu(n)}await this.Vr(3e5)}))}}class HR{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(t,n){if(n===0)return ht.resolve(Df.ce);const a=new BR(n);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,n,a){return this.mr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(I0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let a,l,h,p,v,T,E;const I=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,p=Date.now(),this.nthSequenceNumber(t,l)))).next((C=>(a=C,v=Date.now(),this.removeTargets(t,a,n)))).next((C=>(h=C,T=Date.now(),this.removeOrphanedDocuments(t,a)))).next((C=>(E=Date.now(),Zl()<=re.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-I}ms
	Determined least recently used ${l} in `+(v-p)+`ms
	Removed ${h} targets in `+(T-v)+`ms
	Removed ${C} documents in `+(E-T)+`ms
Total Duration: ${E-I}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:C}))))}}function qR(s,t){return new HR(s,t)}class FR{constructor(){this.changes=new el((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,jn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ht.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class GR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class ZR{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(a!==null&&fc(a.mutation,l,zi.empty(),Le.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.getLocalViewOfDocuments(t,a,oe()).next((()=>a))))}getLocalViewOfDocuments(t,n,a=oe()){const l=Ho();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,a).next((h=>{let p=sc();return h.forEach(((v,T)=>{p=p.insert(v,T.overlayedDocument)})),p}))))}getOverlayedDocuments(t,n){const a=Ho();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,oe())))}populateOverlays(t,n,a){const l=[];return a.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((p,v)=>{n.set(p,v)}))}))}computeViews(t,n,a,l){let h=Fr();const p=hc(),v=(function(){return hc()})();return n.forEach(((T,E)=>{const I=a.get(E.key);l.has(E.key)&&(I===void 0||I.mutation instanceof $a)?h=h.insert(E.key,E):I!==void 0?(p.set(E.key,I.mutation.getFieldMask()),fc(I.mutation,E,I.mutation.getFieldMask(),Le.now())):p.set(E.key,zi.empty())})),this.recalculateAndSaveOverlays(t,h).next((T=>(T.forEach(((E,I)=>p.set(E,I))),n.forEach(((E,I)=>v.set(E,new GR(I,p.get(E)??null)))),v)))}recalculateAndSaveOverlays(t,n){const a=hc();let l=new He(((p,v)=>p-v)),h=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((p=>{for(const v of p)v.keys().forEach((T=>{const E=n.get(T);if(E===null)return;let I=a.get(T)||zi.empty();I=v.applyToLocalView(E,I),a.set(T,I);const C=(l.get(v.batchId)||oe()).add(T);l=l.insert(v.batchId,C)}))})).next((()=>{const p=[],v=l.getReverseIterator();for(;v.hasNext();){const T=v.getNext(),E=T.key,I=T.value,C=vE();I.forEach((z=>{if(!h.has(z)){const $=SE(n.get(z),a.get(z));$!==null&&C.set(z,$),h=h.add(z)}})),p.push(this.documentOverlayCache.saveOverlays(t,E,C))}return ht.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,n,a,l){return(function(p){return Pt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):mE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next((h=>{const p=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-h.size):ht.resolve(Ho());let v=_c,T=h;return p.next((E=>ht.forEach(E,((I,C)=>(v<C.largestBatchId&&(v=C.largestBatchId),h.get(I)?ht.resolve():this.remoteDocumentCache.getEntry(t,I).next((z=>{T=T.insert(I,z)}))))).next((()=>this.populateOverlays(t,E,h))).next((()=>this.computeViews(t,T,E,oe()))).next((I=>({batchId:v,changes:yE(I)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Pt(n)).next((a=>{let l=sc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const h=n.collectionGroup;let p=sc();return this.indexManager.getCollectionParents(t,h).next((v=>ht.forEach(v,(T=>{const E=(function(C,z){return new cu(z,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(n,T.child(h));return this.getDocumentsMatchingCollectionQuery(t,E,a,l).next((I=>{I.forEach(((C,z)=>{p=p.insert(C,z)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(t,n,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next((p=>(h=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,h,l)))).next((p=>{h.forEach(((T,E)=>{const I=E.getKey();p.get(I)===null&&(p=p.insert(I,jn.newInvalidDocument(I)))}));let v=sc();return p.forEach(((T,E)=>{const I=h.get(T);I!==void 0&&fc(I.mutation,E,zi.empty(),Le.now()),Vf(n,E)&&(v=v.insert(T,E))})),v}))}}class KR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return ht.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:sr(l.createTime)}})(n)),ht.resolve()}getNamedQuery(t,n){return ht.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:VR(l.bundledQuery),readTime:sr(l.readTime)}})(n)),ht.resolve()}}class YR{constructor(){this.overlays=new He(Pt.comparator),this.qr=new Map}getOverlay(t,n){return ht.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Ho();return ht.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,n,a){return a.forEach(((l,h)=>{this.St(t,n,h)})),ht.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),ht.resolve()}getOverlaysForCollection(t,n,a){const l=Ho(),h=n.length+1,p=new Pt(n.child("")),v=this.overlays.getIteratorFrom(p);for(;v.hasNext();){const T=v.getNext().value,E=T.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===h&&T.largestBatchId>a&&l.set(T.getKey(),T)}return ht.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let h=new He(((E,I)=>E-I));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>a){let I=h.get(E.largestBatchId);I===null&&(I=Ho(),h=h.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const v=Ho(),T=h.getIterator();for(;T.hasNext()&&(T.getNext().value.forEach(((E,I)=>v.set(E,I))),!(v.size()>=l)););return ht.resolve(v)}St(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new dR(n,a));let h=this.qr.get(n);h===void 0&&(h=oe(),this.qr.set(n,h)),this.qr.set(n,h.add(a.key))}}class QR{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ht.resolve()}}class Xp{constructor(){this.Qr=new gn(Sn.$r),this.Ur=new gn(Sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const a=new Sn(t,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,n){t.forEach((a=>this.addReference(a,n)))}removeReference(t,n){this.Gr(new Sn(t,n))}zr(t,n){t.forEach((a=>this.removeReference(a,n)))}jr(t){const n=new Pt(new Ne([])),a=new Sn(n,t),l=new Sn(n,t+1),h=[];return this.Ur.forEachInRange([a,l],(p=>{this.Gr(p),h.push(p.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Pt(new Ne([])),a=new Sn(n,t),l=new Sn(n,t+1);let h=oe();return this.Ur.forEachInRange([a,l],(p=>{h=h.add(p.key)})),h}containsKey(t){const n=new Sn(t,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class Sn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Pt.comparator(t.key,n.key)||ae(t.Yr,n.Yr)}static Kr(t,n){return ae(t.Yr,n.Yr)||Pt.comparator(t.key,n.key)}}class XR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gn(Sn.$r)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new fR(h,n,a,l);this.mutationQueue.push(p);for(const v of l)this.Zr=this.Zr.add(new Sn(v.key,h)),this.indexManager.addToCollectionParentIndex(t,v.key.path.popLast());return ht.resolve(p)}lookupMutationBatch(t,n){return ht.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.ei(a),h=l<0?0:l;return ht.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?Up:this.tr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new Sn(n,0),l=new Sn(n,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],(p=>{const v=this.Xr(p.Yr);h.push(v)})),ht.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new gn(ae);return n.forEach((l=>{const h=new Sn(l,0),p=new Sn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,p],(v=>{a=a.add(v.Yr)}))})),ht.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let h=a;Pt.isDocumentKey(h)||(h=h.child(""));const p=new Sn(new Pt(h),0);let v=new gn(ae);return this.Zr.forEachWhile((T=>{const E=T.key.path;return!!a.isPrefixOf(E)&&(E.length===l&&(v=v.add(T.Yr)),!0)}),p),ht.resolve(this.ti(v))}ti(t){const n=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ht.forEach(n.mutations,(l=>{const h=new Sn(l.key,n.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,n){const a=new Sn(n,0),l=this.Zr.firstAfterOrEqual(a);return ht.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class WR{constructor(t){this.ri=t,this.docs=(function(){return new He(Pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),h=l?l.size:0,p=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:p}),this.size+=p-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return ht.resolve(a?a.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(t,n){let a=Fr();return n.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():jn.newInvalidDocument(l))})),ht.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let h=Fr();const p=n.path,v=new Pt(p.child("__id-9223372036854775808__")),T=this.docs.getIteratorFrom(v);for(;T.hasNext();){const{key:E,value:{document:I}}=T.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||xx(Sx(I),a)<=0||(l.has(I.key)||Vf(n,I))&&(h=h.insert(I.key,I.mutableCopy()))}return ht.resolve(h)}getAllFromCollectionGroup(t,n,a,l){zt(9500)}ii(t,n){return ht.forEach(this.docs,(a=>n(a)))}newChangeBuffer(t){return new JR(this)}getSize(t){return ht.resolve(this.size)}}class JR extends FR{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),ht.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class $R{constructor(t){this.persistence=t,this.si=new el((n=>Hp(n)),qp),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.oi=0,this._i=new Xp,this.targetCount=0,this.ai=ru.ur()}forEachTarget(t,n){return this.si.forEach(((a,l)=>n(l))),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ht.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ru(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,ht.resolve()}updateTargetData(t,n){return this.Pr(n),ht.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,n,a){let l=0;const h=[];return this.si.forEach(((p,v)=>{v.sequenceNumber<=n&&a.get(v.targetId)===null&&(this.si.delete(p),h.push(this.removeMatchingKeysForTargetId(t,v.targetId)),l++)})),ht.waitFor(h).next((()=>l))}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,n){const a=this.si.get(n)||null;return ht.resolve(a)}addMatchingKeys(t,n,a){return this._i.Wr(n,a),ht.resolve()}removeMatchingKeys(t,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((p=>{h.push(l.markPotentiallyOrphaned(t,p))})),ht.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),ht.resolve()}getMatchingKeysForTargetId(t,n){const a=this._i.Hr(n);return ht.resolve(a)}containsKey(t,n){return ht.resolve(this._i.containsKey(n))}}class UE{constructor(t,n){this.ui={},this.overlays={},this.ci=new Df(0),this.li=!1,this.li=!0,this.hi=new QR,this.referenceDelegate=t(this),this.Pi=new $R(this),this.indexManager=new zR,this.remoteDocumentCache=(function(l){return new WR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new kR(n),this.Ii=new KR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new YR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.ui[t.toKey()];return a||(a=new XR(n,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,a){St("MemoryPersistence","Starting transaction:",t);const l=new tC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,n){return ht.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,n))))}}class tC extends Cx{constructor(t){super(),this.currentSequenceNumber=t}}class Wp{constructor(t){this.persistence=t,this.Ri=new Xp,this.Vi=null}static mi(t){return new Wp(t)}get fi(){if(this.Vi)return this.Vi;throw zt(60996)}addReference(t,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ht.resolve()}removeReference(t,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ht.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),ht.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.fi,(a=>{const l=Pt.fromPath(a);return this.gi(t,l).next((h=>{h||n.removeEntry(l,Ht.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return ht.or([()=>ht.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Tf{constructor(t,n){this.persistence=t,this.pi=new el((a=>Ox(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=qR(this,n)}static mi(t,n){return new Tf(t,n)}Ei(){}di(t){return ht.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>n.next((l=>a+l))))}wr(t){let n=0;return this.pr(t,(a=>{n++})).next((()=>n))}pr(t,n){return ht.forEach(this.pi,((a,l)=>this.br(t,a,l).next((h=>h?ht.resolve():n(l)))))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(p=>this.br(t,p,n).next((v=>{v||(a++,h.removeEntry(p,Ht.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),ht.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),ht.resolve()}removeReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),ht.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ef(t.data.value)),n}br(t,n,a){return ht.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return ht.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Jp{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Es=a,this.ds=l}static As(t,n){let a=oe(),l=oe();for(const h of n.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Jp(t,n.fromCache,a,l)}}class eC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class nC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KS()?8:Ix(Hn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,a,l){const h={result:null};return this.ys(t,n).next((p=>{h.result=p})).next((()=>{if(!h.result)return this.ws(t,n,l,a).next((p=>{h.result=p}))})).next((()=>{if(h.result)return;const p=new eC;return this.Ss(t,n,p).next((v=>{if(h.result=v,this.Vs)return this.bs(t,n,p,v.size)}))})).next((()=>h.result))}bs(t,n,a,l){return a.documentReadCount<this.fs?(Zl()<=re.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",Kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ht.resolve()):(Zl()<=re.DEBUG&&St("QueryEngine","Query:",Kl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Zl()<=re.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",Kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ir(n))):ht.resolve())}ys(t,n){if(v0(n))return ht.resolve(null);let a=ir(n);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=pp(n,null,"F"),a=ir(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const p=oe(...h);return this.ps.getDocuments(t,p).next((v=>this.indexManager.getMinOffset(t,a).next((T=>{const E=this.Ds(n,v);return this.Cs(n,E,p,T.readTime)?this.ys(t,pp(n,null,"F")):this.vs(t,E,n,T)}))))})))))}ws(t,n,a,l){return v0(n)||l.isEqual(Ht.min())?ht.resolve(null):this.ps.getDocuments(t,a).next((h=>{const p=this.Ds(n,h);return this.Cs(n,p,a,l)?ht.resolve(null):(Zl()<=re.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Kl(n)),this.vs(t,p,n,Ax(l,_c)).next((v=>v)))}))}Ds(t,n){let a=new gn(gE(t));return n.forEach(((l,h)=>{Vf(t,h)&&(a=a.add(h))})),a}Cs(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,n,a){return Zl()<=re.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",Kl(n)),this.ps.getDocumentsMatchingQuery(t,n,Ga.min(),a)}vs(t,n,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((h=>(n.forEach((p=>{h=h.insert(p.key,p)})),h)))}}const $p="LocalStore",iC=3e8;class sC{constructor(t,n,a,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new He(ae),this.xs=new el((h=>Hp(h)),qp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ZR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function rC(s,t,n,a){return new sC(s,t,n,a)}async function BE(s,t){const n=Gt(s);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,n.Bs(t),n.mutationQueue.getAllMutationBatches(a)))).next((h=>{const p=[],v=[];let T=oe();for(const E of l){p.push(E.batchId);for(const I of E.mutations)T=T.add(I.key)}for(const E of h){v.push(E.batchId);for(const I of E.mutations)T=T.add(I.key)}return n.localDocuments.getDocuments(a,T).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:v})))}))}))}function aC(s,t){const n=Gt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(v,T,E,I){const C=E.batch,z=C.keys();let $=ht.resolve();return z.forEach((ct=>{$=$.next((()=>I.getEntry(T,ct))).next((st=>{const Z=E.docVersions.get(ct);_e(Z!==null,48541),st.version.compareTo(Z)<0&&(C.applyToRemoteDocument(st,E),st.isValidDocument()&&(st.setReadTime(E.commitVersion),I.addEntry(st)))}))})),$.next((()=>v.mutationQueue.removeMutationBatch(T,C)))})(n,a,t,h).next((()=>h.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(v){let T=oe();for(let E=0;E<v.mutationResults.length;++E)v.mutationResults[E].transformResults.length>0&&(T=T.add(v.batch.mutations[E].key));return T})(t)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function jE(s){const t=Gt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function oC(s,t){const n=Gt(s),a=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const p=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const v=[];t.targetChanges.forEach(((I,C)=>{const z=l.get(C);if(!z)return;v.push(n.Pi.removeMatchingKeys(h,I.removedDocuments,C).next((()=>n.Pi.addMatchingKeys(h,I.addedDocuments,C))));let $=z.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(C)!==null?$=$.withResumeToken(Pn.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):I.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(I.resumeToken,a)),l=l.insert(C,$),(function(st,Z,mt){return st.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=iC?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(z,$,I)&&v.push(n.Pi.updateTargetData(h,$))}));let T=Fr(),E=oe();if(t.documentUpdates.forEach((I=>{t.resolvedLimboDocuments.has(I)&&v.push(n.persistence.referenceDelegate.updateLimboDocument(h,I))})),v.push(lC(h,p,t.documentUpdates).next((I=>{T=I.ks,E=I.qs}))),!a.isEqual(Ht.min())){const I=n.Pi.getLastRemoteSnapshotVersion(h).next((C=>n.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));v.push(I)}return ht.waitFor(v).next((()=>p.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,T,E))).next((()=>T))})).then((h=>(n.Ms=l,h)))}function lC(s,t,n){let a=oe(),l=oe();return n.forEach((h=>a=a.add(h))),t.getEntries(s,a).next((h=>{let p=Fr();return n.forEach(((v,T)=>{const E=h.get(v);T.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(v)),T.isNoDocument()&&T.version.isEqual(Ht.min())?(t.removeEntry(v,T.readTime),p=p.insert(v,T)):!E.isValidDocument()||T.version.compareTo(E.version)>0||T.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(T),p=p.insert(v,T)):St($p,"Ignoring outdated watch update for ",v,". Current version:",E.version," Watch version:",T.version)})),{ks:p,qs:l}}))}function uC(s,t){const n=Gt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Up),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function cC(s,t){const n=Gt(s);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,t).next((h=>h?(l=h,ht.resolve(l)):n.Pi.allocateTargetId(a).next((p=>(l=new za(t,p,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(t,a.targetId)),a}))}async function Tp(s,t,n){const a=Gt(s),l=a.Ms.get(t),h=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",h,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!uu(p))throw p;St($p,`Failed to update sequence numbers for target ${t}: ${p}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function P0(s,t,n){const a=Gt(s);let l=Ht.min(),h=oe();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(T,E,I){const C=Gt(T),z=C.xs.get(I);return z!==void 0?ht.resolve(C.Ms.get(z)):C.Pi.getTargetData(E,I)})(a,p,ir(t)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,v.targetId).next((T=>{h=T}))})).next((()=>a.Fs.getDocumentsMatchingQuery(p,t,n?l:Ht.min(),n?h:oe()))).next((v=>(hC(a,Xx(t),v),{documents:v,Qs:h})))))}function hC(s,t,n){let a=s.Os.get(t)||Ht.min();n.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),s.Os.set(t,a)}class D0{constructor(){this.activeTargetIds=nR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fC{constructor(){this.Mo=new D0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,a){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new D0,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class dC{Oo(t){}shutdown(){}}const M0="ConnectivityMonitor";class L0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){St(M0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){St(M0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xh=null;function Ep(){return Xh===null?Xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xh++,"0x"+Xh.toString(16)}const Qm="RestConnection",mC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===pf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,n,a,l,h){const p=Ep(),v=this.zo(t,n.toUriEncodedString());St(Qm,`Sending RPC '${t}' ${p}:`,v,a);const T={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(T,l,h);const{host:E}=new URL(v),I=Wa(E);return this.Jo(t,v,T,a,I).then((C=>(St(Qm,`Received RPC '${t}' ${p}: `,C),C)),(C=>{throw gc(Qm,`RPC '${t}' ${p} failed with error: `,C,"url: ",v,"request:",a),C}))}Ho(t,n,a,l,h,p){return this.Go(t,n,a,l,h)}jo(t,n,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ou})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}zo(t,n){const a=mC[t];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class gC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Bn="WebChannelConnection";class _C extends pC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,a,l,h){const p=Ep();return new Promise(((v,T)=>{const E=new FT;E.setWithCredentials(!0),E.listenOnce(GT.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case tf.NO_ERROR:const C=E.getResponseJson();St(Bn,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(C)),v(C);break;case tf.TIMEOUT:St(Bn,`RPC '${t}' ${p} timed out`),T(new wt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const z=E.getStatus();if(St(Bn,`RPC '${t}' ${p} failed with status:`,z,"response text:",E.getResponseText()),z>0){let $=E.getResponseJson();Array.isArray($)&&($=$[0]);const ct=$?.error;if(ct&&ct.status&&ct.message){const st=(function(mt){const vt=mt.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(vt)>=0?vt:ot.UNKNOWN})(ct.status);T(new wt(st,ct.message))}else T(new wt(ot.UNKNOWN,"Server responded with status "+E.getStatus()))}else T(new wt(ot.UNAVAILABLE,"Connection failed."));break;default:zt(9055,{l_:t,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{St(Bn,`RPC '${t}' ${p} completed.`)}}));const I=JSON.stringify(l);St(Bn,`RPC '${t}' ${p} sending request:`,l),E.send(n,"POST",I,a,15)}))}T_(t,n,a){const l=Ep(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=YT(),v=KT(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(T.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(T.useFetchStreams=!0),this.jo(T.initMessageHeaders,n,a),T.encodeInitMessageHeaders=!0;const I=h.join("");St(Bn,`Creating RPC '${t}' stream ${l}: ${I}`,T);const C=p.createWebChannel(I,T);this.I_(C);let z=!1,$=!1;const ct=new gC({Yo:Z=>{$?St(Bn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(z||(St(Bn,`Opening RPC '${t}' stream ${l} transport.`),C.open(),z=!0),St(Bn,`RPC '${t}' stream ${l} sending:`,Z),C.send(Z))},Zo:()=>C.close()}),st=(Z,mt,vt)=>{Z.listen(mt,(yt=>{try{vt(yt)}catch(Lt){setTimeout((()=>{throw Lt}),0)}}))};return st(C,ic.EventType.OPEN,(()=>{$||(St(Bn,`RPC '${t}' stream ${l} transport opened.`),ct.o_())})),st(C,ic.EventType.CLOSE,(()=>{$||($=!0,St(Bn,`RPC '${t}' stream ${l} transport closed`),ct.a_(),this.E_(C))})),st(C,ic.EventType.ERROR,(Z=>{$||($=!0,gc(Bn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),ct.a_(new wt(ot.UNAVAILABLE,"The operation could not be completed")))})),st(C,ic.EventType.MESSAGE,(Z=>{if(!$){const mt=Z.data[0];_e(!!mt,16349);const vt=mt,yt=vt?.error||vt[0]?.error;if(yt){St(Bn,`RPC '${t}' stream ${l} received error:`,yt);const Lt=yt.status;let Bt=(function(O){const M=hn[O];if(M!==void 0)return RE(M)})(Lt),jt=yt.message;Bt===void 0&&(Bt=ot.INTERNAL,jt="Unknown error status: "+Lt+" with message "+yt.message),$=!0,ct.a_(new wt(Bt,jt)),C.close()}else St(Bn,`RPC '${t}' stream ${l} received:`,mt),ct.u_(mt)}})),st(v,ZT.STAT_EVENT,(Z=>{Z.stat===lp.PROXY?St(Bn,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===lp.NOPROXY&&St(Bn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ct.__()}),0),ct}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Xm(){return typeof document<"u"?document:null}function jf(s){return new bR(s,!0)}class HE{constructor(t,n,a=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&St("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const k0="PersistentStream";class qE{constructor(t,n,a,l,h,p,v,T){this.Mi=t,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=v,this.listener=T,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ot.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{t((()=>{const l=new wt(ot.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,n){const a=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return St(k0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(St(k0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yC extends qE{constructor(t,n,a,l,h,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=SR(this.serializer,t),a=(function(h){if(!("targetChange"in h))return Ht.min();const p=h.targetChange;return p.targetIds&&p.targetIds.length?Ht.min():p.readTime?sr(p.readTime):Ht.min()})(t);return this.listener.H_(n,a)}Y_(t){const n={};n.database=vp(this.serializer),n.addTarget=(function(h,p){let v;const T=p.target;if(v=dp(T)?{documents:CR(h,T)}:{query:IR(h,T).ft},v.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){v.resumeToken=NE(h,p.resumeToken);const E=gp(h,p.expectedCount);E!==null&&(v.expectedCount=E)}else if(p.snapshotVersion.compareTo(Ht.min())>0){v.readTime=vf(h,p.snapshotVersion.toTimestamp());const E=gp(h,p.expectedCount);E!==null&&(v.expectedCount=E)}return v})(this.serializer,t);const a=OR(this.serializer,t);a&&(n.labels=a),this.q_(n)}Z_(t){const n={};n.database=vp(this.serializer),n.removeTarget=t,this.q_(n)}}class vC extends qE{constructor(t,n,a,l,h,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return _e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=RR(t.writeResults,t.commitTime),a=sr(t.commitTime);return this.listener.na(a,n)}ra(){const t={};t.database=vp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((a=>xR(this.serializer,a)))};this.q_(n)}}class TC{}class EC extends TC{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new wt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Go(t,_p(n,a),l,h,p))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new wt(ot.UNKNOWN,h.toString())}))}Ho(t,n,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,v])=>this.connection.Ho(t,_p(n,a),l,p,v,h))).catch((p=>{throw p.name==="FirebaseError"?(p.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new wt(ot.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qr(n),this.aa=!1):St("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qo="RemoteStore";class wC{constructor(t,n,a,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((p=>{a.enqueueAndForget((async()=>{nl(this)&&(St(Qo,"Restarting streams for network reachability change."),await(async function(T){const E=Gt(T);E.Ea.add(4),await Dc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await Hf(E)})(this))}))})),this.Ra=new bC(a,l)}}async function Hf(s){if(nl(s))for(const t of s.da)await t(!0)}async function Dc(s){for(const t of s.da)await t(!1)}function FE(s,t){const n=Gt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ig(n)?ng(n):hu(n).O_()&&eg(n,t))}function tg(s,t){const n=Gt(s),a=hu(n);n.Ia.delete(t),a.O_()&&GE(n,t),n.Ia.size===0&&(a.O_()?a.L_():nl(n)&&n.Ra.set("Unknown"))}function eg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ht.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hu(s).Y_(t)}function GE(s,t){s.Va.Ue(t),hu(s).Z_(t)}function ng(s){s.Va=new yR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),hu(s).start(),s.Ra.ua()}function ig(s){return nl(s)&&!hu(s).x_()&&s.Ia.size>0}function nl(s){return Gt(s).Ea.size===0}function ZE(s){s.Va=void 0}async function AC(s){s.Ra.set("Online")}async function SC(s){s.Ia.forEach(((t,n)=>{eg(s,t)}))}async function xC(s,t){ZE(s),ig(s)?(s.Ra.ha(t),ng(s)):s.Ra.set("Unknown")}async function RC(s,t,n){if(s.Ra.set("Online"),t instanceof IE&&t.state===2&&t.cause)try{await(async function(l,h){const p=h.cause;for(const v of h.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,p),l.Ia.delete(v),l.Va.removeTarget(v))})(s,t)}catch(a){St(Qo,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Ef(s,a)}else if(t instanceof rf?s.Va.Ze(t):t instanceof CE?s.Va.st(t):s.Va.tt(t),!n.isEqual(Ht.min()))try{const a=await jE(s.localStore);n.compareTo(a)>=0&&await(function(h,p){const v=h.Va.Tt(p);return v.targetChanges.forEach(((T,E)=>{if(T.resumeToken.approximateByteSize()>0){const I=h.Ia.get(E);I&&h.Ia.set(E,I.withResumeToken(T.resumeToken,p))}})),v.targetMismatches.forEach(((T,E)=>{const I=h.Ia.get(T);if(!I)return;h.Ia.set(T,I.withResumeToken(Pn.EMPTY_BYTE_STRING,I.snapshotVersion)),GE(h,T);const C=new za(I.target,T,E,I.sequenceNumber);eg(h,C)})),h.remoteSyncer.applyRemoteEvent(v)})(s,n)}catch(a){St(Qo,"Failed to raise snapshot:",a),await Ef(s,a)}}async function Ef(s,t,n){if(!uu(t))throw t;s.Ea.add(1),await Dc(s),s.Ra.set("Offline"),n||(n=()=>jE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{St(Qo,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Hf(s)}))}function KE(s,t){return t().catch((n=>Ef(s,n,t)))}async function qf(s){const t=Gt(s),n=Qa(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Up;for(;CC(t);)try{const l=await uC(t.localStore,a);if(l===null){t.Ta.length===0&&n.L_();break}a=l.batchId,IC(t,l)}catch(l){await Ef(t,l)}YE(t)&&QE(t)}function CC(s){return nl(s)&&s.Ta.length<10}function IC(s,t){s.Ta.push(t);const n=Qa(s);n.O_()&&n.X_&&n.ea(t.mutations)}function YE(s){return nl(s)&&!Qa(s).x_()&&s.Ta.length>0}function QE(s){Qa(s).start()}async function NC(s){Qa(s).ra()}async function OC(s){const t=Qa(s);for(const n of s.Ta)t.ea(n.mutations)}async function PC(s,t,n){const a=s.Ta.shift(),l=Kp.from(a,t,n);await KE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await qf(s)}async function DC(s,t){t&&Qa(s).X_&&await(async function(a,l){if((function(p){return pR(p)&&p!==ot.ABORTED})(l.code)){const h=a.Ta.shift();Qa(a).B_(),await KE(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await qf(a)}})(s,t),YE(s)&&QE(s)}async function V0(s,t){const n=Gt(s);n.asyncQueue.verifyOperationInProgress(),St(Qo,"RemoteStore received new credentials");const a=nl(n);n.Ea.add(3),await Dc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Hf(n)}async function MC(s,t){const n=Gt(s);t?(n.Ea.delete(2),await Hf(n)):t||(n.Ea.add(2),await Dc(n),n.Ra.set("Unknown"))}function hu(s){return s.ma||(s.ma=(function(n,a,l){const h=Gt(n);return h.sa(),new yC(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:AC.bind(null,s),t_:SC.bind(null,s),r_:xC.bind(null,s),H_:RC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),ig(s)?ng(s):s.Ra.set("Unknown")):(await s.ma.stop(),ZE(s))}))),s.ma}function Qa(s){return s.fa||(s.fa=(function(n,a,l){const h=Gt(n);return h.sa(),new vC(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:NC.bind(null,s),r_:DC.bind(null,s),ta:OC.bind(null,s),na:PC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await qf(s)):(await s.fa.stop(),s.Ta.length>0&&(St(Qo,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class sg{constructor(t,n,a,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,h){const p=Date.now()+a,v=new sg(t,n,p,l,h);return v.start(a),v}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new wt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(s,t){if(qr("AsyncQueue",`${t}: ${s}`),uu(s))return new wt(ot.UNAVAILABLE,`${t}: ${s}`);throw s}class Wl{static emptySet(t){return new Wl(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||Pt.comparator(n.key,a.key):(n,a)=>Pt.comparator(n.key,a.key),this.keyedMap=sc(),this.sortedSet=new He(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,a)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Wl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new Wl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}class z0{constructor(){this.ga=new He(Pt.comparator)}track(t){const n=t.doc.key,a=this.ga.get(n);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(n,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(n):t.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):zt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,a)=>{t.push(a)})),t}}class au{constructor(t,n,a,l,h,p,v,T,E){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=p,this.syncStateChanged=v,this.excludesMetadataChanges=T,this.hasCachedResults=E}static fromInitialDocuments(t,n,a,l,h){const p=[];return n.forEach((v=>{p.push({type:0,doc:v})})),new au(t,n,Wl.emptySet(n),p,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class LC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class kC{constructor(){this.queries=U0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Gt(n),h=l.queries;l.queries=U0(),h.forEach(((p,v)=>{for(const T of v.Sa)T.onError(a)}))})(this,new wt(ot.ABORTED,"Firestore shutting down"))}}function U0(){return new el((s=>pE(s)),kf)}async function VC(s,t){const n=Gt(s);let a=3;const l=t.query;let h=n.queries.get(l);h?!h.ba()&&t.Da()&&(a=2):(h=new LC,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(p){const v=rg(p,`Initialization of query '${Kl(t.query)}' failed`);return void t.onError(v)}n.queries.set(l,h),h.Sa.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&ag(n)}async function zC(s,t){const n=Gt(s),a=t.query;let l=3;const h=n.queries.get(a);if(h){const p=h.Sa.indexOf(t);p>=0&&(h.Sa.splice(p,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function UC(s,t){const n=Gt(s);let a=!1;for(const l of t){const h=l.query,p=n.queries.get(h);if(p){for(const v of p.Sa)v.Fa(l)&&(a=!0);p.wa=l}}a&&ag(n)}function BC(s,t,n){const a=Gt(s),l=a.queries.get(t);if(l)for(const h of l.Sa)h.onError(n);a.queries.delete(t)}function ag(s){s.Ca.forEach((t=>{t.next()}))}var bp,B0;(B0=bp||(bp={})).Ma="default",B0.Cache="cache";class jC{constructor(t,n,a){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new au(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=au.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bp.Cache}}class XE{constructor(t){this.key=t}}class WE{constructor(t){this.key=t}}class HC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=oe(),this.mutatedKeys=oe(),this.eu=gE(t),this.tu=new Wl(this.eu)}get nu(){return this.Ya}ru(t,n){const a=n?n.iu:new z0,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,p=l,v=!1;const T=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((I,C)=>{const z=l.get(I),$=Vf(this.query,C)?C:null,ct=!!z&&this.mutatedKeys.has(z.key),st=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let Z=!1;z&&$?z.data.isEqual($.data)?ct!==st&&(a.track({type:3,doc:$}),Z=!0):this.su(z,$)||(a.track({type:2,doc:$}),Z=!0,(T&&this.eu($,T)>0||E&&this.eu($,E)<0)&&(v=!0)):!z&&$?(a.track({type:0,doc:$}),Z=!0):z&&!$&&(a.track({type:1,doc:z}),Z=!0,(T||E)&&(v=!0)),Z&&($?(p=p.add($),h=st?h.add(I):h.delete(I)):(p=p.delete(I),h=h.delete(I)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const I=this.query.limitType==="F"?p.last():p.first();p=p.delete(I.key),h=h.delete(I.key),a.track({type:1,doc:I})}return{tu:p,iu:a,Cs:v,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const p=t.iu.ya();p.sort(((I,C)=>(function($,ct){const st=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt(20277,{Rt:Z})}};return st($)-st(ct)})(I.type,C.type)||this.eu(I.doc,C.doc))),this.ou(a),l=l??!1;const v=n&&!l?this._u():[],T=this.Xa.size===0&&this.current&&!l?1:0,E=T!==this.Za;return this.Za=T,p.length!==0||E?{snapshot:new au(this.query,t.tu,h,p,t.mutatedKeys,T===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=oe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return t.forEach((a=>{this.Xa.has(a)||n.push(new WE(a))})),this.Xa.forEach((a=>{t.has(a)||n.push(new XE(a))})),n}cu(t){this.Ya=t.Qs,this.Xa=oe();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return au.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class qC{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class FC{constructor(t){this.key=t,this.hu=!1}}class GC{constructor(t,n,a,l,h,p){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new el((v=>pE(v)),kf),this.Iu=new Map,this.Eu=new Set,this.du=new He(Pt.comparator),this.Au=new Map,this.Ru=new Xp,this.Vu={},this.mu=new Map,this.fu=ru.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZC(s,t,n=!0){const a=ib(s);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await JE(a,t,n,!0),l}async function KC(s,t){const n=ib(s);await JE(n,t,!0,!1)}async function JE(s,t,n,a){const l=await cC(s.localStore,ir(t)),h=l.targetId,p=s.sharedClientState.addLocalQueryTarget(h,n);let v;return a&&(v=await YC(s,t,h,p==="current",l.resumeToken)),s.isPrimaryClient&&n&&FE(s.remoteStore,l),v}async function YC(s,t,n,a,l){s.pu=(C,z,$)=>(async function(st,Z,mt,vt){let yt=Z.view.ru(mt);yt.Cs&&(yt=await P0(st.localStore,Z.query,!1).then((({documents:U})=>Z.view.ru(U,yt))));const Lt=vt&&vt.targetChanges.get(Z.targetId),Bt=vt&&vt.targetMismatches.get(Z.targetId)!=null,jt=Z.view.applyChanges(yt,st.isPrimaryClient,Lt,Bt);return H0(st,Z.targetId,jt.au),jt.snapshot})(s,C,z,$);const h=await P0(s.localStore,t,!0),p=new HC(t,h.Qs),v=p.ru(h.documents),T=Pc.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",l),E=p.applyChanges(v,s.isPrimaryClient,T);H0(s,n,E.au);const I=new qC(t,n,p);return s.Tu.set(t,I),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),E.snapshot}async function QC(s,t,n){const a=Gt(s),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((p=>!kf(p,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Tp(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&tg(a.remoteStore,l.targetId),wp(a,l.targetId)})).catch(lu)):(wp(a,l.targetId),await Tp(a.localStore,l.targetId,!0))}async function XC(s,t){const n=Gt(s),a=n.Tu.get(t),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),tg(n.remoteStore,a.targetId))}async function WC(s,t,n){const a=sI(s);try{const l=await(function(p,v){const T=Gt(p),E=Le.now(),I=v.reduce((($,ct)=>$.add(ct.key)),oe());let C,z;return T.persistence.runTransaction("Locally write mutations","readwrite",($=>{let ct=Fr(),st=oe();return T.Ns.getEntries($,I).next((Z=>{ct=Z,ct.forEach(((mt,vt)=>{vt.isValidDocument()||(st=st.add(mt))}))})).next((()=>T.localDocuments.getOverlayedDocuments($,ct))).next((Z=>{C=Z;const mt=[];for(const vt of v){const yt=cR(vt,C.get(vt.key).overlayedDocument);yt!=null&&mt.push(new $a(vt.key,yt,oE(yt.value.mapValue),us.exists(!0)))}return T.mutationQueue.addMutationBatch($,E,mt,v)})).next((Z=>{z=Z;const mt=Z.applyToLocalDocumentSet(C,st);return T.documentOverlayCache.saveOverlays($,Z.batchId,mt)}))})).then((()=>({batchId:z.batchId,changes:yE(C)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(p,v,T){let E=p.Vu[p.currentUser.toKey()];E||(E=new He(ae)),E=E.insert(v,T),p.Vu[p.currentUser.toKey()]=E})(a,l.batchId,n),await Mc(a,l.changes),await qf(a.remoteStore)}catch(l){const h=rg(l,"Failed to persist write");n.reject(h)}}async function $E(s,t){const n=Gt(s);try{const a=await oC(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const p=n.Au.get(h);p&&(_e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?_e(p.hu,14607):l.removedDocuments.size>0&&(_e(p.hu,42227),p.hu=!1))})),await Mc(n,a,t)}catch(a){await lu(a)}}function j0(s,t,n){const a=Gt(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((h,p)=>{const v=p.view.va(t);v.snapshot&&l.push(v.snapshot)})),(function(p,v){const T=Gt(p);T.onlineState=v;let E=!1;T.queries.forEach(((I,C)=>{for(const z of C.Sa)z.va(v)&&(E=!0)})),E&&ag(T)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function JC(s,t,n){const a=Gt(s);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Au.get(t),h=l&&l.key;if(h){let p=new He(Pt.comparator);p=p.insert(h,jn.newNoDocument(h,Ht.min()));const v=oe().add(h),T=new Bf(Ht.min(),new Map,new He(ae),p,v);await $E(a,T),a.du=a.du.remove(h),a.Au.delete(t),lg(a)}else await Tp(a.localStore,t,!1).then((()=>wp(a,t,n))).catch(lu)}async function $C(s,t){const n=Gt(s),a=t.batch.batchId;try{const l=await aC(n.localStore,t);eb(n,a,null),tb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Mc(n,l)}catch(l){await lu(l)}}async function tI(s,t,n){const a=Gt(s);try{const l=await(function(p,v){const T=Gt(p);return T.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let I;return T.mutationQueue.lookupMutationBatch(E,v).next((C=>(_e(C!==null,37113),I=C.keys(),T.mutationQueue.removeMutationBatch(E,C)))).next((()=>T.mutationQueue.performConsistencyCheck(E))).next((()=>T.documentOverlayCache.removeOverlaysForBatchId(E,I,v))).next((()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,I))).next((()=>T.localDocuments.getDocuments(E,I)))}))})(a.localStore,t);eb(a,t,n),tb(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await Mc(a,l)}catch(l){await lu(l)}}function tb(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function eb(s,t,n){const a=Gt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function wp(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),n&&s.Pu.yu(a,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||nb(s,a)}))}function nb(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(tg(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),lg(s))}function H0(s,t,n){for(const a of n)a instanceof XE?(s.Ru.addReference(a.key,t),eI(s,a)):a instanceof WE?(St(og,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||nb(s,a.key)):zt(19791,{wu:a})}function eI(s,t){const n=t.key,a=n.path.canonicalString();s.du.get(n)||s.Eu.has(a)||(St(og,"New document in limbo: "+n),s.Eu.add(a),lg(s))}function lg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new Pt(Ne.fromString(t)),a=s.fu.next();s.Au.set(a,new FC(n)),s.du=s.du.insert(n,a),FE(s.remoteStore,new za(ir(Fp(n.path)),a,"TargetPurposeLimboResolution",Df.ce))}}async function Mc(s,t,n){const a=Gt(s),l=[],h=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((v,T)=>{p.push(a.pu(T,t,n).then((E=>{if((E||n)&&a.isPrimaryClient){const I=E?!E.fromCache:n?.targetChanges.get(T.targetId)?.current;a.sharedClientState.updateQueryState(T.targetId,I?"current":"not-current")}if(E){l.push(E);const I=Jp.As(T.targetId,E);h.push(I)}})))})),await Promise.all(p),a.Pu.H_(l),await(async function(T,E){const I=Gt(T);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>ht.forEach(E,(z=>ht.forEach(z.Es,($=>I.persistence.referenceDelegate.addReference(C,z.targetId,$))).next((()=>ht.forEach(z.ds,($=>I.persistence.referenceDelegate.removeReference(C,z.targetId,$)))))))))}catch(C){if(!uu(C))throw C;St($p,"Failed to update sequence numbers: "+C)}for(const C of E){const z=C.targetId;if(!C.fromCache){const $=I.Ms.get(z),ct=$.snapshotVersion,st=$.withLastLimboFreeSnapshotVersion(ct);I.Ms=I.Ms.insert(z,st)}}})(a.localStore,h))}async function nI(s,t){const n=Gt(s);if(!n.currentUser.isEqual(t)){St(og,"User change. New user:",t.toKey());const a=await BE(n.localStore,t);n.currentUser=t,(function(h,p){h.mu.forEach((v=>{v.forEach((T=>{T.reject(new wt(ot.CANCELLED,p))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Mc(n,a.Ls)}}function iI(s,t){const n=Gt(s),a=n.Au.get(t);if(a&&a.hu)return oe().add(a.key);{let l=oe();const h=n.Iu.get(t);if(!h)return l;for(const p of h){const v=n.Tu.get(p);l=l.unionWith(v.view.nu)}return l}}function ib(s){const t=Gt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=$E.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JC.bind(null,t),t.Pu.H_=UC.bind(null,t.eventManager),t.Pu.yu=BC.bind(null,t.eventManager),t}function sI(s){const t=Gt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$C.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tI.bind(null,t),t}class bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return rC(this.persistence,new nC,t.initialUser,this.serializer)}Cu(t){return new UE(Wp.mi,this.serializer)}Du(t){return new fC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bf.provider={build:()=>new bf};class rI extends bf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){_e(this.persistence.referenceDelegate instanceof Tf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new jR(a,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new UE((a=>Tf.mi(a,n)),this.serializer)}}class Ap{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>j0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=nI.bind(null,this.syncEngine),await MC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kC})()}createDatastore(t){const n=jf(t.databaseInfo.databaseId),a=(function(h){return new _C(h)})(t.databaseInfo);return(function(h,p,v,T){return new EC(h,p,v,T)})(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return(function(a,l,h,p,v){return new wC(a,l,h,p,v)})(this.localStore,this.datastore,t.asyncQueue,(n=>j0(this.syncEngine,n,0)),(function(){return L0.v()?new L0:new dC})())}createSyncEngine(t,n){return(function(l,h,p,v,T,E,I){const C=new GC(l,h,p,v,T,E);return I&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Gt(n);St(Qo,"RemoteStore shutting down."),a.Ea.add(5),await Dc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ap.provider={build:()=>new Ap};class aI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):qr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Xa="FirestoreClient";class oI{constructor(t,n,a,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=gi.UNAUTHENTICATED,this.clientId=zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async p=>{St(Xa,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(St(Xa,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=rg(n,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Wm(s,t){s.asyncQueue.verifyOperationInProgress(),St(Xa,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let a=n.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await BE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function q0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await lI(s);St(Xa,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((a=>V0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>V0(t.remoteStore,l))),s._onlineComponents=t}async function lI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){St(Xa,"Using user provided OfflineComponentProvider");try{await Wm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ot.FAILED_PRECONDITION||l.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;gc("Error using user provided cache. Falling back to memory cache: "+n),await Wm(s,new bf)}}else St(Xa,"Using default OfflineComponentProvider"),await Wm(s,new rI(void 0));return s._offlineComponents}async function sb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(St(Xa,"Using user provided OnlineComponentProvider"),await q0(s,s._uninitializedComponentsProvider._online)):(St(Xa,"Using default OnlineComponentProvider"),await q0(s,new Ap))),s._onlineComponents}function uI(s){return sb(s).then((t=>t.syncEngine))}async function F0(s){const t=await sb(s),n=t.eventManager;return n.onListen=ZC.bind(null,t.syncEngine),n.onUnlisten=QC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=KC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=XC.bind(null,t.syncEngine),n}function rb(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const G0=new Map;const cI="firestore.googleapis.com",Z0=!0;class K0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new wt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cI,this.ssl=Z0}else this.host=t.host,this.ssl=t.ssl??Z0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zE)throw new wt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rb(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new wt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new wt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new wt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ug{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new wt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new mx;switch(a.type){case"firstParty":return new _x(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new wt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=G0.get(n);a&&(St("ComponentProvider","Removing Datastore"),G0.delete(n),a.terminate())})(this),Promise.resolve()}}class il{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new il(this.firestore,t,this._query)}}class sn{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new sn(this.firestore,t,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if(Nc(n,sn._jsonSchema))return new sn(t,a||null,new Pt(Ne.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:dn("string",sn._jsonSchemaVersion),referencePath:dn("string")};class qa extends il{constructor(t,n,a){super(t,n,Fp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new sn(this.firestore,null,new Pt(t))}withConverter(t){return new qa(this.firestore,t,this._path)}}function Sp(s,t,...n){if(s=Xe(s),XT("collection","path",t),s instanceof ug){const a=Ne.fromString(t,...n);return r0(a),new qa(s,null,a)}{if(!(s instanceof sn||s instanceof qa))throw new wt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Ne.fromString(t,...n));return r0(a),new qa(s.firestore,null,a)}}function Ua(s,t,...n){if(s=Xe(s),arguments.length===1&&(t=zp.newId()),XT("doc","path",t),s instanceof ug){const a=Ne.fromString(t,...n);return s0(a),new sn(s,null,new Pt(a))}{if(!(s instanceof sn||s instanceof qa))throw new wt(ot.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Ne.fromString(t,...n));return s0(a),new sn(s.firestore,s instanceof qa?s.converter:null,new Pt(a))}}const Y0="AsyncQueue";class Q0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HE(this,"async_queue_retry"),this._c=()=>{const a=Xm();a&&St(Y0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const n=Xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!uu(t))throw t;St(Y0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,qr("INTERNAL UNHANDLED ERROR: ",X0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(t,n,a){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=sg.createAndSchedule(this,t,n,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&zt(47125,{Pc:X0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function X0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function W0(s){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1})(s,["next","error","complete"])}class Xo extends ug{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new Q0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Q0(t),this._firestoreClient=void 0,await t}}}function hI(s,t,n){n||(n=pf);const a=Of(s,"firestore");if(a.isInitialized(n)){const l=a.getImmediate({identifier:n}),h=a.getOptions(n);if(Zo(h,t))return l;throw new wt(ot.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new wt(ot.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zE)throw new wt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Wa(t.host)&&Mp(t.host),a.initialize({options:t,instanceIdentifier:n})}function ab(s){if(s._terminated)throw new wt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||fI(s),s._firestoreClient}function fI(s){const t=s._freezeSettings(),n=(function(l,h,p,v){return new Mx(l,h,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,rb(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new oI(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(s._componentsProvider))}class ls{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ls(Pn.fromBase64String(t))}catch(n){throw new wt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ls(Pn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ls._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Nc(t,ls._jsonSchema))return ls.fromBase64String(t.bytes)}}ls._jsonSchemaVersion="firestore/bytes/1.0",ls._jsonSchema={type:dn("string",ls._jsonSchemaVersion),bytes:dn("string")};class Ff{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new wt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Gf{constructor(t){this._methodName=t}}class rr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new wt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new wt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ae(this._lat,t._lat)||ae(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(t){if(Nc(t,rr._jsonSchema))return new rr(t.latitude,t.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:dn("string",rr._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};class ar{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Nc(t,ar._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ar(t.vectorValues);throw new wt(ot.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ar._jsonSchemaVersion="firestore/vectorValue/1.0",ar._jsonSchema={type:dn("string",ar._jsonSchemaVersion),vectorValues:dn("object")};const dI=/^__.*__$/;class mI{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new $a(t,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(t,this.data,n,this.fieldTransforms)}}class ob{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new $a(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function lb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt(40011,{Ac:s})}}class cg{constructor(t,n,a,l,h,p){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new cg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.gc(t),a}yc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return wf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(lb(this.Ac)&&dI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class pI{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||jf(t)}Cc(t,n,a,l=!1){return new cg({Ac:t,methodName:n,Dc:a,path:On.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zf(s){const t=s._freezeSettings(),n=jf(s._databaseId);return new pI(s._databaseId,!!t.ignoreUndefinedProperties,n)}function ub(s,t,n,a,l,h={}){const p=s.Cc(h.merge||h.mergeFields?2:0,t,n,l);fg("Data must be an object, but it was:",p,a);const v=cb(a,p);let T,E;if(h.merge)T=new zi(p.fieldMask),E=p.fieldTransforms;else if(h.mergeFields){const I=[];for(const C of h.mergeFields){const z=xp(t,C,n);if(!p.contains(z))throw new wt(ot.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);fb(I,z)||I.push(z)}T=new zi(I),E=p.fieldTransforms.filter((C=>T.covers(C.field)))}else T=null,E=p.fieldTransforms;return new mI(new yi(v),T,E)}class Kf extends Gf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kf}}class hg extends Gf{_toFieldTransform(t){return new aR(t.path,new bc)}isEqual(t){return t instanceof hg}}function gI(s,t,n,a){const l=s.Cc(1,t,n);fg("Data must be an object, but it was:",l,a);const h=[],p=yi.empty();Ja(a,((T,E)=>{const I=dg(t,T,n);E=Xe(E);const C=l.yc(I);if(E instanceof Kf)h.push(I);else{const z=Lc(E,C);z!=null&&(h.push(I),p.set(I,z))}}));const v=new zi(h);return new ob(p,v,l.fieldTransforms)}function _I(s,t,n,a,l,h){const p=s.Cc(1,t,n),v=[xp(t,a,n)],T=[l];if(h.length%2!=0)throw new wt(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<h.length;z+=2)v.push(xp(t,h[z])),T.push(h[z+1]);const E=[],I=yi.empty();for(let z=v.length-1;z>=0;--z)if(!fb(E,v[z])){const $=v[z];let ct=T[z];ct=Xe(ct);const st=p.yc($);if(ct instanceof Kf)E.push($);else{const Z=Lc(ct,st);Z!=null&&(E.push($),I.set($,Z))}}const C=new zi(E);return new ob(I,C,p.fieldTransforms)}function yI(s,t,n,a=!1){return Lc(n,s.Cc(a?4:3,t))}function Lc(s,t){if(hb(s=Xe(s)))return fg("Unsupported field value:",t,s),cb(s,t);if(s instanceof Gf)return(function(a,l){if(!lb(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const h=[];let p=0;for(const v of a){let T=Lc(v,l.wc(p));T==null&&(T={nullValue:"NULL_VALUE"}),h.push(T),p++}return{arrayValue:{values:h}}})(s,t)}return(function(a,l){if((a=Xe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return iR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Le.fromDate(a);return{timestampValue:vf(l.serializer,h)}}if(a instanceof Le){const h=new Le(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:vf(l.serializer,h)}}if(a instanceof rr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ls)return{bytesValue:NE(l.serializer,a._byteString)};if(a instanceof sn){const h=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(h))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Qp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ar)return(function(p,v){return{mapValue:{fields:{[rE]:{stringValue:aE},[gf]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw v.Sc("VectorValues must only contain numeric values.");return Gp(v.serializer,E)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Pf(a)}`)})(s,t)}function cb(s,t){const n={};return $T(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ja(s,((a,l)=>{const h=Lc(l,t.mc(a));h!=null&&(n[a]=h)})),{mapValue:{fields:n}}}function hb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Le||s instanceof rr||s instanceof ls||s instanceof sn||s instanceof Gf||s instanceof ar)}function fg(s,t,n){if(!hb(n)||!WT(n)){const a=Pf(n);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function xp(s,t,n){if((t=Xe(t))instanceof Ff)return t._internalPath;if(typeof t=="string")return dg(s,t);throw wf("Field path arguments must be of type string or ",s,!1,void 0,n)}const vI=new RegExp("[~\\*/\\[\\]]");function dg(s,t,n){if(t.search(vI)>=0)throw wf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Ff(...t.split("."))._internalPath}catch{throw wf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function wf(s,t,n,a,l){const h=a&&!a.isEmpty(),p=l!==void 0;let v=`Function ${t}() called with invalid data`;n&&(v+=" (via `toFirestore()`)"),v+=". ";let T="";return(h||p)&&(T+=" (found",h&&(T+=` in field ${a}`),p&&(T+=` in document ${l}`),T+=")"),new wt(ot.INVALID_ARGUMENT,v+s+T)}function fb(s,t){return s.some((n=>n.isEqual(t)))}class db{constructor(t,n,a,l,h){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Yf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TI extends db{data(){return super.data()}}function Yf(s,t){return typeof t=="string"?dg(s,t):t instanceof Ff?t._internalPath:t._delegate._internalPath}function EI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new wt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class mb extends mg{}function J0(s,t,...n){let a=[];t instanceof mg&&a.push(t),a=a.concat(n),(function(h){const p=h.filter((T=>T instanceof pg)).length,v=h.filter((T=>T instanceof Qf)).length;if(p>1||p>0&&v>0)throw new wt(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Qf extends mb{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new Qf(t,n,a)}_apply(t){const n=this._parse(t);return pb(t._query,n),new il(t.firestore,t.converter,mp(t._query,n))}_parse(t){const n=Zf(t.firestore);return(function(h,p,v,T,E,I,C){let z;if(E.isKeyField()){if(I==="array-contains"||I==="array-contains-any")throw new wt(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if(I==="in"||I==="not-in"){eT(C,I);const ct=[];for(const st of C)ct.push(tT(T,h,st));z={arrayValue:{values:ct}}}else z=tT(T,h,C)}else I!=="in"&&I!=="not-in"&&I!=="array-contains-any"||eT(C,I),z=yI(v,p,C,I==="in"||I==="not-in");return fn.create(E,I,z)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function bI(s,t,n){const a=t,l=Yf("where",s);return Qf._create(l,a,n)}class pg extends mg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new pg(t,n)}_parse(t){const n=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Cs.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let p=l;const v=h.getFlattenedFilters();for(const T of v)pb(p,T),p=mp(p,T)})(t._query,n),new il(t.firestore,t.converter,mp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gg extends mb{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new gg(t,n)}_apply(t){const n=(function(l,h,p){if(l.startAt!==null)throw new wt(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new wt(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ec(h,p)})(t._query,this._field,this._direction);return new il(t.firestore,t.converter,(function(l,h){const p=l.explicitOrderBy.concat([h]);return new cu(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function $0(s,t="asc"){const n=t,a=Yf("orderBy",s);return gg._create(a,n)}function tT(s,t,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new wt(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mE(t)&&n.indexOf("/")!==-1)throw new wt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(Ne.fromString(n));if(!Pt.isDocumentKey(a))throw new wt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return d0(s,new Pt(a))}if(n instanceof sn)return d0(s,n._key);throw new wt(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(n)}.`)}function eT(s,t){if(!Array.isArray(s)||s.length===0)throw new wt(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function pb(s,t){const n=(function(l,h){for(const p of l)for(const v of p.getFlattenedFilters())if(h.indexOf(v.op)>=0)return v.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new wt(ot.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new wt(ot.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class wI{convertValue(t,n="none"){switch(Ya(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ka(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw zt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return Ja(t,((l,h)=>{a[l]=this.convertValue(h,n)})),a}convertVectorValue(t){const n=t.fields?.[gf].arrayValue?.values?.map((a=>nn(a.doubleValue)));return new ar(n)}convertGeoPoint(t){return new rr(nn(t.latitude),nn(t.longitude))}convertArray(t,n){return(t.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Lf(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(yc(t));default:return null}}convertTimestamp(t){const n=Za(t);return new Le(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=Ne.fromString(t);_e(kE(a),9688,{name:t});const l=new vc(a.get(1),a.get(3)),h=new Pt(a.popFirst(5));return l.isEqual(n)||qr(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}function gb(s,t,n){let a;return a=s?s.toFirestore(t):t,a}class ac{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fo extends db{constructor(t,n,a,l,h,p){super(t,n,a,l,p),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(Yf("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(ot.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Fo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fo._jsonSchema={type:dn("string",Fo._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class af extends Fo{data(t={}){return super.data(t)}}class Jl{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new ac(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((a=>{t.call(n,new af(this._firestore,this._userDataWriter,a.key,a,new ac(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new wt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((v=>{const T=new af(l._firestore,l._userDataWriter,v.doc.key,v.doc,new ac(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:T,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>h||v.type!==3)).map((v=>{const T=new af(l._firestore,l._userDataWriter,v.doc.key,v.doc,new ac(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,I=-1;return v.type!==0&&(E=p.indexOf(v.doc.key),p=p.delete(v.doc.key)),v.type!==1&&(p=p.add(v.doc),I=p.indexOf(v.doc.key)),{type:AI(v.type),doc:T,oldIndex:E,newIndex:I}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(ot.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Jl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function AI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt(61501,{type:s})}}Jl._jsonSchemaVersion="firestore/querySnapshot/1.0",Jl._jsonSchema={type:dn("string",Jl._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class _b extends wI{constructor(t){super(),this.firestore=t}convertBytes(t){return new ls(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function SI(s,t,n){s=Br(s,sn);const a=Br(s.firestore,Xo),l=gb(s.converter,t);return Xf(a,[ub(Zf(a),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,us.none())])}function of(s,t,n,...a){s=Br(s,sn);const l=Br(s.firestore,Xo),h=Zf(l);let p;return p=typeof(t=Xe(t))=="string"||t instanceof Ff?_I(h,"updateDoc",s._key,t,n,a):gI(h,"updateDoc",s._key,t),Xf(l,[p.toMutation(s._key,us.exists(!0))])}function yb(s){return Xf(Br(s.firestore,Xo),[new Zp(s._key,us.none())])}function xI(s,t){const n=Br(s.firestore,Xo),a=Ua(s),l=gb(s.converter,t);return Xf(n,[ub(Zf(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,us.exists(!1))]).then((()=>a))}function RI(s,...t){s=Xe(s);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||W0(t[a])||(n=t[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(W0(t[a])){const T=t[a];t[a]=T.next?.bind(T),t[a+1]=T.error?.bind(T),t[a+2]=T.complete?.bind(T)}let h,p,v;if(s instanceof sn)p=Br(s.firestore,Xo),v=Fp(s._key.path),h={next:T=>{t[a]&&t[a](CI(p,s,T))},error:t[a+1],complete:t[a+2]};else{const T=Br(s,il);p=Br(T.firestore,Xo),v=T._query;const E=new _b(p);h={next:I=>{t[a]&&t[a](new Jl(p,E,T,I))},error:t[a+1],complete:t[a+2]},EI(s._query)}return(function(E,I,C,z){const $=new aI(z),ct=new jC(I,$,C);return E.asyncQueue.enqueueAndForget((async()=>VC(await F0(E),ct))),()=>{$.Nu(),E.asyncQueue.enqueueAndForget((async()=>zC(await F0(E),ct)))}})(ab(p),v,l,h)}function Xf(s,t){return(function(a,l){const h=new qo;return a.asyncQueue.enqueueAndForget((async()=>WC(await uI(a),l,h))),h.promise})(ab(s),t)}function CI(s,t,n){const a=n.docs.get(t._key),l=new _b(s);return new Fo(s,l,t._key,a,new ac(n.hasPendingWrites,n.fromCache),t.converter)}function Rp(){return new hg("serverTimestamp")}(function(t,n=!0){(function(l){ou=l})(tl),Ko(new Fa("firestore",((a,{instanceIdentifier:l,options:h})=>{const p=a.getProvider("app").getImmediate(),v=new Xo(new px(a.getProvider("auth-internal")),new yx(p,a.getProvider("app-check-internal")),(function(E,I){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new wt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(E.options.projectId,I)})(p,l),p);return h={useFetchStreams:n,...h},v._setSettings(h),v}),"PUBLIC").setMultipleInstances(!0)),nr(t0,e0,t),nr(t0,e0,"esm2020")})();function vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const II=vb,Tb=new Cc("auth","Firebase",vb());const Af=new Lp("@firebase/auth");function NI(s,...t){Af.logLevel<=re.WARN&&Af.warn(`Auth (${tl}): ${s}`,...t)}function lf(s,...t){Af.logLevel<=re.ERROR&&Af.error(`Auth (${tl}): ${s}`,...t)}function Is(s,...t){throw _g(s,...t)}function or(s,...t){return _g(s,...t)}function Eb(s,t,n){const a={...II(),[t]:n};return new Cc("auth","Firebase",a).create(t,{appName:s.name})}function jr(s){return Eb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _g(s,...t){if(typeof s!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return Tb.create(s,...t)}function Vt(s,t,...n){if(!s)throw _g(t,...n)}function zr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw lf(t),new Error(t)}function Gr(s,t){s||zr(t)}function Cp(){return typeof self<"u"&&self.location?.href||""}function OI(){return nT()==="http:"||nT()==="https:"}function nT(){return typeof self<"u"&&self.location?.protocol||null}function PI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OI()||FS()||"connection"in navigator)?navigator.onLine:!0}function DI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class kc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gr(n>t,"Short delay should be less than long delay!"),this.isMobile=jS()||GS()}get(){return PI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yg(s,t){Gr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class bb{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kI=new kc(3e4,6e4);function to(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function eo(s,t,n,a,l={}){return wb(s,l,async()=>{let h={},p={};a&&(t==="GET"?p=a:h={body:JSON.stringify(a)});const v=Ic({key:s.config.apiKey,...p}).slice(1),T=await s._getAdditionalHeaders();T["Content-Type"]="application/json",s.languageCode&&(T["X-Firebase-Locale"]=s.languageCode);const E={method:t,headers:T,...h};return qS()||(E.referrerPolicy="no-referrer"),s.emulatorConfig&&Wa(s.emulatorConfig.host)&&(E.credentials="include"),bb.fetch()(await Ab(s,s.config.apiHost,n,v),E)})}async function wb(s,t,n){s._canInitEmulator=!1;const a={...MI,...t};try{const l=new zI(s),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const p=await h.json();if("needConfirmation"in p)throw Wh(s,"account-exists-with-different-credential",p);if(h.ok&&!("errorMessage"in p))return p;{const v=h.ok?p.errorMessage:p.error.message,[T,E]=v.split(" : ");if(T==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(s,"credential-already-in-use",p);if(T==="EMAIL_EXISTS")throw Wh(s,"email-already-in-use",p);if(T==="USER_DISABLED")throw Wh(s,"user-disabled",p);const I=a[T]||T.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw Eb(s,I,E);Is(s,I)}}catch(l){if(l instanceof cr)throw l;Is(s,"network-request-failed",{message:String(l)})}}async function Vc(s,t,n,a,l={}){const h=await eo(s,t,n,a,l);return"mfaPendingCredential"in h&&Is(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function Ab(s,t,n,a){const l=`${t}${n}?${a}`,h=s,p=h.config.emulator?yg(s.config,l):`${s.config.apiScheme}://${l}`;return LI.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(p).toString():p}function VI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(or(this.auth,"network-request-failed")),kI.get())})}}function Wh(s,t,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=or(s,t,a);return l.customData._tokenResponse=n,l}function iT(s){return s!==void 0&&s.enterprise!==void 0}class UI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return VI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BI(s,t){return eo(s,"GET","/v2/recaptchaConfig",to(s,t))}async function jI(s,t){return eo(s,"POST","/v1/accounts:delete",t)}async function Sf(s,t){return eo(s,"POST","/v1/accounts:lookup",t)}function dc(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function HI(s,t=!1){const n=Xe(s),a=await n.getIdToken(t),l=vg(a);Vt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,p=h?.sign_in_provider;return{claims:l,token:a,authTime:dc(Jm(l.auth_time)),issuedAtTime:dc(Jm(l.iat)),expirationTime:dc(Jm(l.exp)),signInProvider:p||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Jm(s){return Number(s)*1e3}function vg(s){const[t,n,a]=s.split(".");if(t===void 0||n===void 0||a===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const l=PT(n);return l?JSON.parse(l):(lf("Failed to decode base64 JWT payload"),null)}catch(l){return lf("Caught error parsing JWT payload as JSON",l?.toString()),null}}function sT(s){const t=vg(s);return Vt(t,"internal-error"),Vt(typeof t.exp<"u","internal-error"),Vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Sc(s,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof cr&&qI(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function qI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class FI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ip{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xf(s){const t=s.auth,n=await s.getIdToken(),a=await Sc(s,Sf(t,{idToken:n}));Vt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?Sb(l.providerUserInfo):[],p=ZI(s.providerData,h),v=s.isAnonymous,T=!(s.email&&l.passwordHash)&&!p?.length,E=v?T:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Ip(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(s,I)}async function GI(s){const t=Xe(s);await xf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZI(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Sb(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function KI(s,t){const n=await wb(s,{},async()=>{const a=Ic({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,p=await Ab(s,l,"/v1/token",`key=${h}`),v=await s._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const T={method:"POST",headers:v,body:a};return s.emulatorConfig&&Wa(s.emulatorConfig.host)&&(T.credentials="include"),bb.fetch()(p,T)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YI(s,t){return eo(s,"POST","/v2/accounts:revokeToken",to(s,t))}class $l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Vt(t.idToken,"internal-error"),Vt(typeof t.idToken<"u","internal-error"),Vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Vt(t.length!==0,"internal-error");const n=sT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:h}=await KI(t,n);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:h}=n,p=new $l;return a&&(Vt(typeof a=="string","internal-error",{appName:t}),p.refreshToken=a),l&&(Vt(typeof l=="string","internal-error",{appName:t}),p.accessToken=l),h&&(Vt(typeof h=="number","internal-error",{appName:t}),p.expirationTime=h),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $l,this.toJSON())}_performRefresh(){return zr("not implemented")}}function Pa(s,t){Vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Rs{constructor({uid:t,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new FI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ip(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Sc(this,this.stsTokenManager.getToken(this.auth,t));return Vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return HI(this,t)}reload(){return GI(this)}_assign(t){this!==t&&(Vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Rs({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await xf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(jr(this.auth));const t=await this.getIdToken();return await Sc(this,jI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const a=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,p=n.photoURL??void 0,v=n.tenantId??void 0,T=n._redirectEventId??void 0,E=n.createdAt??void 0,I=n.lastLoginAt??void 0,{uid:C,emailVerified:z,isAnonymous:$,providerData:ct,stsTokenManager:st}=n;Vt(C&&st,t,"internal-error");const Z=$l.fromJSON(this.name,st);Vt(typeof C=="string",t,"internal-error"),Pa(a,t.name),Pa(l,t.name),Vt(typeof z=="boolean",t,"internal-error"),Vt(typeof $=="boolean",t,"internal-error"),Pa(h,t.name),Pa(p,t.name),Pa(v,t.name),Pa(T,t.name),Pa(E,t.name),Pa(I,t.name);const mt=new Rs({uid:C,auth:t,email:l,emailVerified:z,displayName:a,isAnonymous:$,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:Z,createdAt:E,lastLoginAt:I});return ct&&Array.isArray(ct)&&(mt.providerData=ct.map(vt=>({...vt}))),T&&(mt._redirectEventId=T),mt}static async _fromIdTokenResponse(t,n,a=!1){const l=new $l;l.updateFromServerResponse(n);const h=new Rs({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await xf(h),h}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];Vt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?Sb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!h?.length,v=new $l;v.updateFromIdToken(a);const T=new Rs({uid:l.localId,auth:t,stsTokenManager:v,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Ip(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(T,E),T}}const rT=new Map;function Ur(s){Gr(s instanceof Function,"Expected a class definition");let t=rT.get(s);return t?(Gr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,rT.set(s,t),t)}class xb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}xb.type="NONE";const aT=xb;function uf(s,t,n){return`firebase:${s}:${t}:${n}`}class tu{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=uf(this.userKey,l.apiKey,h),this.fullPersistenceKey=uf("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Sf(this.auth,{idToken:t}).catch(()=>{});return n?Rs._fromGetAccountInfoResponse(this.auth,n,t):null}return Rs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new tu(Ur(aT),t,a);const l=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let h=l[0]||Ur(aT);const p=uf(a,t.config.apiKey,t.name);let v=null;for(const E of n)try{const I=await E._get(p);if(I){let C;if(typeof I=="string"){const z=await Sf(t,{idToken:I}).catch(()=>{});if(!z)break;C=await Rs._fromGetAccountInfoResponse(t,z,I)}else C=Rs._fromJSON(t,I);E!==h&&(v=C),h=E;break}}catch{}const T=l.filter(E=>E._shouldAllowMigration);return!h._shouldAllowMigration||!T.length?new tu(h,t,a):(h=T[0],v&&await h._set(p,v.toJSON()),await Promise.all(n.map(async E=>{if(E!==h)try{await E._remove(p)}catch{}})),new tu(h,t,a))}}function oT(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Rb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pb(t))return"Blackberry";if(Db(t))return"Webos";if(Cb(t))return"Safari";if((t.includes("chrome/")||Ib(t))&&!t.includes("edge/"))return"Chrome";if(Ob(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if(a?.length===2)return a[1]}return"Other"}function Rb(s=Hn()){return/firefox\//i.test(s)}function Cb(s=Hn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ib(s=Hn()){return/crios\//i.test(s)}function Nb(s=Hn()){return/iemobile/i.test(s)}function Ob(s=Hn()){return/android/i.test(s)}function Pb(s=Hn()){return/blackberry/i.test(s)}function Db(s=Hn()){return/webos/i.test(s)}function Tg(s=Hn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function QI(s=Hn()){return Tg(s)&&!!window.navigator?.standalone}function XI(){return ZS()&&document.documentMode===10}function Mb(s=Hn()){return Tg(s)||Ob(s)||Db(s)||Pb(s)||/windows phone/i.test(s)||Nb(s)}function Lb(s,t=[]){let n;switch(s){case"Browser":n=oT(Hn());break;case"Worker":n=`${oT(Hn())}-${s}`;break;default:n=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${a}`}class WI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=h=>new Promise((p,v)=>{try{const T=t(h);p(T)}catch(T){v(T)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function JI(s,t={}){return eo(s,"GET","/v2/passwordPolicy",to(s,t))}const $I=6;class t2{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$I,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class e2{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lT(this),this.idTokenSubscription=new lT(this),this.beforeStateQueue=new WI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tu.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Sf(this,{idToken:t}),a=await Rs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Vi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,p=a?._redirectEventId,v=await this.tryRedirectSignIn(t);(!h||h===p)&&v?.user&&(a=v.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await xf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=DI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vi(this.app))return Promise.reject(jr(this));const n=t?Xe(t):null;return n&&Vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vi(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vi(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await JI(this),n=new t2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Cc("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await YI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ur(t)||this._popupRedirectResolver;Vt(n,this,"argument-error"),this.redirectPersistenceManager=await tu.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let p=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vt(v,this,"internal-error"),v.then(()=>{p||h(this.currentUser)}),typeof n=="function"){const T=t.addObserver(n,a,l);return()=>{p=!0,T()}}else{const T=t.addObserver(n);return()=>{p=!0,T()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&NI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function sl(s){return Xe(s)}class lT{constructor(t){this.auth=t,this.observer=null,this.addObserver=t1(n=>this.observer=n)}get next(){return Vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n2(s){Wf=s}function kb(s){return Wf.loadJS(s)}function i2(){return Wf.recaptchaEnterpriseScript}function s2(){return Wf.gapiScript}function r2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class a2{constructor(){this.enterprise=new o2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class o2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const l2="recaptcha-enterprise",Vb="NO_RECAPTCHA";class u2{constructor(t){this.type=l2,this.auth=sl(t)}async verify(t="verify",n=!1){async function a(h){if(!n){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(p,v)=>{BI(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(T=>{if(T.recaptchaKey===void 0)v(new Error("recaptcha Enterprise site key undefined"));else{const E=new UI(T);return h.tenantId==null?h._agentRecaptchaConfig=E:h._tenantRecaptchaConfigs[h.tenantId]=E,p(E.siteKey)}}).catch(T=>{v(T)})})}function l(h,p,v){const T=window.grecaptcha;iT(T)?T.enterprise.ready(()=>{T.enterprise.execute(h,{action:t}).then(E=>{p(E)}).catch(()=>{p(Vb)})}):v(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new a2().execute("siteKey",{action:"verify"}):new Promise((h,p)=>{a(this.auth).then(v=>{if(!n&&iT(window.grecaptcha))l(v,h,p);else{if(typeof window>"u"){p(new Error("RecaptchaVerifier is only supported in browser"));return}let T=i2();T.length!==0&&(T+=v),kb(T).then(()=>{l(v,h,p)}).catch(E=>{p(E)})}}).catch(v=>{p(v)})})}}async function uT(s,t,n,a=!1,l=!1){const h=new u2(s);let p;if(l)p=Vb;else try{p=await h.verify(n)}catch{p=await h.verify(n,!0)}const v={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in v){const T=v.phoneEnrollmentInfo.phoneNumber,E=v.phoneEnrollmentInfo.recaptchaToken;Object.assign(v,{phoneEnrollmentInfo:{phoneNumber:T,recaptchaToken:E,captchaResponse:p,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in v){const T=v.phoneSignInInfo.recaptchaToken;Object.assign(v,{phoneSignInInfo:{recaptchaToken:T,captchaResponse:p,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return v}return a?Object.assign(v,{captchaResp:p}):Object.assign(v,{captchaResponse:p}),Object.assign(v,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(v,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),v}async function Np(s,t,n,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await uT(s,t,n,n==="getOobCode");return a(s,h)}else return a(s,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await uT(s,t,n,n==="getOobCode");return a(s,p)}else return Promise.reject(h)})}function c2(s,t){const n=Of(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(Zo(h,t??{}))return l;Is(l,"already-initialized")}return n.initialize({options:t})}function h2(s,t){const n=t?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Ur);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function f2(s,t,n){const a=sl(s);Vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=zb(t),{host:p,port:v}=d2(t),T=v===null?"":`:${v}`,E={url:`${h}//${p}${T}/`},I=Object.freeze({host:p,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Vt(Zo(E,a.config.emulator)&&Zo(I,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=E,a.emulatorConfig=I,a.settings.appVerificationDisabledForTesting=!0,Wa(p)?(Mp(`${h}//${p}${T}`),kT("Auth",!0)):m2()}function zb(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function d2(s){const t=zb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:cT(a.substr(h.length+1))}}else{const[h,p]=a.split(":");return{host:h,port:cT(p)}}}function cT(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function m2(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Eg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(t){return zr("not implemented")}_linkToIdToken(t,n){return zr("not implemented")}_getReauthenticationResolver(t){return zr("not implemented")}}async function p2(s,t){return eo(s,"POST","/v1/accounts:signUp",t)}async function g2(s,t){return Vc(s,"POST","/v1/accounts:signInWithPassword",to(s,t))}async function _2(s,t){return Vc(s,"POST","/v1/accounts:signInWithEmailLink",to(s,t))}async function y2(s,t){return Vc(s,"POST","/v1/accounts:signInWithEmailLink",to(s,t))}class xc extends Eg{constructor(t,n,a,l=null){super("password",a),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new xc(t,n,"password")}static _fromEmailAndCode(t,n,a=null){return new xc(t,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(t,n,"signInWithPassword",g2);case"emailLink":return _2(t,{email:this._email,oobCode:this._password});default:Is(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(t,a,"signUpPassword",p2);case"emailLink":return y2(t,{idToken:n,email:this._email,oobCode:this._password});default:Is(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function eu(s,t){return Vc(s,"POST","/v1/accounts:signInWithIdp",to(s,t))}const v2="http://localhost";class Wo extends Eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Wo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Is("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=n;if(!a||!l)return null;const p=new Wo(a,l);return p.idToken=h.idToken||void 0,p.accessToken=h.accessToken||void 0,p.secret=h.secret,p.nonce=h.nonce,p.pendingToken=h.pendingToken||null,p}_getIdTokenResponse(t){const n=this.buildRequest();return eu(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,eu(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,eu(t,n)}buildRequest(){const t={requestUri:v2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ic(n)}return t}}function T2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E2(s){const t=ec(nc(s)).link,n=t?ec(nc(t)).deep_link_id:null,a=ec(nc(s)).deep_link_id;return(a?ec(nc(a)).link:null)||a||n||t||s}class bg{constructor(t){const n=ec(nc(t)),a=n.apiKey??null,l=n.oobCode??null,h=T2(n.mode??null);Vt(a&&l&&h,"argument-error"),this.apiKey=a,this.operation=h,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=E2(t);try{return new bg(n)}catch{return null}}}class fu{constructor(){this.providerId=fu.PROVIDER_ID}static credential(t,n){return xc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const a=bg.parseLink(n);return Vt(a,"argument-error"),xc._fromEmailAndCode(t,a.code,a.tenantId)}}fu.PROVIDER_ID="password";fu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ub{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class zc extends Ub{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Da extends zc{constructor(){super("facebook.com")}static credential(t){return Wo._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Da.credentialFromTaggedObject(t)}static credentialFromError(t){return Da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Da.credential(t.oauthAccessToken)}catch{return null}}}Da.FACEBOOK_SIGN_IN_METHOD="facebook.com";Da.PROVIDER_ID="facebook.com";class Ma extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Wo._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ma.credentialFromTaggedObject(t)}static credentialFromError(t){return Ma.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Ma.credential(n,a)}catch{return null}}}Ma.GOOGLE_SIGN_IN_METHOD="google.com";Ma.PROVIDER_ID="google.com";class La extends zc{constructor(){super("github.com")}static credential(t){return Wo._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return La.credentialFromTaggedObject(t)}static credentialFromError(t){return La.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return La.credential(t.oauthAccessToken)}catch{return null}}}La.GITHUB_SIGN_IN_METHOD="github.com";La.PROVIDER_ID="github.com";class ka extends zc{constructor(){super("twitter.com")}static credential(t,n){return Wo._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ka.credentialFromTaggedObject(t)}static credentialFromError(t){return ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return ka.credential(n,a)}catch{return null}}}ka.TWITTER_SIGN_IN_METHOD="twitter.com";ka.PROVIDER_ID="twitter.com";async function b2(s,t){return Vc(s,"POST","/v1/accounts:signUp",to(s,t))}class Jo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const h=await Rs._fromIdTokenResponse(t,a,l),p=hT(a);return new Jo({user:h,providerId:p,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=hT(a);return new Jo({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function hT(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Rf extends cr{constructor(t,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new Rf(t,n,a,l)}}function Bb(s,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(s,h,t,a):h})}async function w2(s,t,n=!1){const a=await Sc(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Jo._forOperation(s,"link",a)}async function A2(s,t,n=!1){const{auth:a}=s;if(Vi(a.app))return Promise.reject(jr(a));const l="reauthenticate";try{const h=await Sc(s,Bb(a,l,t,s),n);Vt(h.idToken,a,"internal-error");const p=vg(h.idToken);Vt(p,a,"internal-error");const{sub:v}=p;return Vt(s.uid===v,a,"user-mismatch"),Jo._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Is(a,"user-mismatch"),h}}async function jb(s,t,n=!1){if(Vi(s.app))return Promise.reject(jr(s));const a="signIn",l=await Bb(s,a,t),h=await Jo._fromIdTokenResponse(s,a,l);return n||await s._updateCurrentUser(h.user),h}async function S2(s,t){return jb(sl(s),t)}async function Hb(s){const t=sl(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function x2(s,t,n){if(Vi(s.app))return Promise.reject(jr(s));const a=sl(s),p=await Np(a,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b2).catch(T=>{throw T.code==="auth/password-does-not-meet-requirements"&&Hb(s),T}),v=await Jo._fromIdTokenResponse(a,"signIn",p);return await a._updateCurrentUser(v.user),v}function R2(s,t,n){return Vi(s.app)?Promise.reject(jr(s)):S2(Xe(s),fu.credential(t,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Hb(s),a})}function C2(s,t,n,a){return Xe(s).onIdTokenChanged(t,n,a)}function I2(s,t,n){return Xe(s).beforeAuthStateChanged(t,n)}function N2(s,t,n,a){return Xe(s).onAuthStateChanged(t,n,a)}const Cf="__sak";class qb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cf,"1"),this.storage.removeItem(Cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const O2=1e3,P2=10;class Fb extends qb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((p,v,T)=>{this.notifyListeners(p,T)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!n&&this.localCache[a]===p||this.notifyListeners(a,p)},h=this.storage.getItem(a);XI()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,P2):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},O2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Fb.type="LOCAL";const D2=Fb;class Gb extends qb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Gb.type="SESSION";const Zb=Gb;function M2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Jf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new Jf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:h}=n.data,p=this.handlersMap[l];if(!p?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const v=Array.from(p).map(async E=>E(n.origin,h)),T=await M2(v);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:T})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jf.receivers=[];function wg(s="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return s+n}class L2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,p;return new Promise((v,T)=>{const E=wg("",20);l.port1.start();const I=setTimeout(()=>{T(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(C){const z=C;if(z.data.eventId===E)switch(z.data.status){case"ack":clearTimeout(I),h=setTimeout(()=>{T(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(z.data.response);break;default:clearTimeout(I),clearTimeout(h),T(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:t,eventId:E,data:n},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function lr(){return window}function k2(s){lr().location.href=s}function Kb(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function V2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z2(){return navigator?.serviceWorker?.controller||null}function U2(){return Kb()?self:null}const Yb="firebaseLocalStorageDb",B2=1,If="firebaseLocalStorage",Qb="fbase_key";class Uc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $f(s,t){return s.transaction([If],t?"readwrite":"readonly").objectStore(If)}function j2(){const s=indexedDB.deleteDatabase(Yb);return new Uc(s).toPromise()}function Op(){const s=indexedDB.open(Yb,B2);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(If,{keyPath:Qb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(If)?t(a):(a.close(),await j2(),t(await Op()))})})}async function fT(s,t,n){const a=$f(s,!0).put({[Qb]:t,value:n});return new Uc(a).toPromise()}async function H2(s,t){const n=$f(s,!1).get(t),a=await new Uc(n).toPromise();return a===void 0?null:a.value}function dT(s,t){const n=$f(s,!0).delete(t);return new Uc(n).toPromise()}const q2=800,F2=3;class Xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Op(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>F2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jf._getInstance(U2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await V2(),!this.activeServiceWorker)return;this.sender=new L2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||z2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Op();return await fT(t,Cf,"1"),await dT(t,Cf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>fT(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>H2(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>dT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=$f(l,!1).getAll();return new Uc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xb.type="LOCAL";const G2=Xb;new kc(3e4,6e4);function Z2(s,t){return t?Ur(t):(Vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ag extends Eg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return eu(t,this._buildIdpRequest())}_linkToIdToken(t,n){return eu(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return eu(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function K2(s){return jb(s.auth,new Ag(s),s.bypassAuthState)}function Y2(s){const{auth:t,user:n}=s;return Vt(n,t,"internal-error"),A2(n,new Ag(s),s.bypassAuthState)}async function Q2(s){const{auth:t,user:n}=s;return Vt(n,t,"internal-error"),w2(n,new Ag(s),s.bypassAuthState)}class Wb{constructor(t,n,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:h,error:p,type:v}=t;if(p){this.reject(p);return}const T={auth:this.auth,requestUri:n,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(T))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return K2;case"linkViaPopup":case"linkViaRedirect":return Q2;case"reauthViaPopup":case"reauthViaRedirect":return Y2;default:Is(this.auth,"internal-error")}}resolve(t){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const X2=new kc(2e3,1e4);class Xl extends Wb{constructor(t,n,a,l,h){super(t,n,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Xl.currentPopupAction&&Xl.currentPopupAction.cancel(),Xl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Vt(t,this.auth,"internal-error"),t}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const t=wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,X2.get())};t()}}Xl.currentPopupAction=null;const W2="pendingRedirect",cf=new Map;class J2 extends Wb{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=cf.get(this.auth._key());if(!t){try{const a=await $2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}cf.set(this.auth._key(),t)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $2(s,t){const n=nN(t),a=eN(s);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function tN(s,t){cf.set(s._key(),t)}function eN(s){return Ur(s._redirectPersistence)}function nN(s){return uf(W2,s.config.apiKey,s.name)}async function iN(s,t,n=!1){if(Vi(s.app))return Promise.reject(jr(s));const a=sl(s),l=Z2(a,t),p=await new J2(a,l,n).execute();return p&&!n&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,t)),p}const sN=600*1e3;class rN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!aN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Jb(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";n.onError(or(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=sN&&this.cachedEventUids.clear(),this.cachedEventUids.has(mT(t))}saveEventToCache(t){this.cachedEventUids.add(mT(t)),this.lastProcessedEventTime=Date.now()}}function mT(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Jb({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function aN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jb(s);default:return!1}}async function oN(s,t={}){return eo(s,"GET","/v1/projects",t)}const lN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uN=/^https?/;async function cN(s){if(s.config.emulator)return;const{authorizedDomains:t}=await oN(s);for(const n of t)try{if(hN(n))return}catch{}Is(s,"unauthorized-domain")}function hN(s){const t=Cp(),{protocol:n,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const p=new URL(s);return p.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&p.hostname===a}if(!uN.test(n))return!1;if(lN.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const fN=new kc(3e4,6e4);function pT(){const s=lr().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function dN(s){return new Promise((t,n)=>{function a(){pT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pT(),n(or(s,"network-request-failed"))},timeout:fN.get()})}if(lr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(lr().gapi?.load)a();else{const l=r2("iframefcb");return lr()[l]=()=>{gapi.load?a():n(or(s,"network-request-failed"))},kb(`${s2()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw hf=null,t})}let hf=null;function mN(s){return hf=hf||dN(s),hf}const pN=new kc(5e3,15e3),gN="__/auth/iframe",_N="emulator/auth/iframe",yN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TN(s){const t=s.config;Vt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?yg(t,_N):`https://${s.config.authDomain}/${gN}`,a={apiKey:t.apiKey,appName:s.name,v:tl},l=vN.get(s.config.apiHost);l&&(a.eid=l);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${n}?${Ic(a).slice(1)}`}async function EN(s){const t=await mN(s),n=lr().gapi;return Vt(n,s,"internal-error"),t.open({where:document.body,url:TN(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yN,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const p=or(s,"network-request-failed"),v=lr().setTimeout(()=>{h(p)},pN.get());function T(){lr().clearTimeout(v),l(a)}a.ping(T).then(T,()=>{h(p)})}))}const bN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wN=500,AN=600,SN="_blank",xN="http://localhost";class gT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RN(s,t,n,a=wN,l=AN){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let v="";const T={...bN,width:a.toString(),height:l.toString(),top:h,left:p},E=Hn().toLowerCase();n&&(v=Ib(E)?SN:n),Rb(E)&&(t=t||xN,T.scrollbars="yes");const I=Object.entries(T).reduce((z,[$,ct])=>`${z}${$}=${ct},`,"");if(QI(E)&&v!=="_self")return CN(t||"",v),new gT(null);const C=window.open(t||"",v,I);Vt(C,s,"popup-blocked");try{C.focus()}catch{}return new gT(C)}function CN(s,t){const n=document.createElement("a");n.href=s,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const IN="__/auth/handler",NN="emulator/auth/handler",ON=encodeURIComponent("fac");async function _T(s,t,n,a,l,h){Vt(s.config.authDomain,s,"auth-domain-config-required"),Vt(s.config.apiKey,s,"invalid-api-key");const p={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:tl,eventId:l};if(t instanceof Ub){t.setDefaultLanguage(s.languageCode),p.providerId=t.providerId||"",$S(t.getCustomParameters())||(p.customParameters=JSON.stringify(t.getCustomParameters()));for(const[I,C]of Object.entries({}))p[I]=C}if(t instanceof zc){const I=t.getScopes().filter(C=>C!=="");I.length>0&&(p.scopes=I.join(","))}s.tenantId&&(p.tid=s.tenantId);const v=p;for(const I of Object.keys(v))v[I]===void 0&&delete v[I];const T=await s._getAppCheckToken(),E=T?`#${ON}=${encodeURIComponent(T)}`:"";return`${PN(s)}?${Ic(v).slice(1)}${E}`}function PN({config:s}){return s.emulator?yg(s,NN):`https://${s.authDomain}/${IN}`}const $m="webStorageSupport";class DN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zb,this._completeRedirectFn=iN,this._overrideRedirectResult=tN}async _openPopup(t,n,a,l){Gr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await _T(t,n,a,Cp(),l);return RN(t,h,wg())}async _openRedirect(t,n,a,l){await this._originValidation(t);const h=await _T(t,n,a,Cp(),l);return k2(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Gr(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await EN(t),a=new rN(t);return n.register("authEvent",l=>(Vt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send($m,{type:$m},l=>{const h=l?.[0]?.[$m];h!==void 0&&n(!!h),Is(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Mb()||Cb()||Tg()}}const MN=DN;var yT="@firebase/auth",vT="1.12.0";class LN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VN(s){Ko(new Fa("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:p,authDomain:v}=a.options;Vt(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const T={apiKey:p,authDomain:v,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lb(s)},E=new e2(a,l,h,T);return h2(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Ko(new Fa("auth-internal",t=>{const n=sl(t.getProvider("auth").getImmediate());return(a=>new LN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(yT,vT,kN(s)),nr(yT,vT,"esm2020")}const zN=300,UN=LT("authIdTokenMaxAge")||zN;let TT=null;const BN=s=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>UN)return;const l=n?.token;TT!==l&&(TT=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function jN(s=BT()){const t=Of(s,"auth");if(t.isInitialized())return t.getImmediate();const n=c2(s,{popupRedirectResolver:MN,persistence:[G2,D2,Zb]}),a=LT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const p=BN(h.toString());I2(n,p,()=>p(n.currentUser)),C2(n,v=>p(v))}}const l=DT("auth");return l&&f2(n,`http://${l}`),n}function HN(){return document.getElementsByTagName("head")?.[0]??document}n2({loadJS(s){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const h=or("internal-error");h.customData=l,n(h)},a.type="text/javascript",a.charset="UTF-8",HN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VN("Browser");const $b="firebasestorage.googleapis.com",tw="storageBucket",qN=120*1e3,FN=600*1e3;class Je extends cr{constructor(t,n,a=0){super(tp(t),`Firebase Storage: ${n} (${tp(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Je.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return tp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var We;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(We||(We={}));function tp(s){return"storage/"+s}function Sg(){const s="An unknown error occurred, please check the error payload for server response.";return new Je(We.UNKNOWN,s)}function GN(s){return new Je(We.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function ZN(s){return new Je(We.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function KN(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Je(We.UNAUTHENTICATED,s)}function YN(){return new Je(We.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QN(s){return new Je(We.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function XN(){return new Je(We.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WN(){return new Je(We.CANCELED,"User canceled the upload/download.")}function JN(s){return new Je(We.INVALID_URL,"Invalid URL '"+s+"'.")}function $N(s){return new Je(We.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function tO(){return new Je(We.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tw+"' property when initializing the app?")}function eO(){return new Je(We.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nO(){return new Je(We.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function iO(s){return new Je(We.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pp(s){return new Je(We.INVALID_ARGUMENT,s)}function ew(){return new Je(We.APP_DELETED,"The Firebase app was deleted.")}function sO(s){return new Je(We.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mc(s,t){return new Je(We.INVALID_FORMAT,"String does not match format '"+s+"': "+t)}function tc(s){throw new Je(We.INTERNAL_ERROR,"Internal error: "+s)}class Ui{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let a;try{a=Ui.makeFromUrl(t,n)}catch{return new Ui(t,"")}if(a.path==="")return a;throw $N(t)}static makeFromUrl(t,n){let a=null;const l="([A-Za-z0-9.\\-_]+)";function h(Lt){Lt.path.charAt(Lt.path.length-1)==="/"&&(Lt.path_=Lt.path_.slice(0,-1))}const p="(/(.*))?$",v=new RegExp("^gs://"+l+p,"i"),T={bucket:1,path:3};function E(Lt){Lt.path_=decodeURIComponent(Lt.path)}const I="v[A-Za-z0-9_]+",C=n.replace(/[.]/g,"\\."),z="(/([^?#]*).*)?$",$=new RegExp(`^https?://${C}/${I}/b/${l}/o${z}`,"i"),ct={bucket:1,path:3},st=n===$b?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Z="([^?#]*)",mt=new RegExp(`^https?://${st}/${l}/${Z}`,"i"),yt=[{regex:v,indices:T,postModify:h},{regex:$,indices:ct,postModify:E},{regex:mt,indices:{bucket:1,path:2},postModify:E}];for(let Lt=0;Lt<yt.length;Lt++){const Bt=yt[Lt],jt=Bt.regex.exec(t);if(jt){const U=jt[Bt.indices.bucket];let O=jt[Bt.indices.path];O||(O=""),a=new Ui(U,O),Bt.postModify(a);break}}if(a==null)throw JN(t);return a}}class rO{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function aO(s,t,n){let a=1,l=null,h=null,p=!1,v=0;function T(){return v===2}let E=!1;function I(...Z){E||(E=!0,t.apply(null,Z))}function C(Z){l=setTimeout(()=>{l=null,s($,T())},Z)}function z(){h&&clearTimeout(h)}function $(Z,...mt){if(E){z();return}if(Z){z(),I.call(null,Z,...mt);return}if(T()||p){z(),I.call(null,Z,...mt);return}a<64&&(a*=2);let yt;v===1?(v=2,yt=0):yt=(a+Math.random())*1e3,C(yt)}let ct=!1;function st(Z){ct||(ct=!0,z(),!E&&(l!==null?(Z||(v=2),clearTimeout(l),C(0)):Z||(v=1)))}return C(0),h=setTimeout(()=>{p=!0,st(!0)},n),st}function oO(s){s(!1)}function lO(s){return s!==void 0}function uO(s){return typeof s=="object"&&!Array.isArray(s)}function xg(s){return typeof s=="string"||s instanceof String}function ET(s){return Rg()&&s instanceof Blob}function Rg(){return typeof Blob<"u"}function bT(s,t,n,a){if(a<t)throw Pp(`Invalid value for '${s}'. Expected ${t} or greater.`);if(a>n)throw Pp(`Invalid value for '${s}'. Expected ${n} or less.`)}function Cg(s,t,n){let a=t;return n==null&&(a=`https://${t}`),`${n}://${a}/v0${s}`}function nw(s){const t=encodeURIComponent;let n="?";for(const a in s)if(s.hasOwnProperty(a)){const l=t(a)+"="+t(s[a]);n=n+l+"&"}return n=n.slice(0,-1),n}var Go;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Go||(Go={}));function cO(s,t){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,h=t.indexOf(s)!==-1;return n||l||h}class hO{constructor(t,n,a,l,h,p,v,T,E,I,C,z=!0,$=!1){this.url_=t,this.method_=n,this.headers_=a,this.body_=l,this.successCodes_=h,this.additionalRetryCodes_=p,this.callback_=v,this.errorCallback_=T,this.timeout_=E,this.progressCallback_=I,this.connectionFactory_=C,this.retry=z,this.isUsingEmulator=$,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ct,st)=>{this.resolve_=ct,this.reject_=st,this.start_()})}start_(){const t=(a,l)=>{if(l){a(!1,new Jh(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const p=v=>{const T=v.loaded,E=v.lengthComputable?v.total:-1;this.progressCallback_!==null&&this.progressCallback_(T,E)};this.progressCallback_!==null&&h.addUploadProgressListener(p),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(p),this.pendingConnection_=null;const v=h.getErrorCode()===Go.NO_ERROR,T=h.getStatus();if(!v||cO(T,this.additionalRetryCodes_)&&this.retry){const I=h.getErrorCode()===Go.ABORT;a(!1,new Jh(!1,null,I));return}const E=this.successCodes_.indexOf(T)!==-1;a(!0,new Jh(E,h))})},n=(a,l)=>{const h=this.resolve_,p=this.reject_,v=l.connection;if(l.wasSuccessCode)try{const T=this.callback_(v,v.getResponse());lO(T)?h(T):h()}catch(T){p(T)}else if(v!==null){const T=Sg();T.serverResponse=v.getErrorText(),this.errorCallback_?p(this.errorCallback_(v,T)):p(T)}else if(l.canceled){const T=this.appDelete_?ew():WN();p(T)}else{const T=XN();p(T)}};this.canceled_?n(!1,new Jh(!1,null,!0)):this.backoffId_=aO(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&oO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jh{constructor(t,n,a){this.wasSuccessCode=t,this.connection=n,this.canceled=!!a}}function fO(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function dO(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function mO(s,t){t&&(s["X-Firebase-GMPID"]=t)}function pO(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function gO(s,t,n,a,l,h,p=!0,v=!1){const T=nw(s.urlParams),E=s.url+T,I=Object.assign({},s.headers);return mO(I,t),fO(I,n),dO(I,h),pO(I,a),new hO(E,s.method,I,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,p,v)}function _O(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yO(...s){const t=_O();if(t!==void 0){const n=new t;for(let a=0;a<s.length;a++)n.append(s[a]);return n.getBlob()}else{if(Rg())return new Blob(s);throw new Je(We.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vO(s,t,n){return s.webkitSlice?s.webkitSlice(t,n):s.mozSlice?s.mozSlice(t,n):s.slice?s.slice(t,n):null}function TO(s){if(typeof atob>"u")throw iO("base-64");return atob(s)}const tr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ep{constructor(t,n){this.data=t,this.contentType=n||null}}function EO(s,t){switch(s){case tr.RAW:return new ep(iw(t));case tr.BASE64:case tr.BASE64URL:return new ep(sw(s,t));case tr.DATA_URL:return new ep(wO(t),AO(t))}throw Sg()}function iw(s){const t=[];for(let n=0;n<s.length;n++){let a=s.charCodeAt(n);if(a<=127)t.push(a);else if(a<=2047)t.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const h=a,p=s.charCodeAt(++n);a=65536|(h&1023)<<10|p&1023,t.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?t.push(239,191,189):t.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(t)}function bO(s){let t;try{t=decodeURIComponent(s)}catch{throw mc(tr.DATA_URL,"Malformed data URL.")}return iw(t)}function sw(s,t){switch(s){case tr.BASE64:{const l=t.indexOf("-")!==-1,h=t.indexOf("_")!==-1;if(l||h)throw mc(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case tr.BASE64URL:{const l=t.indexOf("+")!==-1,h=t.indexOf("/")!==-1;if(l||h)throw mc(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=TO(t)}catch(l){throw l.message.includes("polyfill")?l:mc(s,"Invalid character found")}const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}class rw{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw mc(tr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=SO(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=t.substring(t.indexOf(",")+1)}}function wO(s){const t=new rw(s);return t.base64?sw(tr.BASE64,t.rest):bO(t.rest)}function AO(s){return new rw(s).contentType}function SO(s,t){return s.length>=t.length?s.substring(s.length-t.length)===t:!1}class Va{constructor(t,n){let a=0,l="";ET(t)?(this.data_=t,a=t.size,l=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),a=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),a=t.length),this.size_=a,this.type_=l}size(){return this.size_}type(){return this.type_}slice(t,n){if(ET(this.data_)){const a=this.data_,l=vO(a,t,n);return l===null?null:new Va(l)}else{const a=new Uint8Array(this.data_.buffer,t,n-t);return new Va(a,!0)}}static getBlob(...t){if(Rg()){const n=t.map(a=>a instanceof Va?a.data_:a);return new Va(yO.apply(null,n))}else{const n=t.map(p=>xg(p)?EO(tr.RAW,p).data:p.data_);let a=0;n.forEach(p=>{a+=p.byteLength});const l=new Uint8Array(a);let h=0;return n.forEach(p=>{for(let v=0;v<p.length;v++)l[h++]=p[v]}),new Va(l,!0)}}uploadData(){return this.data_}}function aw(s){let t;try{t=JSON.parse(s)}catch{return null}return uO(t)?t:null}function xO(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function RO(s,t){const n=t.split("/").filter(a=>a.length>0).join("/");return s.length===0?n:s+"/"+n}function ow(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}function CO(s,t){return t}class Wn{constructor(t,n,a,l){this.server=t,this.local=n||t,this.writable=!!a,this.xform=l||CO}}let $h=null;function IO(s){return!xg(s)||s.length<2?s:ow(s)}function lw(){if($h)return $h;const s=[];s.push(new Wn("bucket")),s.push(new Wn("generation")),s.push(new Wn("metageneration")),s.push(new Wn("name","fullPath",!0));function t(h,p){return IO(p)}const n=new Wn("name");n.xform=t,s.push(n);function a(h,p){return p!==void 0?Number(p):p}const l=new Wn("size");return l.xform=a,s.push(l),s.push(new Wn("timeCreated")),s.push(new Wn("updated")),s.push(new Wn("md5Hash",null,!0)),s.push(new Wn("cacheControl",null,!0)),s.push(new Wn("contentDisposition",null,!0)),s.push(new Wn("contentEncoding",null,!0)),s.push(new Wn("contentLanguage",null,!0)),s.push(new Wn("contentType",null,!0)),s.push(new Wn("metadata","customMetadata",!0)),$h=s,$h}function NO(s,t){function n(){const a=s.bucket,l=s.fullPath,h=new Ui(a,l);return t._makeStorageReference(h)}Object.defineProperty(s,"ref",{get:n})}function OO(s,t,n){const a={};a.type="file";const l=n.length;for(let h=0;h<l;h++){const p=n[h];a[p.local]=p.xform(a,t[p.server])}return NO(a,s),a}function uw(s,t,n){const a=aw(t);return a===null?null:OO(s,a,n)}function PO(s,t,n,a){const l=aw(t);if(l===null||!xg(l.downloadTokens))return null;const h=l.downloadTokens;if(h.length===0)return null;const p=encodeURIComponent;return h.split(",").map(E=>{const I=s.bucket,C=s.fullPath,z="/b/"+p(I)+"/o/"+p(C),$=Cg(z,n,a),ct=nw({alt:"media",token:E});return $+ct})[0]}function DO(s,t){const n={},a=t.length;for(let l=0;l<a;l++){const h=t[l];h.writable&&(n[h.server]=s[h.local])}return JSON.stringify(n)}class cw{constructor(t,n,a,l){this.url=t,this.method=n,this.handler=a,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hw(s){if(!s)throw Sg()}function MO(s,t){function n(a,l){const h=uw(s,l,t);return hw(h!==null),h}return n}function LO(s,t){function n(a,l){const h=uw(s,l,t);return hw(h!==null),PO(h,l,s.host,s._protocol)}return n}function fw(s){function t(n,a){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=YN():l=KN():n.getStatus()===402?l=ZN(s.bucket):n.getStatus()===403?l=QN(s.path):l=a,l.status=n.getStatus(),l.serverResponse=a.serverResponse,l}return t}function kO(s){const t=fw(s);function n(a,l){let h=t(a,l);return a.getStatus()===404&&(h=GN(s.path)),h.serverResponse=l.serverResponse,h}return n}function VO(s,t,n){const a=t.fullServerUrl(),l=Cg(a,s.host,s._protocol),h="GET",p=s.maxOperationRetryTime,v=new cw(l,h,LO(s,n),p);return v.errorHandler=kO(t),v}function zO(s,t){return s&&s.contentType||t&&t.type()||"application/octet-stream"}function UO(s,t,n){const a=Object.assign({},n);return a.fullPath=s.path,a.size=t.size(),a.contentType||(a.contentType=zO(null,t)),a}function BO(s,t,n,a,l){const h=t.bucketOnlyServerUrl(),p={"X-Goog-Upload-Protocol":"multipart"};function v(){let yt="";for(let Lt=0;Lt<2;Lt++)yt=yt+Math.random().toString().slice(2);return yt}const T=v();p["Content-Type"]="multipart/related; boundary="+T;const E=UO(t,a,l),I=DO(E,n),C="--"+T+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+I+`\r
--`+T+`\r
Content-Type: `+E.contentType+`\r
\r
`,z=`\r
--`+T+"--",$=Va.getBlob(C,a,z);if($===null)throw eO();const ct={name:E.fullPath},st=Cg(h,s.host,s._protocol),Z="POST",mt=s.maxUploadRetryTime,vt=new cw(st,Z,MO(s,n),mt);return vt.urlParams=ct,vt.headers=p,vt.body=$.uploadData(),vt.errorHandler=fw(t),vt}class jO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Go.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Go.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Go.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,a,l,h){if(this.sent_)throw tc("cannot .send() more than once");if(Wa(t)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),h!==void 0)for(const p in h)h.hasOwnProperty(p)&&this.xhr_.setRequestHeader(p,h[p].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class HO extends jO{initXhr(){this.xhr_.responseType="text"}}function dw(){return new HO}class $o{constructor(t,n){this._service=t,n instanceof Ui?this._location=n:this._location=Ui.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new $o(t,n)}get root(){const t=new Ui(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ow(this._location.path)}get storage(){return this._service}get parent(){const t=xO(this._location.path);if(t===null)return null;const n=new Ui(this._location.bucket,t);return new $o(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw sO(t)}}function qO(s,t,n){s._throwIfRoot("uploadBytes");const a=BO(s.storage,s._location,lw(),new Va(t,!0),n);return s.storage.makeRequestWithTokens(a,dw).then(l=>({metadata:l,ref:s}))}function FO(s){s._throwIfRoot("getDownloadURL");const t=VO(s.storage,s._location,lw());return s.storage.makeRequestWithTokens(t,dw).then(n=>{if(n===null)throw nO();return n})}function GO(s,t){const n=RO(s._location.path,t),a=new Ui(s._location.bucket,n);return new $o(s.storage,a)}function ZO(s){return/^[A-Za-z]+:\/\//.test(s)}function KO(s,t){return new $o(s,t)}function mw(s,t){if(s instanceof Ig){const n=s;if(n._bucket==null)throw tO();const a=new $o(n,n._bucket);return t!=null?mw(a,t):a}else return t!==void 0?GO(s,t):s}function YO(s,t){if(t&&ZO(t)){if(s instanceof Ig)return KO(s,t);throw Pp("To use ref(service, url), the first argument must be a Storage instance.")}else return mw(s,t)}function wT(s,t){const n=t?.[tw];return n==null?null:Ui.makeFromBucketSpec(n,s)}function QO(s,t,n,a={}){s.host=`${t}:${n}`;const l=Wa(t);l&&(Mp(`https://${s.host}/b`),kT("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:h}=a;h&&(s._overrideAuthToken=typeof h=="string"?h:zS(h,s.app.options.projectId))}class Ig{constructor(t,n,a,l,h,p=!1){this.app=t,this._authProvider=n,this._appCheckProvider=a,this._url=l,this._firebaseVersion=h,this._isUsingEmulator=p,this._bucket=null,this._host=$b,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qN,this._maxUploadRetryTime=FN,this._requests=new Set,l!=null?this._bucket=Ui.makeFromBucketSpec(l,this._host):this._bucket=wT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ui.makeFromBucketSpec(this._url,t):this._bucket=wT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){bT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){bT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $o(this,t)}_makeRequest(t,n,a,l,h=!0){if(this._deleted)return new rO(ew());{const p=gO(t,this._appId,a,l,n,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(p),p.getPromise().then(()=>this._requests.delete(p),()=>this._requests.delete(p)),p}}async makeRequestWithTokens(t,n){const[a,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,a,l).getPromise()}}const AT="@firebase/storage",ST="0.14.0";const pw="storage";function XO(s,t,n){return s=Xe(s),qO(s,t,n)}function WO(s){return s=Xe(s),FO(s)}function JO(s,t){return s=Xe(s),YO(s,t)}function $O(s=BT(),t){s=Xe(s);const a=Of(s,pw).getImmediate({identifier:t}),l=kS("storage");return l&&tP(a,...l),a}function tP(s,t,n,a={}){QO(s,t,n,a)}function eP(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new Ig(n,a,l,t,tl)}function nP(){Ko(new Fa(pw,eP,"PUBLIC").setMultipleInstances(!0)),nr(AT,ST,""),nr(AT,ST,"esm2020")}nP();const iP={apiKey:"AIzaSyCePsad6CJ95B2JZHxCkvAApW3adPkSjX0",authDomain:"urbanpulse-f8def.firebaseapp.com",projectId:"urbanpulse-f8def",storageBucket:"urbanpulse-f8def.appspot.com",messagingSenderId:"981556499502",appId:"1:981556499502:web:4eeb4041fb8774b9a5fbbf"},Ng=UT(iP),er=hI(Ng,{experimentalForceLongPolling:!0,useFetchStreams:!1}),Rc=jN(Ng),sP=$O(Ng),rP=({isOpen:s,onClose:t})=>{const[n,a]=xt.useState(!1),[l,h]=xt.useState(!1),[p,v]=xt.useState(null),[T,E]=xt.useState(null),[I,C]=xt.useState(""),[z,$]=xt.useState(!1),[ct,st]=xt.useState(null),[Z,mt]=xt.useState(null),[vt,yt]=xt.useState(null),[Lt,Bt]=xt.useState(0),[jt,U]=xt.useState(null),[O,M]=xt.useState({title:"",category:"Roads",description:"",imageUrl:"",location:null,address:""}),H=async()=>{h(!0),navigator.geolocation.getCurrentPosition(async ft=>{const at=ft.coords.latitude,Dt=ft.coords.longitude;try{const nt=(await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${at}&lon=${Dt}&format=json`,{headers:{"User-Agent":"UrbanPulse/1.0"}})).json()).display_name||`${at.toFixed(4)}, ${Dt.toFixed(4)}`;M({...O,location:{lat:at,lng:Dt},address:nt}),C(nt)}catch(pt){console.error("Error fetching address:",pt);const P=`${at.toFixed(4)}, ${Dt.toFixed(4)}`;M({...O,location:{lat:at,lng:Dt},address:P}),C(P)}h(!1)},ft=>{console.error(ft),h(!1),alert("Could not get location. Please enable GPS.")})},B=ft=>{const at=ft.target.files[0];if(at){E(at);const Dt=URL.createObjectURL(at);v(Dt)}},q=async()=>{try{const ft=await navigator.mediaDevices.getUserMedia({audio:!0}),at=new MediaRecorder(ft),Dt=[];at.ondataavailable=P=>{P.data.size>0&&Dt.push(P.data)},at.onstop=()=>{const P=new Blob(Dt,{type:"audio/webm"});st(P),mt(URL.createObjectURL(P)),ft.getTracks().forEach(nt=>nt.stop())},at.start(),yt(at),$(!0);const pt=setInterval(()=>{Bt(P=>P+1)},1e3);U(pt)}catch(ft){console.error("Error accessing microphone:",ft),alert("Microphone access denied or not available.")}},k=()=>{vt&&vt.state!=="inactive"&&(vt.stop(),$(!1),clearInterval(jt),Bt(0))},ee=()=>{st(null),mt(null),Bt(0)},Ve=ft=>{const at=Math.floor(ft/60),Dt=ft%60;return`${at}:${Dt<10?"0":""}${Dt}`},tt=async ft=>{ft.preventDefault(),a(!0);try{let at="";if(T){const pt=new FormData;pt.append("file",T),pt.append("upload_preset","urbanpulse");const P=await fetch("https://api.cloudinary.com/v1_1/dx97l3k4d/image/upload",{method:"POST",body:pt});if(!P.ok)throw new Error("Cloudinary upload failed");at=(await P.json())?.secure_url||""}let Dt="";if(ct){const pt=new FormData;pt.append("file",ct),pt.append("upload_preset","urbanpulse"),pt.append("resource_type","video");const P=await fetch("https://api.cloudinary.com/v1_1/dx97l3k4d/video/upload",{method:"POST",body:pt});if(!P.ok)throw new Error("Audio upload failed");Dt=(await P.json())?.secure_url||""}await xI(Sp(er,"reports"),{title:O.title,category:O.category,description:O.description,imageUrl:at,audioUrl:Dt,location:O.location,address:O.address||"",userId:Rc.currentUser.uid,status:"pending",createdAt:Rp()}),M({title:"",category:"Roads",description:"",imageUrl:"",location:null,address:""}),v(null),E(null),C(""),st(null),mt(null),t()}catch(at){console.error("The actual error is:",at),alert("Upload failed! See the browser console (F12) for the real error.")}finally{a(!1)}};return s?R.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[120] flex items-center justify-center p-4 overflow-y-auto",children:R.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[48px] p-8 md:p-12 shadow-2xl relative my-auto animate-in zoom-in-95 duration-300",children:[R.jsx("button",{onClick:t,className:"absolute top-8 right-8 text-slate-400 hover:text-slate-900 bg-slate-100 p-2 rounded-full transition-colors",children:R.jsx(RS,{size:20})}),R.jsxs("div",{className:"mb-10",children:[R.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Report Issue"}),R.jsx("p",{className:"text-slate-500 font-bold mt-2",children:"Help optimize our urban grid."})]}),R.jsxs("form",{onSubmit:tt,className:"space-y-8",children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Title"}),R.jsx("input",{required:!0,className:"w-full bg-slate-50 border-2 border-transparent focus:border-indigo-500 rounded-3xl p-5 outline-none transition-all font-bold text-slate-900 shadow-inner",placeholder:"Issue name...",value:O.title,onChange:ft=>M({...O,title:ft.target.value})})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Category"}),R.jsxs("select",{className:"w-full bg-slate-50 border-2 border-transparent focus:border-indigo-500 rounded-3xl p-5 outline-none transition-all font-bold text-slate-900 shadow-inner appearance-none",value:O.category,onChange:ft=>M({...O,category:ft.target.value}),children:[R.jsx("option",{children:"Roads"}),R.jsx("option",{children:"Sanitation"}),R.jsx("option",{children:"Utilities"}),R.jsx("option",{children:"Vandalism"})]})]})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Description"}),R.jsx("textarea",{required:!0,rows:"3",className:"w-full bg-slate-50 border-2 border-transparent focus:border-indigo-500 rounded-3xl p-5 outline-none transition-all font-bold text-slate-900 shadow-inner",placeholder:"Provide details...",value:O.description,onChange:ft=>M({...O,description:ft.target.value})})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[R.jsxs("div",{className:"relative group",children:[R.jsx("input",{type:"file",accept:"image/*",onChange:B,className:"hidden",id:"image-upload"}),R.jsx("label",{htmlFor:"image-upload",className:"flex flex-col items-center justify-center w-full h-32 bg-slate-50 border-2 border-dashed border-slate-200 rounded-[32px] cursor-pointer hover:border-indigo-400 hover:bg-indigo-50 transition-all overflow-hidden",children:p?R.jsx("img",{src:p,className:"w-full h-full object-cover",alt:"Preview"}):R.jsxs(R.Fragment,{children:[R.jsx(eS,{className:"text-slate-400 mb-2"}),R.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase",children:"Attach Photo"})]})})]}),R.jsx("button",{type:"button",onClick:H,className:`flex flex-col items-center justify-center w-full h-32 rounded-[32px] transition-all border-2 p-2 text-center ${O.location?"bg-emerald-50 border-emerald-200 text-emerald-600":"bg-slate-50 border-slate-100 text-slate-500 hover:border-indigo-400"}`,children:l?R.jsx(Bv,{className:"animate-spin"}):O.location?R.jsxs(R.Fragment,{children:[R.jsx(uS,{className:"mb-1",size:20}),R.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest mb-1",children:"Pinned"}),I&&R.jsx("span",{className:"text-[9px] font-medium leading-tight line-clamp-2 px-2",children:I})]}):R.jsxs(R.Fragment,{children:[R.jsx(gS,{className:"mb-2"}),R.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Pin Location"})]})})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Voice Message (Optional)"}),R.jsx("div",{className:"flex items-center gap-4 bg-slate-50 p-4 rounded-[24px] border-2 border-slate-100",children:!Z&&!z?R.jsxs("button",{type:"button",onClick:q,className:"flex items-center gap-2 text-slate-500 hover:text-indigo-600 font-bold text-xs uppercase transition-colors",children:[R.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center group-hover:bg-indigo-100 transition-colors",children:R.jsx(yS,{size:18})}),R.jsx("span",{children:"Record Audio"})]}):z?R.jsxs("div",{className:"flex items-center gap-3 w-full",children:[R.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-100 text-rose-600 flex items-center justify-center animate-pulse",children:R.jsx("div",{className:"w-3 h-3 bg-rose-600 rounded-full"})}),R.jsx("span",{className:"text-rose-600 font-black text-xs uppercase tracking-widest",children:Ve(Lt)}),R.jsx("button",{type:"button",onClick:k,className:"ml-auto bg-slate-900 text-white px-4 py-2 rounded-full text-[10px] font-black uppercase hover:bg-slate-800",children:"Stop"})]}):R.jsxs("div",{className:"flex items-center gap-3 w-full",children:[R.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center",children:R.jsx(TS,{size:18,fill:"currentColor"})}),R.jsxs("div",{className:"flex-1",children:[R.jsx("span",{className:"text-slate-900 font-bold text-xs uppercase block",children:"Audio Recorded"}),R.jsx("span",{className:"text-slate-400 text-[10px] font-bold uppercase",children:"Ready to send"})]}),R.jsx("audio",{src:Z,controls:!0,className:"hidden"}),R.jsx("button",{type:"button",onClick:ee,className:"p-2 text-rose-400 hover:text-rose-600 transition-colors",children:R.jsx(AS,{size:18})})]})})]}),R.jsxs("button",{type:"submit",disabled:n,className:"w-full bg-slate-900 text-white p-6 rounded-[32px] font-black text-xl shadow-2xl shadow-slate-200 hover:bg-indigo-600 hover:-translate-y-1 transition-all flex items-center justify-center gap-3 disabled:opacity-50 disabled:translate-y-0",children:[n?R.jsx(Bv,{className:"animate-spin"}):R.jsx(bS,{size:24}),n?"UPLOADING...":"SUBMIT DATA"]})]})]})}):null},aP=({onOpenModal:s,reports:t})=>{const[n,a]=xt.useState(null),[l,h]=xt.useState({title:"",description:"",category:""}),p=C=>{switch(C){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-emerald-100 text-emerald-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=async C=>{if(window.confirm("Are you sure you want to delete this report?"))try{await yb(Ua(er,"reports",C))}catch(z){console.error("Error deleting report:",z),alert("Failed to delete report. Please try again.")}},T=C=>{a(C.id),h({title:C.title,description:C.description,category:C.category})},E=async()=>{try{const C=Ua(er,"reports",n);await of(C,{title:l.title,description:l.description,category:l.category,updatedAt:new Date}),a(null)}catch(C){console.error("Error updating report:",C),alert("Failed to update report. Please try again.")}},I=()=>{a(null),h({title:"",description:"",category:""})};return R.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.length===0?R.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[R.jsxs("h2",{className:"text-4xl md:text-6xl font-black uppercase text-center mb-8",children:["Optimize Your ",R.jsx("span",{className:"text-indigo-600 italic",children:"Grid."})]}),R.jsx("button",{onClick:s,className:"animate-glow bg-indigo-600 text-white px-12 py-5 rounded-[32px] text-xl font-bold",children:"+ GET STARTED"})]}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-4 md:px-8 mb-20",children:t.map(C=>R.jsxs("div",{className:`bg-white rounded-[32px] overflow-hidden shadow-lg border-2 transition-all hover:shadow-2xl group relative ${C.status==="resolved"?"bg-emerald-50 border-emerald-200":"border-slate-100"}`,children:[C.status==="pending"&&R.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[R.jsx("button",{onClick:()=>T(C),className:"p-2 bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200 transition-colors",title:"Edit Report",children:""}),R.jsx("button",{onClick:()=>v(C.id),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors",title:"Delete Report",children:""})]}),R.jsx("div",{className:"h-40 md:h-48 bg-slate-200",children:C.imageUrl?R.jsx("img",{src:C.imageUrl,className:"w-full h-full object-cover",alt:"Report"}):R.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-bold uppercase",children:"No Image"})}),R.jsxs("div",{className:"p-6",children:[R.jsxs("div",{className:"flex justify-between items-start mb-4",children:[R.jsx("h4",{className:"font-bold text-xl",children:C.title}),R.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase ${p(C.status)}`,children:C.status?.toUpperCase()||"PENDING"})]}),R.jsx("p",{className:"text-slate-500 text-sm mb-4 line-clamp-2",children:C.description}),C.address&&R.jsxs("div",{className:"flex items-start gap-1 mb-4 text-xs text-slate-500",children:[R.jsx("span",{className:"shrink-0",children:""}),R.jsx("span",{className:"font-medium line-clamp-1",title:C.address,children:C.address})]}),C.audioUrl&&R.jsxs("div",{className:"mb-4 p-3 bg-indigo-50 rounded-2xl flex items-center gap-3 border border-indigo-100",children:[R.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center flex-shrink-0 font-bold text-xs",children:""}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-500 block mb-1",children:"Voice Message"}),R.jsx("audio",{controls:!0,src:C.audioUrl,className:"w-full h-6"})]})]}),C.adminUpdate&&R.jsxs("div",{className:"mt-4 p-4 bg-slate-50 rounded-2xl border-l-4 border-indigo-500 animate-slide-up",children:[R.jsx("p",{className:"text-xs font-black text-indigo-600 uppercase mb-1",children:"Official Admin Response:"}),R.jsxs("p",{className:"text-slate-700 italic",children:['"',C.adminUpdate,'"']})]}),C.status==="resolved"&&C.adminResolutionNote&&R.jsxs("div",{className:"mt-4 p-4 bg-emerald-50 border border-emerald-200 rounded-2xl animate-fade-in resolved-card",children:[R.jsx("h5",{className:"text-emerald-700 font-bold text-xs uppercase",children:"Resolution Complete:"}),R.jsxs("p",{className:"text-emerald-900 text-sm mt-1 italic",children:['"',C.adminResolutionNote,'"']}),C.resolutionImageUrl&&R.jsx("img",{src:C.resolutionImageUrl,className:"w-full h-32 object-cover rounded-xl mt-3",alt:"Resolution proof"})]})]})]},C.id))}),n&&R.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-white w-full max-w-md rounded-[32px] p-6 shadow-2xl",children:[R.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit Report"}),R.jsxs("div",{className:"space-y-4",children:[R.jsx("input",{type:"text",value:l.title,onChange:C=>h({...l,title:C.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl",placeholder:"Title"}),R.jsxs("select",{value:l.category,onChange:C=>h({...l,category:C.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl",children:[R.jsx("option",{children:"Roads"}),R.jsx("option",{children:"Sanitation"}),R.jsx("option",{children:"Utilities"}),R.jsx("option",{children:"Vandalism"})]}),R.jsx("textarea",{value:l.description,onChange:C=>h({...l,description:C.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl",rows:"3",placeholder:"Description"})]}),R.jsxs("div",{className:"flex gap-3 mt-6",children:[R.jsx("button",{onClick:E,className:"flex-1 bg-indigo-600 text-white py-3 rounded-xl font-bold",children:"Save"}),R.jsx("button",{onClick:I,className:"flex-1 bg-slate-200 text-slate-700 py-3 rounded-xl font-bold",children:"Cancel"})]})]})})]}),R.jsx("footer",{className:"w-full py-16 px-10 bg-slate-900 text-white mt-20 rounded-t-[50px]",children:R.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12",children:[R.jsxs("div",{className:"animate-reveal",children:[R.jsx("h3",{className:"text-3xl font-black italic uppercase text-indigo-500 mb-4",children:"UrbanPulse"}),R.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"The next generation of urban logistics. Bridging the gap between citizens and administrators."})]}),R.jsxs("div",{className:"space-y-4",children:[R.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Connect"}),R.jsx("p",{className:"text-slate-300",children:" urbanpulse@gmail.com"}),R.jsx("p",{className:"text-slate-300",children:" +91 8008207802"})]}),R.jsxs("div",{className:"space-y-4",children:[R.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"HQ Address"}),R.jsxs("p",{className:"text-slate-300",children:["Level 7, T-Hub Phase 2,",R.jsx("br",{}),"Madhapur, Hyderabad,",R.jsx("br",{}),"Telangana 500081"]})]})]})})]})};function gw(s,t){const n=xt.useRef(t);xt.useEffect(function(){t!==n.current&&s.attributionControl!=null&&(n.current!=null&&s.attributionControl.removeAttribution(n.current),t!=null&&s.attributionControl.addAttribution(t)),n.current=t},[s,t])}var oP=CT();const lP=1;function uP(s){return Object.freeze({__version:lP,map:s})}function cP(s,t){return Object.freeze({...s,...t})}const Og=xt.createContext(null);function _w(){const s=xt.use(Og);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function hP(s){function t(n,a){const{instance:l,context:h}=s(n).current;xt.useImperativeHandle(a,()=>l);const{children:p}=n;return p==null?null:np.createElement(Og,{value:h},p)}return xt.forwardRef(t)}function fP(s){function t(n,a){const[l,h]=xt.useState(!1),{instance:p}=s(n,h).current;xt.useImperativeHandle(a,()=>p),xt.useEffect(function(){l&&p.update()},[p,l,n.children]);const v=p._contentNode;return v?oP.createPortal(n.children,v):null}return xt.forwardRef(t)}function dP(s){function t(n,a){const{instance:l}=s(n).current;return xt.useImperativeHandle(a,()=>l),null}return xt.forwardRef(t)}function yw(s,t){const n=xt.useRef(void 0);xt.useEffect(function(){return t!=null&&s.instance.on(t),n.current=t,function(){n.current!=null&&s.instance.off(n.current),n.current=null}},[s,t])}function Pg(s,t){const n=s.pane??t.pane;return n?{...s,pane:n}:s}function mP(s,t){return function(a,l){const h=_w(),p=s(Pg(a,h),h);return gw(h.map,a.attribution),yw(p.current,a.eventHandlers),t(p.current,h,a,l),p}}var oc={exports:{}};var pP=oc.exports,xT;function gP(){return xT||(xT=1,(function(s,t){(function(n,a){a(t)})(pP,(function(n){var a="1.9.4";function l(r){var u,d,_,b;for(d=1,_=arguments.length;d<_;d++){b=arguments[d];for(u in b)r[u]=b[u]}return r}var h=Object.create||(function(){function r(){}return function(u){return r.prototype=u,new r}})();function p(r,u){var d=Array.prototype.slice;if(r.bind)return r.bind.apply(r,d.call(arguments,1));var _=d.call(arguments,2);return function(){return r.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var v=0;function T(r){return"_leaflet_id"in r||(r._leaflet_id=++v),r._leaflet_id}function E(r,u,d){var _,b,S,D;return D=function(){_=!1,b&&(S.apply(d,b),b=!1)},S=function(){_?b=arguments:(r.apply(d,arguments),setTimeout(D,u),_=!0)},S}function I(r,u,d){var _=u[1],b=u[0],S=_-b;return r===_&&d?r:((r-b)%S+S)%S+b}function C(){return!1}function z(r,u){if(u===!1)return r;var d=Math.pow(10,u===void 0?6:u);return Math.round(r*d)/d}function $(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function ct(r){return $(r).split(/\s+/)}function st(r,u){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?h(r.options):{});for(var d in u)r.options[d]=u[d];return r.options}function Z(r,u,d){var _=[];for(var b in r)_.push(encodeURIComponent(d?b.toUpperCase():b)+"="+encodeURIComponent(r[b]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var mt=/\{ *([\w_ -]+) *\}/g;function vt(r,u){return r.replace(mt,function(d,_){var b=u[_];if(b===void 0)throw new Error("No value provided for variable "+d);return typeof b=="function"&&(b=b(u)),b})}var yt=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function Lt(r,u){for(var d=0;d<r.length;d++)if(r[d]===u)return d;return-1}var Bt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function jt(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var U=0;function O(r){var u=+new Date,d=Math.max(0,16-(u-U));return U=u+d,window.setTimeout(r,d)}var M=window.requestAnimationFrame||jt("RequestAnimationFrame")||O,H=window.cancelAnimationFrame||jt("CancelAnimationFrame")||jt("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function B(r,u,d){if(d&&M===O)r.call(u);else return M.call(window,p(r,u))}function q(r){r&&H.call(window,r)}var k={__proto__:null,extend:l,create:h,bind:p,get lastId(){return v},stamp:T,throttle:E,wrapNum:I,falseFn:C,formatNum:z,trim:$,splitWords:ct,setOptions:st,getParamString:Z,template:vt,isArray:yt,indexOf:Lt,emptyImageUrl:Bt,requestFn:M,cancelFn:H,requestAnimFrame:B,cancelAnimFrame:q};function ee(){}ee.extend=function(r){var u=function(){st(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(u[b]=this[b]);return r.statics&&l(u,r.statics),r.includes&&(Ve(r.includes),l.apply(null,[_].concat(r.includes))),l(_,r),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,r.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,D=_._initHooks.length;S<D;S++)_._initHooks[S].call(this)}},u},ee.include=function(r){var u=this.prototype.options;return l(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},ee.mergeOptions=function(r){return l(this.prototype.options,r),this},ee.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),d=typeof r=="function"?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Ve(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=yt(r)?r:[r];for(var u=0;u<r.length;u++)r[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var tt={on:function(r,u,d){if(typeof r=="object")for(var _ in r)this._on(_,r[_],u);else{r=ct(r);for(var b=0,S=r.length;b<S;b++)this._on(r[b],u,d)}return this},off:function(r,u,d){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var _ in r)this._off(_,r[_],u);else{r=ct(r);for(var b=arguments.length===1,S=0,D=r.length;S<D;S++)b?this._off(r[S]):this._off(r[S],u,d)}return this},_on:function(r,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(r,u,d)===!1){d===this&&(d=void 0);var b={fn:u,ctx:d};_&&(b.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(b)}},_off:function(r,u,d){var _,b,S;if(this._events&&(_=this._events[r],!!_)){if(arguments.length===1){if(this._firingCount)for(b=0,S=_.length;b<S;b++)_[b].fn=C;delete this._events[r];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var D=this._listens(r,u,d);if(D!==!1){var G=_[D];this._firingCount&&(G.fn=C,this._events[r]=_=_.slice()),_.splice(D,1)}}},fire:function(r,u,d){if(!this.listens(r,d))return this;var _=l({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var b=this._events[r];if(b){this._firingCount=this._firingCount+1||1;for(var S=0,D=b.length;S<D;S++){var G=b[S],X=G.fn;G.once&&this.off(r,X,G.ctx),X.call(G.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(r,u,d,_){typeof r!="string"&&console.warn('"string" type argument expected');var b=u;typeof u!="function"&&(_=!!u,b=void 0,d=void 0);var S=this._events&&this._events[r];if(S&&S.length&&this._listens(r,b,d)!==!1)return!0;if(_){for(var D in this._eventParents)if(this._eventParents[D].listens(r,u,d,_))return!0}return!1},_listens:function(r,u,d){if(!this._events)return!1;var _=this._events[r]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var b=0,S=_.length;b<S;b++)if(_[b].fn===u&&_[b].ctx===d)return b;return!1},once:function(r,u,d){if(typeof r=="object")for(var _ in r)this._on(_,r[_],u,!0);else{r=ct(r);for(var b=0,S=r.length;b<S;b++)this._on(r[b],u,d,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[T(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[T(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,l({layer:r.target,propagatedFrom:r.target},r),!0)}};tt.addEventListener=tt.on,tt.removeEventListener=tt.clearAllEventListeners=tt.off,tt.addOneTimeEventListener=tt.once,tt.fireEvent=tt.fire,tt.hasEventListeners=tt.listens;var ft=ee.extend(tt);function at(r,u,d){this.x=d?Math.round(r):r,this.y=d?Math.round(u):u}var Dt=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};at.prototype={clone:function(){return new at(this.x,this.y)},add:function(r){return this.clone()._add(pt(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(pt(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new at(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new at(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Dt(this.x),this.y=Dt(this.y),this},distanceTo:function(r){r=pt(r);var u=r.x-this.x,d=r.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(r){return r=pt(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=pt(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+z(this.x)+", "+z(this.y)+")"}};function pt(r,u,d){return r instanceof at?r:yt(r)?new at(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new at(r.x,r.y):new at(r,u,d)}function P(r,u){if(r)for(var d=u?[r,u]:r,_=0,b=d.length;_<b;_++)this.extend(d[_])}P.prototype={extend:function(r){var u,d;if(!r)return this;if(r instanceof at||typeof r[0]=="number"||"x"in r)u=d=pt(r);else if(r=nt(r),u=r.min,d=r.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(r){return pt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return pt(this.min.x,this.max.y)},getTopRight:function(){return pt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,d;return typeof r[0]=="number"||r instanceof at?r=pt(r):r=nt(r),r instanceof P?(u=r.min,d=r.max):u=d=r,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(r){r=nt(r);var u=this.min,d=this.max,_=r.min,b=r.max,S=b.x>=u.x&&_.x<=d.x,D=b.y>=u.y&&_.y<=d.y;return S&&D},overlaps:function(r){r=nt(r);var u=this.min,d=this.max,_=r.min,b=r.max,S=b.x>u.x&&_.x<d.x,D=b.y>u.y&&_.y<d.y;return S&&D},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*r,b=Math.abs(u.y-d.y)*r;return nt(pt(u.x-_,u.y-b),pt(d.x+_,d.y+b))},equals:function(r){return r?(r=nt(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function nt(r,u){return!r||r instanceof P?r:new P(r,u)}function dt(r,u){if(r)for(var d=u?[r,u]:r,_=0,b=d.length;_<b;_++)this.extend(d[_])}dt.prototype={extend:function(r){var u=this._southWest,d=this._northEast,_,b;if(r instanceof bt)_=r,b=r;else if(r instanceof dt){if(_=r._southWest,b=r._northEast,!_||!b)return this}else return r?this.extend(Et(r)||gt(r)):this;return!u&&!d?(this._southWest=new bt(_.lat,_.lng),this._northEast=new bt(b.lat,b.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(b.lat,d.lat),d.lng=Math.max(b.lng,d.lng)),this},pad:function(r){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*r,b=Math.abs(u.lng-d.lng)*r;return new dt(new bt(u.lat-_,u.lng-b),new bt(d.lat+_,d.lng+b))},getCenter:function(){return new bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof bt||"lat"in r?r=Et(r):r=gt(r);var u=this._southWest,d=this._northEast,_,b;return r instanceof dt?(_=r.getSouthWest(),b=r.getNorthEast()):_=b=r,_.lat>=u.lat&&b.lat<=d.lat&&_.lng>=u.lng&&b.lng<=d.lng},intersects:function(r){r=gt(r);var u=this._southWest,d=this._northEast,_=r.getSouthWest(),b=r.getNorthEast(),S=b.lat>=u.lat&&_.lat<=d.lat,D=b.lng>=u.lng&&_.lng<=d.lng;return S&&D},overlaps:function(r){r=gt(r);var u=this._southWest,d=this._northEast,_=r.getSouthWest(),b=r.getNorthEast(),S=b.lat>u.lat&&_.lat<d.lat,D=b.lng>u.lng&&_.lng<d.lng;return S&&D},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return r?(r=gt(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function gt(r,u){return r instanceof dt?r:new dt(r,u)}function bt(r,u,d){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,d!==void 0&&(this.alt=+d)}bt.prototype={equals:function(r,u){if(!r)return!1;r=Et(r);var d=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return d<=(u===void 0?1e-9:u)},toString:function(r){return"LatLng("+z(this.lat,r)+", "+z(this.lng,r)+")"},distanceTo:function(r){return be.distance(this,Et(r))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(r){var u=180*r/40075017,d=u/Math.cos(Math.PI/180*this.lat);return gt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new bt(this.lat,this.lng,this.alt)}};function Et(r,u,d){return r instanceof bt?r:yt(r)&&typeof r[0]!="object"?r.length===3?new bt(r[0],r[1],r[2]):r.length===2?new bt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new bt(r.lat,"lng"in r?r.lng:r.lon,r.alt):u===void 0?null:new bt(r,u,d)}var qt={latLngToPoint:function(r,u){var d=this.projection.project(r),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(r,u){var d=this.scale(u),_=this.transformation.untransform(r,d);return this.projection.unproject(_)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(r),_=this.transformation.transform(u.min,d),b=this.transformation.transform(u.max,d);return new P(_,b)},infinite:!1,wrapLatLng:function(r){var u=this.wrapLng?I(r.lng,this.wrapLng,!0):r.lng,d=this.wrapLat?I(r.lat,this.wrapLat,!0):r.lat,_=r.alt;return new bt(d,u,_)},wrapLatLngBounds:function(r){var u=r.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,b=u.lng-d.lng;if(_===0&&b===0)return r;var S=r.getSouthWest(),D=r.getNorthEast(),G=new bt(S.lat-_,S.lng-b),X=new bt(D.lat-_,D.lng-b);return new dt(G,X)}},be=l({},qt,{wrapLng:[-180,180],R:6371e3,distance:function(r,u){var d=Math.PI/180,_=r.lat*d,b=u.lat*d,S=Math.sin((u.lat-r.lat)*d/2),D=Math.sin((u.lng-r.lng)*d/2),G=S*S+Math.cos(_)*Math.cos(b)*D*D,X=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*X}}),xe=6378137,cs={R:xe,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,r.lat),-d),b=Math.sin(_*u);return new at(this.R*r.lng*u,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(r){var u=180/Math.PI;return new bt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:(function(){var r=xe*Math.PI;return new P([-r,-r],[r,r])})()};function Ns(r,u,d,_){if(yt(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=u,this._c=d,this._d=_}Ns.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return u=u||1,r.x=u*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return u=u||1,new at((r.x/u-this._b)/this._a,(r.y/u-this._d)/this._c)}};function Bi(r,u,d,_){return new Ns(r,u,d,_)}var Os=l({},be,{code:"EPSG:3857",projection:cs,transformation:(function(){var r=.5/(Math.PI*cs.R);return Bi(r,.5,-r,.5)})()}),ji=l({},Os,{code:"EPSG:900913"});function Zr(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Ps(r,u){var d="",_,b,S,D,G,X;for(_=0,S=r.length;_<S;_++){for(G=r[_],b=0,D=G.length;b<D;b++)X=G[b],d+=(b?"L":"M")+X.x+" "+X.y;d+=u?Rt.svg?"z":"x":""}return d||"M0 0"}var hr=document.documentElement.style,Ds="ActiveXObject"in window,qe=Ds&&!document.addEventListener,Fe="msLaunchUri"in navigator&&!("documentMode"in document),Hi=_n("webkit"),rl=_n("android"),no=_n("android 2")||_n("android 3"),xn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),fr=rl&&_n("Google")&&xn<537&&!("AudioNode"in window),dr=!!window.opera,Kr=!Fe&&_n("chrome"),hs=_n("gecko")&&!Hi&&!dr&&!Ds,du=!Kr&&_n("safari"),io=_n("phantom"),so="OTransition"in hr,al=navigator.platform.indexOf("Win")===0,Jn=Ds&&"transition"in hr,$e="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!no,Fn="MozPerspective"in hr,ze=!window.L_DISABLE_3D&&(Jn||$e||Fn)&&!so&&!io,Ms=typeof orientation<"u"||_n("mobile"),Yr=Ms&&Hi,ol=Ms&&$e,vi=!window.PointerEvent&&window.MSPointerEvent,Ls=!!(window.PointerEvent||vi),Ue="ontouchstart"in window||!!window.TouchEvent,qi=!window.L_NO_TOUCH&&(Ue||Ls),Fi=Ms&&dr,Ti=Ms&&hs,mu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ll=(function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",C,u),window.removeEventListener("testPassiveEventSupport",C,u)}catch{}return r})(),Gi=(function(){return!!document.createElement("canvas").getContext})(),fs=!!(document.createElementNS&&Zr("svg").createSVGRect),pu=!!fs&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),mr=!fs&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var u=r.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),ro=navigator.platform.indexOf("Mac")===0,ao=navigator.platform.indexOf("Linux")===0;function _n(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Rt={ie:Ds,ielt9:qe,edge:Fe,webkit:Hi,android:rl,android23:no,androidStock:fr,opera:dr,chrome:Kr,gecko:hs,safari:du,phantom:io,opera12:so,win:al,ie3d:Jn,webkit3d:$e,gecko3d:Fn,any3d:ze,mobile:Ms,mobileWebkit:Yr,mobileWebkit3d:ol,msPointer:vi,pointer:Ls,touch:qi,touchNative:Ue,mobileOpera:Fi,mobileGecko:Ti,retina:mu,passiveEvents:ll,canvas:Gi,svg:fs,vml:mr,inlineSvg:pu,mac:ro,linux:ao},oo=Rt.msPointer?"MSPointerDown":"pointerdown",$n=Rt.msPointer?"MSPointerMove":"pointermove",ti=Rt.msPointer?"MSPointerUp":"pointerup",Be=Rt.msPointer?"MSPointerCancel":"pointercancel",Ge={touchstart:oo,touchmove:$n,touchend:ti,touchcancel:Be},Ei={touchstart:Ki,touchmove:yn,touchend:yn,touchcancel:yn},bi={},ul=!1;function cl(r,u,d){return u==="touchstart"&&ei(),Ei[u]?(d=Ei[u].bind(this,d),r.addEventListener(Ge[u],d,!1),d):(console.warn("wrong event specified:",u),C)}function hl(r,u,d){if(!Ge[u]){console.warn("wrong event specified:",u);return}r.removeEventListener(Ge[u],d,!1)}function Zi(r){bi[r.pointerId]=r}function Qr(r){bi[r.pointerId]&&(bi[r.pointerId]=r)}function wi(r){delete bi[r.pointerId]}function ei(){ul||(document.addEventListener(oo,Zi,!0),document.addEventListener($n,Qr,!0),document.addEventListener(ti,wi,!0),document.addEventListener(Be,wi,!0),ul=!0)}function yn(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in bi)u.touches.push(bi[d]);u.changedTouches=[u],r(u)}}function Ki(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&De(u),yn(r,u)}function Ze(r){var u={},d,_;for(_ in r)d=r[_],u[_]=d&&d.bind?d.bind(r):d;return r=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var lo=200;function uo(r,u){r.addEventListener("dblclick",u);var d=0,_;function b(S){if(S.detail!==1){_=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var D=Bs(S);if(!(D.some(function(X){return X instanceof HTMLLabelElement&&X.attributes.for})&&!D.some(function(X){return X instanceof HTMLInputElement||X instanceof HTMLSelectElement}))){var G=Date.now();G-d<=lo?(_++,_===2&&u(Ze(S))):_=1,d=G}}}return r.addEventListener("click",b),{dblclick:u,simDblclick:b}}function Yi(r,u){r.removeEventListener("dblclick",u.dblclick),r.removeEventListener("click",u.simDblclick)}var ni=gr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ds=gr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xr=ds==="webkitTransition"||ds==="OTransition"?ds+"End":"transitionend";function Wr(r){return typeof r=="string"?document.getElementById(r):r}function ks(r,u){var d=r.style[u]||r.currentStyle&&r.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(r,null);d=_?_[u]:null}return d==="auto"?null:d}function Xt(r,u,d){var _=document.createElement(r);return _.className=u||"",d&&d.appendChild(_),_}function Wt(r){var u=r.parentNode;u&&u.removeChild(r)}function Oe(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Pe(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function Gn(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function pr(r,u){if(r.classList!==void 0)return r.classList.contains(u);var d=Qi(r);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function At(r,u){if(r.classList!==void 0)for(var d=ct(u),_=0,b=d.length;_<b;_++)r.classList.add(d[_]);else if(!pr(r,u)){var S=Qi(r);ii(r,(S?S+" ":"")+u)}}function ye(r,u){r.classList!==void 0?r.classList.remove(u):ii(r,$((" "+Qi(r)+" ").replace(" "+u+" "," ")))}function ii(r,u){r.className.baseVal===void 0?r.className=u:r.className.baseVal=u}function Qi(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Re(r,u){"opacity"in r.style?r.style.opacity=u:"filter"in r.style&&Jr(r,u)}function Jr(r,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=r.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):r.style.filter+=" progid:"+_+"(opacity="+u+")"}function gr(r){for(var u=document.documentElement.style,d=0;d<r.length;d++)if(r[d]in u)return r[d];return!1}function Ai(r,u,d){var _=u||new at(0,0);r.style[ni]=(Rt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function ve(r,u){r._leaflet_pos=u,Rt.any3d?Ai(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function Xi(r){return r._leaflet_pos||new at(0,0)}var si,rn,$r;if("onselectstart"in document)si=function(){Mt(window,"selectstart",De)},rn=function(){he(window,"selectstart",De)};else{var ms=gr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);si=function(){if(ms){var r=document.documentElement.style;$r=r[ms],r[ms]="none"}},rn=function(){ms&&(document.documentElement.style[ms]=$r,$r=void 0)}}function _r(){Mt(window,"dragstart",De)}function Vs(){he(window,"dragstart",De)}var yr,Wi;function zs(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Dn(),yr=r,Wi=r.style.outlineStyle,r.style.outlineStyle="none",Mt(window,"keydown",Dn))}function Dn(){yr&&(yr.style.outlineStyle=Wi,yr=void 0,Wi=void 0,he(window,"keydown",Dn))}function ta(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Mn(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}var Us={__proto__:null,TRANSFORM:ni,TRANSITION:ds,TRANSITION_END:Xr,get:Wr,getStyle:ks,create:Xt,remove:Wt,empty:Oe,toFront:Pe,toBack:Gn,hasClass:pr,addClass:At,removeClass:ye,setClass:ii,getClass:Qi,setOpacity:Re,testProp:gr,setTransform:Ai,setPosition:ve,getPosition:Xi,get disableTextSelection(){return si},get enableTextSelection(){return rn},disableImageDrag:_r,enableImageDrag:Vs,preventOutline:zs,restoreOutline:Dn,getSizedParentNode:ta,getScale:Mn};function Mt(r,u,d,_){if(u&&typeof u=="object")for(var b in u)Ln(r,b,u[b],d);else{u=ct(u);for(var S=0,D=u.length;S<D;S++)Ln(r,u[S],d,_)}return this}var vn="_leaflet_events";function he(r,u,d,_){if(arguments.length===1)ps(r),delete r[vn];else if(u&&typeof u=="object")for(var b in u)gs(r,b,u[b],d);else if(u=ct(u),arguments.length===2)ps(r,function(G){return Lt(u,G)!==-1});else for(var S=0,D=u.length;S<D;S++)gs(r,u[S],d,_);return this}function ps(r,u){for(var d in r[vn]){var _=d.split(/\d/)[0];(!u||u(_))&&gs(r,_,null,null,d)}}var Zn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ln(r,u,d,_){var b=u+T(d)+(_?"_"+T(_):"");if(r[vn]&&r[vn][b])return this;var S=function(G){return d.call(_||r,G||window.event)},D=S;!Rt.touchNative&&Rt.pointer&&u.indexOf("touch")===0?S=cl(r,u,S):Rt.touch&&u==="dblclick"?S=uo(r,S):"addEventListener"in r?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?r.addEventListener(Zn[u]||u,S,Rt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(S=function(G){G=G||window.event,Ri(r,G)&&D(G)},r.addEventListener(Zn[u],S,!1)):r.addEventListener(u,D,!1):r.attachEvent("on"+u,S),r[vn]=r[vn]||{},r[vn][b]=S}function gs(r,u,d,_,b){b=b||u+T(d)+(_?"_"+T(_):"");var S=r[vn]&&r[vn][b];if(!S)return this;!Rt.touchNative&&Rt.pointer&&u.indexOf("touch")===0?hl(r,u,S):Rt.touch&&u==="dblclick"?Yi(r,S):"removeEventListener"in r?r.removeEventListener(Zn[u]||u,S,!1):r.detachEvent("on"+u,S),r[vn][b]=null}function ne(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ri(r){return Ln(r,"wheel",ne),this}function _s(r){return Mt(r,"mousedown touchstart dblclick contextmenu",ne),r._leaflet_disable_click=!0,this}function De(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Si(r){return De(r),ne(r),this}function Bs(r){if(r.composedPath)return r.composedPath();for(var u=[],d=r.target;d;)u.push(d),d=d.parentNode;return u}function Ji(r,u){if(!u)return new at(r.clientX,r.clientY);var d=Mn(u),_=d.boundingClientRect;return new at((r.clientX-_.left)/d.x-u.clientLeft,(r.clientY-_.top)/d.y-u.clientTop)}var xi=Rt.linux&&Rt.chrome?window.devicePixelRatio:Rt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function an(r){return Rt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/xi:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ri(r,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==r;)d=d.parentNode}catch{return!1}return d!==r}var $i={__proto__:null,on:Mt,off:he,stopPropagation:ne,disableScrollPropagation:ri,disableClickPropagation:_s,preventDefault:De,stop:Si,getPropagationPath:Bs,getMousePosition:Ji,getWheelDelta:an,isExternalTarget:Ri,addListener:Mt,removeListener:he},ys=ft.extend({run:function(r,u,d,_){this.stop(),this._el=r,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Xi(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){var d=this._startPos.add(this._offset.multiplyBy(r));u&&d._round(),ve(this._el,d),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Qt=ft.extend({options:{crs:Os,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=st(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Et(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ds&&Rt.any3d&&!Rt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Mt(this._proxy,Xr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),r=this._limitCenter(Et(r),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,d.zoom):this._tryAnimatedPan(r,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(r,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return r=r||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,u)},zoomOut:function(r,u){return r=r||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,u)},setZoomAround:function(r,u,d){var _=this.getZoomScale(u),b=this.getSize().divideBy(2),S=r instanceof at?r:this.latLngToContainerPoint(r),D=S.subtract(b).multiplyBy(1-1/_),G=this.containerPointToLatLng(b.add(D));return this.setView(G,u,{zoom:d})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():gt(r);var d=pt(u.paddingTopLeft||u.padding||[0,0]),_=pt(u.paddingBottomRight||u.padding||[0,0]),b=this.getBoundsZoom(r,!1,d.add(_));if(b=typeof u.maxZoom=="number"?Math.min(u.maxZoom,b):b,b===1/0)return{center:r.getCenter(),zoom:b};var S=_.subtract(d).divideBy(2),D=this.project(r.getSouthWest(),b),G=this.project(r.getNorthEast(),b),X=this.unproject(D.add(G).divideBy(2).add(S),b);return{center:X,zoom:b}},fitBounds:function(r,u){if(r=gt(r),!r.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(r,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){if(r=pt(r).round(),u=u||{},!r.x&&!r.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ys,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){At(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,u,d){if(d=d||{},d.animate===!1||!Rt.any3d)return this.setView(r,u,d);this._stop();var _=this.project(this.getCenter()),b=this.project(r),S=this.getSize(),D=this._zoom;r=Et(r),u=u===void 0?D:u;var G=Math.max(S.x,S.y),X=G*this.getZoomScale(D,u),lt=b.distanceTo(_)||1,Tt=1.42,Nt=Tt*Tt;function Kt(je){var ws=je?-1:1,Sr=je?X:G,Eu=X*X-G*G+ws*Nt*Nt*lt*lt,No=2*Sr*Nt*lt,Oo=Eu/No,Xs=Math.sqrt(Oo*Oo+1)-Oo,As=Xs<1e-9?-18:Math.log(Xs);return As}function mn(je){return(Math.exp(je)-Math.exp(-je))/2}function Ke(je){return(Math.exp(je)+Math.exp(-je))/2}function Qn(je){return mn(je)/Ke(je)}var fe=Kt(0);function de(je){return G*(Ke(fe)/Ke(fe+Tt*je))}function Jt(je){return G*(Ke(fe)*Qn(fe+Tt*je)-mn(fe))/Nt}function Ys(je){return 1-Math.pow(1-je,1.5)}var ci=Date.now(),Al=(Kt(1)-fe)/Tt,Qs=d.duration?1e3*d.duration:1e3*Al*.8;function Tu(){var je=(Date.now()-ci)/Qs,ws=Ys(je)*Al;je<=1?(this._flyToFrame=B(Tu,this),this._move(this.unproject(_.add(b.subtract(_).multiplyBy(Jt(ws)/lt)),D),this.getScaleZoom(G/de(ws),D),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Tu.call(this),this},flyToBounds:function(r,u){var d=this._getBoundsCenterZoom(r,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(r){return r=gt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,gt(r));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(r,u){u=u||{};var d=pt(u.paddingTopLeft||u.padding||[0,0]),_=pt(u.paddingBottomRight||u.padding||[0,0]),b=this.project(this.getCenter()),S=this.project(r),D=this.getPixelBounds(),G=nt([D.min.add(d),D.max.subtract(_)]),X=G.getSize();if(!G.contains(S)){this._enforcingBounds=!0;var lt=S.subtract(G.getCenter()),Tt=G.extend(S).getSize().subtract(X);b.x+=lt.x<0?-Tt.x:Tt.x,b.y+=lt.y<0?-Tt.y:Tt.y,this.panTo(this.unproject(b),u),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=l({animate:!1,pan:!0},r===!0?{animate:!0}:r);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),b=d.divideBy(2).round(),S=_.subtract(b);return!S.x&&!S.y?this:(r.animate&&r.pan?this.panBy(S):(r.pan&&this._rawPanBy(S),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=l({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),d=p(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,r):navigator.geolocation.getCurrentPosition(u,d,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var u=r.code,d=r.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var u=r.coords.latitude,d=r.coords.longitude,_=new bt(u,d),b=_.toBounds(r.coords.accuracy*2),S=this._locateOptions;if(S.setView){var D=this.getBoundsZoom(b);this.setView(_,S.maxZoom?Math.min(D,S.maxZoom):D)}var G={latlng:_,bounds:b,timestamp:r.timestamp};for(var X in r.coords)typeof r.coords[X]=="number"&&(G[X]=r.coords[X]);this.fire("locationfound",G)}},addHandler:function(r,u){if(!u)return this;var d=this[r]=new u(this);return this._handlers.push(d),this.options[r]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Wt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){var d="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),_=Xt("div",d,u||this._mapPane);return r&&(this._panes[r]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),u=this.unproject(r.getBottomLeft()),d=this.unproject(r.getTopRight());return new dt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,u,d){r=gt(r),d=pt(d||[0,0]);var _=this.getZoom()||0,b=this.getMinZoom(),S=this.getMaxZoom(),D=r.getNorthWest(),G=r.getSouthEast(),X=this.getSize().subtract(d),lt=nt(this.project(G,_),this.project(D,_)).getSize(),Tt=Rt.any3d?this.options.zoomSnap:1,Nt=X.x/lt.x,Kt=X.y/lt.y,mn=u?Math.max(Nt,Kt):Math.min(Nt,Kt);return _=this.getScaleZoom(mn,_),Tt&&(_=Math.round(_/(Tt/100))*(Tt/100),_=u?Math.ceil(_/Tt)*Tt:Math.floor(_/Tt)*Tt),Math.max(b,Math.min(S,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new at(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){var d=this._getTopLeftPoint(r,u);return new P(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(r)/d.scale(u)},getScaleZoom:function(r,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(r*d.scale(u));return isNaN(_)?1/0:_},project:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Et(r),u)},unproject:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(pt(r),u)},layerPointToLatLng:function(r){var u=pt(r).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(r){var u=this.project(Et(r))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Et(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(gt(r))},distance:function(r,u){return this.options.crs.distance(Et(r),Et(u))},containerPointToLayerPoint:function(r){return pt(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return pt(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var u=this.containerPointToLayerPoint(pt(r));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Et(r)))},mouseEventToContainerPoint:function(r){return Ji(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var u=this._container=Wr(r);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Mt(u,"scroll",this._onScroll,this),this._containerId=T(u)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Rt.any3d,At(r,"leaflet-container"+(Rt.touch?" leaflet-touch":"")+(Rt.retina?" leaflet-retina":"")+(Rt.ielt9?" leaflet-oldie":"")+(Rt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=ks(r,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new at(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(At(r.markerPane,"leaflet-zoom-hide"),At(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,d){ve(this._mapPane,new at(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var b=this._zoom!==u;this._moveStart(b,d)._move(r,u)._moveEnd(b),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,d,_){u===void 0&&(u=this._zoom);var b=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),_?d&&d.pinch&&this.fire("zoom",d):((b||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){ve(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[T(this._container)]=this;var u=r?he:Mt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Rt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var d=[],_,b=u==="mouseout"||u==="mouseover",S=r.target||r.srcElement,D=!1;S;){if(_=this._targets[T(S)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){D=!0;break}if(_&&_.listens(u,!0)&&(b&&!Ri(S,r)||(d.push(_),b))||S===this._container)break;S=S.parentNode}return!d.length&&!D&&!b&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u=r.target||r.srcElement;if(!(!this._loaded||u._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(u))){var d=r.type;d==="mousedown"&&zs(u),this._fireDOMEvent(r,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,d){if(r.type==="click"){var _=l({},r);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var b=this._findEventTargets(r,u);if(d){for(var S=[],D=0;D<d.length;D++)d[D].listens(u,!0)&&S.push(d[D]);b=S.concat(b)}if(b.length){u==="contextmenu"&&De(r);var G=b[0],X={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var lt=G.getLatLng&&(!G._radius||G._radius<=10);X.containerPoint=lt?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(r),X.layerPoint=this.containerPointToLayerPoint(X.containerPoint),X.latlng=lt?G.getLatLng():this.layerPointToLatLng(X.layerPoint)}for(D=0;D<b.length;D++)if(b[D].fire(u,X,!0),X.originalEvent._stopped||b[D].options.bubblingMouseEvents===!1&&Lt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return Xi(this._mapPane)||new at(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){var d=r&&u!==void 0?this._getNewPixelOrigin(r,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var d=this.getSize()._divideBy(2);return this.project(r,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(r,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(r,u,d){var _=this._getNewPixelOrigin(d,u);return nt([this.project(r.getSouthWest(),u)._subtract(_),this.project(r.getNorthWest(),u)._subtract(_),this.project(r.getSouthEast(),u)._subtract(_),this.project(r.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,d){if(!d)return r;var _=this.project(r,u),b=this.getSize().divideBy(2),S=new P(_.subtract(b),_.add(b)),D=this._getBoundsOffset(S,d,u);return Math.abs(D.x)<=1&&Math.abs(D.y)<=1?r:this.unproject(_.add(D),u)},_limitOffset:function(r,u){if(!u)return r;var d=this.getPixelBounds(),_=new P(d.min.add(r),d.max.add(r));return r.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(r,u,d){var _=nt(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),b=_.min.subtract(r.min),S=_.max.subtract(r.max),D=this._rebound(b.x,-S.x),G=this._rebound(b.y,-S.y);return new at(D,G)},_rebound:function(r,u){return r+u>0?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),d=this.getMaxZoom(),_=Rt.any3d?this.options.zoomSnap:1;return _&&(r=Math.round(r/_)*_),Math.max(u,Math.min(d,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){var d=this._getCenterOffset(r)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var r=this._proxy=Xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var d=ni,_=this._proxy.style[d];Ai(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();Ai(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),b=this._getCenterOffset(r)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(b)?!1:(B(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(r,u,!0)},this),!0)},_animateZoom:function(r,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,At(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function js(r,u){return new Qt(r,u)}var Tn=ee.extend({options:{position:"topright"},initialize:function(r){st(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var u=this._container=this.onAdd(r),d=this.getPosition(),_=r._controlCorners[d];return At(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),kn=function(r){return new Tn(r)};Qt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",d=this._controlContainer=Xt("div",u+"control-container",this._container);function _(b,S){var D=u+b+" "+u+S;r[b+S]=Xt("div",D,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Wt(this._controlCorners[r]);Wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vr=Tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(r,u,d){st(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in r)this._addLayer(r[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Tn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var u=this._getLayer(T(r));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){At(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(At(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=Xt("div",r),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),_s(u),ri(u);var _=this._section=Xt("section",r+"-list");d&&(this._map.on("click",this.collapse,this),Mt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Xt("a",r+"-toggle",u);b.href="#",b.title="Layers",b.setAttribute("role","button"),Mt(b,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){De(S),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Xt("div",r+"-base",_),this._separator=Xt("div",r+"-separator",_),this._overlaysList=Xt("div",r+"-overlays",_),u.appendChild(_)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&T(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,d){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(p(function(_,b){return this.options.sortFunction(_.layer,b.layer,_.name,b.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Oe(this._baseLayersList),Oe(this._overlaysList),this._layerControlInputs=[];var r,u,d,_,b=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,r=r||!_.overlay,b+=_.overlay?0:1;return this.options.hideSingleBase&&(r=r&&b>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=u&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var u=this._getLayer(T(r.target)),d=u.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(r,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(r){var u=document.createElement("label"),d=this._map.hasLayer(r.layer),_;r.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+T(this),d),this._layerControlInputs.push(_),_.layerId=T(r.layer),Mt(_,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+r.name;var S=document.createElement("span");u.appendChild(S),S.appendChild(_),S.appendChild(b);var D=r.overlay?this._overlaysList:this._baseLayersList;return D.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,u,d,_=[],b=[];this._handlingClick=!0;for(var S=r.length-1;S>=0;S--)u=r[S],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||b.push(d);for(S=0;S<b.length;S++)this._map.hasLayer(b[S])&&this._map.removeLayer(b[S]);for(S=0;S<_.length;S++)this._map.hasLayer(_[S])||this._map.addLayer(_[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,u,d,_=this._map.getZoom(),b=r.length-1;b>=0;b--)u=r[b],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Mt(r,"click",De),this.expand();var u=this;setTimeout(function(){he(r,"click",De),u._preventClick=!1})}}),co=function(r,u,d){return new vr(r,u,d)},vs=Tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",d=Xt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,d,_,b){var S=Xt("a",d,_);return S.innerHTML=r,S.href="#",S.title=u,S.setAttribute("role","button"),S.setAttribute("aria-label",u),_s(S),Mt(S,"click",Si),Mt(S,"click",b,this),Mt(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";ye(this._zoomInButton,u),ye(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(At(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(At(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qt.mergeOptions({zoomControl:!0}),Qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new vs,this.addControl(this.zoomControl))});var fl=function(r){return new vs(r)},ho=Tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",d=Xt("div",u),_=this.options;return this._addScales(_,u+"-line",d),r.on(_.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),d},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,d){r.metric&&(this._mScale=Xt("div",u,d)),r.imperial&&(this._iScale=Xt("div",u,d))},_update:function(){var r=this._map,u=r.getSize().y/2,d=r.distance(r.containerPointToLatLng([0,u]),r.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/r)},_updateImperial:function(r){var u=r*3.2808399,d,_,b;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(b=this._getRoundNum(u),this._updateScale(this._iScale,b+" ft",b/u))},_updateScale:function(r,u,d){r.style.width=Math.round(this.options.maxWidth*d)+"px",r.innerHTML=u},_getRoundNum:function(r){var u=Math.pow(10,(Math.floor(r)+"").length-1),d=r/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),Tr=function(r){return new ho(r)},fo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ea=Tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Rt.inlineSvg?fo+" ":"")+"Leaflet</a>"},initialize:function(r){st(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Xt("div","leaflet-control-attribution"),_s(this._container);for(var u in r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var u in this._attributions)this._attributions[u]&&r.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),r.length&&d.push(r.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Qt.mergeOptions({attributionControl:!0}),Qt.addInitHook(function(){this.options.attributionControl&&new ea().addTo(this)});var na=function(r){return new ea(r)};Tn.Layers=vr,Tn.Zoom=vs,Tn.Scale=ho,Tn.Attribution=ea,kn.layers=co,kn.zoom=fl,kn.scale=Tr,kn.attribution=na;var Kn=ee.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Kn.addTo=function(r,u){return r.addHandler(u,this),this};var dl={Events:tt},Ci=Rt.touch?"touchstart mousedown":"mousedown",Ii=ft.extend({options:{clickTolerance:3},initialize:function(r,u,d,_){st(this,_),this._element=r,this._dragStartTarget=u||r,this._preventOutline=d},enable:function(){this._enabled||(Mt(this._dragStartTarget,Ci,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ii._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,Ci,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!pr(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Ii._dragging===this&&this.finishDrag();return}if(!(Ii._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Ii._dragging=this,this._preventOutline&&zs(this._element),_r(),si(),!this._moving)){this.fire("down");var u=r.touches?r.touches[0]:r,d=ta(this._element);this._startPoint=new at(u.clientX,u.clientY),this._startPos=Xi(this._element),this._parentScale=Mn(d);var _=r.type==="mousedown";Mt(document,_?"mousemove":"touchmove",this._onMove,this),Mt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var u=r.touches&&r.touches.length===1?r.touches[0]:r,d=new at(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,De(r),this._moved||(this.fire("dragstart"),this._moved=!0,At(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),At(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),ve(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),Vs(),rn();var u=this._moved&&this._moving;this._moving=!1,Ii._dragging=!1,u&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function mo(r,u,d){var _,b=[1,4,2,8],S,D,G,X,lt,Tt,Nt,Kt;for(S=0,Tt=r.length;S<Tt;S++)r[S]._code=J(r[S],u);for(G=0;G<4;G++){for(Nt=b[G],_=[],S=0,Tt=r.length,D=Tt-1;S<Tt;D=S++)X=r[S],lt=r[D],X._code&Nt?lt._code&Nt||(Kt=K(lt,X,Nt,u,d),Kt._code=J(Kt,u),_.push(Kt)):(lt._code&Nt&&(Kt=K(lt,X,Nt,u,d),Kt._code=J(Kt,u),_.push(Kt)),_.push(X));r=_}return r}function po(r,u){var d,_,b,S,D,G,X,lt,Tt;if(!r||r.length===0)throw new Error("latlngs not passed");le(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Nt=Et([0,0]),Kt=gt(r),mn=Kt.getNorthWest().distanceTo(Kt.getSouthWest())*Kt.getNorthEast().distanceTo(Kt.getNorthWest());mn<1700&&(Nt=ia(r));var Ke=r.length,Qn=[];for(d=0;d<Ke;d++){var fe=Et(r[d]);Qn.push(u.project(Et([fe.lat-Nt.lat,fe.lng-Nt.lng])))}for(G=X=lt=0,d=0,_=Ke-1;d<Ke;_=d++)b=Qn[d],S=Qn[_],D=b.y*S.x-S.y*b.x,X+=(b.x+S.x)*D,lt+=(b.y+S.y)*D,G+=D*3;G===0?Tt=Qn[0]:Tt=[X/G,lt/G];var de=u.unproject(pt(Tt));return Et([de.lat+Nt.lat,de.lng+Nt.lng])}function ia(r){for(var u=0,d=0,_=0,b=0;b<r.length;b++){var S=Et(r[b]);u+=S.lat,d+=S.lng,_++}return Et([u/_,d/_])}var Hs={__proto__:null,clipPolygon:mo,polygonCenter:po,centroid:ia};function En(r,u){if(!u||!r.length)return r.slice();var d=u*u;return r=y(r,d),r=Ts(r,d),r}function go(r,u,d){return Math.sqrt(Ut(r,u,d,!0))}function ml(r,u,d){return Ut(r,u,d)}function Ts(r,u){var d=r.length,_=typeof Uint8Array<"u"?Uint8Array:Array,b=new _(d);b[0]=b[d-1]=1,f(r,b,u,0,d-1);var S,D=[];for(S=0;S<d;S++)b[S]&&D.push(r[S]);return D}function f(r,u,d,_,b){var S=0,D,G,X;for(G=_+1;G<=b-1;G++)X=Ut(r[G],r[_],r[b],!0),X>S&&(D=G,S=X);S>d&&(u[D]=1,f(r,u,d,_,D),f(r,u,d,D,b))}function y(r,u){for(var d=[r[0]],_=1,b=0,S=r.length;_<S;_++)_t(r[_],r[b])>u&&(d.push(r[_]),b=_);return b<S-1&&d.push(r[S-1]),d}var A;function N(r,u,d,_,b){var S=_?A:J(r,d),D=J(u,d),G,X,lt;for(A=D;;){if(!(S|D))return[r,u];if(S&D)return!1;G=S||D,X=K(r,u,G,d,b),lt=J(X,d),G===S?(r=X,S=lt):(u=X,D=lt)}}function K(r,u,d,_,b){var S=u.x-r.x,D=u.y-r.y,G=_.min,X=_.max,lt,Tt;return d&8?(lt=r.x+S*(X.y-r.y)/D,Tt=X.y):d&4?(lt=r.x+S*(G.y-r.y)/D,Tt=G.y):d&2?(lt=X.x,Tt=r.y+D*(X.x-r.x)/S):d&1&&(lt=G.x,Tt=r.y+D*(G.x-r.x)/S),new at(lt,Tt,b)}function J(r,u){var d=0;return r.x<u.min.x?d|=1:r.x>u.max.x&&(d|=2),r.y<u.min.y?d|=4:r.y>u.max.y&&(d|=8),d}function _t(r,u){var d=u.x-r.x,_=u.y-r.y;return d*d+_*_}function Ut(r,u,d,_){var b=u.x,S=u.y,D=d.x-b,G=d.y-S,X=D*D+G*G,lt;return X>0&&(lt=((r.x-b)*D+(r.y-S)*G)/X,lt>1?(b=d.x,S=d.y):lt>0&&(b+=D*lt,S+=G*lt)),D=r.x-b,G=r.y-S,_?D*D+G*G:new at(b,S)}function le(r){return!yt(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function ue(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),le(r)}function Ce(r,u){var d,_,b,S,D,G,X,lt;if(!r||r.length===0)throw new Error("latlngs not passed");le(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Tt=Et([0,0]),Nt=gt(r),Kt=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Kt<1700&&(Tt=ia(r));var mn=r.length,Ke=[];for(d=0;d<mn;d++){var Qn=Et(r[d]);Ke.push(u.project(Et([Qn.lat-Tt.lat,Qn.lng-Tt.lng])))}for(d=0,_=0;d<mn-1;d++)_+=Ke[d].distanceTo(Ke[d+1])/2;if(_===0)lt=Ke[0];else for(d=0,S=0;d<mn-1;d++)if(D=Ke[d],G=Ke[d+1],b=D.distanceTo(G),S+=b,S>_){X=(S-_)/b,lt=[G.x-X*(G.x-D.x),G.y-X*(G.y-D.y)];break}var fe=u.unproject(pt(lt));return Et([fe.lat+Tt.lat,fe.lng+Tt.lng])}var ai={__proto__:null,simplify:En,pointToSegmentDistance:go,closestPointOnSegment:ml,clipSegment:N,_getEdgeIntersection:K,_getBitCode:J,_sqClosestPointOnSegment:Ut,isFlat:le,_flat:ue,polylineCenter:Ce},oi={project:function(r){return new at(r.lng,r.lat)},unproject:function(r){return new bt(r.y,r.x)},bounds:new P([-180,-90],[180,90])},Yn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new P([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var u=Math.PI/180,d=this.R,_=r.lat*u,b=this.R_MINOR/d,S=Math.sqrt(1-b*b),D=S*Math.sin(_),G=Math.tan(Math.PI/4-_/2)/Math.pow((1-D)/(1+D),S/2);return _=-d*Math.log(Math.max(G,1e-10)),new at(r.lng*u*d,_)},unproject:function(r){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,b=Math.sqrt(1-_*_),S=Math.exp(-r.y/d),D=Math.PI/2-2*Math.atan(S),G=0,X=.1,lt;G<15&&Math.abs(X)>1e-7;G++)lt=b*Math.sin(D),lt=Math.pow((1-lt)/(1+lt),b/2),X=Math.PI/2-2*Math.atan(S*lt)-D,D+=X;return new bt(D*u,r.x*u/d)}},Ni={__proto__:null,LonLat:oi,Mercator:Yn,SphericalMercator:cs},Er=l({},be,{code:"EPSG:3395",projection:Yn,transformation:(function(){var r=.5/(Math.PI*Yn.R);return Bi(r,.5,-r,.5)})()}),br=l({},be,{code:"EPSG:4326",projection:oi,transformation:Bi(1/180,1,-1/180,.5)}),sa=l({},qt,{projection:oi,transformation:Bi(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,u){var d=u.lng-r.lng,_=u.lat-r.lat;return Math.sqrt(d*d+_*_)},infinite:!0});qt.Earth=be,qt.EPSG3395=Er,qt.EPSG3857=Os,qt.EPSG900913=ji,qt.EPSG4326=br,qt.Simple=sa;var Oi=ft.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[T(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[T(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u=r.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Qt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var u=T(r);return this._layers[u]?this:(this._layers[u]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var u=T(r);return this._layers[u]?(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return T(r)in this._layers},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},_addLayers:function(r){r=r?yt(r)?r:[r]:[];for(var u=0,d=r.length;u<d;u++)this.addLayer(r[u])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[T(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var u=T(r);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var b=this._zoomBoundLayers[_].options;r=b.minZoom===void 0?r:Math.min(r,b.minZoom),u=b.maxZoom===void 0?u:Math.max(u,b.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=r===1/0?void 0:r,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ra=Oi.extend({initialize:function(r,u){st(this,u),this._layers={};var d,_;if(r)for(d=0,_=r.length;d<_;d++)this.addLayer(r[d])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var u=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(r){var u=typeof r=="number"?r:this.getLayerId(r);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[r]&&_[r].apply(_,u);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return T(r)}}),td=function(r,u){return new ra(r,u)},ts=ra.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),ra.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),ra.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new dt;for(var u in this._layers){var d=this._layers[u];r.extend(d.getBounds?d.getBounds():d.getLatLng())}return r}}),jc=function(r,u){return new ts(r,u)},es=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){st(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var d=this._getIconUrl(r);if(!d){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(r,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var b=pt(_),S=pt(u==="shadow"&&d.shadowAnchor||d.iconAnchor||b&&b.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(d.className||""),S&&(r.style.marginLeft=-S.x+"px",r.style.marginTop=-S.y+"px"),b&&(r.style.width=b.x+"px",r.style.height=b.y+"px")},_createImg:function(r,u){return u=u||document.createElement("img"),u.src=r,u},_getIconUrl:function(r){return Rt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function _o(r){return new es(r)}var yo=es.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof yo.imagePath!="string"&&(yo.imagePath=this._detectIconPath()),(this.options.imagePath||yo.imagePath)+es.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var u=function(d,_,b){var S=_.exec(d);return S&&S[b]};return r=u(r,/^url\((['"])?(.+)\1\)$/,2),r&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Xt("div","leaflet-default-icon-path",document.body),u=ks(r,"background-image")||ks(r,"backgroundImage");if(document.body.removeChild(r),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),vo=Kn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Ii(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),At(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,S=Xi(u._icon),D=d.getPixelBounds(),G=d.getPixelOrigin(),X=nt(D.min._subtract(G).add(b),D.max._subtract(G).subtract(b));if(!X.contains(S)){var lt=pt((Math.max(X.max.x,S.x)-X.max.x)/(D.max.x-X.max.x)-(Math.min(X.min.x,S.x)-X.min.x)/(D.min.x-X.min.x),(Math.max(X.max.y,S.y)-X.max.y)/(D.max.y-X.max.y)-(Math.min(X.min.y,S.y)-X.min.y)/(D.min.y-X.min.y)).multiplyBy(_);d.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),ve(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=B(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,d=u._shadow,_=Xi(u._icon),b=u._map.layerPointToLatLng(_);d&&ve(d,_),u._latlng=b,r.latlng=b,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),To=Oi.extend({options:{icon:new yo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){st(this,u),this._latlng=Et(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=Et(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=r.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,r.title&&(d.title=r.title),d.tagName==="IMG"&&(d.alt=r.alt||"")),At(d,u),r.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(d,"focus",this._panOnFocus,this);var b=r.icon.createShadow(this._shadow),S=!1;b!==this._shadow&&(this._removeShadow(),S=!0),b&&(At(b,u),b.alt=""),this._shadow=b,r.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&S&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),Wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&ve(this._icon,r),this._shadow&&ve(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(At(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vo)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vo(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Re(this._icon,r),this._shadow&&Re(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var u=this.options.icon.options,d=u.iconSize?pt(u.iconSize):pt(0,0),_=u.iconAnchor?pt(u.iconAnchor):pt(0,0);r.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Hc(r,u){return new To(r,u)}var ns=Oi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return st(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),aa=ns.extend({options:{fill:!0,radius:10},initialize:function(r,u){st(this,u),this._latlng=Et(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=Et(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return ns.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,u=this._radiusY||r,d=this._clickTolerance(),_=[r+d,u+d];this._pxBounds=new P(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qc(r,u){return new aa(r,u)}var pl=aa.extend({initialize:function(r,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),st(this,u),this._latlng=Et(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new dt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:ns.prototype.setStyle,_project:function(){var r=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===be.distance){var b=Math.PI/180,S=this._mRadius/be.R/b,D=d.project([u+S,r]),G=d.project([u-S,r]),X=D.add(G).divideBy(2),lt=d.unproject(X).lat,Tt=Math.acos((Math.cos(S*b)-Math.sin(u*b)*Math.sin(lt*b))/(Math.cos(u*b)*Math.cos(lt*b)))/b;(isNaN(Tt)||Tt===0)&&(Tt=S/Math.cos(Math.PI/180*u)),this._point=X.subtract(d.getPixelOrigin()),this._radius=isNaN(Tt)?0:X.x-d.project([lt,r-Tt]).x,this._radiusY=X.y-D.y}else{var Nt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Nt).x}this._updateBounds()}});function Fc(r,u,d){return new pl(r,u,d)}var Es=ns.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){st(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var u=1/0,d=null,_=Ut,b,S,D=0,G=this._parts.length;D<G;D++)for(var X=this._parts[D],lt=1,Tt=X.length;lt<Tt;lt++){b=X[lt-1],S=X[lt];var Nt=_(r,b,S,!0);Nt<u&&(u=Nt,d=_(r,b,S))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ce(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=Et(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new dt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return le(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],d=le(r),_=0,b=r.length;_<b;_++)d?(u[_]=Et(r[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(r[_]);return u},_project:function(){var r=new P;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),u=new at(r,r);this._rawPxBounds&&(this._pxBounds=new P([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(r,u,d){var _=r[0]instanceof bt,b=r.length,S,D;if(_){for(D=[],S=0;S<b;S++)D[S]=this._map.latLngToLayerPoint(r[S]),d.extend(D[S]);u.push(D)}else for(S=0;S<b;S++)this._projectLatlngs(r[S],u,d)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,b,S,D,G,X;for(d=0,b=0,S=this._rings.length;d<S;d++)for(X=this._rings[d],_=0,D=X.length;_<D-1;_++)G=N(X[_],X[_+1],r,_,!0),G&&(u[b]=u[b]||[],u[b].push(G[0]),(G[1]!==X[_+1]||_===D-2)&&(u[b].push(G[1]),b++))}},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,d=0,_=r.length;d<_;d++)r[d]=En(r[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var d,_,b,S,D,G,X=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(d=0,S=this._parts.length;d<S;d++)for(G=this._parts[d],_=0,D=G.length,b=D-1;_<D;b=_++)if(!(!u&&_===0)&&go(r,G[b],G[_])<=X)return!0;return!1}});function ed(r,u){return new Es(r,u)}Es._flat=ue;var oa=Es.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return po(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var u=Es.prototype._convertLatLngs.call(this,r),d=u.length;return d>=2&&u[0]instanceof bt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(r){Es.prototype._setLatLngs.call(this,r),le(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return le(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,u=this.options.weight,d=new at(u,u);if(r=new P(r.min.subtract(d),r.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,b=this._rings.length,S;_<b;_++)S=mo(this._rings[_],r,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var u=!1,d,_,b,S,D,G,X,lt;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(S=0,X=this._parts.length;S<X;S++)for(d=this._parts[S],D=0,lt=d.length,G=lt-1;D<lt;G=D++)_=d[D],b=d[G],_.y>r.y!=b.y>r.y&&r.x<(b.x-_.x)*(r.y-_.y)/(b.y-_.y)+_.x&&(u=!u);return u||Es.prototype._containsPoint.call(this,r,!0)}});function nd(r,u){return new oa(r,u)}var bs=ts.extend({initialize:function(r,u){st(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var u=yt(r)?r:r.features,d,_,b;if(u){for(d=0,_=u.length;d<_;d++)b=u[d],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var S=this.options;if(S.filter&&!S.filter(r))return this;var D=bn(r,S);return D?(D.feature=yl(r),D.defaultOptions=D.options,this.resetStyle(D),S.onEachFeature&&S.onEachFeature(r,D),this.addLayer(D)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=l({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&(typeof u=="function"&&(u=u(r.feature)),r.setStyle(u))}});function bn(r,u){var d=r.type==="Feature"?r.geometry:r,_=d?d.coordinates:null,b=[],S=u&&u.pointToLayer,D=u&&u.coordsToLatLng||gl,G,X,lt,Tt;if(!_&&!d)return null;switch(d.type){case"Point":return G=D(_),la(S,r,G,u);case"MultiPoint":for(lt=0,Tt=_.length;lt<Tt;lt++)G=D(_[lt]),b.push(la(S,r,G,u));return new ts(b);case"LineString":case"MultiLineString":return X=Eo(_,d.type==="LineString"?0:1,D),new Es(X,u);case"Polygon":case"MultiPolygon":return X=Eo(_,d.type==="Polygon"?1:2,D),new oa(X,u);case"GeometryCollection":for(lt=0,Tt=d.geometries.length;lt<Tt;lt++){var Nt=bn({geometry:d.geometries[lt],type:"Feature",properties:r.properties},u);Nt&&b.push(Nt)}return new ts(b);case"FeatureCollection":for(lt=0,Tt=d.features.length;lt<Tt;lt++){var Kt=bn(d.features[lt],u);Kt&&b.push(Kt)}return new ts(b);default:throw new Error("Invalid GeoJSON object.")}}function la(r,u,d,_){return r?r(u,d):new To(d,_&&_.markersInheritOptions&&_)}function gl(r){return new bt(r[1],r[0],r[2])}function Eo(r,u,d){for(var _=[],b=0,S=r.length,D;b<S;b++)D=u?Eo(r[b],u-1,d):(d||gl)(r[b]),_.push(D);return _}function _l(r,u){return r=Et(r),r.alt!==void 0?[z(r.lng,u),z(r.lat,u),z(r.alt,u)]:[z(r.lng,u),z(r.lat,u)]}function bo(r,u,d,_){for(var b=[],S=0,D=r.length;S<D;S++)b.push(u?bo(r[S],le(r[S])?0:u-1,d,_):_l(r[S],_));return!u&&d&&b.length>0&&b.push(b[0].slice()),b}function qs(r,u){return r.feature?l({},r.feature,{geometry:u}):yl(u)}function yl(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Fs={toGeoJSON:function(r){return qs(this,{type:"Point",coordinates:_l(this.getLatLng(),r)})}};To.include(Fs),pl.include(Fs),aa.include(Fs),Es.include({toGeoJSON:function(r){var u=!le(this._latlngs),d=bo(this._latlngs,u?1:0,!1,r);return qs(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),oa.include({toGeoJSON:function(r){var u=!le(this._latlngs),d=u&&!le(this._latlngs[0]),_=bo(this._latlngs,d?2:u?1:0,!0,r);return u||(_=[_]),qs(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),ra.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(r).geometry.coordinates)}),qs(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(r);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(b){if(b.toGeoJSON){var S=b.toGeoJSON(r);if(d)_.push(S.geometry);else{var D=yl(S);D.type==="FeatureCollection"?_.push.apply(_,D.features):_.push(D)}}}),d?qs(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function vl(r,u){return new bs(r,u)}var wo=vl,ua=Oi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,d){this._url=r,this._bounds=gt(u),st(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(At(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Pe(this._image),this},bringToBack:function(){return this._map&&Gn(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=gt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",u=this._image=r?this._url:Xt("img");if(At(u,"leaflet-image-layer"),this._zoomAnimated&&At(u,"leaflet-zoom-animated"),this.options.className&&At(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(r){var u=this._map.getZoomScale(r.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Ai(this._image,d,u)},_reset:function(){var r=this._image,u=new P(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();ve(r,u.min),r.style.width=d.x+"px",r.style.height=d.y+"px"},_updateOpacity:function(){Re(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Gc=function(r,u,d){return new ua(r,u,d)},Gs=ua.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",u=this._image=r?this._url:Xt("video");if(At(u,"leaflet-image-layer"),this._zoomAnimated&&At(u,"leaflet-zoom-animated"),this.options.className&&At(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onloadeddata=p(this.fire,this,"load"),r){for(var d=u.getElementsByTagName("source"),_=[],b=0;b<d.length;b++)_.push(d[b].src);this._url=d.length>0?_:[u.src];return}yt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var D=Xt("source");D.src=this._url[S],u.appendChild(D)}}});function ca(r,u,d){return new Gs(r,u,d)}var Tl=ua.extend({_initImage:function(){var r=this._image=this._url;At(r,"leaflet-image-layer"),this._zoomAnimated&&At(r,"leaflet-zoom-animated"),this.options.className&&At(r,this.options.className),r.onselectstart=C,r.onmousemove=C}});function Zc(r,u,d){return new Tl(r,u,d)}var wn=Oi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof bt||yt(r))?(this._latlng=Et(r),st(this,u)):(st(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Re(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Re(this._container,1),this.bringToFront(),this.options.interactive&&(At(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Re(this._container,0),this._removeTimeout=setTimeout(p(Wt,void 0,this._container),200)):Wt(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Et(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pe(this._container),this},bringToBack:function(){return this._map&&Gn(this._container),this},_prepareOpen:function(r){var u=this._source;if(!u._map)return!1;if(u instanceof ts){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!r)if(u.getCenter)r=u.getCenter();else if(u.getLatLng)r=u.getLatLng();else if(u.getBounds)r=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),u=pt(this.options.offset),d=this._getAnchor();this._zoomAnimated?ve(this._container,r.add(d)):u=u.add(r).add(d);var _=this._containerBottom=-u.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Qt.include({_initOverlay:function(r,u,d,_){var b=u;return b instanceof r||(b=new r(_).setContent(u)),d&&b.setLatLng(d),b}}),Oi.include({_initOverlay:function(r,u,d,_){var b=d;return b instanceof r?(st(b,_),b._source=this):(b=u&&!_?u:new r(_,this),b.setContent(d)),b}});var Ao=wn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,wn.prototype.openOn.call(this,r)},onAdd:function(r){wn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ns||this._source.on("preclick",ne))},onRemove:function(r){wn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ns||this._source.off("preclick",ne))},getEvents:function(){var r=wn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=Xt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Xt("div",r+"-content-wrapper",u);if(this._contentNode=Xt("div",r+"-content",d),_s(u),ri(this._contentNode),Mt(u,"contextmenu",ne),this._tipContainer=Xt("div",r+"-tip-container",u),this._tip=Xt("div",r+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Xt("a",r+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Mt(_,"click",function(b){De(b),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,u=r.style;u.width="",u.whiteSpace="nowrap";var d=r.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=r.offsetHeight,b=this.options.maxHeight,S="leaflet-popup-scrolled";b&&_>b?(u.height=b+"px",At(r,S)):ye(r,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),d=this._getAnchor();ve(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,u=parseInt(ks(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,b=new at(this._containerLeft,-d-this._containerBottom);b._add(Xi(this._container));var S=r.layerPointToContainerPoint(b),D=pt(this.options.autoPanPadding),G=pt(this.options.autoPanPaddingTopLeft||D),X=pt(this.options.autoPanPaddingBottomRight||D),lt=r.getSize(),Tt=0,Nt=0;S.x+_+X.x>lt.x&&(Tt=S.x+_-lt.x+X.x),S.x-Tt-G.x<0&&(Tt=S.x-G.x),S.y+d+X.y>lt.y&&(Nt=S.y+d-lt.y+X.y),S.y-Nt-G.y<0&&(Nt=S.y-G.y),(Tt||Nt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Tt,Nt]))}},_getAnchor:function(){return pt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Kc=function(r,u){return new Ao(r,u)};Qt.mergeOptions({closePopupOnClick:!0}),Qt.include({openPopup:function(r,u,d){return this._initOverlay(Ao,r,u,d).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Oi.include({bindPopup:function(r,u){return this._popup=this._initOverlay(Ao,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof ts||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Si(r);var u=r.layer||r.target;if(this._popup._source===u&&!(u instanceof ns)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=u,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var So=wn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){wn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){wn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=wn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",u=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Xt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+T(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,d,_=this._map,b=this._container,S=_.latLngToContainerPoint(_.getCenter()),D=_.layerPointToContainerPoint(r),G=this.options.direction,X=b.offsetWidth,lt=b.offsetHeight,Tt=pt(this.options.offset),Nt=this._getAnchor();G==="top"?(u=X/2,d=lt):G==="bottom"?(u=X/2,d=0):G==="center"?(u=X/2,d=lt/2):G==="right"?(u=0,d=lt/2):G==="left"?(u=X,d=lt/2):D.x<S.x?(G="right",u=0,d=lt/2):(G="left",u=X+(Tt.x+Nt.x)*2,d=lt/2),r=r.subtract(pt(u,d,!0)).add(Tt).add(Nt),ye(b,"leaflet-tooltip-right"),ye(b,"leaflet-tooltip-left"),ye(b,"leaflet-tooltip-top"),ye(b,"leaflet-tooltip-bottom"),At(b,"leaflet-tooltip-"+G),ve(b,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Re(this._container,r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(u)},_getAnchor:function(){return pt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),id=function(r,u){return new So(r,u)};Qt.include({openTooltip:function(r,u,d){return this._initOverlay(So,r,u,d).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Oi.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(So,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var u=r?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof ts||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&(Mt(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Mt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var u=r.latlng,d,_;this._tooltip.options.sticky&&r.originalEvent&&(d=this._map.mouseEventToContainerPoint(r.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Yc=es.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var u=r&&r.tagName==="DIV"?r:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Oe(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=pt(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function sd(r){return new Yc(r)}es.Default=yo;var ha=Oi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Rt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){st(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Wt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof at?r:new at(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var u=this.getPane().children,d=-r(-1/0,1/0),_=0,b=u.length,S;_<b;_++)S=u[_].style.zIndex,u[_]!==this._container&&S&&(d=r(d,+S));isFinite(d)&&(this.options.zIndex=d+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Rt.ielt9){Re(this._container,this.options.opacity);var r=+new Date,u=!1,d=!1;for(var _ in this._tiles){var b=this._tiles[_];if(!(!b.current||!b.loaded)){var S=Math.min(1,(r-b.loaded)/200);Re(b.el,S),S<1?u=!0:(b.active?d=!0:this._onOpaqueTile(b),b.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(q(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=Xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(r!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===r?(this._levels[d].el.style.zIndex=u-Math.abs(r-d),this._onUpdateLevel(d)):(Wt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[r],b=this._map;return _||(_=this._levels[r]={},_.el=Xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=b.project(b.unproject(b.getPixelOrigin()),r).round(),_.zoom=r,this._setZoomTransform(_,b.getCenter(),b.getZoom()),C(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var r,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)u=this._tiles[r],u.retain=u.current;for(r in this._tiles)if(u=this._tiles[r],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Wt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,u,d,_){var b=Math.floor(r/2),S=Math.floor(u/2),D=d-1,G=new at(+b,+S);G.z=+D;var X=this._tileCoordsToKey(G),lt=this._tiles[X];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),D>_?this._retainParent(b,S,D,_):!1)},_retainChildren:function(r,u,d,_){for(var b=2*r;b<2*r+2;b++)for(var S=2*u;S<2*u+2;S++){var D=new at(b,S);D.z=d+1;var G=this._tileCoordsToKey(D),X=this._tiles[G];if(X&&X.active){X.retain=!0;continue}else X&&X.loaded&&(X.retain=!0);d+1<_&&this._retainChildren(b,S,d+1,_)}},_resetView:function(r){var u=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return u.minNativeZoom!==void 0&&r<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,d,_){var b=Math.round(u);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var S=this.options.updateWhenZooming&&b!==this._tileZoom;(!_||S)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(r),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],r,u)},_setZoomTransform:function(r,u,d){var _=this._map.getZoomScale(d,r.zoom),b=r.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();Rt.any3d?Ai(r.el,b,_):ve(r.el,b)},_resetGrid:function(){var r=this._map,u=r.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(r.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(r.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),b=u.project(r,this._tileZoom).floor(),S=u.getSize().divideBy(_*2);return new P(b.subtract(S),b.add(S))},_update:function(r){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(r===void 0&&(r=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(r),b=this._pxBoundsToTileRange(_),S=b.getCenter(),D=[],G=this.options.keepBuffer,X=new P(b.getBottomLeft().subtract([G,-G]),b.getTopRight().add([G,-G]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var Tt=this._tiles[lt].coords;(Tt.z!==this._tileZoom||!X.contains(new at(Tt.x,Tt.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(r,d);return}for(var Nt=b.min.y;Nt<=b.max.y;Nt++)for(var Kt=b.min.x;Kt<=b.max.x;Kt++){var mn=new at(Kt,Nt);if(mn.z=this._tileZoom,!!this._isValidTile(mn)){var Ke=this._tiles[this._tileCoordsToKey(mn)];Ke?Ke.current=!0:D.push(mn)}}if(D.sort(function(fe,de){return fe.distanceTo(S)-de.distanceTo(S)}),D.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qn=document.createDocumentFragment();for(Kt=0;Kt<D.length;Kt++)this._addTile(D[Kt],Qn);this._level.el.appendChild(Qn)}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(r.x<d.min.x||r.x>d.max.x)||!u.wrapLat&&(r.y<d.min.y||r.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(r);return gt(this.options.bounds).overlaps(_)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,d=this.getTileSize(),_=r.scaleBy(d),b=_.add(d),S=u.unproject(_,r.z),D=u.unproject(b,r.z);return[S,D]},_tileCoordsToBounds:function(r){var u=this._tileCoordsToNwSe(r),d=new dt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var u=r.split(":"),d=new at(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(r){var u=this._tiles[r];u&&(Wt(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){At(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=C,r.onmousemove=C,Rt.ielt9&&this.options.opacity<1&&Re(r,this.options.opacity)},_addTile:function(r,u){var d=this._getTilePos(r),_=this._tileCoordsToKey(r),b=this.createTile(this._wrapCoords(r),p(this._tileReady,this,r));this._initTile(b),this.createTile.length<2&&B(p(this._tileReady,this,r,null,b)),ve(b,d),this._tiles[_]={el:b,coords:r,current:!0},u.appendChild(b),this.fire("tileloadstart",{tile:b,coords:r})},_tileReady:function(r,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:r});var _=this._tileCoordsToKey(r);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Re(d.el,0),q(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(At(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Rt.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new at(this._wrapX?I(r.x,this._wrapX):r.x,this._wrapY?I(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new P(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Qc(r){return new ha(r)}var Zs=ha.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,u=st(this,u),u.detectRetina&&Rt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&u===void 0&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var d=document.createElement("img");return Mt(d,"load",p(this._tileOnLoad,this,u,d)),Mt(d,"error",p(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(r),d},getTileUrl:function(r){var u={r:Rt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-r.y;this.options.tms&&(u.y=d),u["-y"]=d}return vt(this._url,l(u,this.options))},_tileOnLoad:function(r,u){Rt.ielt9?setTimeout(p(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),r(d,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(r=u-r),r+_},_getSubdomain:function(r){var u=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var r,u;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(u=this._tiles[r].el,u.onload=C,u.onerror=C,!u.complete)){u.src=Bt;var d=this._tiles[r].coords;Wt(u),delete this._tiles[r],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",Bt),ha.prototype._removeTile.call(this,r)},_tileReady:function(r,u,d){if(!(!this._map||d&&d.getAttribute("src")===Bt))return ha.prototype._tileReady.call(this,r,u,d)}});function li(r,u){return new Zs(r,u)}var xo=Zs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,u){this._url=r;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=st(this,u);var b=u.detectRetina&&Rt.retina?2:1,S=this.getTileSize();d.width=S.x*b,d.height=S.y*b,this.wmsParams=d},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Zs.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),d=this._crs,_=nt(d.project(u[0]),d.project(u[1])),b=_.min,S=_.max,D=(this._wmsVersion>=1.3&&this._crs===br?[b.y,b.x,S.y,S.x]:[b.x,b.y,S.x,S.y]).join(","),G=Zs.prototype.getTileUrl.call(this,r);return G+Z(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(r,u){return l(this.wmsParams,r),u||this.redraw(),this}});function ui(r,u){return new xo(r,u)}Zs.WMS=xo,li.wms=ui;var Vn=Oi.extend({options:{padding:.1},initialize:function(r){st(this,r),T(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),At(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,u),S=_.multiplyBy(-d).add(b).subtract(this._map._getNewPixelOrigin(r,u));Rt.any3d?Ai(this._container,S,d):ve(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new P(d,d.add(u.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),El=Vn.extend({options:{tolerance:0},getEvents:function(){var r=Vn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Mt(r,"mousemove",this._onMouseMove,this),Mt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Mt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,Wt(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var u in this._layers)r=this._layers[u],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vn.prototype._update.call(this);var r=this._bounds,u=this._container,d=r.getSize(),_=Rt.retina?2:1;ve(u,r.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Rt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Vn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[T(r)]=r;var u=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=r._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete r._order,delete this._layers[T(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var u=r.options.dashArray.split(/[, ]+/),d=[],_,b;for(b=0;b<u.length;b++){if(_=Number(u[b]),isNaN(_))return;d.push(_)}r.options._dashArray=d}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var u=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new P,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var u=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)r=_.layer,(!u||r._pxBounds&&r._pxBounds.intersects(u))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var d,_,b,S,D=r._parts,G=D.length,X=this._ctx;if(G){for(X.beginPath(),d=0;d<G;d++){for(_=0,b=D[d].length;_<b;_++)S=D[d][_],X[_?"lineTo":"moveTo"](S.x,S.y);u&&X.closePath()}this._fillStroke(X,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var u=r._point,d=this._ctx,_=Math.max(Math.round(r._radius),1),b=(Math.max(Math.round(r._radiusY),1)||_)/_;b!==1&&(d.save(),d.scale(1,b)),d.beginPath(),d.arc(u.x,u.y/b,_,0,Math.PI*2,!1),b!==1&&d.restore(),this._fillStroke(d,r)}},_fillStroke:function(r,u){var d=u.options;d.fill&&(r.globalAlpha=d.fillOpacity,r.fillStyle=d.fillColor||d.color,r.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=d.opacity,r.lineWidth=d.weight,r.strokeStyle=d.color,r.lineCap=d.lineCap,r.lineJoin=d.lineJoin,r.stroke())},_onClick:function(r){for(var u=this._map.mouseEventToLayerPoint(r),d,_,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(u)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,u)}},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(ye(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var d,_,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(r),_&&(At(this._container,"leaflet-interactive"),this._fireEvent([_],r,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,d){this._map._fireDOMEvent(u,d||u.type,r)},_bringToFront:function(r){var u=r._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(r)}},_bringToBack:function(r){var u=r._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(r)}}});function Ro(r){return Rt.canvas?new El(r):null}var Ks=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),gu={_initContainer:function(){this._container=Xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=Ks("shape");At(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=Ks("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[T(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;Wt(u),r.removeInteractiveTarget(u),delete this._layers[T(r)]},_updateStyle:function(r){var u=r._stroke,d=r._fill,_=r.options,b=r._container;b.stroked=!!_.stroke,b.filled=!!_.fill,_.stroke?(u||(u=r._stroke=Ks("stroke")),b.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=yt(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(b.removeChild(u),r._stroke=null),_.fill?(d||(d=r._fill=Ks("fill")),b.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(b.removeChild(d),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),d=Math.round(r._radius),_=Math.round(r._radiusY||d);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){Pe(r._container)},_bringToBack:function(r){Gn(r._container)}},is=Rt.vml?Ks:Zr,fa=Vn.extend({_initContainer:function(){this._container=is("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=is("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wt(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vn.prototype._update.call(this);var r=this._bounds,u=r.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),ve(d,r.min),d.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(r){var u=r._path=is("path");r.options.className&&At(u,r.options.className),r.options.interactive&&At(u,"leaflet-interactive"),this._updateStyle(r),this._layers[T(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Wt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[T(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var u=r._path,d=r.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,Ps(r._parts,u))},_updateCircle:function(r){var u=r._point,d=Math.max(Math.round(r._radius),1),_=Math.max(Math.round(r._radiusY),1)||d,b="a"+d+","+_+" 0 1,0 ",S=r._empty()?"M0 0":"M"+(u.x-d)+","+u.y+b+d*2+",0 "+b+-d*2+",0 ";this._setPath(r,S)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){Pe(r._path)},_bringToBack:function(r){Gn(r._path)}});Rt.vml&&fa.include(gu);function Co(r){return Rt.svg||Rt.vml?new fa(r):null}Qt.include({getRenderer:function(r){var u=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var u=this._paneRenderers[r];return u===void 0&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u},_createRenderer:function(r){return this.options.preferCanvas&&Ro(r)||Co(r)}});var wr=oa.extend({initialize:function(r,u){oa.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=gt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function rd(r,u){return new wr(r,u)}fa.create=is,fa.pointsToPath=Ps,bs.geometryToLayer=bn,bs.coordsToLatLng=gl,bs.coordsToLatLngs=Eo,bs.latLngToCoords=_l,bs.latLngsToCoords=bo,bs.getFeature=qs,bs.asFeature=yl,Qt.mergeOptions({boxZoom:!0});var zn=Kn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),si(),_r(),this._startPoint=this._map.mouseEventToContainerPoint(r),Mt(document,{contextmenu:Si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Xt("div","leaflet-zoom-box",this._container),At(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var u=new P(this._point,this._startPoint),d=u.getSize();ve(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Wt(this._box),ye(this._container,"leaflet-crosshair")),rn(),Vs(),he(document,{contextmenu:Si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new dt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qt.addInitHook("addHandler","boxZoom",zn),Qt.mergeOptions({doubleClickZoom:!0});var bl=Kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,b=r.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(b):u.setZoomAround(r.containerPoint,b)}});Qt.addInitHook("addHandler","doubleClickZoom",bl),Qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ss=Kn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Ii(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}At(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=gt(this._map.options.maxBounds);this._offsetLimit=nt(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;r.x<u.min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,u=Math.round(r/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,b=(_-u+d)%r+u-d,S=(_+u+d)%r-u-d,D=Math.abs(b+d)<Math.abs(S+d)?b:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(r){var u=this._map,d=u.options,_=!d.inertia||r.noInertia||this._times.length<2;if(u.fire("dragend",r),_)u.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,D=d.easeLinearity,G=b.multiplyBy(D/S),X=G.distanceTo([0,0]),lt=Math.min(d.inertiaMaxSpeed,X),Tt=G.multiplyBy(lt/X),Nt=lt/(d.inertiaDeceleration*D),Kt=Tt.multiplyBy(-Nt/2).round();!Kt.x&&!Kt.y?u.fire("moveend"):(Kt=u._limitOffset(Kt,u.options.maxBounds),B(function(){u.panBy(Kt,{duration:Nt,easeLinearity:D,noMoveStart:!0,animate:!0})}))}}});Qt.addInitHook("addHandler","dragging",ss),Qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _u=Kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Mt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,u=document.documentElement,d=r.scrollTop||u.scrollTop,_=r.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var u=this._panKeys={},d=this.keyCodes,_,b;for(_=0,b=d.left.length;_<b;_++)u[d.left[_]]=[-1*r,0];for(_=0,b=d.right.length;_<b;_++)u[d.right[_]]=[r,0];for(_=0,b=d.down.length;_<b;_++)u[d.down[_]]=[0,r];for(_=0,b=d.up.length;_<b;_++)u[d.up[_]]=[0,-1*r]},_setZoomDelta:function(r){var u=this._zoomKeys={},d=this.keyCodes,_,b;for(_=0,b=d.zoomIn.length;_<b;_++)u[d.zoomIn[_]]=r;for(_=0,b=d.zoomOut.length;_<b;_++)u[d.zoomOut[_]]=-r},_addHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var u=r.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],r.shiftKey&&(_=pt(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(pt(_),d.options.maxBounds)),d.options.worldCopyJump){var b=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(b)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Si(r)}}});Qt.addInitHook("addHandler","keyboard",_u),Qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Io=Kn.extend({addHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var u=an(r),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),_),Si(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),d=this._map.options.zoomSnap||0;r._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,S=d?Math.ceil(b/d)*d:b,D=r._limitZoom(u+(this._delta>0?S:-S))-u;this._delta=0,this._startTime=null,D&&(r.options.scrollWheelZoom==="center"?r.setZoom(u+D):r.setZoomAround(this._lastMousePos,u+D))}});Qt.addInitHook("addHandler","scrollWheelZoom",Io);var Ar=600;Qt.mergeOptions({tapHold:Rt.touchNative&&Rt.safari&&Rt.mobile,tapTolerance:15});var wl=Kn.extend({addHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var u=r.touches[0];this._startPos=this._newPos=new at(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Mt(document,"touchend",De),Mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Ar),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){he(document,"touchend",De),he(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(r){var u=r.touches[0];this._newPos=new at(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){var d=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Qt.addInitHook("addHandler","tapHold",wl),Qt.mergeOptions({touchZoom:Rt.touch,bounceAtZoomLimits:!0});var yu=Kn.extend({addHooks:function(){At(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u=this._map;if(!(!r.touches||r.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(r.touches[0]),_=u.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),De(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(r.touches[0]),_=u.mouseEventToContainerPoint(r.touches[1]),b=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(b,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&b<1||this._zoom>u.getMaxZoom()&&b>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var S=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(b===1&&S.x===0&&S.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var D=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(D,this,!0),De(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qt.addInitHook("addHandler","touchZoom",yu),Qt.BoxZoom=zn,Qt.DoubleClickZoom=bl,Qt.Drag=ss,Qt.Keyboard=_u,Qt.ScrollWheelZoom=Io,Qt.TapHold=wl,Qt.TouchZoom=yu,n.Bounds=P,n.Browser=Rt,n.CRS=qt,n.Canvas=El,n.Circle=pl,n.CircleMarker=aa,n.Class=ee,n.Control=Tn,n.DivIcon=Yc,n.DivOverlay=wn,n.DomEvent=$i,n.DomUtil=Us,n.Draggable=Ii,n.Evented=ft,n.FeatureGroup=ts,n.GeoJSON=bs,n.GridLayer=ha,n.Handler=Kn,n.Icon=es,n.ImageOverlay=ua,n.LatLng=bt,n.LatLngBounds=dt,n.Layer=Oi,n.LayerGroup=ra,n.LineUtil=ai,n.Map=Qt,n.Marker=To,n.Mixin=dl,n.Path=ns,n.Point=at,n.PolyUtil=Hs,n.Polygon=oa,n.Polyline=Es,n.Popup=Ao,n.PosAnimation=ys,n.Projection=Ni,n.Rectangle=wr,n.Renderer=Vn,n.SVG=fa,n.SVGOverlay=Tl,n.TileLayer=Zs,n.Tooltip=So,n.Transformation=Ns,n.Util=k,n.VideoOverlay=Gs,n.bind=p,n.bounds=nt,n.canvas=Ro,n.circle=Fc,n.circleMarker=qc,n.control=kn,n.divIcon=sd,n.extend=l,n.featureGroup=jc,n.geoJSON=vl,n.geoJson=wo,n.gridLayer=Qc,n.icon=_o,n.imageOverlay=Gc,n.latLng=Et,n.latLngBounds=gt,n.layerGroup=td,n.map=js,n.marker=Hc,n.point=pt,n.polygon=nd,n.polyline=ed,n.popup=Kc,n.rectangle=rd,n.setOptions=st,n.stamp=T,n.svg=Co,n.svgOverlay=Zc,n.tileLayer=li,n.tooltip=id,n.transformation=Bi,n.version=a,n.videoOverlay=ca;var vu=window.L;n.noConflict=function(){return window.L=vu,this},window.L=n}))})(oc,oc.exports)),oc.exports}var Bc=gP();const vw=RT(Bc);function Dg(s,t,n){return Object.freeze({instance:s,context:t,container:n})}function Mg(s,t){return t==null?function(a,l){const h=xt.useRef(void 0);return h.current||(h.current=s(a,l)),h}:function(a,l){const h=xt.useRef(void 0);h.current||(h.current=s(a,l));const p=xt.useRef(a),{instance:v}=h.current;return xt.useEffect(function(){p.current!==a&&(t(v,a,p.current),p.current=a)},[v,a,t]),h}}function _P(s,t){xt.useEffect(function(){return(t.layerContainer??t.map).addLayer(s.instance),function(){t.layerContainer?.removeLayer(s.instance),t.map.removeLayer(s.instance)}},[t,s])}function Tw(s){return function(n){const a=_w(),l=s(Pg(n,a),a);return gw(a.map,n.attribution),yw(l.current,n.eventHandlers),_P(l.current,a),l}}function yP(s,t){const n=Mg(s,t),a=Tw(n);return hP(a)}function vP(s,t){const n=Mg(s),a=mP(n,t);return fP(a)}function TP(s,t){const n=Mg(s,t),a=Tw(n);return dP(a)}function EP(s,t,n){const{opacity:a,zIndex:l}=t;a!=null&&a!==n.opacity&&s.setOpacity(a),l!=null&&l!==n.zIndex&&s.setZIndex(l)}function bP({bounds:s,boundsOptions:t,center:n,children:a,className:l,id:h,placeholder:p,style:v,whenReady:T,zoom:E,...I},C){const[z]=xt.useState({className:l,id:h,style:v}),[$,ct]=xt.useState(null),st=xt.useRef(void 0);xt.useImperativeHandle(C,()=>$?.map??null,[$]);const Z=xt.useCallback(vt=>{if(vt!==null&&!st.current){const yt=new Bc.Map(vt,I);st.current=yt,n!=null&&E!=null?yt.setView(n,E):s!=null&&yt.fitBounds(s,t),T!=null&&yt.whenReady(T),ct(uP(yt))}},[]);xt.useEffect(()=>()=>{$?.map.remove()},[$]);const mt=$?np.createElement(Og,{value:$},a):p??null;return np.createElement("div",{...z,ref:Z},mt)}const wP=xt.forwardRef(bP),AP=yP(function({position:t,...n},a){const l=new Bc.Marker(t,n);return Dg(l,cP(a,{overlayContainer:l}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),SP=vP(function(t,n){const a=new Bc.Popup(t,n.overlayContainer);return Dg(a,n)},function(t,n,{position:a},l){xt.useEffect(function(){const{instance:p}=t;function v(E){E.popup===p&&(p.update(),l(!0))}function T(E){E.popup===p&&l(!1)}return n.map.on({popupopen:v,popupclose:T}),n.overlayContainer==null?(a!=null&&p.setLatLng(a),p.openOn(n.map)):n.overlayContainer.bindPopup(p),function(){n.map.off({popupopen:v,popupclose:T}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(p)}},[t,n,l,a])}),xP=TP(function({url:t,...n},a){const l=new Bc.TileLayer(t,Pg(n,a));return Dg(l,a)},function(t,n,a){EP(t,n,a);const{url:l}=n;l!=null&&l!==a.url&&t.setUrl(l)}),RP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",CP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let IP=vw.icon({iconUrl:RP,shadowUrl:CP,iconSize:[25,41],iconAnchor:[12,41]});vw.Marker.prototype.options.icon=IP;const NP=({reports:s})=>{const t=[20.5937,78.9629];return R.jsx("div",{style:{height:"400px",width:"100%"},children:R.jsxs(wP,{center:t,zoom:5,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},children:[R.jsx(xP,{attribution:" OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.map(n=>n.location&&R.jsx(AP,{position:[n.location.lat,n.location.lng],children:R.jsx(SP,{children:R.jsxs("div",{className:"p-2",children:[R.jsx("h3",{className:"font-bold",children:n.title}),R.jsx("p",{className:"text-sm",children:n.category}),R.jsx("span",{className:`text-[10px] uppercase font-bold ${n.status==="Resolved"?"text-emerald-500":"text-amber-500"}`,children:n.status})]})})},n.id))]})})},OP=({reports:s})=>{const t=xt.useMemo(()=>{const n=s.length,a=s.filter(v=>v.status==="resolved").length,l=s.filter(v=>v.status==="pending").length,h=s.filter(v=>v.status==="in-progress").length,p=s.reduce((v,T)=>{const E=T.category||"Uncategorized";return v[E]=(v[E]||0)+1,v},{});return{total:n,resolved:a,pending:l,inProgress:h,categories:p,resolutionRate:n>0?Math.round(a/n*100):0}},[s]);return R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8 animate-fade-in",children:[R.jsxs("div",{className:"bg-slate-900 text-white rounded-[32px] p-6 shadow-xl relative overflow-hidden group",children:[R.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity",children:R.jsx($A,{size:120})}),R.jsxs("div",{className:"relative z-10",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-4 text-slate-400",children:[R.jsx(iS,{size:20}),R.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Total Reports"})]}),R.jsx("div",{className:"text-5xl font-black mb-2",children:t.total}),R.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-sm font-bold",children:[R.jsx(jv,{size:16}),R.jsxs("span",{children:[t.resolutionRate,"% Resolution Rate"]})]})]})]}),R.jsxs("div",{className:"bg-white rounded-[32px] p-6 shadow-lg border border-slate-100",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-6 text-slate-500",children:[R.jsx(rS,{size:20}),R.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Status Overview"})]}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"p-2 bg-emerald-100 text-emerald-600 rounded-xl",children:R.jsx(hS,{size:16})}),R.jsx("span",{className:"font-bold text-sm text-slate-700",children:"Resolved"})]}),R.jsx("span",{className:"font-black text-slate-900",children:t.resolved})]}),R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-xl",children:R.jsx(oS,{size:16})}),R.jsx("span",{className:"font-bold text-sm text-slate-700",children:"Pending"})]}),R.jsx("span",{className:"font-black text-slate-900",children:t.pending})]}),R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-xl",children:R.jsx(dS,{size:16})}),R.jsx("span",{className:"font-bold text-sm text-slate-700",children:"In Progress"})]}),R.jsx("span",{className:"font-black text-slate-900",children:t.inProgress})]})]})]}),R.jsxs("div",{className:"bg-white rounded-[32px] p-6 shadow-lg border border-slate-100",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-6 text-slate-500",children:[R.jsx(jv,{size:20}),R.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Categories"})]}),R.jsx("div",{className:"space-y-3",children:Object.entries(t.categories).map(([n,a])=>R.jsxs("div",{className:"space-y-1",children:[R.jsxs("div",{className:"flex justify-between text-xs font-bold px-1",children:[R.jsx("span",{className:"text-slate-600",children:n}),R.jsx("span",{className:"text-slate-900",children:a})]}),R.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:R.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-1000",style:{width:`${a/t.total*100}%`}})})]},n))})]})]})},PP=({reports:s})=>{const[t,n]=xt.useState(null),[a,l]=xt.useState({}),[h,p]=xt.useState({}),[v,T]=xt.useState({}),[E,I]=xt.useState(null),C=async(Z,mt)=>{n(Z);try{const vt=Ua(er,"reports",Z);await of(vt,{status:mt,updatedAt:new Date})}catch(vt){console.error("Error updating status:",vt),alert("Failed to update status. Please try again.")}finally{n(null)}},z=async Z=>{const mt=a[Z];if(!mt||mt.trim()===""){alert("Please provide a resolution note before marking as resolved.");return}n(Z);try{let vt="";const yt=v[Z];if(yt){const Bt=JO(sP,`resolutions/${Z}_${Date.now()}_${yt.name}`),jt=await XO(Bt,yt);vt=await WO(jt.ref)}const Lt=Ua(er,"reports",Z);await of(Lt,{status:"resolved",adminResolutionNote:mt,resolutionImageUrl:vt,resolvedAt:Rp()}),l(Bt=>({...Bt,[Z]:""})),T(Bt=>({...Bt,[Z]:null}))}catch(vt){console.error("Error resolving report:",vt),alert("Failed to resolve report. Please try again.")}finally{n(null)}},$=async Z=>{const mt=h[Z];if(!mt||mt.trim()===""){alert("Please provide a comment before updating.");return}n(Z);try{const vt=Ua(er,"reports",Z);await of(vt,{adminUpdate:mt,lastUpdated:Rp()}),p(yt=>({...yt,[Z]:""}))}catch(vt){console.error("Error updating comment:",vt),alert("Failed to update comment. Please try again.")}finally{n(null)}},ct=async Z=>{if(window.confirm("Are you sure you want to permanently delete this report?"))try{const mt=Ua(er,"reports",Z);await yb(mt),alert("Report deleted successfully.")}catch(mt){console.error("Error deleting report:",mt),alert("Failed to delete report. Please try again.")}},st=Z=>{switch(Z){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return R.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[R.jsxs("header",{className:"flex justify-between items-center mb-8 md:mb-10",children:[R.jsx("h1",{className:"text-2xl md:text-4xl font-black italic uppercase",children:"Admin Command Center"}),R.jsx("div",{className:"flex gap-4",children:R.jsx("div",{className:"bg-slate-900 text-white px-6 py-2 rounded-full font-bold",children:"Live Data"})})]}),R.jsx(OP,{reports:s}),R.jsx("div",{className:"w-full h-[45vh] md:h-[450px] rounded-[32px] md:rounded-[40px] overflow-hidden mb-6 md:mb-12 shadow-2xl border-4 border-white",children:R.jsx(NP,{reports:s})}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8",children:s.map(Z=>R.jsxs("div",{className:"bg-white rounded-[32px] overflow-hidden shadow-lg border border-slate-100 hover:shadow-2xl transition-shadow group relative",children:[R.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:R.jsx("button",{onClick:()=>ct(Z.id),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors shadow-lg",title:"Delete Report",children:""})}),R.jsx("div",{className:"h-36 sm:h-40 md:h-48 bg-slate-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>I(Z),children:Z.imageUrl?R.jsx("img",{src:Z.imageUrl,className:"w-full h-full object-cover",alt:"Report"}):R.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-bold uppercase",children:"No Image"})}),R.jsxs("div",{className:"p-4 md:p-6",children:[R.jsxs("div",{className:"flex justify-between items-start mb-3",children:[R.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-500 bg-indigo-50 px-3 py-1 rounded-full",children:Z.category}),R.jsx("span",{className:`text-[10px] font-black uppercase px-3 py-1 rounded-full ${st(Z.status)}`,children:Z.status?.toUpperCase()||"PENDING"})]}),R.jsx("h3",{className:"text-lg md:text-xl font-bold mb-2",children:Z.title}),R.jsx("p",{className:"text-slate-500 text-sm mb-4 line-clamp-2",children:Z.description}),Z.address&&R.jsxs("div",{className:"flex items-start gap-1 mb-3 text-xs text-slate-500",children:[R.jsx("span",{className:"shrink-0",children:""}),R.jsx("span",{className:"font-medium line-clamp-1",title:Z.address,children:Z.address})]}),Z.audioUrl&&R.jsxs("div",{className:"mb-4 p-2 bg-indigo-50 rounded-xl flex items-center gap-2 border border-indigo-100",children:[R.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center flex-shrink-0 text-[10px]",children:""}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsx("span",{className:"text-[9px] font-black uppercase text-indigo-500 block",children:"Voice Note"}),R.jsx("audio",{controls:!0,src:Z.audioUrl,className:"w-full h-6"})]})]}),R.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("span",{className:"text-xs font-bold text-slate-400 italic",children:" Pinned on Map"}),R.jsx("div",{className:"flex gap-2",children:R.jsxs("select",{value:Z.status||"pending",onChange:mt=>C(Z.id,mt.target.value),disabled:t===Z.id,className:"text-xs bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full border-0 font-bold uppercase",children:[R.jsx("option",{value:"pending",children:"Pending"}),R.jsx("option",{value:"in-progress",children:"In Progress"}),R.jsx("option",{value:"resolved",children:"Resolved"}),R.jsx("option",{value:"rejected",children:"Rejected"})]})})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-xs font-bold text-slate-600 uppercase",children:"Admin Update:"}),R.jsx("textarea",{value:h[Z.id]||"",onChange:mt=>p(vt=>({...vt,[Z.id]:mt.target.value})),placeholder:"Write an update for the user...",className:"w-full p-3 text-sm border border-slate-200 rounded-xl resize-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",rows:"2"}),R.jsx("button",{onClick:()=>$(Z.id),disabled:t===Z.id||!h[Z.id]?.trim(),className:"w-full bg-indigo-600 text-white text-xs font-bold uppercase py-2 px-4 rounded-xl hover:bg-indigo-500 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:t===Z.id?"UPDATING...":"SEND UPDATE"})]}),Z.status!=="resolved"&&R.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-100",children:[R.jsx("label",{className:"text-xs font-bold text-emerald-600 uppercase",children:"Resolution Details:"}),R.jsxs("div",{className:"relative",children:[R.jsx("input",{type:"file",accept:"image/*",onChange:mt=>T(vt=>({...vt,[Z.id]:mt.target.files[0]})),className:"hidden",id:`resolution-photo-${Z.id}`}),R.jsx("label",{htmlFor:`resolution-photo-${Z.id}`,className:"flex flex-col items-center justify-center w-full h-20 bg-emerald-50 border-2 border-dashed border-emerald-200 rounded-xl cursor-pointer hover:border-emerald-400 hover:bg-emerald-100 transition-all",children:v[Z.id]?R.jsxs("div",{className:"text-center",children:[R.jsx("span",{className:"text-emerald-600 font-bold text-xs",children:" Photo Selected"}),R.jsx("p",{className:"text-emerald-500 text-xs mt-1",children:v[Z.id].name})]}):R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"text-emerald-400 text-xs",children:" Upload Resolution Photo"}),R.jsx("span",{className:"text-emerald-300 text-xs",children:"(Optional)"})]})})]}),R.jsx("textarea",{value:a[Z.id]||"",onChange:mt=>l(vt=>({...vt,[Z.id]:mt.target.value})),placeholder:"Describe what was done to resolve this issue...",className:"w-full p-3 text-sm border border-emerald-200 rounded-xl resize-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500",rows:"3"}),R.jsx("button",{onClick:()=>z(Z.id),disabled:t===Z.id||!a[Z.id]?.trim(),className:"w-full bg-emerald-600 text-white text-xs font-bold uppercase py-3 px-4 rounded-xl hover:bg-emerald-500 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:t===Z.id?"UPLOADING...":"MARK AS RESOLVED"})]})]})]})]},Z.id))}),E&&R.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[40px] p-8 shadow-2xl max-h-[90vh] overflow-y-auto",children:[R.jsxs("div",{className:"flex justify-between items-center mb-6",children:[R.jsx("h2",{className:"text-3xl font-black italic uppercase",children:"Report Details"}),R.jsx("button",{onClick:()=>I(null),className:"text-slate-400 hover:text-slate-900 text-2xl font-bold",children:""})]}),R.jsx("div",{className:"w-full h-96 bg-slate-100 rounded-2xl overflow-hidden mb-6",children:E.imageUrl?R.jsx("img",{src:E.imageUrl,className:"w-full h-full object-cover",alt:"Report"}):R.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-bold uppercase",children:"No Image Available"})}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Title"}),R.jsx("p",{className:"text-lg font-bold text-slate-900",children:E.title})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Category"}),R.jsx("p",{className:"text-lg font-bold text-slate-900",children:E.category||"Uncategorized"})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Description"}),R.jsx("p",{className:"text-slate-700",children:E.description})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Status"}),R.jsx("span",{className:`inline-block px-4 py-2 rounded-full font-bold text-xs uppercase ${st(E.status)}`,children:E.status})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Submitted by"}),R.jsx("p",{className:"text-sm text-slate-600",children:E.userId})]}),E.location&&R.jsxs("div",{children:[R.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Location"}),R.jsx("p",{className:"text-sm text-slate-600",children:E.address?R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"block font-bold text-slate-800 mb-1",children:E.address}),R.jsxs("span",{className:"text-xs text-slate-400",children:["(",E.location.lat,", ",E.location.lng,")"]})]}):`Lat: ${E.location.lat}, Lng: ${E.location.lng}`})]}),E.audioUrl&&R.jsxs("div",{className:"pt-2",children:[R.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-2",children:"Voice Message"}),R.jsx("div",{className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200",children:R.jsx("audio",{controls:!0,src:E.audioUrl,className:"w-full"})})]})]}),R.jsx("button",{onClick:()=>I(null),className:"w-full mt-6 bg-slate-900 text-white font-bold py-3 rounded-2xl hover:bg-slate-800 transition-colors",children:"Close"})]})})]})},DP=({onAdminLogin:s})=>{const[t,n]=xt.useState(!0),[a,l]=xt.useState({email:"",password:"",phone:""}),[h,p]=xt.useState(""),v=async T=>{T.preventDefault(),p("");try{if(t)await R2(Rc,a.email,a.password);else{const E=await x2(Rc,a.email,a.password);await SI(Ua(er,"users",E.user.uid),{email:a.email,phone:a.phone,role:"user",uid:E.user.uid})}}catch(E){p(E.message)}};return R.jsxs("div",{className:"min-h-screen w-full grid md:grid-cols-2 bg-slate-900 text-white",children:[R.jsx("div",{className:"flex items-center justify-center p-4 md:p-8",children:R.jsxs("form",{onSubmit:v,className:"bg-white text-slate-900 p-6 md:p-10 rounded-[28px] md:rounded-[40px] shadow-2xl w-full max-w-md",children:[R.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-6 uppercase italic",children:"UrbanPulse Login"}),R.jsx("input",{type:"email",placeholder:"Email",autoComplete:"email",className:"w-full mb-4 p-4 bg-slate-100 rounded-2xl outline-none",onChange:T=>l({...a,email:T.target.value})}),!t&&R.jsx("input",{type:"tel",placeholder:"Phone Number",autoComplete:"tel",className:"w-full mb-4 p-4 bg-slate-100 rounded-2xl outline-none",onChange:T=>l({...a,phone:T.target.value})}),R.jsx("input",{type:"password",placeholder:"Password",autoComplete:t?"current-password":"new-password",className:"w-full mb-6 p-4 bg-slate-100 rounded-2xl outline-none",onChange:T=>l({...a,password:T.target.value})}),h&&R.jsx("div",{className:"text-rose-600 text-sm mb-3",children:h}),R.jsx("button",{className:"w-full bg-indigo-600 text-white p-4 md:p-5 rounded-2xl font-bold uppercase tracking-widest hover:bg-indigo-700 transition-all",children:t?"Citizen Sign In":"Create Account"}),R.jsx("p",{className:"mt-6 text-center text-slate-400 cursor-pointer text-sm",onClick:()=>n(!t),children:t?"Don't have an account? Sign Up":"Already have an account? Login"}),R.jsx("button",{type:"button",onClick:()=>s?.(),className:"mt-4 w-full text-xs font-bold text-slate-500 uppercase hover:text-rose-500 transition-colors",children:"Access Admin Portal"})]})}),R.jsxs("div",{className:"relative p-8 hidden md:flex items-center justify-center",children:[R.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/20 to-rose-600/20 blur-3xl"}),R.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-[40px] p-10 w-full max-w-md shadow-2xl",children:[R.jsx("h3",{className:"text-xl font-black uppercase tracking-widest text-white mb-4",children:"UrbanPulse"}),R.jsx("p",{className:"text-slate-200 mb-6",children:"Optimize the grid with secure access."}),R.jsxs("ul",{className:"text-slate-300 text-sm space-y-2",children:[R.jsx("li",{children:" Citizen reports feed"}),R.jsx("li",{children:" Admin command center"}),R.jsx("li",{children:" Live map with pins"})]})]})]})]})},MP=({onAuthorized:s})=>{const[t,n]=xt.useState(""),[a,l]=xt.useState(""),h=p=>{p.preventDefault(),t==="ADMIN_INDIA_2026"?(s?.(),l("")):l("Invalid admin passcode")};return R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 p-4 md:p-6",children:R.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-[28px] md:rounded-[40px] p-6 md:p-10 w-full max-w-md shadow-2xl text-white",children:[R.jsx("h2",{className:"text-2xl md:text-3xl font-black uppercase mb-4",children:"Terminal Admin"}),R.jsx("p",{className:"text-slate-300 mb-6",children:"Authorize Session"}),R.jsxs("form",{onSubmit:h,className:"space-y-4",children:[R.jsx("input",{type:"password",placeholder:"Admin Passcode",autoComplete:"current-password",value:t,onChange:p=>n(p.target.value),className:"w-full p-4 rounded-2xl bg-white/20 border border-white/30 text-white placeholder-slate-300 outline-none"}),a&&R.jsx("div",{className:"text-rose-400 text-sm",children:a}),R.jsx("button",{className:"w-full bg-rose-600 text-white p-3 md:p-4 rounded-2xl font-bold uppercase tracking-widest hover:bg-rose-700 transition-all",children:"Authorize"})]})]})})};function LP(){const[s,t]=xt.useState(!1),[n,a]=xt.useState("user"),[l,h]=xt.useState([]),[p,v]=xt.useState(!1),[T,E]=xt.useState(null),[I,C]=xt.useState(!0),[z,$]=xt.useState(!1),ct=async()=>{try{await Rc.signOut(),$(!1),t(!1),a("login"),E(null),h([])}catch(st){console.error("Error signing out:",st)}};return xt.useEffect(()=>N2(Rc,Z=>{Z?(E(Z),C(!1)):(a("login"),C(!1))}),[]),xt.useEffect(()=>{if(!T&&!z)return;let st;return n==="admin"||z?st=J0(Sp(er,"reports"),$0("createdAt","desc")):st=J0(Sp(er,"reports"),bI("userId","==",T.uid),$0("createdAt","desc")),RI(st,mt=>{h(mt.docs.map(vt=>({...vt.data(),id:vt.id})))})},[T,n,z]),s?I?R.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),R.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):!T&&!z?n==="admin-login"?R.jsx(MP,{onAuthorized:()=>{$(!0),a("admin")}}):R.jsx(DP,{onAdminLogin:()=>a("admin-login")}):R.jsxs("div",{className:"min-h-screen bg-slate-50",children:[R.jsxs("header",{className:"flex justify-between items-center p-4 md:p-8 bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-slate-100 shadow-sm",children:[R.jsxs("div",{className:"text-2xl font-black italic uppercase tracking-tighter",children:["URBAN",R.jsx("span",{className:"text-indigo-600",children:"PULSE"})]}),R.jsxs("div",{className:"flex items-center gap-3",children:[n==="user"&&R.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-2xl font-bold text-sm uppercase shadow-lg hover:shadow-xl hover:from-indigo-700 hover:to-indigo-800 transition-all transform hover:-translate-y-0.5",children:[R.jsx("span",{className:"text-lg",children:"+"}),"NEW REPORT"]}),R.jsx("button",{onClick:ct,className:"px-5 py-3 bg-slate-900 text-white rounded-2xl font-bold text-sm uppercase hover:bg-slate-800 transition-all shadow-md hover:shadow-lg",children:"LOGOUT"})]})]}),R.jsxs("div",{className:"p-4 md:p-8",children:[n==="admin"?R.jsx(PP,{reports:l}):R.jsx(aP,{onOpenModal:()=>v(!0),reports:l,user:T}),R.jsx(rP,{isOpen:p,onClose:()=>v(!1)})]})]}):R.jsx(ZA,{onEnter:()=>t(!0)})}GA.createRoot(document.getElementById("root")).render(R.jsx(xt.StrictMode,{children:R.jsx(LP,{})}));
