(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function ig(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ip={exports:{}},ac={};var s0;function VA(){if(s0)return ac;s0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var y in l)y!=="key"&&(h[y]=l[y])}else h=l;return l=h.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:h}}return ac.Fragment=t,ac.jsx=n,ac.jsxs=n,ac}var a0;function UA(){return a0||(a0=1,ip.exports=VA()),ip.exports}var P=UA(),rp={exports:{}},qt={};var o0;function zA(){if(o0)return qt;o0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.iterator;function F(z){return z===null||typeof z!="object"?null:(z=N&&z[N]||z["@@iterator"],typeof z=="function"?z:null)}var nt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,B={};function ot(z,at,gt){this.props=z,this.context=at,this.refs=B,this.updater=gt||nt}ot.prototype.isReactComponent={},ot.prototype.setState=function(z,at){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,at,"setState")},ot.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function st(){}st.prototype=ot.prototype;function ct(z,at,gt){this.props=z,this.context=at,this.refs=B,this.updater=gt||nt}var It=ct.prototype=new st;It.constructor=ct,Z(It,ot.prototype),It.isPureReactComponent=!0;var Pt=Array.isArray;function kt(){}var k={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function M(z,at,gt){var _t=gt.ref;return{$$typeof:r,type:z,key:at,ref:_t!==void 0?_t:null,props:gt}}function q(z,at){return M(z.type,at,z.props)}function j(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function G(z){var at={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(gt){return at[gt]})}var V=/\/+/g;function oe(z,at){return typeof z=="object"&&z!==null&&z.key!=null?G(""+z.key):at.toString(36)}function Je(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(kt,kt):(z.status="pending",z.then(function(at){z.status==="pending"&&(z.status="fulfilled",z.value=at)},function(at){z.status==="pending"&&(z.status="rejected",z.reason=at)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function rt(z,at,gt,_t,wt){var Tt=typeof z;(Tt==="undefined"||Tt==="boolean")&&(z=null);var Ht=!1;if(z===null)Ht=!0;else switch(Tt){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(z.$$typeof){case r:case t:Ht=!0;break;case A:return Ht=z._init,rt(Ht(z._payload),at,gt,_t,wt)}}if(Ht)return wt=wt(z),Ht=_t===""?"."+oe(z,0):_t,Pt(wt)?(gt="",Ht!=null&&(gt=Ht.replace(V,"$&/")+"/"),rt(wt,at,gt,"",function(hr){return hr})):wt!=null&&(j(wt)&&(wt=q(wt,gt+(wt.key==null||z&&z.key===wt.key?"":(""+wt.key).replace(V,"$&/")+"/")+Ht)),at.push(wt)),1;Ht=0;var we=_t===""?".":_t+":";if(Pt(z))for(var Re=0;Re<z.length;Re++)_t=z[Re],Tt=we+oe(_t,Re),Ht+=rt(_t,at,gt,Tt,wt);else if(Re=F(z),typeof Re=="function")for(z=Re.call(z),Re=0;!(_t=z.next()).done;)_t=_t.value,Tt=we+oe(_t,Re++),Ht+=rt(_t,at,gt,Tt,wt);else if(Tt==="object"){if(typeof z.then=="function")return rt(Je(z),at,gt,_t,wt);throw at=String(z),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function vt(z,at,gt){if(z==null)return z;var _t=[],wt=0;return rt(z,_t,"","",function(Tt){return at.call(gt,Tt,wt++)}),_t}function pt(z){if(z._status===-1){var at=z._result;at=at(),at.then(function(gt){(z._status===0||z._status===-1)&&(z._status=1,z._result=gt)},function(gt){(z._status===0||z._status===-1)&&(z._status=2,z._result=gt)}),z._status===-1&&(z._status=0,z._result=at)}if(z._status===1)return z._result.default;throw z._result}var te=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},bt={map:vt,forEach:function(z,at,gt){vt(z,function(){at.apply(this,arguments)},gt)},count:function(z){var at=0;return vt(z,function(){at++}),at},toArray:function(z){return vt(z,function(at){return at})||[]},only:function(z){if(!j(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return qt.Activity=R,qt.Children=bt,qt.Component=ot,qt.Fragment=n,qt.Profiler=l,qt.PureComponent=ct,qt.StrictMode=s,qt.Suspense=v,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,qt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return k.H.useMemoCache(z)}},qt.cache=function(z){return function(){return z.apply(null,arguments)}},qt.cacheSignal=function(){return null},qt.cloneElement=function(z,at,gt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var _t=Z({},z.props),wt=z.key;if(at!=null)for(Tt in at.key!==void 0&&(wt=""+at.key),at)!O.call(at,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&at.ref===void 0||(_t[Tt]=at[Tt]);var Tt=arguments.length-2;if(Tt===1)_t.children=gt;else if(1<Tt){for(var Ht=Array(Tt),we=0;we<Tt;we++)Ht[we]=arguments[we+2];_t.children=Ht}return M(z.type,wt,_t)},qt.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:h,_context:z},z},qt.createElement=function(z,at,gt){var _t,wt={},Tt=null;if(at!=null)for(_t in at.key!==void 0&&(Tt=""+at.key),at)O.call(at,_t)&&_t!=="key"&&_t!=="__self"&&_t!=="__source"&&(wt[_t]=at[_t]);var Ht=arguments.length-2;if(Ht===1)wt.children=gt;else if(1<Ht){for(var we=Array(Ht),Re=0;Re<Ht;Re++)we[Re]=arguments[Re+2];wt.children=we}if(z&&z.defaultProps)for(_t in Ht=z.defaultProps,Ht)wt[_t]===void 0&&(wt[_t]=Ht[_t]);return M(z,Tt,wt)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(z){return{$$typeof:y,render:z}},qt.isValidElement=j,qt.lazy=function(z){return{$$typeof:A,_payload:{_status:-1,_result:z},_init:pt}},qt.memo=function(z,at){return{$$typeof:E,type:z,compare:at===void 0?null:at}},qt.startTransition=function(z){var at=k.T,gt={};k.T=gt;try{var _t=z(),wt=k.S;wt!==null&&wt(gt,_t),typeof _t=="object"&&_t!==null&&typeof _t.then=="function"&&_t.then(kt,te)}catch(Tt){te(Tt)}finally{at!==null&&gt.types!==null&&(at.types=gt.types),k.T=at}},qt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},qt.use=function(z){return k.H.use(z)},qt.useActionState=function(z,at,gt){return k.H.useActionState(z,at,gt)},qt.useCallback=function(z,at){return k.H.useCallback(z,at)},qt.useContext=function(z){return k.H.useContext(z)},qt.useDebugValue=function(){},qt.useDeferredValue=function(z,at){return k.H.useDeferredValue(z,at)},qt.useEffect=function(z,at){return k.H.useEffect(z,at)},qt.useEffectEvent=function(z){return k.H.useEffectEvent(z)},qt.useId=function(){return k.H.useId()},qt.useImperativeHandle=function(z,at,gt){return k.H.useImperativeHandle(z,at,gt)},qt.useInsertionEffect=function(z,at){return k.H.useInsertionEffect(z,at)},qt.useLayoutEffect=function(z,at){return k.H.useLayoutEffect(z,at)},qt.useMemo=function(z,at){return k.H.useMemo(z,at)},qt.useOptimistic=function(z,at){return k.H.useOptimistic(z,at)},qt.useReducer=function(z,at,gt){return k.H.useReducer(z,at,gt)},qt.useRef=function(z){return k.H.useRef(z)},qt.useState=function(z){return k.H.useState(z)},qt.useSyncExternalStore=function(z,at,gt){return k.H.useSyncExternalStore(z,at,gt)},qt.useTransition=function(){return k.H.useTransition()},qt.version="19.2.3",qt}var l0;function rg(){return l0||(l0=1,rp.exports=zA()),rp.exports}var Q=rg();const Cf=ig(Q);var sp={exports:{}},oc={},ap={exports:{}},op={};var u0;function BA(){return u0||(u0=1,(function(r){function t(rt,vt){var pt=rt.length;rt.push(vt);t:for(;0<pt;){var te=pt-1>>>1,bt=rt[te];if(0<l(bt,vt))rt[te]=vt,rt[pt]=bt,pt=te;else break t}}function n(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var vt=rt[0],pt=rt.pop();if(pt!==vt){rt[0]=pt;t:for(var te=0,bt=rt.length,z=bt>>>1;te<z;){var at=2*(te+1)-1,gt=rt[at],_t=at+1,wt=rt[_t];if(0>l(gt,pt))_t<bt&&0>l(wt,gt)?(rt[te]=wt,rt[_t]=pt,te=_t):(rt[te]=gt,rt[at]=pt,te=at);else if(_t<bt&&0>l(wt,pt))rt[te]=wt,rt[_t]=pt,te=_t;else break t}}return vt}function l(rt,vt){var pt=rt.sortIndex-vt.sortIndex;return pt!==0?pt:rt.id-vt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],E=[],A=1,R=null,N=3,F=!1,nt=!1,Z=!1,B=!1,ot=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function It(rt){for(var vt=n(E);vt!==null;){if(vt.callback===null)s(E);else if(vt.startTime<=rt)s(E),vt.sortIndex=vt.expirationTime,t(v,vt);else break;vt=n(E)}}function Pt(rt){if(Z=!1,It(rt),!nt)if(n(v)!==null)nt=!0,kt||(kt=!0,G());else{var vt=n(E);vt!==null&&Je(Pt,vt.startTime-rt)}}var kt=!1,k=-1,O=5,M=-1;function q(){return B?!0:!(r.unstable_now()-M<O)}function j(){if(B=!1,kt){var rt=r.unstable_now();M=rt;var vt=!0;try{t:{nt=!1,Z&&(Z=!1,st(k),k=-1),F=!0;var pt=N;try{e:{for(It(rt),R=n(v);R!==null&&!(R.expirationTime>rt&&q());){var te=R.callback;if(typeof te=="function"){R.callback=null,N=R.priorityLevel;var bt=te(R.expirationTime<=rt);if(rt=r.unstable_now(),typeof bt=="function"){R.callback=bt,It(rt),vt=!0;break e}R===n(v)&&s(v),It(rt)}else s(v);R=n(v)}if(R!==null)vt=!0;else{var z=n(E);z!==null&&Je(Pt,z.startTime-rt),vt=!1}}break t}finally{R=null,N=pt,F=!1}vt=void 0}}finally{vt?G():kt=!1}}}var G;if(typeof ct=="function")G=function(){ct(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,oe=V.port2;V.port1.onmessage=j,G=function(){oe.postMessage(null)}}else G=function(){ot(j,0)};function Je(rt,vt){k=ot(function(){rt(r.unstable_now())},vt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(rt){switch(N){case 1:case 2:case 3:var vt=3;break;default:vt=N}var pt=N;N=vt;try{return rt()}finally{N=pt}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(rt,vt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var pt=N;N=rt;try{return vt()}finally{N=pt}},r.unstable_scheduleCallback=function(rt,vt,pt){var te=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?te+pt:te):pt=te,rt){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=pt+bt,rt={id:A++,callback:vt,priorityLevel:rt,startTime:pt,expirationTime:bt,sortIndex:-1},pt>te?(rt.sortIndex=pt,t(E,rt),n(v)===null&&rt===n(E)&&(Z?(st(k),k=-1):Z=!0,Je(Pt,pt-te))):(rt.sortIndex=bt,t(v,rt),nt||F||(nt=!0,kt||(kt=!0,G()))),rt},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(rt){var vt=N;return function(){var pt=N;N=vt;try{return rt.apply(this,arguments)}finally{N=pt}}}})(op)),op}var c0;function jA(){return c0||(c0=1,ap.exports=BA()),ap.exports}var lp={exports:{}},Bn={};var h0;function HA(){if(h0)return Bn;h0=1;var r=rg();function t(v){var E="https://react.dev/errors/"+v;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)E+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,E,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:v,containerInfo:E,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,E){if(v==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Bn.createPortal=function(v,E){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return h(v,E,null,A)},Bn.flushSync=function(v){var E=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=E,s.p=A,s.d.f()}},Bn.preconnect=function(v,E){typeof v=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(v,E))},Bn.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Bn.preinit=function(v,E){if(typeof v=="string"&&E&&typeof E.as=="string"){var A=E.as,R=y(A,E.crossOrigin),N=typeof E.integrity=="string"?E.integrity:void 0,F=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;A==="style"?s.d.S(v,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:R,integrity:N,fetchPriority:F}):A==="script"&&s.d.X(v,{crossOrigin:R,integrity:N,fetchPriority:F,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Bn.preinitModule=function(v,E){if(typeof v=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var A=y(E.as,E.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(v)},Bn.preload=function(v,E){if(typeof v=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var A=E.as,R=y(A,E.crossOrigin);s.d.L(v,A,{crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Bn.preloadModule=function(v,E){if(typeof v=="string")if(E){var A=y(E.as,E.crossOrigin);s.d.m(v,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:A,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(v)},Bn.requestFormReset=function(v){s.d.r(v)},Bn.unstable_batchedUpdates=function(v,E){return v(E)},Bn.useFormState=function(v,E,A){return d.H.useFormState(v,E,A)},Bn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Bn.version="19.2.3",Bn}var f0;function lT(){if(f0)return lp.exports;f0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),lp.exports=HA(),lp.exports}var d0;function qA(){if(d0)return oc;d0=1;var r=jA(),t=rg(),n=lT();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(s(188))}function E(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(s(188));return i!==e?null:e}for(var o=e,c=i;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return v(p),e;if(g===c)return v(p),i;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=p,c=g;else{for(var b=!1,C=p.child;C;){if(C===o){b=!0,o=p,c=g;break}if(C===c){b=!0,c=p,o=g;break}C=C.sibling}if(!b){for(C=g.child;C;){if(C===o){b=!0,o=g,c=p;break}if(C===c){b=!0,c=g,o=p;break}C=C.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:i}function A(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=A(e),i!==null)return i;e=e.sibling}return null}var R=Object.assign,N=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),nt=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),Pt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case ot:return"Profiler";case B:return"StrictMode";case Pt:return"Suspense";case kt:return"SuspenseList";case M:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case nt:return"Portal";case ct:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case It:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return i=e.displayName||null,i!==null?i:oe(e.type)||"Memo";case O:i=e._payload,e=e._init;try{return oe(e(i))}catch{}}return null}var Je=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},te=[],bt=-1;function z(e){return{current:e}}function at(e){0>bt||(e.current=te[bt],te[bt]=null,bt--)}function gt(e,i){bt++,te[bt]=e.current,e.current=i}var _t=z(null),wt=z(null),Tt=z(null),Ht=z(null);function we(e,i){switch(gt(Tt,i),gt(wt,e),gt(_t,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Cv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Cv(i),e=Iv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}at(_t),gt(_t,e)}function Re(){at(_t),at(wt),at(Tt)}function hr(e){e.memoizedState!==null&&gt(Ht,e);var i=_t.current,o=Iv(i,e.type);i!==o&&(gt(wt,e),gt(_t,o))}function Pr(e){wt.current===e&&(at(_t),at(wt)),Ht.current===e&&(at(Ht),nc._currentValue=pt)}var Bi,Lr;function ji(e){if(Bi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Bi=i&&i[1]||"",Lr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bi+e+Lr}var Ws=!1;function Dr(e,i){if(!e||Ws)return"";Ws=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(it){var tt=it}Reflect.construct(e,[],dt)}else{try{dt.call()}catch(it){tt=it}e.call(dt.prototype)}}else{try{throw Error()}catch(it){tt=it}(dt=e())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(it){if(it&&tt&&typeof it.stack=="string")return[it.stack,tt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],C=g[1];if(b&&C){var U=b.split(`
`),J=C.split(`
`);for(p=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(c===U.length||p===J.length)for(c=U.length-1,p=J.length-1;1<=c&&0<=p&&U[c]!==J[p];)p--;for(;1<=c&&0<=p;c--,p--)if(U[c]!==J[p]){if(c!==1||p!==1)do if(c--,p--,0>p||U[c]!==J[p]){var lt=`
`+U[c].replace(" at new "," at ");return e.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",e.displayName)),lt}while(1<=c&&0<=p);break}}}finally{Ws=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?ji(o):""}function ds(e,i){switch(e.tag){case 26:case 27:case 5:return ji(e.type);case 16:return ji("Lazy");case 13:return e.child!==i&&i!==null?ji("Suspense Fallback"):ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Dr(e.type,!1);case 11:return Dr(e.type.render,!1);case 1:return Dr(e.type,!0);case 31:return ji("Activity");default:return""}}function Mr(e){try{var i="",o=null;do i+=ds(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var He=Object.prototype.hasOwnProperty,qe=r.unstable_scheduleCallback,Hi=r.unstable_cancelCallback,hl=r.unstable_shouldYield,oo=r.unstable_requestPaint,xn=r.unstable_now,ms=r.unstable_getCurrentPriorityLevel,ps=r.unstable_ImmediatePriority,Js=r.unstable_UserBlockingPriority,fr=r.unstable_NormalPriority,Tu=r.unstable_LowPriority,lo=r.unstable_IdlePriority,uo=r.log,fl=r.unstable_setDisableYieldValue,Jn=null,$e=null;function Fn(e){if(typeof uo=="function"&&fl(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Jn,e)}catch{}}var Ve=Math.clz32?Math.clz32:dl,kr=Math.log,$s=Math.LN2;function dl(e){return e>>>=0,e===0?32:31-(kr(e)/$s|0)|0}var vi=256,Vr=262144,Ue=4194304;function qi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fi(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var p=0,g=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?p=qi(c):(b&=C,b!==0?p=qi(b):o||(o=C&~e,o!==0&&(p=qi(o))))):(C=c&~g,C!==0?p=qi(C):b!==0?p=qi(b):o||(o=c&~e,o!==0&&(p=qi(o)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:p}function Ei(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function wu(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ml(){var e=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),e}function Gi(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function dr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bu(e,i,o,c,p,g){var b=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var C=e.entanglements,U=e.expirationTimes,J=e.hiddenUpdates;for(o=b&~o;0<o;){var lt=31-Ve(o),dt=1<<lt;C[lt]=0,U[lt]=-1;var tt=J[lt];if(tt!==null)for(J[lt]=null,lt=0;lt<tt.length;lt++){var it=tt[lt];it!==null&&(it.lane&=-536870913)}o&=~dt}c!==0&&gs(e,c,0),g!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=g&~(b&~i))}function gs(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Ve(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function co(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-Ve(o),p=1<<c;p&i|e[c]&i&&(e[c]|=i),o&=~p}}function ho(e,i){var o=i&-i;return o=(o&42)!==0?1:yn(o),(o&(e.suspendedLanes|i))!==0?0:o}function yn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fo(){var e=vt.p;return e!==0?e:(e=window.event,e===void 0?32:Jv(e.type))}function $n(e,i){var o=vt.p;try{return vt.p=e,i()}finally{vt.p=o}}var ti=Math.random().toString(36).slice(2),ze="__reactFiber$"+ti,Fe="__reactProps$"+ti,Ti="__reactContainer$"+ti,wi="__reactEvents$"+ti,pl="__reactListeners$"+ti,gl="__reactHandles$"+ti,_l="__reactResources$"+ti,Zi="__reactMarker$"+ti;function ta(e){delete e[ze],delete e[Fe],delete e[wi],delete e[pl],delete e[gl]}function bi(e){var i=e[ze];if(i)return i;for(var o=e.parentNode;o;){if(i=o[Ti]||o[ze]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=kv(e);e!==null;){if(o=e[ze])return o;e=kv(e)}return i}e=o,o=e.parentNode}return null}function ei(e){if(e=e[ze]||e[Ti]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function vn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ki(e){var i=e[_l];return i||(i=e[_l]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ge(e){e[Zi]=!0}var mo=new Set,po={};function Yi(e,i){ni(e,i),ni(e+"Capture",i)}function ni(e,i){for(po[e]=i,e=0;e<i.length;e++)mo.add(i[e])}var mr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ea={},na={};function Ur(e){return He.call(na,e)?!0:He.call(ea,e)?!1:mr.test(e)?na[e]=!0:(ea[e]=!0,!1)}function Qt(e,i,o){if(Ur(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Xt(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function Oe(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _s(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function At(e){if(!e._valueTracker){var i=Gn(e)?"checked":"value";e._valueTracker=_s(e,i,""+e[i])}}function ye(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=Gn(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qi=/[\n"\\]/g;function xe(e){return e.replace(Qi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ia(e,i,o,c,p,g,b,C){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),i!=null?b==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),i!=null?Si(e,b,Pe(i)):o!=null?Si(e,b,Pe(o)):c!=null&&e.removeAttribute("value"),p==null&&g!=null&&(e.defaultChecked=!!g),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Pe(C):e.removeAttribute("name")}function ys(e,i,o,c,p,g,b,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){At(e);return}o=o!=null?""+Pe(o):"",i=i!=null?""+Pe(i):o,C||i===e.value||(e.value=i),e.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),At(e)}function Si(e,i,o){i==="number"&&ii(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ve(e,i,o,c){if(e=e.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=i.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Pe(o),i=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function Xi(e,i,o){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Pe(o):""}function ri(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(s(92));if(Je(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Pe(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),At(e)}function sn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var ra=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pr(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||ra.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function vs(e,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&o[p]!==c&&pr(e,p,c)}else for(var g in i)i.hasOwnProperty(g)&&pr(e,g,i[g])}function zr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Br(e){return Wi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var sa=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jr=null,Mt=null;function En(e){var i=ei(e);if(i&&(e=i.stateNode)){var o=e[Fe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ia(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+xe(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var p=c[Fe]||null;if(!p)throw Error(s(90));ia(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&ye(c)}break t;case"textarea":Xi(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&ve(e,!!o.multiple,i,!1)}}}var he=!1;function gr(e,i,o){if(he)return e(i,o);he=!0;try{var c=e(i);return c}finally{if(he=!1,(jr!==null||Mt!==null)&&(Vh(),jr&&(i=jr,e=Mt,Mt=jr=null,En(i),e)))for(i=0;i<e.length;i++)En(e[i])}}function Zn(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Fe]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(kn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){_r=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{_r=!1}var si=null,yr=null,Le=null;function Ai(){if(Le)return Le;var e,i=yr,o=i.length,c,p="value"in si?si.value:si.textContent,g=p.length;for(e=0;e<o&&i[e]===p[e];e++);var b=o-e;for(c=1;c<=b&&i[o-c]===p[g-c];c++);return Le=p.slice(e,1<c?1-c:void 0)}function Hr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function Ri(){return!1}function an(e){function i(o,c,p,g,b){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(o=e[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ji:Ri,this.isPropagationStopped=Ri,this}return R(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),i}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=an(xi),vr=R({},xi,{view:0,detail:0}),Yt=an(vr),qr,Tn,Vn,Ts=R({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vn&&(Vn&&e.type==="mousemove"?(qr=e.screenX-Vn.screenX,Tn=e.screenY-Vn.screenY):Tn=qr=0,Vn=e),qr)},movementY:function(e){return"movementY"in e?e.movementY:Tn}}),go=an(Ts),Er=R({},Ts,{dataTransfer:0}),yl=an(Er),_o=R({},vr,{relatedTarget:0}),ws=an(_o),yo=R({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),aa=an(yo),oa=R({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kn=an(oa),vl=R({},xi,{data:0}),Ci=an(vl),Ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function la(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Eo[e])?!!i[e]:!1}function Fr(){return la}var wn=R({},vr,{key:function(e){if(e.key){var i=Ii[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(e){return e.type==="keypress"?Hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),To=an(wn),El=R({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tr=an(El),f=R({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),T=an(f),S=R({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=an(S),X=R({},Ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),et=an(X),yt=R({},xi,{newState:0,oldState:0}),Bt=an(yt),le=[9,13,27,32],ue=kn&&"CompositionEvent"in window,Ce=null;kn&&"documentMode"in document&&(Ce=document.documentMode);var ai=kn&&"TextEvent"in window&&!Ce,oi=kn&&(!ue||Ce&&8<Ce&&11>=Ce),Yn=" ",Ni=!1;function bs(e,i){switch(e){case"keyup":return le.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ss(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function Oi(e,i){switch(e){case"compositionend":return Ss(i);case"keypress":return i.which!==32?null:(Ni=!0,Yn);case"textInput":return e=i.data,e===Yn&&Ni?null:e;default:return null}}function ca(e,i){if(ua)return e==="compositionend"||!ue&&bs(e,i)?(e=Ai(),Le=yr=si=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return oi&&i.locale!=="ko"?null:i.data;default:return null}}var Td={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tr(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Td[e.type]:i==="textarea"}function th(e,i,o,c){jr?Mt?Mt.push(c):Mt=[c]:jr=c,i=Fh(i,"onChange"),0<i.length&&(o=new $i("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var er=null,wo=null;function bo(e){wv(e,0)}function So(e){var i=vn(e);if(ye(i))return e}function Ao(e,i){if(e==="change")return i}var eh=!1;if(kn){var nr;if(kn){var ha="oninput"in document;if(!ha){var nh=document.createElement("div");nh.setAttribute("oninput","return;"),ha=typeof nh.oninput=="function"}nr=ha}else nr=!1;eh=nr&&(!document.documentMode||9<document.documentMode)}function Tl(){er&&(er.detachEvent("onpropertychange",ih),wo=er=null)}function ih(e){if(e.propertyName==="value"&&So(wo)){var i=[];th(i,wo,e,Mn(e)),gr(bo,i)}}function wr(e,i,o){e==="focusin"?(Tl(),er=i,wo=o,er.attachEvent("onpropertychange",ih)):e==="focusout"&&Tl()}function wd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return So(wo)}function fa(e,i){if(e==="click")return So(i)}function bd(e,i){if(e==="input"||e==="change")return So(i)}function br(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var bn=typeof Object.is=="function"?Object.is:br;function da(e,i){if(bn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!He.call(i,p)||!bn(e[p],i[p]))return!1}return!0}function wl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ro(e,i){var o=wl(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=wl(o)}}function bl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?bl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function xo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ii(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=ii(e.document)}return i}function Gr(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Sl=kn&&"documentMode"in document&&11>=document.documentMode,Zr=null,Al=null,Co=null,ma=!1;function rh(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ma||Zr==null||Zr!==ii(c)||(c=Zr,"selectionStart"in c&&Gr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Co&&da(Co,c)||(Co=c,c=Fh(Al,"onSelect"),0<c.length&&(i=new $i("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=Zr)))}function Kr(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var pa={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Rl={},sh={};kn&&(sh=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Sn(e){if(Rl[e])return Rl[e];if(!pa[e])return e;var i=pa[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in sh)return Rl[e]=i[o];return e}var Io=Sn("animationend"),ah=Sn("animationiteration"),No=Sn("animationstart"),Sd=Sn("transitionrun"),oh=Sn("transitionstart"),Ad=Sn("transitioncancel"),ga=Sn("transitionend"),lh=new Map,Yr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yr.push("scrollEnd");function li(e,i){lh.set(e,i),Yi(i,[e])}var Oo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ui=[],Un=0,xl=0;function Po(){for(var e=Un,i=xl=Un=0;i<e;){var o=ui[i];ui[i++]=null;var c=ui[i];ui[i++]=null;var p=ui[i];ui[i++]=null;var g=ui[i];if(ui[i++]=null,c!==null&&p!==null){var b=c.pending;b===null?p.next=p:(p.next=b.next,b.next=p),c.pending=p}g!==0&&_a(o,p,g)}}function Qr(e,i,o,c){ui[Un++]=e,ui[Un++]=i,ui[Un++]=o,ui[Un++]=c,xl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Su(e,i,o,c){return Qr(e,i,o,c),Lo(e)}function ir(e,i){return Qr(e,null,null,i),Lo(e)}function _a(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(p=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,p&&i!==null&&(p=31-Ve(o),e=g.hiddenUpdates,c=e[p],c===null?e[p]=[i]:c.push(i),i.lane=o|536870912),g):null}function Lo(e){if(50<Qu)throw Qu=0,xm=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var As={};function Rd(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,i,o,c){return new Rd(e,i,o,c)}function Cl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rr(e,i){var o=e.alternate;return o===null?(o=zn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Au(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Do(e,i,o,c,p,g){var b=0;if(c=e,typeof e=="function")Cl(e)&&(b=1);else if(typeof e=="string")b=AA(e,o,_t.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case M:return e=zn(31,o,i,p),e.elementType=M,e.lanes=g,e;case Z:return Rs(o.children,p,g,i);case B:b=8,p|=24;break;case ot:return e=zn(12,o,i,p|2),e.elementType=ot,e.lanes=g,e;case Pt:return e=zn(13,o,i,p),e.elementType=Pt,e.lanes=g,e;case kt:return e=zn(19,o,i,p),e.elementType=kt,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:b=10;break t;case st:b=9;break t;case It:b=11;break t;case k:b=14;break t;case O:b=16,c=null;break t}b=29,o=Error(s(130,e===null?"null":typeof e,"")),c=null}return i=zn(b,o,i,p),i.elementType=e,i.type=c,i.lanes=g,i}function Rs(e,i,o,c){return e=zn(7,e,c,i),e.lanes=o,e}function Il(e,i,o){return e=zn(6,e,null,i),e.lanes=o,e}function Ru(e){var i=zn(18,null,null,0);return i.stateNode=e,i}function xu(e,i,o){return i=zn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var a=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=a.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Mr(i)},a.set(e,i),i)}return{value:e,source:i,stack:Mr(i)}}var m=[],_=0,w=null,x=0,D=[],Y=0,$=null,ft=1,Et="";function Ot(e,i){m[_++]=x,m[_++]=w,w=e,x=i}function Zt(e,i,o){D[Y++]=ft,D[Y++]=Et,D[Y++]=$,$=e;var c=ft;e=Et;var p=32-Ve(c)-1;c&=~(1<<p),o+=1;var g=32-Ve(i)+p;if(30<g){var b=p-p%5;g=(c&(1<<b)-1).toString(32),c>>=b,p-=b,ft=1<<32-Ve(i)+p|o<<p|c,Et=g+e}else ft=1<<g|o<<p|c,Et=e}function mn(e){e.return!==null&&(Ot(e,1),Zt(e,1,0))}function Ze(e){for(;e===w;)w=m[--_],m[_]=null,x=m[--_],m[_]=null;for(;e===$;)$=D[--Y],D[Y]=null,Et=D[--Y],D[Y]=null,ft=D[--Y],D[Y]=null}function Qn(e,i){D[Y++]=ft,D[Y++]=Et,D[Y++]=$,ft=i.id,Et=i.overflow,$=e}var fe=null,de=null,Wt=!1,Xr=null,ci=!1,Nl=Error(s(519));function Wr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(u(i,e)),Nl}function Cu(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[ze]=e,i[Fe]=c,o){case"dialog":$t("cancel",i),$t("close",i);break;case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(o=0;o<Wu.length;o++)$t(Wu[o],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"details":$t("toggle",i);break;case"input":$t("invalid",i),ys(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":$t("invalid",i);break;case"textarea":$t("invalid",i),ri(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Rv(i.textContent,o)?(c.popover!=null&&($t("beforetoggle",i),$t("toggle",i)),c.onScroll!=null&&$t("scroll",i),c.onScrollEnd!=null&&$t("scrollend",i),c.onClick!=null&&(i.onclick=Dn),i=!0):i=!1,i||Wr(e,!0)}function Be(e){for(fe=e.return;fe;)switch(fe.tag){case 5:case 31:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:fe=fe.return}}function Sr(e){if(e!==fe)return!1;if(!Wt)return Be(e),Wt=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Hm(e.type,e.memoizedProps)),o=!o),o&&de&&Wr(e),Be(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));de=Mv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));de=Mv(e)}else i===27?(i=de,Oa(e.type)?(e=Km,Km=null,de=e):de=i):de=fe?ar(e.stateNode.nextSibling):null;return!0}function xs(){de=fe=null,Wt=!1}function Iu(){var e=Xr;return e!==null&&(mi===null?mi=e:mi.push.apply(mi,e),Xr=null),e}function Mo(e){Xr===null?Xr=[e]:Xr.push(e)}var ko=z(null),Jr=null,Ar=null;function ya(e,i,o){gt(ko,i._currentValue),i._currentValue=o}function Cs(e){e._currentValue=ko.current,at(ko)}function xd(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function Cd(e,i,o,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var g=p.dependencies;if(g!==null){var b=p.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=p;for(var U=0;U<i.length;U++)if(C.context===i[U]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),xd(g.return,o,e),c||(b=null);break t}g=C.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),xd(b,o,e),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===e){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function Ol(e,i,o,c){e=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var C=p.type;bn(p.pendingProps.value,b.value)||(e!==null?e.push(C):e=[C])}}else if(p===Ht.current){if(b=p.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(nc):e=[nc])}p=p.return}e!==null&&Cd(i,e,o,c),i.flags|=262144}function uh(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vo(e){Jr=e,Ar=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Cn(e){return h_(Jr,e)}function ch(e,i){return Jr===null&&Vo(e),h_(e,i)}function h_(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ar===null){if(e===null)throw Error(s(308));Ar=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ar=Ar.next=i;return o}var TS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},wS=r.unstable_scheduleCallback,bS=r.unstable_NormalPriority,on={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Id(){return{controller:new TS,data:new Map,refCount:0}}function Nu(e){e.refCount--,e.refCount===0&&wS(bS,function(){e.controller.abort()})}var Ou=null,Nd=0,Pl=0,Ll=null;function SS(e,i){if(Ou===null){var o=Ou=[];Nd=0,Pl=Lm(),Ll={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Nd++,i.then(f_,f_),i}function f_(){if(--Nd===0&&Ou!==null){Ll!==null&&(Ll.status="fulfilled");var e=Ou;Ou=null,Pl=0,Ll=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function AS(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var d_=rt.S;rt.S=function(e,i){Xy=xn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&SS(e,i),d_!==null&&d_(e,i)};var Uo=z(null);function Od(){var e=Uo.current;return e!==null?e:Ie.pooledCache}function hh(e,i){i===null?gt(Uo,Uo.current):gt(Uo,i.pool)}function m_(){var e=Od();return e===null?null:{parent:on._currentValue,pool:e}}var Dl=Error(s(460)),Pd=Error(s(474)),fh=Error(s(542)),dh={then:function(){}};function p_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function g_(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(Dn,Dn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,y_(e),e;default:if(typeof i.status=="string")i.then(Dn,Dn);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,y_(e),e}throw Bo=i,Dl}}function zo(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Bo=o,Dl):o}}var Bo=null;function __(){if(Bo===null)throw Error(s(459));var e=Bo;return Bo=null,e}function y_(e){if(e===Dl||e===fh)throw Error(s(483))}var Ml=null,Pu=0;function mh(e){var i=Pu;return Pu+=1,Ml===null&&(Ml=[]),g_(Ml,e,i)}function Lu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ph(e,i){throw i.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function v_(e){function i(K,H){if(e){var W=K.deletions;W===null?(K.deletions=[H],K.flags|=16):W.push(H)}}function o(K,H){if(!e)return null;for(;H!==null;)i(K,H),H=H.sibling;return null}function c(K){for(var H=new Map;K!==null;)K.key!==null?H.set(K.key,K):H.set(K.index,K),K=K.sibling;return H}function p(K,H){return K=rr(K,H),K.index=0,K.sibling=null,K}function g(K,H,W){return K.index=W,e?(W=K.alternate,W!==null?(W=W.index,W<H?(K.flags|=67108866,H):W):(K.flags|=67108866,H)):(K.flags|=1048576,H)}function b(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function C(K,H,W,ut){return H===null||H.tag!==6?(H=Il(W,K.mode,ut),H.return=K,H):(H=p(H,W),H.return=K,H)}function U(K,H,W,ut){var Lt=W.type;return Lt===Z?lt(K,H,W.props.children,ut,W.key):H!==null&&(H.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===O&&zo(Lt)===H.type)?(H=p(H,W.props),Lu(H,W),H.return=K,H):(H=Do(W.type,W.key,W.props,null,K.mode,ut),Lu(H,W),H.return=K,H)}function J(K,H,W,ut){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=xu(W,K.mode,ut),H.return=K,H):(H=p(H,W.children||[]),H.return=K,H)}function lt(K,H,W,ut,Lt){return H===null||H.tag!==7?(H=Rs(W,K.mode,ut,Lt),H.return=K,H):(H=p(H,W),H.return=K,H)}function dt(K,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Il(""+H,K.mode,W),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case F:return W=Do(H.type,H.key,H.props,null,K.mode,W),Lu(W,H),W.return=K,W;case nt:return H=xu(H,K.mode,W),H.return=K,H;case O:return H=zo(H),dt(K,H,W)}if(Je(H)||G(H))return H=Rs(H,K.mode,W,null),H.return=K,H;if(typeof H.then=="function")return dt(K,mh(H),W);if(H.$$typeof===ct)return dt(K,ch(K,H),W);ph(K,H)}return null}function tt(K,H,W,ut){var Lt=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Lt!==null?null:C(K,H,""+W,ut);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case F:return W.key===Lt?U(K,H,W,ut):null;case nt:return W.key===Lt?J(K,H,W,ut):null;case O:return W=zo(W),tt(K,H,W,ut)}if(Je(W)||G(W))return Lt!==null?null:lt(K,H,W,ut,null);if(typeof W.then=="function")return tt(K,H,mh(W),ut);if(W.$$typeof===ct)return tt(K,H,ch(K,W),ut);ph(K,W)}return null}function it(K,H,W,ut,Lt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return K=K.get(W)||null,C(H,K,""+ut,Lt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case F:return K=K.get(ut.key===null?W:ut.key)||null,U(H,K,ut,Lt);case nt:return K=K.get(ut.key===null?W:ut.key)||null,J(H,K,ut,Lt);case O:return ut=zo(ut),it(K,H,W,ut,Lt)}if(Je(ut)||G(ut))return K=K.get(W)||null,lt(H,K,ut,Lt,null);if(typeof ut.then=="function")return it(K,H,W,mh(ut),Lt);if(ut.$$typeof===ct)return it(K,H,W,ch(H,ut),Lt);ph(H,ut)}return null}function Ct(K,H,W,ut){for(var Lt=null,me=null,Nt=H,Kt=H=0,ie=null;Nt!==null&&Kt<W.length;Kt++){Nt.index>Kt?(ie=Nt,Nt=null):ie=Nt.sibling;var pe=tt(K,Nt,W[Kt],ut);if(pe===null){Nt===null&&(Nt=ie);break}e&&Nt&&pe.alternate===null&&i(K,Nt),H=g(pe,H,Kt),me===null?Lt=pe:me.sibling=pe,me=pe,Nt=ie}if(Kt===W.length)return o(K,Nt),Wt&&Ot(K,Kt),Lt;if(Nt===null){for(;Kt<W.length;Kt++)Nt=dt(K,W[Kt],ut),Nt!==null&&(H=g(Nt,H,Kt),me===null?Lt=Nt:me.sibling=Nt,me=Nt);return Wt&&Ot(K,Kt),Lt}for(Nt=c(Nt);Kt<W.length;Kt++)ie=it(Nt,K,Kt,W[Kt],ut),ie!==null&&(e&&ie.alternate!==null&&Nt.delete(ie.key===null?Kt:ie.key),H=g(ie,H,Kt),me===null?Lt=ie:me.sibling=ie,me=ie);return e&&Nt.forEach(function(ka){return i(K,ka)}),Wt&&Ot(K,Kt),Lt}function Vt(K,H,W,ut){if(W==null)throw Error(s(151));for(var Lt=null,me=null,Nt=H,Kt=H=0,ie=null,pe=W.next();Nt!==null&&!pe.done;Kt++,pe=W.next()){Nt.index>Kt?(ie=Nt,Nt=null):ie=Nt.sibling;var ka=tt(K,Nt,pe.value,ut);if(ka===null){Nt===null&&(Nt=ie);break}e&&Nt&&ka.alternate===null&&i(K,Nt),H=g(ka,H,Kt),me===null?Lt=ka:me.sibling=ka,me=ka,Nt=ie}if(pe.done)return o(K,Nt),Wt&&Ot(K,Kt),Lt;if(Nt===null){for(;!pe.done;Kt++,pe=W.next())pe=dt(K,pe.value,ut),pe!==null&&(H=g(pe,H,Kt),me===null?Lt=pe:me.sibling=pe,me=pe);return Wt&&Ot(K,Kt),Lt}for(Nt=c(Nt);!pe.done;Kt++,pe=W.next())pe=it(Nt,K,Kt,pe.value,ut),pe!==null&&(e&&pe.alternate!==null&&Nt.delete(pe.key===null?Kt:pe.key),H=g(pe,H,Kt),me===null?Lt=pe:me.sibling=pe,me=pe);return e&&Nt.forEach(function(kA){return i(K,kA)}),Wt&&Ot(K,Kt),Lt}function Ae(K,H,W,ut){if(typeof W=="object"&&W!==null&&W.type===Z&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case F:t:{for(var Lt=W.key;H!==null;){if(H.key===Lt){if(Lt=W.type,Lt===Z){if(H.tag===7){o(K,H.sibling),ut=p(H,W.props.children),ut.return=K,K=ut;break t}}else if(H.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===O&&zo(Lt)===H.type){o(K,H.sibling),ut=p(H,W.props),Lu(ut,W),ut.return=K,K=ut;break t}o(K,H);break}else i(K,H);H=H.sibling}W.type===Z?(ut=Rs(W.props.children,K.mode,ut,W.key),ut.return=K,K=ut):(ut=Do(W.type,W.key,W.props,null,K.mode,ut),Lu(ut,W),ut.return=K,K=ut)}return b(K);case nt:t:{for(Lt=W.key;H!==null;){if(H.key===Lt)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){o(K,H.sibling),ut=p(H,W.children||[]),ut.return=K,K=ut;break t}else{o(K,H);break}else i(K,H);H=H.sibling}ut=xu(W,K.mode,ut),ut.return=K,K=ut}return b(K);case O:return W=zo(W),Ae(K,H,W,ut)}if(Je(W))return Ct(K,H,W,ut);if(G(W)){if(Lt=G(W),typeof Lt!="function")throw Error(s(150));return W=Lt.call(W),Vt(K,H,W,ut)}if(typeof W.then=="function")return Ae(K,H,mh(W),ut);if(W.$$typeof===ct)return Ae(K,H,ch(K,W),ut);ph(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(o(K,H.sibling),ut=p(H,W),ut.return=K,K=ut):(o(K,H),ut=Il(W,K.mode,ut),ut.return=K,K=ut),b(K)):o(K,H)}return function(K,H,W,ut){try{Pu=0;var Lt=Ae(K,H,W,ut);return Ml=null,Lt}catch(Nt){if(Nt===Dl||Nt===fh)throw Nt;var me=zn(29,Nt,null,K.mode);return me.lanes=ut,me.return=K,me}}}var jo=v_(!0),E_=v_(!1),va=!1;function Ld(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ta(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=Lo(e),_a(e,null,o),i}return Qr(e,c,i,o),Lo(e)}function Du(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,co(e,o)}}function Md(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?p=g=i:g=g.next=i}else p=g=i;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var kd=!1;function Mu(){if(kd){var e=Ll;if(e!==null)throw e}}function ku(e,i,o,c){kd=!1;var p=e.updateQueue;va=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var U=C,J=U.next;U.next=null,b===null?g=J:b.next=J,b=U;var lt=e.alternate;lt!==null&&(lt=lt.updateQueue,C=lt.lastBaseUpdate,C!==b&&(C===null?lt.firstBaseUpdate=J:C.next=J,lt.lastBaseUpdate=U))}if(g!==null){var dt=p.baseState;b=0,lt=J=U=null,C=g;do{var tt=C.lane&-536870913,it=tt!==C.lane;if(it?(ne&tt)===tt:(c&tt)===tt){tt!==0&&tt===Pl&&(kd=!0),lt!==null&&(lt=lt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Ct=e,Vt=C;tt=i;var Ae=o;switch(Vt.tag){case 1:if(Ct=Vt.payload,typeof Ct=="function"){dt=Ct.call(Ae,dt,tt);break t}dt=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Vt.payload,tt=typeof Ct=="function"?Ct.call(Ae,dt,tt):Ct,tt==null)break t;dt=R({},dt,tt);break t;case 2:va=!0}}tt=C.callback,tt!==null&&(e.flags|=64,it&&(e.flags|=8192),it=p.callbacks,it===null?p.callbacks=[tt]:it.push(tt))}else it={lane:tt,tag:C.tag,payload:C.payload,callback:C.callback,next:null},lt===null?(J=lt=it,U=dt):lt=lt.next=it,b|=tt;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;it=C,C=it.next,it.next=null,p.lastBaseUpdate=it,p.shared.pending=null}}while(!0);lt===null&&(U=dt),p.baseState=U,p.firstBaseUpdate=J,p.lastBaseUpdate=lt,g===null&&(p.shared.lanes=0),Ra|=b,e.lanes=b,e.memoizedState=dt}}function T_(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function w_(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)T_(o[e],i)}var kl=z(null),gh=z(0);function b_(e,i){e=Vs,gt(gh,e),gt(kl,i),Vs=e|i.baseLanes}function Vd(){gt(gh,Vs),gt(kl,kl.current)}function Ud(){Vs=gh.current,at(kl),at(gh)}var Pi=z(null),sr=null;function wa(e){var i=e.alternate;gt(tn,tn.current&1),gt(Pi,e),sr===null&&(i===null||kl.current!==null||i.memoizedState!==null)&&(sr=e)}function zd(e){gt(tn,tn.current),gt(Pi,e),sr===null&&(sr=e)}function S_(e){e.tag===22?(gt(tn,tn.current),gt(Pi,e),sr===null&&(sr=e)):ba()}function ba(){gt(tn,tn.current),gt(Pi,Pi.current)}function Li(e){at(Pi),sr===e&&(sr=null),at(tn)}var tn=z(0);function _h(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Gm(o)||Zm(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Is=0,Gt=null,be=null,ln=null,yh=!1,Vl=!1,Ho=!1,vh=0,Vu=0,Ul=null,RS=0;function Ke(){throw Error(s(321))}function Bd(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!bn(e[o],i[o]))return!1;return!0}function jd(e,i,o,c,p,g){return Is=g,Gt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,rt.H=e===null||e.memoizedState===null?oy:nm,Ho=!1,g=o(c,p),Ho=!1,Vl&&(g=R_(i,o,c,p)),A_(e),g}function A_(e){rt.H=Bu;var i=be!==null&&be.next!==null;if(Is=0,ln=be=Gt=null,yh=!1,Vu=0,Ul=null,i)throw Error(s(300));e===null||un||(e=e.dependencies,e!==null&&uh(e)&&(un=!0))}function R_(e,i,o,c){Gt=e;var p=0;do{if(Vl&&(Ul=null),Vu=0,Vl=!1,25<=p)throw Error(s(301));if(p+=1,ln=be=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}rt.H=ly,g=i(o,c)}while(Vl);return g}function xS(){var e=rt.H,i=e.useState()[0];return i=typeof i.then=="function"?Uu(i):i,e=e.useState()[0],(be!==null?be.memoizedState:null)!==e&&(Gt.flags|=1024),i}function Hd(){var e=vh!==0;return vh=0,e}function qd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function Fd(e){if(yh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}yh=!1}Is=0,ln=be=Gt=null,Vl=!1,Vu=vh=0,Ul=null}function Xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Gt.memoizedState=ln=e:ln=ln.next=e,ln}function en(){if(be===null){var e=Gt.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var i=ln===null?Gt.memoizedState:ln.next;if(i!==null)ln=i,be=e;else{if(e===null)throw Gt.alternate===null?Error(s(467)):Error(s(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},ln===null?Gt.memoizedState=ln=e:ln=ln.next=e}return ln}function Eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uu(e){var i=Vu;return Vu+=1,Ul===null&&(Ul=[]),e=g_(Ul,e,i),i=Gt,(ln===null?i.memoizedState:ln.next)===null&&(i=i.alternate,rt.H=i===null||i.memoizedState===null?oy:nm),e}function Th(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Uu(e);if(e.$$typeof===ct)return Cn(e)}throw Error(s(438,String(e)))}function Gd(e){var i=null,o=Gt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Gt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Eh(),Gt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=q;return i.index++,o}function Ns(e,i){return typeof i=="function"?i(e):i}function wh(e){var i=en();return Zd(i,be,e)}function Zd(e,i,o){var c=e.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var p=e.baseQueue,g=c.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}i.baseQueue=p=g,c.pending=null}if(g=e.baseState,p===null)e.memoizedState=g;else{i=p.next;var C=b=null,U=null,J=i,lt=!1;do{var dt=J.lane&-536870913;if(dt!==J.lane?(ne&dt)===dt:(Is&dt)===dt){var tt=J.revertLane;if(tt===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),dt===Pl&&(lt=!0);else if((Is&tt)===tt){J=J.next,tt===Pl&&(lt=!0);continue}else dt={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(C=U=dt,b=g):U=U.next=dt,Gt.lanes|=tt,Ra|=tt;dt=J.action,Ho&&o(g,dt),g=J.hasEagerState?J.eagerState:o(g,dt)}else tt={lane:dt,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(C=U=tt,b=g):U=U.next=tt,Gt.lanes|=dt,Ra|=dt;J=J.next}while(J!==null&&J!==i);if(U===null?b=g:U.next=C,!bn(g,e.memoizedState)&&(un=!0,lt&&(o=Ll,o!==null)))throw o;e.memoizedState=g,e.baseState=b,e.baseQueue=U,c.lastRenderedState=g}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Kd(e){var i=en(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var c=o.dispatch,p=o.pending,g=i.memoizedState;if(p!==null){o.pending=null;var b=p=p.next;do g=e(g,b.action),b=b.next;while(b!==p);bn(g,i.memoizedState)||(un=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function x_(e,i,o){var c=Gt,p=en(),g=Wt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=i();var b=!bn((be||p).memoizedState,o);if(b&&(p.memoizedState=o,un=!0),p=p.queue,Xd(N_.bind(null,c,p,e),[e]),p.getSnapshot!==i||b||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,zl(9,{destroy:void 0},I_.bind(null,c,p,o,i),null),Ie===null)throw Error(s(349));g||(Is&127)!==0||C_(c,i,o)}return o}function C_(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Gt.updateQueue,i===null?(i=Eh(),Gt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function I_(e,i,o,c){i.value=o,i.getSnapshot=c,O_(i)&&P_(e)}function N_(e,i,o){return o(function(){O_(i)&&P_(e)})}function O_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!bn(e,o)}catch{return!0}}function P_(e){var i=ir(e,2);i!==null&&pi(i,e,2)}function Yd(e){var i=Xn();if(typeof e=="function"){var o=e;if(e=o(),Ho){Fn(!0);try{o()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},i}function L_(e,i,o,c){return e.baseState=o,Zd(e,be,typeof c=="function"?c:Ns)}function CS(e,i,o,c,p){if(Ah(e))throw Error(s(485));if(e=i.action,e!==null){var g={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};rt.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,D_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function D_(e,i){var o=i.action,c=i.payload,p=e.state;if(i.isTransition){var g=rt.T,b={};rt.T=b;try{var C=o(p,c),U=rt.S;U!==null&&U(b,C),M_(e,i,C)}catch(J){Qd(e,i,J)}finally{g!==null&&b.types!==null&&(g.types=b.types),rt.T=g}}else try{g=o(p,c),M_(e,i,g)}catch(J){Qd(e,i,J)}}function M_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){k_(e,i,c)},function(c){return Qd(e,i,c)}):k_(e,i,o)}function k_(e,i,o){i.status="fulfilled",i.value=o,V_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,D_(e,o)))}function Qd(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,V_(i),i=i.next;while(i!==c)}e.action=null}function V_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function U_(e,i){return i}function z_(e,i){if(Wt){var o=Ie.formState;if(o!==null){t:{var c=Gt;if(Wt){if(de){e:{for(var p=de,g=ci;p.nodeType!==8;){if(!g){p=null;break e}if(p=ar(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){de=ar(p.nextSibling),c=p.data==="F!";break t}}Wr(c)}c=!1}c&&(i=o[0])}}return o=Xn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U_,lastRenderedState:i},o.queue=c,o=ry.bind(null,Gt,c),c.dispatch=o,c=Yd(!1),g=em.bind(null,Gt,!1,c.queue),c=Xn(),p={state:i,dispatch:null,action:e,pending:null},c.queue=p,o=CS.bind(null,Gt,p,g,o),p.dispatch=o,c.memoizedState=e,[i,o,!1]}function B_(e){var i=en();return j_(i,be,e)}function j_(e,i,o){if(i=Zd(e,i,U_)[0],e=wh(Ns)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Uu(i)}catch(b){throw b===Dl?fh:b}else c=i;i=en();var p=i.queue,g=p.dispatch;return o!==i.memoizedState&&(Gt.flags|=2048,zl(9,{destroy:void 0},IS.bind(null,p,o),null)),[c,g,e]}function IS(e,i){e.action=i}function H_(e){var i=en(),o=be;if(o!==null)return j_(i,o,e);en(),i=i.memoizedState,o=en();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function zl(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Gt.updateQueue,i===null&&(i=Eh(),Gt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function q_(){return en().memoizedState}function bh(e,i,o,c){var p=Xn();Gt.flags|=e,p.memoizedState=zl(1|i,{destroy:void 0},o,c===void 0?null:c)}function Sh(e,i,o,c){var p=en();c=c===void 0?null:c;var g=p.memoizedState.inst;be!==null&&c!==null&&Bd(c,be.memoizedState.deps)?p.memoizedState=zl(i,g,o,c):(Gt.flags|=e,p.memoizedState=zl(1|i,g,o,c))}function F_(e,i){bh(8390656,8,e,i)}function Xd(e,i){Sh(2048,8,e,i)}function NS(e){Gt.flags|=4;var i=Gt.updateQueue;if(i===null)i=Eh(),Gt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function G_(e){var i=en().memoizedState;return NS({ref:i,nextImpl:e}),function(){if((ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Z_(e,i){return Sh(4,2,e,i)}function K_(e,i){return Sh(4,4,e,i)}function Y_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Q_(e,i,o){o=o!=null?o.concat([e]):null,Sh(4,4,Y_.bind(null,i,e),o)}function Wd(){}function X_(e,i){var o=en();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Bd(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function W_(e,i){var o=en();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Bd(i,c[1]))return c[0];if(c=e(),Ho){Fn(!0);try{e()}finally{Fn(!1)}}return o.memoizedState=[c,i],c}function Jd(e,i,o){return o===void 0||(Is&1073741824)!==0&&(ne&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=Jy(),Gt.lanes|=e,Ra|=e,o)}function J_(e,i,o,c){return bn(o,i)?o:kl.current!==null?(e=Jd(e,o,c),bn(e,i)||(un=!0),e):(Is&42)===0||(Is&1073741824)!==0&&(ne&261930)===0?(un=!0,e.memoizedState=o):(e=Jy(),Gt.lanes|=e,Ra|=e,i)}function $_(e,i,o,c,p){var g=vt.p;vt.p=g!==0&&8>g?g:8;var b=rt.T,C={};rt.T=C,em(e,!1,i,o);try{var U=p(),J=rt.S;if(J!==null&&J(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var lt=AS(U,c);zu(e,i,lt,ki(e))}else zu(e,i,c,ki(e))}catch(dt){zu(e,i,{then:function(){},status:"rejected",reason:dt},ki())}finally{vt.p=g,b!==null&&C.types!==null&&(b.types=C.types),rt.T=b}}function OS(){}function $d(e,i,o,c){if(e.tag!==5)throw Error(s(476));var p=ty(e).queue;$_(e,p,i,pt,o===null?OS:function(){return ey(e),o(c)})}function ty(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:pt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ey(e){var i=ty(e);i.next===null&&(i=e.alternate.memoizedState),zu(e,i.next.queue,{},ki())}function tm(){return Cn(nc)}function ny(){return en().memoizedState}function iy(){return en().memoizedState}function PS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=ki();e=Ea(o);var c=Ta(i,e,o);c!==null&&(pi(c,i,o),Du(c,i,o)),i={cache:Id()},e.payload=i;return}i=i.return}}function LS(e,i,o){var c=ki();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ah(e)?sy(i,o):(o=Su(e,i,o,c),o!==null&&(pi(o,e,c),ay(o,i,c)))}function ry(e,i,o){var c=ki();zu(e,i,o,c)}function zu(e,i,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ah(e))sy(i,p);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var b=i.lastRenderedState,C=g(b,o);if(p.hasEagerState=!0,p.eagerState=C,bn(C,b))return Qr(e,i,p,0),Ie===null&&Po(),!1}catch{}if(o=Su(e,i,p,c),o!==null)return pi(o,e,c),ay(o,i,c),!0}return!1}function em(e,i,o,c){if(c={lane:2,revertLane:Lm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ah(e)){if(i)throw Error(s(479))}else i=Su(e,o,c,2),i!==null&&pi(i,e,2)}function Ah(e){var i=e.alternate;return e===Gt||i!==null&&i===Gt}function sy(e,i){Vl=yh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function ay(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,co(e,o)}}var Bu={readContext:Cn,use:Th,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Bu.useEffectEvent=Ke;var oy={readContext:Cn,use:Th,useCallback:function(e,i){return Xn().memoizedState=[e,i===void 0?null:i],e},useContext:Cn,useEffect:F_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,bh(4194308,4,Y_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return bh(4194308,4,e,i)},useInsertionEffect:function(e,i){bh(4,2,e,i)},useMemo:function(e,i){var o=Xn();i=i===void 0?null:i;var c=e();if(Ho){Fn(!0);try{e()}finally{Fn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=Xn();if(o!==void 0){var p=o(i);if(Ho){Fn(!0);try{o(i)}finally{Fn(!1)}}}else p=i;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=LS.bind(null,Gt,e),[c.memoizedState,e]},useRef:function(e){var i=Xn();return e={current:e},i.memoizedState=e},useState:function(e){e=Yd(e);var i=e.queue,o=ry.bind(null,Gt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Wd,useDeferredValue:function(e,i){var o=Xn();return Jd(o,e,i)},useTransition:function(){var e=Yd(!1);return e=$_.bind(null,Gt,e.queue,!0,!1),Xn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Gt,p=Xn();if(Wt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),Ie===null)throw Error(s(349));(ne&127)!==0||C_(c,i,o)}p.memoizedState=o;var g={value:o,getSnapshot:i};return p.queue=g,F_(N_.bind(null,c,g,e),[e]),c.flags|=2048,zl(9,{destroy:void 0},I_.bind(null,c,g,o,i),null),o},useId:function(){var e=Xn(),i=Ie.identifierPrefix;if(Wt){var o=Et,c=ft;o=(c&~(1<<32-Ve(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=vh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=RS++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:tm,useFormState:z_,useActionState:z_,useOptimistic:function(e){var i=Xn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=em.bind(null,Gt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Gd,useCacheRefresh:function(){return Xn().memoizedState=PS.bind(null,Gt)},useEffectEvent:function(e){var i=Xn(),o={impl:e};return i.memoizedState=o,function(){if((ge&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},nm={readContext:Cn,use:Th,useCallback:X_,useContext:Cn,useEffect:Xd,useImperativeHandle:Q_,useInsertionEffect:Z_,useLayoutEffect:K_,useMemo:W_,useReducer:wh,useRef:q_,useState:function(){return wh(Ns)},useDebugValue:Wd,useDeferredValue:function(e,i){var o=en();return J_(o,be.memoizedState,e,i)},useTransition:function(){var e=wh(Ns)[0],i=en().memoizedState;return[typeof e=="boolean"?e:Uu(e),i]},useSyncExternalStore:x_,useId:ny,useHostTransitionStatus:tm,useFormState:B_,useActionState:B_,useOptimistic:function(e,i){var o=en();return L_(o,be,e,i)},useMemoCache:Gd,useCacheRefresh:iy};nm.useEffectEvent=G_;var ly={readContext:Cn,use:Th,useCallback:X_,useContext:Cn,useEffect:Xd,useImperativeHandle:Q_,useInsertionEffect:Z_,useLayoutEffect:K_,useMemo:W_,useReducer:Kd,useRef:q_,useState:function(){return Kd(Ns)},useDebugValue:Wd,useDeferredValue:function(e,i){var o=en();return be===null?Jd(o,e,i):J_(o,be.memoizedState,e,i)},useTransition:function(){var e=Kd(Ns)[0],i=en().memoizedState;return[typeof e=="boolean"?e:Uu(e),i]},useSyncExternalStore:x_,useId:ny,useHostTransitionStatus:tm,useFormState:H_,useActionState:H_,useOptimistic:function(e,i){var o=en();return be!==null?L_(o,be,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Gd,useCacheRefresh:iy};ly.useEffectEvent=G_;function im(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:R({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var rm={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=ki(),p=Ea(c);p.payload=i,o!=null&&(p.callback=o),i=Ta(e,p,c),i!==null&&(pi(i,e,c),Du(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=ki(),p=Ea(c);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=Ta(e,p,c),i!==null&&(pi(i,e,c),Du(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=ki(),c=Ea(o);c.tag=2,i!=null&&(c.callback=i),i=Ta(e,c,o),i!==null&&(pi(i,e,o),Du(i,e,o))}};function uy(e,i,o,c,p,g,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,b):i.prototype&&i.prototype.isPureReactComponent?!da(o,c)||!da(p,g):!0}function cy(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&rm.enqueueReplaceState(i,i.state,null)}function qo(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=R({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}function hy(e){Oo(e)}function fy(e){console.error(e)}function dy(e){Oo(e)}function Rh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function my(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sm(e,i,o){return o=Ea(o),o.tag=3,o.payload={element:null},o.callback=function(){Rh(e,i)},o}function py(e){return e=Ea(e),e.tag=3,e}function gy(e,i,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;e.payload=function(){return p(g)},e.callback=function(){my(i,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){my(i,o,c),typeof p!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function DS(e,i,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Ol(i,o,p,!0),o=Pi.current,o!==null){switch(o.tag){case 31:case 13:return sr===null?Uh():o.alternate===null&&Ye===0&&(Ye=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===dh?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Nm(e,c,p)),!1;case 22:return o.flags|=65536,c===dh?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Nm(e,c,p)),!1}throw Error(s(435,o.tag))}return Nm(e,c,p),Uh(),!1}if(Wt)return i=Pi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==Nl&&(e=Error(s(422),{cause:c}),Mo(u(e,o)))):(c!==Nl&&(i=Error(s(423),{cause:c}),Mo(u(i,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=u(c,o),p=sm(e.stateNode,c,p),Md(e,p),Ye!==4&&(Ye=2)),!1;var g=Error(s(520),{cause:c});if(g=u(g,o),Yu===null?Yu=[g]:Yu.push(g),Ye!==4&&(Ye=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=sm(o.stateNode,c,e),Md(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xa===null||!xa.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=py(p),gy(p,e,o,c),Md(o,p),!1}o=o.return}while(o!==null);return!1}var am=Error(s(461)),un=!1;function In(e,i,o,c){i.child=e===null?E_(i,null,o,c):jo(i,e.child,o,c)}function _y(e,i,o,c,p){o=o.render;var g=i.ref;if("ref"in c){var b={};for(var C in c)C!=="ref"&&(b[C]=c[C])}else b=c;return Vo(i),c=jd(e,i,o,b,g,p),C=Hd(),e!==null&&!un?(qd(e,i,p),Os(e,i,p)):(Wt&&C&&mn(i),i.flags|=1,In(e,i,c,p),i.child)}function yy(e,i,o,c,p){if(e===null){var g=o.type;return typeof g=="function"&&!Cl(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,vy(e,i,g,c,p)):(e=Do(o.type,null,c,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!mm(e,p)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:da,o(b,c)&&e.ref===i.ref)return Os(e,i,p)}return i.flags|=1,e=rr(g,c),e.ref=i.ref,e.return=i,i.child=e}function vy(e,i,o,c,p){if(e!==null){var g=e.memoizedProps;if(da(g,c)&&e.ref===i.ref)if(un=!1,i.pendingProps=c=g,mm(e,p))(e.flags&131072)!==0&&(un=!0);else return i.lanes=e.lanes,Os(e,i,p)}return om(e,i,o,c,p)}function Ey(e,i,o,c){var p=c.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=i.child=e.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,i.child=null;return Ty(e,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&hh(i,g!==null?g.cachePool:null),g!==null?b_(i,g):Vd(),S_(i);else return c=i.lanes=536870912,Ty(e,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(hh(i,g.cachePool),b_(i,g),ba(),i.memoizedState=null):(e!==null&&hh(i,null),Vd(),ba());return In(e,i,p,o),i.child}function ju(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ty(e,i,o,c,p){var g=Od();return g=g===null?null:{parent:on._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},e!==null&&hh(i,null),Vd(),S_(i),e!==null&&Ol(e,i,c,!0),i.childLanes=p,null}function xh(e,i){return i=Ih({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function wy(e,i,o){return jo(i,e.child,null,o),e=xh(i,i.pendingProps),e.flags|=2,Li(i),i.memoizedState=null,e}function MS(e,i,o){var c=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Wt){if(c.mode==="hidden")return e=xh(i,c),i.lanes=536870912,ju(null,e);if(zd(i),(e=de)?(e=Dv(e,ci),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:$!==null?{id:ft,overflow:Et}:null,retryLane:536870912,hydrationErrors:null},o=Ru(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Wr(i);return i.lanes=536870912,null}return xh(i,c)}var g=e.memoizedState;if(g!==null){var b=g.dehydrated;if(zd(i),p)if(i.flags&256)i.flags&=-257,i=wy(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(un||Ol(e,i,o,!1),p=(o&e.childLanes)!==0,un||p){if(c=Ie,c!==null&&(b=ho(c,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,ir(e,b),pi(c,e,b),am;Uh(),i=wy(e,i,o)}else e=g.treeContext,de=ar(b.nextSibling),fe=i,Wt=!0,Xr=null,ci=!1,e!==null&&Qn(i,e),i=xh(i,c),i.flags|=4096;return i}return e=rr(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Ch(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function om(e,i,o,c,p){return Vo(i),o=jd(e,i,o,c,void 0,p),c=Hd(),e!==null&&!un?(qd(e,i,p),Os(e,i,p)):(Wt&&c&&mn(i),i.flags|=1,In(e,i,o,p),i.child)}function by(e,i,o,c,p,g){return Vo(i),i.updateQueue=null,o=R_(i,c,o,p),A_(e),c=Hd(),e!==null&&!un?(qd(e,i,g),Os(e,i,g)):(Wt&&c&&mn(i),i.flags|=1,In(e,i,o,g),i.child)}function Sy(e,i,o,c,p){if(Vo(i),i.stateNode===null){var g=As,b=o.contextType;typeof b=="object"&&b!==null&&(g=Cn(b)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rm,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Ld(i),b=o.contextType,g.context=typeof b=="object"&&b!==null?Cn(b):As,g.state=i.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(im(i,o,b,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&rm.enqueueReplaceState(g,g.state,null),ku(i,c,g,p),Mu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var C=i.memoizedProps,U=qo(o,C);g.props=U;var J=g.context,lt=o.contextType;b=As,typeof lt=="object"&&lt!==null&&(b=Cn(lt));var dt=o.getDerivedStateFromProps;lt=typeof dt=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,lt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||J!==b)&&cy(i,g,c,b),va=!1;var tt=i.memoizedState;g.state=tt,ku(i,c,g,p),Mu(),J=i.memoizedState,C||tt!==J||va?(typeof dt=="function"&&(im(i,o,dt,c),J=i.memoizedState),(U=va||uy(i,o,U,c,tt,J,b))?(lt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=J),g.props=c,g.state=J,g.context=b,c=U):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Dd(e,i),b=i.memoizedProps,lt=qo(o,b),g.props=lt,dt=i.pendingProps,tt=g.context,J=o.contextType,U=As,typeof J=="object"&&J!==null&&(U=Cn(J)),C=o.getDerivedStateFromProps,(J=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==dt||tt!==U)&&cy(i,g,c,U),va=!1,tt=i.memoizedState,g.state=tt,ku(i,c,g,p),Mu();var it=i.memoizedState;b!==dt||tt!==it||va||e!==null&&e.dependencies!==null&&uh(e.dependencies)?(typeof C=="function"&&(im(i,o,C,c),it=i.memoizedState),(lt=va||uy(i,o,lt,c,tt,it,U)||e!==null&&e.dependencies!==null&&uh(e.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,it,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,it,U)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===e.memoizedProps&&tt===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&tt===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=it),g.props=c,g.state=it,g.context=U,c=lt):(typeof g.componentDidUpdate!="function"||b===e.memoizedProps&&tt===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&tt===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,Ch(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=jo(i,e.child,null,p),i.child=jo(i,null,o,p)):In(e,i,o,p),i.memoizedState=g.state,e=i.child):e=Os(e,i,p),e}function Ay(e,i,o,c){return xs(),i.flags|=256,In(e,i,o,c),i.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(e){return{baseLanes:e,cachePool:m_()}}function cm(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Mi),e}function Ry(e,i,o){var c=i.pendingProps,p=!1,g=(i.flags&128)!==0,b;if((b=g)||(b=e!==null&&e.memoizedState===null?!1:(tn.current&2)!==0),b&&(p=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,e===null){if(Wt){if(p?wa(i):ba(),(e=de)?(e=Dv(e,ci),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:$!==null?{id:ft,overflow:Et}:null,retryLane:536870912,hydrationErrors:null},o=Ru(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Wr(i);return Zm(e)?i.lanes=32:i.lanes=536870912,null}var C=c.children;return c=c.fallback,p?(ba(),p=i.mode,C=Ih({mode:"hidden",children:C},p),c=Rs(c,p,o,null),C.return=i,c.return=i,C.sibling=c,i.child=C,c=i.child,c.memoizedState=um(o),c.childLanes=cm(e,b,o),i.memoizedState=lm,ju(null,c)):(wa(i),hm(i,C))}var U=e.memoizedState;if(U!==null&&(C=U.dehydrated,C!==null)){if(g)i.flags&256?(wa(i),i.flags&=-257,i=fm(e,i,o)):i.memoizedState!==null?(ba(),i.child=e.child,i.flags|=128,i=null):(ba(),C=c.fallback,p=i.mode,c=Ih({mode:"visible",children:c.children},p),C=Rs(C,p,o,null),C.flags|=2,c.return=i,C.return=i,c.sibling=C,i.child=c,jo(i,e.child,null,o),c=i.child,c.memoizedState=um(o),c.childLanes=cm(e,b,o),i.memoizedState=lm,i=ju(null,c));else if(wa(i),Zm(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var J=b.dgst;b=J,c=Error(s(419)),c.stack="",c.digest=b,Mo({value:c,source:null,stack:null}),i=fm(e,i,o)}else if(un||Ol(e,i,o,!1),b=(o&e.childLanes)!==0,un||b){if(b=Ie,b!==null&&(c=ho(b,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,ir(e,c),pi(b,e,c),am;Gm(C)||Uh(),i=fm(e,i,o)}else Gm(C)?(i.flags|=192,i.child=e.child,i=null):(e=U.treeContext,de=ar(C.nextSibling),fe=i,Wt=!0,Xr=null,ci=!1,e!==null&&Qn(i,e),i=hm(i,c.children),i.flags|=4096);return i}return p?(ba(),C=c.fallback,p=i.mode,U=e.child,J=U.sibling,c=rr(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,J!==null?C=rr(J,C):(C=Rs(C,p,o,null),C.flags|=2),C.return=i,c.return=i,c.sibling=C,i.child=c,ju(null,c),c=i.child,C=e.child.memoizedState,C===null?C=um(o):(p=C.cachePool,p!==null?(U=on._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=m_(),C={baseLanes:C.baseLanes|o,cachePool:p}),c.memoizedState=C,c.childLanes=cm(e,b,o),i.memoizedState=lm,ju(e.child,c)):(wa(i),o=e.child,e=o.sibling,o=rr(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(b=i.deletions,b===null?(i.deletions=[e],i.flags|=16):b.push(e)),i.child=o,i.memoizedState=null,o)}function hm(e,i){return i=Ih({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ih(e,i){return e=zn(22,e,null,i),e.lanes=0,e}function fm(e,i,o){return jo(i,e.child,null,o),e=hm(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function xy(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),xd(e.return,i,o)}function dm(e,i,o,c,p,g){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=p,b.treeForkCount=g)}function Cy(e,i,o){var c=i.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var b=tn.current,C=(b&2)!==0;if(C?(b=b&1|2,i.flags|=128):b&=1,gt(tn,b),In(e,i,c,o),c=Wt?x:0,!C&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xy(e,o,i);else if(e.tag===19)xy(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)e=o.alternate,e!==null&&_h(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),dm(i,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&_h(e)===null){i.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}dm(i,!0,o,null,g,c);break;case"together":dm(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Os(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Ra|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Ol(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,o=rr(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=rr(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function mm(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&uh(e)))}function kS(e,i,o){switch(i.tag){case 3:we(i,i.stateNode.containerInfo),ya(i,on,e.memoizedState.cache),xs();break;case 27:case 5:hr(i);break;case 4:we(i,i.stateNode.containerInfo);break;case 10:ya(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(wa(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Ry(e,i,o):(wa(i),e=Os(e,i,o),e!==null?e.sibling:null);wa(i);break;case 19:var p=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Ol(e,i,o,!1),c=(o&i.childLanes)!==0),p){if(c)return Cy(e,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),gt(tn,tn.current),c)break;return null;case 22:return i.lanes=0,Ey(e,i,o,i.pendingProps);case 24:ya(i,on,e.memoizedState.cache)}return Os(e,i,o)}function Iy(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)un=!0;else{if(!mm(e,o)&&(i.flags&128)===0)return un=!1,kS(e,i,o);un=(e.flags&131072)!==0}else un=!1,Wt&&(i.flags&1048576)!==0&&Zt(i,x,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=zo(i.elementType),i.type=e,typeof e=="function")Cl(e)?(c=qo(e,c),i.tag=1,i=Sy(null,i,e,c,o)):(i.tag=0,i=om(null,i,e,c,o));else{if(e!=null){var p=e.$$typeof;if(p===It){i.tag=11,i=_y(null,i,e,c,o);break t}else if(p===k){i.tag=14,i=yy(null,i,e,c,o);break t}}throw i=oe(e)||e,Error(s(306,i,""))}}return i;case 0:return om(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,p=qo(c,i.pendingProps),Sy(e,i,c,p,o);case 3:t:{if(we(i,i.stateNode.containerInfo),e===null)throw Error(s(387));c=i.pendingProps;var g=i.memoizedState;p=g.element,Dd(e,i),ku(i,c,null,o);var b=i.memoizedState;if(c=b.cache,ya(i,on,c),c!==g.cache&&Cd(i,[on],o,!0),Mu(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Ay(e,i,c,o);break t}else if(c!==p){p=u(Error(s(424)),i),Mo(p),i=Ay(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,de=ar(e.firstChild),fe=i,Wt=!0,Xr=null,ci=!0,o=E_(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(xs(),c===p){i=Os(e,i,o);break t}In(e,i,c,o)}i=i.child}return i;case 26:return Ch(e,i),e===null?(o=Bv(i.type,null,i.pendingProps,null))?i.memoizedState=o:Wt||(o=i.type,e=i.pendingProps,c=Gh(Tt.current).createElement(o),c[ze]=i,c[Fe]=e,Nn(c,o,e),Ge(c),i.stateNode=c):i.memoizedState=Bv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return hr(i),e===null&&Wt&&(c=i.stateNode=Vv(i.type,i.pendingProps,Tt.current),fe=i,ci=!0,p=de,Oa(i.type)?(Km=p,de=ar(c.firstChild)):de=p),In(e,i,i.pendingProps.children,o),Ch(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Wt&&((p=c=de)&&(c=fA(c,i.type,i.pendingProps,ci),c!==null?(i.stateNode=c,fe=i,de=ar(c.firstChild),ci=!1,p=!0):p=!1),p||Wr(i)),hr(i),p=i.type,g=i.pendingProps,b=e!==null?e.memoizedProps:null,c=g.children,Hm(p,g)?c=null:b!==null&&Hm(p,b)&&(i.flags|=32),i.memoizedState!==null&&(p=jd(e,i,xS,null,null,o),nc._currentValue=p),Ch(e,i),In(e,i,c,o),i.child;case 6:return e===null&&Wt&&((e=o=de)&&(o=dA(o,i.pendingProps,ci),o!==null?(i.stateNode=o,fe=i,de=null,e=!0):e=!1),e||Wr(i)),null;case 13:return Ry(e,i,o);case 4:return we(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=jo(i,null,c,o):In(e,i,c,o),i.child;case 11:return _y(e,i,i.type,i.pendingProps,o);case 7:return In(e,i,i.pendingProps,o),i.child;case 8:return In(e,i,i.pendingProps.children,o),i.child;case 12:return In(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,ya(i,i.type,c.value),In(e,i,c.children,o),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,Vo(i),p=Cn(p),c=c(p),i.flags|=1,In(e,i,c,o),i.child;case 14:return yy(e,i,i.type,i.pendingProps,o);case 15:return vy(e,i,i.type,i.pendingProps,o);case 19:return Cy(e,i,o);case 31:return MS(e,i,o);case 22:return Ey(e,i,o,i.pendingProps);case 24:return Vo(i),c=Cn(on),e===null?(p=Od(),p===null&&(p=Ie,g=Id(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),i.memoizedState={parent:c,cache:p},Ld(i),ya(i,on,p)):((e.lanes&o)!==0&&(Dd(e,i),ku(i,null,null,o),Mu()),p=e.memoizedState,g=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),ya(i,on,c)):(c=g.cache,ya(i,on,c),c!==p.cache&&Cd(i,[on],o,!0))),In(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ps(e){e.flags|=4}function pm(e,i,o,c,p){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(nv())e.flags|=8192;else throw Bo=dh,Pd}else e.flags&=-16777217}function Ny(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gv(i))if(nv())e.flags|=8192;else throw Bo=dh,Pd}function Nh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ml():536870912,e.lanes|=i,ql|=i)}function Hu(e,i){if(!Wt)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function De(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function VS(e,i,o){var c=i.pendingProps;switch(Ze(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(i),null;case 1:return De(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Cs(on),Re(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Sr(i)?Ps(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Iu())),De(i),null;case 26:var p=i.type,g=i.memoizedState;return e===null?(Ps(i),g!==null?(De(i),Ny(i,g)):(De(i),pm(i,p,null,c,o))):g?g!==e.memoizedState?(Ps(i),De(i),Ny(i,g)):(De(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&Ps(i),De(i),pm(i,p,e,c,o)),null;case 27:if(Pr(i),o=Tt.current,p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Ps(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return De(i),null}e=_t.current,Sr(i)?Cu(i):(e=Vv(p,c,o),i.stateNode=e,Ps(i))}return De(i),null;case 5:if(Pr(i),p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Ps(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return De(i),null}if(g=_t.current,Sr(i))Cu(i);else{var b=Gh(Tt.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?b.createElement(p,{is:c.is}):b.createElement(p)}}g[ze]=i,g[Fe]=c;t:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break t;for(;b.sibling===null;){if(b.return===null||b.return===i)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=g;t:switch(Nn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Ps(i)}}return De(i),pm(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Ps(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(e=Tt.current,Sr(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,p=fe,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[ze]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Rv(e.nodeValue,o)),e||Wr(i,!0)}else e=Gh(e).createTextNode(c),e[ze]=i,i.stateNode=e}return De(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=Sr(i),o!==null){if(e===null){if(!c)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ze]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;De(i),e=!1}else o=Iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(Li(i),i):(Li(i),null);if((i.flags&128)!==0)throw Error(s(558))}return De(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Sr(i),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[ze]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;De(i),p=!1}else p=Iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Li(i),i):(Li(i),null)}return Li(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),Nh(i,i.updateQueue),De(i),null);case 4:return Re(),e===null&&Vm(i.stateNode.containerInfo),De(i),null;case 10:return Cs(i.type),De(i),null;case 19:if(at(tn),c=i.memoizedState,c===null)return De(i),null;if(p=(i.flags&128)!==0,g=c.rendering,g===null)if(p)Hu(c,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=_h(e),g!==null){for(i.flags|=128,Hu(c,!1),e=g.updateQueue,i.updateQueue=e,Nh(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)Au(o,e),o=o.sibling;return gt(tn,tn.current&1|2),Wt&&Ot(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&xn()>Mh&&(i.flags|=128,p=!0,Hu(c,!1),i.lanes=4194304)}else{if(!p)if(e=_h(g),e!==null){if(i.flags|=128,p=!0,e=e.updateQueue,i.updateQueue=e,Nh(i,e),Hu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Wt)return De(i),null}else 2*xn()-c.renderingStartTime>Mh&&o!==536870912&&(i.flags|=128,p=!0,Hu(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(e=c.last,e!==null?e.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=xn(),e.sibling=null,o=tn.current,gt(tn,p?o&1|2:o&1),Wt&&Ot(i,c.treeForkCount),e):(De(i),null);case 22:case 23:return Li(i),Ud(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(De(i),i.subtreeFlags&6&&(i.flags|=8192)):De(i),o=i.updateQueue,o!==null&&Nh(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&at(Uo),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Cs(on),De(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function US(e,i){switch(Ze(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Cs(on),Re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Pr(i),null;case 31:if(i.memoizedState!==null){if(Li(i),i.alternate===null)throw Error(s(340));xs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Li(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));xs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return at(tn),null;case 4:return Re(),null;case 10:return Cs(i.type),null;case 22:case 23:return Li(i),Ud(),e!==null&&at(Uo),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Cs(on),null;case 25:return null;default:return null}}function Oy(e,i){switch(Ze(i),i.tag){case 3:Cs(on),Re();break;case 26:case 27:case 5:Pr(i);break;case 4:Re();break;case 31:i.memoizedState!==null&&Li(i);break;case 13:Li(i);break;case 19:at(tn);break;case 10:Cs(i.type);break;case 22:case 23:Li(i),Ud(),e!==null&&at(Uo);break;case 24:Cs(on)}}function qu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&e)===e){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==p)}}catch(C){Te(i,i.return,C)}}function Sa(e,i,o){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&e)===e){var b=c.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,p=i;var U=o,J=C;try{J()}catch(lt){Te(p,U,lt)}}}c=c.next}while(c!==g)}}catch(lt){Te(i,i.return,lt)}}function Py(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{w_(i,o)}catch(c){Te(e,e.return,c)}}}function Ly(e,i,o){o.props=qo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Te(e,i,c)}}function Fu(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(p){Te(e,i,p)}}function $r(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Te(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Te(e,i,p)}else o.current=null}function Dy(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Te(e,e.return,p)}}function gm(e,i,o){try{var c=e.stateNode;aA(c,e.type,o,i),c[Fe]=i}catch(p){Te(e,e.return,p)}}function My(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Oa(e.type)||e.tag===4}function _m(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||My(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Oa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ym(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Dn));else if(c!==4&&(c===27&&Oa(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(ym(e,i,o),e=e.sibling;e!==null;)ym(e,i,o),e=e.sibling}function Oh(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&Oa(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Oh(e,i,o),e=e.sibling;e!==null;)Oh(e,i,o),e=e.sibling}function ky(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Nn(i,c,o),i[ze]=e,i[Fe]=o}catch(g){Te(e,e.return,g)}}var Ls=!1,cn=!1,vm=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,An=null;function zS(e,i){if(e=e.containerInfo,Bm=Jh,e=xo(e),Gr(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,C=-1,U=-1,J=0,lt=0,dt=e,tt=null;e:for(;;){for(var it;dt!==o||p!==0&&dt.nodeType!==3||(C=b+p),dt!==g||c!==0&&dt.nodeType!==3||(U=b+c),dt.nodeType===3&&(b+=dt.nodeValue.length),(it=dt.firstChild)!==null;)tt=dt,dt=it;for(;;){if(dt===e)break e;if(tt===o&&++J===p&&(C=b),tt===g&&++lt===c&&(U=b),(it=dt.nextSibling)!==null)break;dt=tt,tt=dt.parentNode}dt=it}o=C===-1||U===-1?null:{start:C,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(jm={focusedElem:e,selectionRange:o},Jh=!1,An=i;An!==null;)if(i=An,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,An=e;else for(;An!==null;){switch(i=An,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)p=e[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Ct=qo(o.type,p);e=c.getSnapshotBeforeUpdate(Ct,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(Vt){Te(o,o.return,Vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)Fm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,An=e;break}An=i.return}}function Uy(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ms(e,o),c&4&&qu(5,o);break;case 1:if(Ms(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(b){Te(o,o.return,b)}else{var p=qo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Te(o,o.return,b)}}c&64&&Py(o),c&512&&Fu(o,o.return);break;case 3:if(Ms(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{w_(e,i)}catch(b){Te(o,o.return,b)}}break;case 27:i===null&&c&4&&ky(o);case 26:case 5:Ms(e,o),i===null&&c&4&&Dy(o),c&512&&Fu(o,o.return);break;case 12:Ms(e,o);break;case 31:Ms(e,o),c&4&&jy(e,o);break;case 13:Ms(e,o),c&4&&Hy(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=YS.bind(null,o),mA(e,o))));break;case 22:if(c=o.memoizedState!==null||Ls,!c){i=i!==null&&i.memoizedState!==null||cn,p=Ls;var g=cn;Ls=c,(cn=i)&&!g?ks(e,o,(o.subtreeFlags&8772)!==0):Ms(e,o),Ls=p,cn=g}break;case 30:break;default:Ms(e,o)}}function zy(e){var i=e.alternate;i!==null&&(e.alternate=null,zy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ta(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,hi=!1;function Ds(e,i,o){for(o=o.child;o!==null;)By(e,i,o),o=o.sibling}function By(e,i,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Jn,o)}catch{}switch(o.tag){case 26:cn||$r(o,i),Ds(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:cn||$r(o,i);var c=ke,p=hi;Oa(o.type)&&(ke=o.stateNode,hi=!1),Ds(e,i,o),$u(o.stateNode),ke=c,hi=p;break;case 5:cn||$r(o,i);case 6:if(c=ke,p=hi,ke=null,Ds(e,i,o),ke=c,hi=p,ke!==null)if(hi)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(o.stateNode)}catch(g){Te(o,i,g)}else try{ke.removeChild(o.stateNode)}catch(g){Te(o,i,g)}break;case 18:ke!==null&&(hi?(e=ke,Pv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Wl(e)):Pv(ke,o.stateNode));break;case 4:c=ke,p=hi,ke=o.stateNode.containerInfo,hi=!0,Ds(e,i,o),ke=c,hi=p;break;case 0:case 11:case 14:case 15:Sa(2,o,i),cn||Sa(4,o,i),Ds(e,i,o);break;case 1:cn||($r(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Ly(o,i,c)),Ds(e,i,o);break;case 21:Ds(e,i,o);break;case 22:cn=(c=cn)||o.memoizedState!==null,Ds(e,i,o),cn=c;break;default:Ds(e,i,o)}}function jy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wl(e)}catch(o){Te(i,i.return,o)}}}function Hy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wl(e)}catch(o){Te(i,i.return,o)}}function BS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Vy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Vy),i;default:throw Error(s(435,e.tag))}}function Ph(e,i){var o=BS(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var p=QS.bind(null,e,c);c.then(p,p)}})}function fi(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=e,b=i,C=b;t:for(;C!==null;){switch(C.tag){case 27:if(Oa(C.type)){ke=C.stateNode,hi=!1;break t}break;case 5:ke=C.stateNode,hi=!1;break t;case 3:case 4:ke=C.stateNode.containerInfo,hi=!0;break t}C=C.return}if(ke===null)throw Error(s(160));By(g,b,p),ke=null,hi=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)qy(i,e),i=i.sibling}var Rr=null;function qy(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fi(i,e),di(e),c&4&&(Sa(3,e,e.return),qu(3,e),Sa(5,e,e.return));break;case 1:fi(i,e),di(e),c&512&&(cn||o===null||$r(o,o.return)),c&64&&Ls&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=Rr;if(fi(i,e),di(e),c&512&&(cn||o===null||$r(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Zi]||g[ze]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Nn(g,c,o),g[ze]=e,Ge(g),c=g;break t;case"link":var b=qv("link","href",p).get(c+(o.href||""));if(b){for(var C=0;C<b.length;C++)if(g=b[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(C,1);break e}}g=p.createElement(c),Nn(g,c,o),p.head.appendChild(g);break;case"meta":if(b=qv("meta","content",p).get(c+(o.content||""))){for(C=0;C<b.length;C++)if(g=b[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(C,1);break e}}g=p.createElement(c),Nn(g,c,o),p.head.appendChild(g);break;default:throw Error(s(468,c))}g[ze]=e,Ge(g),c=g}e.stateNode=c}else Fv(p,e.type,e.stateNode);else e.stateNode=Hv(p,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Fv(p,e.type,e.stateNode):Hv(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&gm(e,e.memoizedProps,o.memoizedProps)}break;case 27:fi(i,e),di(e),c&512&&(cn||o===null||$r(o,o.return)),o!==null&&c&4&&gm(e,e.memoizedProps,o.memoizedProps);break;case 5:if(fi(i,e),di(e),c&512&&(cn||o===null||$r(o,o.return)),e.flags&32){p=e.stateNode;try{sn(p,"")}catch(Ct){Te(e,e.return,Ct)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,gm(e,p,o!==null?o.memoizedProps:p)),c&1024&&(vm=!0);break;case 6:if(fi(i,e),di(e),c&4){if(e.stateNode===null)throw Error(s(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Ct){Te(e,e.return,Ct)}}break;case 3:if(Yh=null,p=Rr,Rr=Zh(i.containerInfo),fi(i,e),Rr=p,di(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Wl(i.containerInfo)}catch(Ct){Te(e,e.return,Ct)}vm&&(vm=!1,Fy(e));break;case 4:c=Rr,Rr=Zh(e.stateNode.containerInfo),fi(i,e),di(e),Rr=c;break;case 12:fi(i,e),di(e);break;case 31:fi(i,e),di(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ph(e,c)));break;case 13:fi(i,e),di(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Dh=xn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ph(e,c)));break;case 22:p=e.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,J=Ls,lt=cn;if(Ls=J||p,cn=lt||U,fi(i,e),cn=lt,Ls=J,di(e),c&8192)t:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||U||Ls||cn||Fo(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){U=o=i;try{if(g=U.stateNode,p)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=U.stateNode;var dt=U.memoizedProps.style,tt=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;C.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(Ct){Te(U,U.return,Ct)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(Ct){Te(U,U.return,Ct)}}}else if(i.tag===18){if(o===null){U=i;try{var it=U.stateNode;p?Lv(it,!0):Lv(U.stateNode,!1)}catch(Ct){Te(U,U.return,Ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Ph(e,o))));break;case 19:fi(i,e),di(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ph(e,c)));break;case 30:break;case 21:break;default:fi(i,e),di(e)}}function di(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(My(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,g=_m(e);Oh(e,g,p);break;case 5:var b=o.stateNode;o.flags&32&&(sn(b,""),o.flags&=-33);var C=_m(e);Oh(e,C,b);break;case 3:case 4:var U=o.stateNode.containerInfo,J=_m(e);ym(e,J,U);break;default:throw Error(s(161))}}catch(lt){Te(e,e.return,lt)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Fy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ms(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Uy(e,i.alternate,i),i=i.sibling}function Fo(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Sa(4,i,i.return),Fo(i);break;case 1:$r(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Ly(i,i.return,o),Fo(i);break;case 27:$u(i.stateNode);case 26:case 5:$r(i,i.return),Fo(i);break;case 22:i.memoizedState===null&&Fo(i);break;case 30:Fo(i);break;default:Fo(i)}e=e.sibling}}function ks(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=e,g=i,b=g.flags;switch(g.tag){case 0:case 11:case 15:ks(p,g,o),qu(4,g);break;case 1:if(ks(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){Te(c,c.return,J)}if(c=g,p=c.updateQueue,p!==null){var C=c.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)T_(U[p],C)}catch(J){Te(c,c.return,J)}}o&&b&64&&Py(g),Fu(g,g.return);break;case 27:ky(g);case 26:case 5:ks(p,g,o),o&&c===null&&b&4&&Dy(g),Fu(g,g.return);break;case 12:ks(p,g,o);break;case 31:ks(p,g,o),o&&b&4&&jy(p,g);break;case 13:ks(p,g,o),o&&b&4&&Hy(p,g);break;case 22:g.memoizedState===null&&ks(p,g,o),Fu(g,g.return);break;case 30:break;default:ks(p,g,o)}i=i.sibling}}function Em(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Nu(o))}function Tm(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Nu(e))}function xr(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Gy(e,i,o,c),i=i.sibling}function Gy(e,i,o,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:xr(e,i,o,c),p&2048&&qu(9,i);break;case 1:xr(e,i,o,c);break;case 3:xr(e,i,o,c),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Nu(e)));break;case 12:if(p&2048){xr(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,b=g.id,C=g.onPostCommit;typeof C=="function"&&C(b,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Te(i,i.return,U)}}else xr(e,i,o,c);break;case 31:xr(e,i,o,c);break;case 13:xr(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,b=i.alternate,i.memoizedState!==null?g._visibility&2?xr(e,i,o,c):Gu(e,i):g._visibility&2?xr(e,i,o,c):(g._visibility|=2,Bl(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),p&2048&&Em(b,i);break;case 24:xr(e,i,o,c),p&2048&&Tm(i.alternate,i);break;default:xr(e,i,o,c)}}function Bl(e,i,o,c,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,b=i,C=o,U=c,J=b.flags;switch(b.tag){case 0:case 11:case 15:Bl(g,b,C,U,p),qu(8,b);break;case 23:break;case 22:var lt=b.stateNode;b.memoizedState!==null?lt._visibility&2?Bl(g,b,C,U,p):Gu(g,b):(lt._visibility|=2,Bl(g,b,C,U,p)),p&&J&2048&&Em(b.alternate,b);break;case 24:Bl(g,b,C,U,p),p&&J&2048&&Tm(b.alternate,b);break;default:Bl(g,b,C,U,p)}i=i.sibling}}function Gu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,p=c.flags;switch(c.tag){case 22:Gu(o,c),p&2048&&Em(c.alternate,c);break;case 24:Gu(o,c),p&2048&&Tm(c.alternate,c);break;default:Gu(o,c)}i=i.sibling}}var Zu=8192;function jl(e,i,o){if(e.subtreeFlags&Zu)for(e=e.child;e!==null;)Zy(e,i,o),e=e.sibling}function Zy(e,i,o){switch(e.tag){case 26:jl(e,i,o),e.flags&Zu&&e.memoizedState!==null&&RA(o,Rr,e.memoizedState,e.memoizedProps);break;case 5:jl(e,i,o);break;case 3:case 4:var c=Rr;Rr=Zh(e.stateNode.containerInfo),jl(e,i,o),Rr=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Zu,Zu=16777216,jl(e,i,o),Zu=c):jl(e,i,o));break;default:jl(e,i,o)}}function Ky(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ku(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];An=c,Qy(c,e)}Ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yy(e),e=e.sibling}function Yy(e){switch(e.tag){case 0:case 11:case 15:Ku(e),e.flags&2048&&Sa(9,e,e.return);break;case 3:Ku(e);break;case 12:Ku(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Lh(e)):Ku(e);break;default:Ku(e)}}function Lh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];An=c,Qy(c,e)}Ky(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Sa(8,i,i.return),Lh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Lh(i));break;default:Lh(i)}e=e.sibling}}function Qy(e,i){for(;An!==null;){var o=An;switch(o.tag){case 0:case 11:case 15:Sa(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Nu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,An=c;else t:for(o=e;An!==null;){c=An;var p=c.sibling,g=c.return;if(zy(c),c===o){An=null;break t}if(p!==null){p.return=g,An=p;break t}An=g}}}var jS={getCacheForType:function(e){var i=Cn(on),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return Cn(on).controller.signal}},HS=typeof WeakMap=="function"?WeakMap:Map,ge=0,Ie=null,Jt=null,ne=0,Ee=0,Di=null,Aa=!1,Hl=!1,wm=!1,Vs=0,Ye=0,Ra=0,Go=0,bm=0,Mi=0,ql=0,Yu=null,mi=null,Sm=!1,Dh=0,Xy=0,Mh=1/0,kh=null,xa=null,pn=0,Ca=null,Fl=null,Us=0,Am=0,Rm=null,Wy=null,Qu=0,xm=null;function ki(){return(ge&2)!==0&&ne!==0?ne&-ne:rt.T!==null?Lm():fo()}function Jy(){if(Mi===0)if((ne&536870912)===0||Wt){var e=Vr;Vr<<=1,(Vr&3932160)===0&&(Vr=262144),Mi=e}else Mi=536870912;return e=Pi.current,e!==null&&(e.flags|=32),Mi}function pi(e,i,o){(e===Ie&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Gl(e,0),Ia(e,ne,Mi,!1)),dr(e,o),((ge&2)===0||e!==Ie)&&(e===Ie&&((ge&2)===0&&(Go|=o),Ye===4&&Ia(e,ne,Mi,!1)),ts(e))}function $y(e,i,o){if((ge&6)!==0)throw Error(s(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||Ei(e,i),p=c?GS(e,i):Im(e,i,!0),g=c;do{if(p===0){Hl&&!c&&Ia(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!qS(o)){p=Im(e,i,!1),g=!1;continue}if(p===2){if(g=i,e.errorRecoveryDisabledLanes&g)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;t:{var C=e;p=Yu;var U=C.current.memoizedState.isDehydrated;if(U&&(Gl(C,b).flags|=256),b=Im(C,b,!1),b!==2){if(wm&&!U){C.errorRecoveryDisabledLanes|=g,Go|=g,p=4;break t}g=mi,mi=p,g!==null&&(mi===null?mi=g:mi.push.apply(mi,g))}p=b}if(g=!1,p!==2)continue}}if(p===1){Gl(e,0),Ia(e,i,0,!0);break}t:{switch(c=e,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ia(c,i,Mi,!Aa);break t;case 2:mi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(p=Dh+300-xn(),10<p)){if(Ia(c,i,Mi,!Aa),Fi(c,0,!0)!==0)break t;Us=i,c.timeoutHandle=Nv(tv.bind(null,c,o,mi,kh,Sm,i,Mi,Go,ql,Aa,g,"Throttled",-0,0),p);break t}tv(c,o,mi,kh,Sm,i,Mi,Go,ql,Aa,g,null,-0,0)}}break}while(!0);ts(e)}function tv(e,i,o,c,p,g,b,C,U,J,lt,dt,tt,it){if(e.timeoutHandle=-1,dt=i.subtreeFlags,dt&8192||(dt&16785408)===16785408){dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},Zy(i,g,dt);var Ct=(g&62914560)===g?Dh-xn():(g&4194048)===g?Xy-xn():0;if(Ct=xA(dt,Ct),Ct!==null){Us=g,e.cancelPendingCommit=Ct(lv.bind(null,e,i,g,o,c,p,b,C,U,lt,dt,null,tt,it)),Ia(e,g,b,!J);return}}lv(e,i,g,o,c,p,b,C,U)}function qS(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!bn(g(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ia(e,i,o,c){i&=~bm,i&=~Go,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var p=i;0<p;){var g=31-Ve(p),b=1<<g;c[g]=-1,p&=~b}o!==0&&gs(e,o,i)}function Vh(){return(ge&6)===0?(Xu(0),!1):!0}function Cm(){if(Jt!==null){if(Ee===0)var e=Jt.return;else e=Jt,Ar=Jr=null,Fd(e),Ml=null,Pu=0,e=Jt;for(;e!==null;)Oy(e.alternate,e),e=e.return;Jt=null}}function Gl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,uA(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Us=0,Cm(),Ie=e,Jt=o=rr(e.current,null),ne=i,Ee=0,Di=null,Aa=!1,Hl=Ei(e,i),wm=!1,ql=Mi=bm=Go=Ra=Ye=0,mi=Yu=null,Sm=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var p=31-Ve(c),g=1<<p;i|=e[p],c&=~g}return Vs=i,Po(),o}function ev(e,i){Gt=null,rt.H=Bu,i===Dl||i===fh?(i=__(),Ee=3):i===Pd?(i=__(),Ee=4):Ee=i===am?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Di=i,Jt===null&&(Ye=1,Rh(e,u(i,e.current)))}function nv(){var e=Pi.current;return e===null?!0:(ne&4194048)===ne?sr===null:(ne&62914560)===ne||(ne&536870912)!==0?e===sr:!1}function iv(){var e=rt.H;return rt.H=Bu,e===null?Bu:e}function rv(){var e=rt.A;return rt.A=jS,e}function Uh(){Ye=4,Aa||(ne&4194048)!==ne&&Pi.current!==null||(Hl=!0),(Ra&134217727)===0&&(Go&134217727)===0||Ie===null||Ia(Ie,ne,Mi,!1)}function Im(e,i,o){var c=ge;ge|=2;var p=iv(),g=rv();(Ie!==e||ne!==i)&&(kh=null,Gl(e,i)),i=!1;var b=Ye;t:do try{if(Ee!==0&&Jt!==null){var C=Jt,U=Di;switch(Ee){case 8:Cm(),b=6;break t;case 3:case 2:case 9:case 6:Pi.current===null&&(i=!0);var J=Ee;if(Ee=0,Di=null,Zl(e,C,U,J),o&&Hl){b=0;break t}break;default:J=Ee,Ee=0,Di=null,Zl(e,C,U,J)}}FS(),b=Ye;break}catch(lt){ev(e,lt)}while(!0);return i&&e.shellSuspendCounter++,Ar=Jr=null,ge=c,rt.H=p,rt.A=g,Jt===null&&(Ie=null,ne=0,Po()),b}function FS(){for(;Jt!==null;)sv(Jt)}function GS(e,i){var o=ge;ge|=2;var c=iv(),p=rv();Ie!==e||ne!==i?(kh=null,Mh=xn()+500,Gl(e,i)):Hl=Ei(e,i);t:do try{if(Ee!==0&&Jt!==null){i=Jt;var g=Di;e:switch(Ee){case 1:Ee=0,Di=null,Zl(e,i,g,1);break;case 2:case 9:if(p_(g)){Ee=0,Di=null,av(i);break}i=function(){Ee!==2&&Ee!==9||Ie!==e||(Ee=7),ts(e)},g.then(i,i);break t;case 3:Ee=7;break t;case 4:Ee=5;break t;case 7:p_(g)?(Ee=0,Di=null,av(i)):(Ee=0,Di=null,Zl(e,i,g,7));break;case 5:var b=null;switch(Jt.tag){case 26:b=Jt.memoizedState;case 5:case 27:var C=Jt;if(b?Gv(b):C.stateNode.complete){Ee=0,Di=null;var U=C.sibling;if(U!==null)Jt=U;else{var J=C.return;J!==null?(Jt=J,zh(J)):Jt=null}break e}}Ee=0,Di=null,Zl(e,i,g,5);break;case 6:Ee=0,Di=null,Zl(e,i,g,6);break;case 8:Cm(),Ye=6;break t;default:throw Error(s(462))}}ZS();break}catch(lt){ev(e,lt)}while(!0);return Ar=Jr=null,rt.H=c,rt.A=p,ge=o,Jt!==null?0:(Ie=null,ne=0,Po(),Ye)}function ZS(){for(;Jt!==null&&!hl();)sv(Jt)}function sv(e){var i=Iy(e.alternate,e,Vs);e.memoizedProps=e.pendingProps,i===null?zh(e):Jt=i}function av(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=by(o,i,i.pendingProps,i.type,void 0,ne);break;case 11:i=by(o,i,i.pendingProps,i.type.render,i.ref,ne);break;case 5:Fd(i);default:Oy(o,i),i=Jt=Au(i,Vs),i=Iy(o,i,Vs)}e.memoizedProps=e.pendingProps,i===null?zh(e):Jt=i}function Zl(e,i,o,c){Ar=Jr=null,Fd(i),Ml=null,Pu=0;var p=i.return;try{if(DS(e,p,i,o,ne)){Ye=1,Rh(e,u(o,e.current)),Jt=null;return}}catch(g){if(p!==null)throw Jt=p,g;Ye=1,Rh(e,u(o,e.current)),Jt=null;return}i.flags&32768?(Wt||c===1?e=!0:Hl||(ne&536870912)!==0?e=!1:(Aa=e=!0,(c===2||c===9||c===3||c===6)&&(c=Pi.current,c!==null&&c.tag===13&&(c.flags|=16384))),ov(i,e)):zh(i)}function zh(e){var i=e;do{if((i.flags&32768)!==0){ov(i,Aa);return}e=i.return;var o=VS(i.alternate,i,Vs);if(o!==null){Jt=o;return}if(i=i.sibling,i!==null){Jt=i;return}Jt=i=e}while(i!==null);Ye===0&&(Ye=5)}function ov(e,i){do{var o=US(e.alternate,e);if(o!==null){o.flags&=32767,Jt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){Jt=e;return}Jt=e=o}while(e!==null);Ye=6,Jt=null}function lv(e,i,o,c,p,g,b,C,U){e.cancelPendingCommit=null;do Bh();while(pn!==0);if((ge&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=xl,bu(e,o,g,b,C,U),e===Ie&&(Jt=Ie=null,ne=0),Fl=i,Ca=e,Us=o,Am=g,Rm=p,Wy=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,XS(fr,function(){return dv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=rt.T,rt.T=null,p=vt.p,vt.p=2,b=ge,ge|=4;try{zS(e,i,o)}finally{ge=b,vt.p=p,rt.T=c}}pn=1,uv(),cv(),hv()}}function uv(){if(pn===1){pn=0;var e=Ca,i=Fl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=rt.T,rt.T=null;var c=vt.p;vt.p=2;var p=ge;ge|=4;try{qy(i,e);var g=jm,b=xo(e.containerInfo),C=g.focusedElem,U=g.selectionRange;if(b!==C&&C&&C.ownerDocument&&bl(C.ownerDocument.documentElement,C)){if(U!==null&&Gr(C)){var J=U.start,lt=U.end;if(lt===void 0&&(lt=J),"selectionStart"in C)C.selectionStart=J,C.selectionEnd=Math.min(lt,C.value.length);else{var dt=C.ownerDocument||document,tt=dt&&dt.defaultView||window;if(tt.getSelection){var it=tt.getSelection(),Ct=C.textContent.length,Vt=Math.min(U.start,Ct),Ae=U.end===void 0?Vt:Math.min(U.end,Ct);!it.extend&&Vt>Ae&&(b=Ae,Ae=Vt,Vt=b);var K=Ro(C,Vt),H=Ro(C,Ae);if(K&&H&&(it.rangeCount!==1||it.anchorNode!==K.node||it.anchorOffset!==K.offset||it.focusNode!==H.node||it.focusOffset!==H.offset)){var W=dt.createRange();W.setStart(K.node,K.offset),it.removeAllRanges(),Vt>Ae?(it.addRange(W),it.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),it.addRange(W))}}}}for(dt=[],it=C;it=it.parentNode;)it.nodeType===1&&dt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<dt.length;C++){var ut=dt[C];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}Jh=!!Bm,jm=Bm=null}finally{ge=p,vt.p=c,rt.T=o}}e.current=i,pn=2}}function cv(){if(pn===2){pn=0;var e=Ca,i=Fl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=rt.T,rt.T=null;var c=vt.p;vt.p=2;var p=ge;ge|=4;try{Uy(e,i.alternate,i)}finally{ge=p,vt.p=c,rt.T=o}}pn=3}}function hv(){if(pn===4||pn===3){pn=0,oo();var e=Ca,i=Fl,o=Us,c=Wy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pn=5:(pn=0,Fl=Ca=null,fv(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(xa=null),xt(o),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Jn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=rt.T,p=vt.p,vt.p=2,rt.T=null;try{for(var g=e.onRecoverableError,b=0;b<c.length;b++){var C=c[b];g(C.value,{componentStack:C.stack})}}finally{rt.T=i,vt.p=p}}(Us&3)!==0&&Bh(),ts(e),p=e.pendingLanes,(o&261930)!==0&&(p&42)!==0?e===xm?Qu++:(Qu=0,xm=e):Qu=0,Xu(0)}}function fv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Nu(i)))}function Bh(){return uv(),cv(),hv(),dv()}function dv(){if(pn!==5)return!1;var e=Ca,i=Am;Am=0;var o=xt(Us),c=rt.T,p=vt.p;try{vt.p=32>o?32:o,rt.T=null,o=Rm,Rm=null;var g=Ca,b=Us;if(pn=0,Fl=Ca=null,Us=0,(ge&6)!==0)throw Error(s(331));var C=ge;if(ge|=4,Yy(g.current),Gy(g,g.current,b,o),ge=C,Xu(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Jn,g)}catch{}return!0}finally{vt.p=p,rt.T=c,fv(e,i)}}function mv(e,i,o){i=u(o,i),i=sm(e.stateNode,i,2),e=Ta(e,i,2),e!==null&&(dr(e,2),ts(e))}function Te(e,i,o){if(e.tag===3)mv(e,e,o);else for(;i!==null;){if(i.tag===3){mv(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(xa===null||!xa.has(c))){e=u(o,e),o=py(2),c=Ta(i,o,2),c!==null&&(gy(o,c,i,e),dr(c,2),ts(c));break}}i=i.return}}function Nm(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new HS;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(o)||(wm=!0,p.add(o),e=KS.bind(null,e,i,o),i.then(e,e))}function KS(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ie===e&&(ne&o)===o&&(Ye===4||Ye===3&&(ne&62914560)===ne&&300>xn()-Dh?(ge&2)===0&&Gl(e,0):bm|=o,ql===ne&&(ql=0)),ts(e)}function pv(e,i){i===0&&(i=ml()),e=ir(e,i),e!==null&&(dr(e,i),ts(e))}function YS(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),pv(e,o)}function QS(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),pv(e,o)}function XS(e,i){return qe(e,i)}var jh=null,Kl=null,Om=!1,Hh=!1,Pm=!1,Na=0;function ts(e){e!==Kl&&e.next===null&&(Kl===null?jh=Kl=e:Kl=Kl.next=e),Hh=!0,Om||(Om=!0,JS())}function Xu(e,i){if(!Pm&&Hh){Pm=!0;do for(var o=!1,c=jh;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var b=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-Ve(42|e)+1)-1,g&=p&~(b&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,vv(c,g))}else g=ne,g=Fi(c,c===Ie?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ei(c,g)||(o=!0,vv(c,g));c=c.next}while(o);Pm=!1}}function WS(){gv()}function gv(){Hh=Om=!1;var e=0;Na!==0&&lA()&&(e=Na);for(var i=xn(),o=null,c=jh;c!==null;){var p=c.next,g=_v(c,i);g===0?(c.next=null,o===null?jh=p:o.next=p,p===null&&(Kl=o)):(o=c,(e!==0||(g&3)!==0)&&(Hh=!0)),c=p}pn!==0&&pn!==5||Xu(e),Na!==0&&(Na=0)}function _v(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var b=31-Ve(g),C=1<<b,U=p[b];U===-1?((C&o)===0||(C&c)!==0)&&(p[b]=wu(C,i)):U<=i&&(e.expiredLanes|=C),g&=~C}if(i=Ie,o=ne,o=Fi(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Hi(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Ei(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&Hi(c),xt(o)){case 2:case 8:o=Js;break;case 32:o=fr;break;case 268435456:o=lo;break;default:o=fr}return c=yv.bind(null,e),o=qe(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&Hi(c),e.callbackPriority=2,e.callbackNode=null,2}function yv(e,i){if(pn!==0&&pn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Bh()&&e.callbackNode!==o)return null;var c=ne;return c=Fi(e,e===Ie?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:($y(e,c,i),_v(e,xn()),e.callbackNode!=null&&e.callbackNode===o?yv.bind(null,e):null)}function vv(e,i){if(Bh())return null;$y(e,i,!0)}function JS(){cA(function(){(ge&6)!==0?qe(ps,WS):gv()})}function Lm(){if(Na===0){var e=Pl;e===0&&(e=vi,vi<<=1,(vi&261888)===0&&(vi=256)),Na=e}return Na}function Ev(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Br(""+e)}function Tv(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function $S(e,i,o,c,p){if(i==="submit"&&o&&o.stateNode===p){var g=Ev((p[Fe]||null).action),b=c.submitter;b&&(i=(i=b[Fe]||null)?Ev(i.formAction):b.getAttribute("formAction"),i!==null&&(g=i,b=null));var C=new $i("action","action",null,c,p);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Na!==0){var U=b?Tv(p,b):new FormData(p);$d(o,{pending:!0,data:U,method:p.method,action:g},null,U)}}else typeof g=="function"&&(C.preventDefault(),U=b?Tv(p,b):new FormData(p),$d(o,{pending:!0,data:U,method:p.method,action:g},g,U))},currentTarget:p}]})}}for(var Dm=0;Dm<Yr.length;Dm++){var Mm=Yr[Dm],tA=Mm.toLowerCase(),eA=Mm[0].toUpperCase()+Mm.slice(1);li(tA,"on"+eA)}li(Io,"onAnimationEnd"),li(ah,"onAnimationIteration"),li(No,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(Sd,"onTransitionRun"),li(oh,"onTransitionStart"),li(Ad,"onTransitionCancel"),li(ga,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function wv(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],p=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var b=c.length-1;0<=b;b--){var C=c[b],U=C.instance,J=C.currentTarget;if(C=C.listener,U!==g&&p.isPropagationStopped())break t;g=C,p.currentTarget=J;try{g(p)}catch(lt){Oo(lt)}p.currentTarget=null,g=U}else for(b=0;b<c.length;b++){if(C=c[b],U=C.instance,J=C.currentTarget,C=C.listener,U!==g&&p.isPropagationStopped())break t;g=C,p.currentTarget=J;try{g(p)}catch(lt){Oo(lt)}p.currentTarget=null,g=U}}}}function $t(e,i){var o=i[wi];o===void 0&&(o=i[wi]=new Set);var c=e+"__bubble";o.has(c)||(bv(i,e,2,!1),o.add(c))}function km(e,i,o){var c=0;i&&(c|=4),bv(o,e,c,i)}var qh="_reactListening"+Math.random().toString(36).slice(2);function Vm(e){if(!e[qh]){e[qh]=!0,mo.forEach(function(o){o!=="selectionchange"&&(nA.has(o)||km(o,!1,e),km(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[qh]||(i[qh]=!0,km("selectionchange",!1,i))}}function bv(e,i,o,c){switch(Jv(i)){case 2:var p=NA;break;case 8:p=OA;break;default:p=Jm}o=p.bind(null,i,o,e),p=void 0,!_r||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(i,o,{capture:!0,passive:p}):e.addEventListener(i,o,!0):p!==void 0?e.addEventListener(i,o,{passive:p}):e.addEventListener(i,o,!1)}function Um(e,i,o,c,p){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var C=c.stateNode.containerInfo;if(C===p)break;if(b===4)for(b=c.return;b!==null;){var U=b.tag;if((U===3||U===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;C!==null;){if(b=bi(C),b===null)return;if(U=b.tag,U===5||U===6||U===26||U===27){c=g=b;continue t}C=C.parentNode}}c=c.return}gr(function(){var J=g,lt=Mn(o),dt=[];t:{var tt=lh.get(e);if(tt!==void 0){var it=$i,Ct=e;switch(e){case"keypress":if(Hr(o)===0)break t;case"keydown":case"keyup":it=To;break;case"focusin":Ct="focus",it=ws;break;case"focusout":Ct="blur",it=ws;break;case"beforeblur":case"afterblur":it=ws;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=yl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=T;break;case Io:case ah:case No:it=aa;break;case ga:it=I;break;case"scroll":case"scrollend":it=Yt;break;case"wheel":it=et;break;case"copy":case"cut":case"paste":it=Kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Tr;break;case"toggle":case"beforetoggle":it=Bt}var Vt=(i&4)!==0,Ae=!Vt&&(e==="scroll"||e==="scrollend"),K=Vt?tt!==null?tt+"Capture":null:tt;Vt=[];for(var H=J,W;H!==null;){var ut=H;if(W=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||W===null||K===null||(ut=Zn(H,K),ut!=null&&Vt.push(Ju(H,ut,W))),Ae)break;H=H.return}0<Vt.length&&(tt=new it(tt,Ct,null,o,lt),dt.push({event:tt,listeners:Vt}))}}if((i&7)===0){t:{if(tt=e==="mouseover"||e==="pointerover",it=e==="mouseout"||e==="pointerout",tt&&o!==sa&&(Ct=o.relatedTarget||o.fromElement)&&(bi(Ct)||Ct[Ti]))break t;if((it||tt)&&(tt=lt.window===lt?lt:(tt=lt.ownerDocument)?tt.defaultView||tt.parentWindow:window,it?(Ct=o.relatedTarget||o.toElement,it=J,Ct=Ct?bi(Ct):null,Ct!==null&&(Ae=h(Ct),Vt=Ct.tag,Ct!==Ae||Vt!==5&&Vt!==27&&Vt!==6)&&(Ct=null)):(it=null,Ct=J),it!==Ct)){if(Vt=go,ut="onMouseLeave",K="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Vt=Tr,ut="onPointerLeave",K="onPointerEnter",H="pointer"),Ae=it==null?tt:vn(it),W=Ct==null?tt:vn(Ct),tt=new Vt(ut,H+"leave",it,o,lt),tt.target=Ae,tt.relatedTarget=W,ut=null,bi(lt)===J&&(Vt=new Vt(K,H+"enter",Ct,o,lt),Vt.target=W,Vt.relatedTarget=Ae,ut=Vt),Ae=ut,it&&Ct)e:{for(Vt=iA,K=it,H=Ct,W=0,ut=K;ut;ut=Vt(ut))W++;ut=0;for(var Lt=H;Lt;Lt=Vt(Lt))ut++;for(;0<W-ut;)K=Vt(K),W--;for(;0<ut-W;)H=Vt(H),ut--;for(;W--;){if(K===H||H!==null&&K===H.alternate){Vt=K;break e}K=Vt(K),H=Vt(H)}Vt=null}else Vt=null;it!==null&&Sv(dt,tt,it,Vt,!1),Ct!==null&&Ae!==null&&Sv(dt,Ae,Ct,Vt,!0)}}t:{if(tt=J?vn(J):window,it=tt.nodeName&&tt.nodeName.toLowerCase(),it==="select"||it==="input"&&tt.type==="file")var me=Ao;else if(tr(tt))if(eh)me=bd;else{me=wd;var Nt=wr}else it=tt.nodeName,!it||it.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?J&&zr(J.elementType)&&(me=Ao):me=fa;if(me&&(me=me(e,J))){th(dt,me,o,lt);break t}Nt&&Nt(e,tt,J),e==="focusout"&&J&&tt.type==="number"&&J.memoizedProps.value!=null&&Si(tt,"number",tt.value)}switch(Nt=J?vn(J):window,e){case"focusin":(tr(Nt)||Nt.contentEditable==="true")&&(Zr=Nt,Al=J,Co=null);break;case"focusout":Co=Al=Zr=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,rh(dt,o,lt);break;case"selectionchange":if(Sl)break;case"keydown":case"keyup":rh(dt,o,lt)}var Kt;if(ue)t:{switch(e){case"compositionstart":var ie="onCompositionStart";break t;case"compositionend":ie="onCompositionEnd";break t;case"compositionupdate":ie="onCompositionUpdate";break t}ie=void 0}else ua?bs(e,o)&&(ie="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(ie="onCompositionStart");ie&&(oi&&o.locale!=="ko"&&(ua||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&ua&&(Kt=Ai()):(si=lt,yr="value"in si?si.value:si.textContent,ua=!0)),Nt=Fh(J,ie),0<Nt.length&&(ie=new Ci(ie,e,null,o,lt),dt.push({event:ie,listeners:Nt}),Kt?ie.data=Kt:(Kt=Ss(o),Kt!==null&&(ie.data=Kt)))),(Kt=ai?Oi(e,o):ca(e,o))&&(ie=Fh(J,"onBeforeInput"),0<ie.length&&(Nt=new Ci("onBeforeInput","beforeinput",null,o,lt),dt.push({event:Nt,listeners:ie}),Nt.data=Kt)),$S(dt,e,J,o,lt)}wv(dt,i)})}function Ju(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Fh(e,i){for(var o=i+"Capture",c=[];e!==null;){var p=e,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Zn(e,o),p!=null&&c.unshift(Ju(e,p,g)),p=Zn(e,i),p!=null&&c.push(Ju(e,p,g))),e.tag===3)return c;e=e.return}return[]}function iA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sv(e,i,o,c,p){for(var g=i._reactName,b=[];o!==null&&o!==c;){var C=o,U=C.alternate,J=C.stateNode;if(C=C.tag,U!==null&&U===c)break;C!==5&&C!==26&&C!==27||J===null||(U=J,p?(J=Zn(o,g),J!=null&&b.unshift(Ju(o,J,U))):p||(J=Zn(o,g),J!=null&&b.push(Ju(o,J,U)))),o=o.return}b.length!==0&&e.push({event:i,listeners:b})}var rA=/\r\n?/g,sA=/\u0000|\uFFFD/g;function Av(e){return(typeof e=="string"?e:""+e).replace(rA,`
`).replace(sA,"")}function Rv(e,i){return i=Av(i),Av(e)===i}function Se(e,i,o,c,p,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||sn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&sn(e,""+c);break;case"className":Xt(e,"class",c);break;case"tabIndex":Xt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(e,o,c);break;case"style":vs(e,c,g);break;case"data":if(i!=="object"){Xt(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Br(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Se(e,i,"name",p.name,p,null),Se(e,i,"formEncType",p.formEncType,p,null),Se(e,i,"formMethod",p.formMethod,p,null),Se(e,i,"formTarget",p.formTarget,p,null)):(Se(e,i,"encType",p.encType,p,null),Se(e,i,"method",p.method,p,null),Se(e,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Br(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=Dn);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=Br(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":$t("beforetoggle",e),$t("toggle",e),Qt(e,"popover",c);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Qt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Es.get(o)||o,Qt(e,o,c))}}function zm(e,i,o,c,p,g){switch(o){case"style":vs(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"children":typeof c=="string"?sn(e,c):(typeof c=="number"||typeof c=="bigint")&&sn(e,""+c);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),g=e[Fe]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,p);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Qt(e,o,c)}}}function Nn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",e),$t("load",e);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Se(e,i,g,b,o,null)}}p&&Se(e,i,"srcSet",o.srcSet,o,null),c&&Se(e,i,"src",o.src,o,null);return;case"input":$t("invalid",e);var C=g=b=p=null,U=null,J=null;for(c in o)if(o.hasOwnProperty(c)){var lt=o[c];if(lt!=null)switch(c){case"name":p=lt;break;case"type":b=lt;break;case"checked":U=lt;break;case"defaultChecked":J=lt;break;case"value":g=lt;break;case"defaultValue":C=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(s(137,i));break;default:Se(e,i,c,lt,o,null)}}ys(e,g,C,U,J,b,p,!1);return;case"select":$t("invalid",e),c=b=g=null;for(p in o)if(o.hasOwnProperty(p)&&(C=o[p],C!=null))switch(p){case"value":g=C;break;case"defaultValue":b=C;break;case"multiple":c=C;default:Se(e,i,p,C,o,null)}i=g,o=b,e.multiple=!!c,i!=null?ve(e,!!c,i,!1):o!=null&&ve(e,!!c,o,!0);return;case"textarea":$t("invalid",e),g=p=c=null;for(b in o)if(o.hasOwnProperty(b)&&(C=o[b],C!=null))switch(b){case"value":c=C;break;case"defaultValue":p=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Se(e,i,b,C,o,null)}ri(e,c,p,g);return;case"option":for(U in o)o.hasOwnProperty(U)&&(c=o[U],c!=null)&&(U==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Se(e,i,U,c,o,null));return;case"dialog":$t("beforetoggle",e),$t("toggle",e),$t("cancel",e),$t("close",e);break;case"iframe":case"object":$t("load",e);break;case"video":case"audio":for(c=0;c<Wu.length;c++)$t(Wu[c],e);break;case"image":$t("error",e),$t("load",e);break;case"details":$t("toggle",e);break;case"embed":case"source":case"link":$t("error",e),$t("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(c=o[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Se(e,i,J,c,o,null)}return;default:if(zr(i)){for(lt in o)o.hasOwnProperty(lt)&&(c=o[lt],c!==void 0&&zm(e,i,lt,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&Se(e,i,C,c,o,null))}function aA(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,b=null,C=null,U=null,J=null,lt=null;for(it in o){var dt=o[it];if(o.hasOwnProperty(it)&&dt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":U=dt;default:c.hasOwnProperty(it)||Se(e,i,it,null,c,dt)}}for(var tt in c){var it=c[tt];if(dt=o[tt],c.hasOwnProperty(tt)&&(it!=null||dt!=null))switch(tt){case"type":g=it;break;case"name":p=it;break;case"checked":J=it;break;case"defaultChecked":lt=it;break;case"value":b=it;break;case"defaultValue":C=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,i));break;default:it!==dt&&Se(e,i,tt,it,c,dt)}}ia(e,b,C,U,J,lt,g,p);return;case"select":it=b=C=tt=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":it=U;default:c.hasOwnProperty(g)||Se(e,i,g,null,c,U)}for(p in c)if(g=c[p],U=o[p],c.hasOwnProperty(p)&&(g!=null||U!=null))switch(p){case"value":tt=g;break;case"defaultValue":C=g;break;case"multiple":b=g;default:g!==U&&Se(e,i,p,g,c,U)}i=C,o=b,c=it,tt!=null?ve(e,!!o,tt,!1):!!c!=!!o&&(i!=null?ve(e,!!o,i,!0):ve(e,!!o,o?[]:"",!1));return;case"textarea":it=tt=null;for(C in o)if(p=o[C],o.hasOwnProperty(C)&&p!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Se(e,i,C,null,c,p)}for(b in c)if(p=c[b],g=o[b],c.hasOwnProperty(b)&&(p!=null||g!=null))switch(b){case"value":tt=p;break;case"defaultValue":it=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&Se(e,i,b,p,c,g)}Xi(e,tt,it);return;case"option":for(var Ct in o)tt=o[Ct],o.hasOwnProperty(Ct)&&tt!=null&&!c.hasOwnProperty(Ct)&&(Ct==="selected"?e.selected=!1:Se(e,i,Ct,null,c,tt));for(U in c)tt=c[U],it=o[U],c.hasOwnProperty(U)&&tt!==it&&(tt!=null||it!=null)&&(U==="selected"?e.selected=tt&&typeof tt!="function"&&typeof tt!="symbol":Se(e,i,U,tt,c,it));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in o)tt=o[Vt],o.hasOwnProperty(Vt)&&tt!=null&&!c.hasOwnProperty(Vt)&&Se(e,i,Vt,null,c,tt);for(J in c)if(tt=c[J],it=o[J],c.hasOwnProperty(J)&&tt!==it&&(tt!=null||it!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,i));break;default:Se(e,i,J,tt,c,it)}return;default:if(zr(i)){for(var Ae in o)tt=o[Ae],o.hasOwnProperty(Ae)&&tt!==void 0&&!c.hasOwnProperty(Ae)&&zm(e,i,Ae,void 0,c,tt);for(lt in c)tt=c[lt],it=o[lt],!c.hasOwnProperty(lt)||tt===it||tt===void 0&&it===void 0||zm(e,i,lt,tt,c,it);return}}for(var K in o)tt=o[K],o.hasOwnProperty(K)&&tt!=null&&!c.hasOwnProperty(K)&&Se(e,i,K,null,c,tt);for(dt in c)tt=c[dt],it=o[dt],!c.hasOwnProperty(dt)||tt===it||tt==null&&it==null||Se(e,i,dt,tt,c,it)}function xv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,b=p.initiatorType,C=p.duration;if(g&&C&&xv(b)){for(b=0,C=p.responseEnd,c+=1;c<o.length;c++){var U=o[c],J=U.startTime;if(J>C)break;var lt=U.transferSize,dt=U.initiatorType;lt&&xv(dt)&&(U=U.responseEnd,b+=lt*(U<C?1:(C-J)/(U-J)))}if(--c,i+=8*(g+b)/(p.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bm=null,jm=null;function Gh(e){return e.nodeType===9?e:e.ownerDocument}function Cv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Hm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qm=null;function lA(){var e=window.event;return e&&e.type==="popstate"?e===qm?!1:(qm=e,!0):(qm=null,!1)}var Nv=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(e){return Ov.resolve(null).then(e).catch(hA)}:Nv;function hA(e){setTimeout(function(){throw e})}function Oa(e){return e==="head"}function Pv(e,i){var o=i,c=0;do{var p=o.nextSibling;if(e.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(p),Wl(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")$u(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,$u(o);for(var g=o.firstChild;g;){var b=g.nextSibling,C=g.nodeName;g[Zi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&$u(e.ownerDocument.body);o=p}while(o);Wl(i)}function Lv(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function Fm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Fm(o),ta(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function fA(e,i,o,c){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Zi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=ar(e.nextSibling),e===null)break}return null}function dA(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=ar(e.nextSibling),e===null))return null;return e}function Dv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ar(e.nextSibling),e===null))return null;return e}function Gm(e){return e.data==="$?"||e.data==="$~"}function Zm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mA(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function ar(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Km=null;function Mv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return ar(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function kv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function Vv(e,i,o){switch(i=Gh(o),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function $u(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ta(e)}var or=new Map,Uv=new Set;function Zh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zs=vt.d;vt.d={f:pA,r:gA,D:_A,C:yA,L:vA,m:EA,X:wA,S:TA,M:bA};function pA(){var e=zs.f(),i=Vh();return e||i}function gA(e){var i=ei(e);i!==null&&i.tag===5&&i.type==="form"?ey(i):zs.r(e)}var Yl=typeof document>"u"?null:document;function zv(e,i,o){var c=Yl;if(c&&typeof i=="string"&&i){var p=xe(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Uv.has(p)||(Uv.add(p),e={rel:e,crossOrigin:o,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),Nn(i,"link",e),Ge(i),c.head.appendChild(i)))}}function _A(e){zs.D(e),zv("dns-prefetch",e,null)}function yA(e,i){zs.C(e,i),zv("preconnect",e,i)}function vA(e,i,o){zs.L(e,i,o);var c=Yl;if(c&&e&&i){var p='link[rel="preload"][as="'+xe(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+xe(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+xe(o.imageSizes)+'"]')):p+='[href="'+xe(e)+'"]';var g=p;switch(i){case"style":g=Ql(e);break;case"script":g=Xl(e)}or.has(g)||(e=R({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),or.set(g,e),c.querySelector(p)!==null||i==="style"&&c.querySelector(tc(g))||i==="script"&&c.querySelector(ec(g))||(i=c.createElement("link"),Nn(i,"link",e),Ge(i),c.head.appendChild(i)))}}function EA(e,i){zs.m(e,i);var o=Yl;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+xe(c)+'"][href="'+xe(e)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Xl(e)}if(!or.has(g)&&(e=R({rel:"modulepreload",href:e},i),or.set(g,e),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ec(g)))return}c=o.createElement("link"),Nn(c,"link",e),Ge(c),o.head.appendChild(c)}}}function TA(e,i,o){zs.S(e,i,o);var c=Yl;if(c&&e){var p=Ki(c).hoistableStyles,g=Ql(e);i=i||"default";var b=p.get(g);if(!b){var C={loading:0,preload:null};if(b=c.querySelector(tc(g)))C.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":i},o),(o=or.get(g))&&Ym(e,o);var U=b=c.createElement("link");Ge(U),Nn(U,"link",e),U._p=new Promise(function(J,lt){U.onload=J,U.onerror=lt}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Kh(b,i,c)}b={type:"stylesheet",instance:b,count:1,state:C},p.set(g,b)}}}function wA(e,i){zs.X(e,i);var o=Yl;if(o&&e){var c=Ki(o).hoistableScripts,p=Xl(e),g=c.get(p);g||(g=o.querySelector(ec(p)),g||(e=R({src:e,async:!0},i),(i=or.get(p))&&Qm(e,i),g=o.createElement("script"),Ge(g),Nn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function bA(e,i){zs.M(e,i);var o=Yl;if(o&&e){var c=Ki(o).hoistableScripts,p=Xl(e),g=c.get(p);g||(g=o.querySelector(ec(p)),g||(e=R({src:e,async:!0,type:"module"},i),(i=or.get(p))&&Qm(e,i),g=o.createElement("script"),Ge(g),Nn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Bv(e,i,o,c){var p=(p=Tt.current)?Zh(p):null;if(!p)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Ql(o.href),o=Ki(p).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Ql(o.href);var g=Ki(p).hoistableStyles,b=g.get(e);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,b),(g=p.querySelector(tc(e)))&&!g._p&&(b.instance=g,b.state.loading=5),or.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},or.set(e,o),g||SA(p,e,o,b.state))),i&&c===null)throw Error(s(528,""));return b}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xl(o),o=Ki(p).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ql(e){return'href="'+xe(e)+'"'}function tc(e){return'link[rel="stylesheet"]['+e+"]"}function jv(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function SA(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Nn(i,"link",o),Ge(i),e.head.appendChild(i))}function Xl(e){return'[src="'+xe(e)+'"]'}function ec(e){return"script[async]"+e}function Hv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+xe(o.href)+'"]');if(c)return i.instance=c,Ge(c),c;var p=R({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ge(c),Nn(c,"style",p),Kh(c,o.precedence,e),i.instance=c;case"stylesheet":p=Ql(o.href);var g=e.querySelector(tc(p));if(g)return i.state.loading|=4,i.instance=g,Ge(g),g;c=jv(o),(p=or.get(p))&&Ym(c,p),g=(e.ownerDocument||e).createElement("link"),Ge(g);var b=g;return b._p=new Promise(function(C,U){b.onload=C,b.onerror=U}),Nn(g,"link",c),i.state.loading|=4,Kh(g,o.precedence,e),i.instance=g;case"script":return g=Xl(o.src),(p=e.querySelector(ec(g)))?(i.instance=p,Ge(p),p):(c=o,(p=or.get(g))&&(c=R({},o),Qm(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),Ge(p),Nn(p,"link",c),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Kh(c,o.precedence,e));return i.instance}function Kh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,b=0;b<c.length;b++){var C=c[b];if(C.dataset.precedence===i)g=C;else if(g!==p)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Ym(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Qm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Yh=null;function qv(e,i,o){if(Yh===null){var c=new Map,p=Yh=new Map;p.set(o,c)}else p=Yh,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var g=o[p];if(!(g[Zi]||g[ze]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(i)||"";b=e+b;var C=c.get(b);C?C.push(g):c.set(b,[g])}}return c}function Fv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function AA(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Gv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function RA(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Ql(c.href),g=i.querySelector(tc(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Qh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=g,Ge(g);return}g=i.ownerDocument||i,c=jv(c),(p=or.get(p))&&Ym(c,p),g=g.createElement("link"),Ge(g);var b=g;b._p=new Promise(function(C,U){b.onload=C,b.onerror=U}),Nn(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Qh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Xm=0;function xA(e,i){return e.stylesheets&&e.count===0&&Wh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&Wh(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Xm===0&&(Xm=62500*oA());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wh(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Xm?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Qh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xh=null;function Wh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xh=new Map,i.forEach(CA,e),Xh=null,Qh.call(e))}function CA(e,i){if(!(i.state.loading&4)){var o=Xh.get(e);if(o)var c=o.get(null);else{o=new Map,Xh.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var b=p[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}p=i.instance,b=p.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,p),o.set(b,p),this.count++,c=Qh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var nc={$$typeof:ct,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function IA(e,i,o,c,p,g,b,C,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Zv(e,i,o,c,p,g,b,C,U,J,lt,dt){return e=new IA(e,i,o,b,U,J,lt,dt,C),i=1,g===!0&&(i|=24),g=zn(3,null,null,i),e.current=g,g.stateNode=e,i=Id(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},Ld(g),e}function Kv(e){return e?(e=As,e):As}function Yv(e,i,o,c,p,g){p=Kv(p),c.context===null?c.context=p:c.pendingContext=p,c=Ea(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ta(e,c,i),o!==null&&(pi(o,e,i),Du(o,e,i))}function Qv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Wm(e,i){Qv(e,i),(e=e.alternate)&&Qv(e,i)}function Xv(e){if(e.tag===13||e.tag===31){var i=ir(e,67108864);i!==null&&pi(i,e,67108864),Wm(e,67108864)}}function Wv(e){if(e.tag===13||e.tag===31){var i=ki();i=yn(i);var o=ir(e,i);o!==null&&pi(o,e,i),Wm(e,i)}}var Jh=!0;function NA(e,i,o,c){var p=rt.T;rt.T=null;var g=vt.p;try{vt.p=2,Jm(e,i,o,c)}finally{vt.p=g,rt.T=p}}function OA(e,i,o,c){var p=rt.T;rt.T=null;var g=vt.p;try{vt.p=8,Jm(e,i,o,c)}finally{vt.p=g,rt.T=p}}function Jm(e,i,o,c){if(Jh){var p=$m(c);if(p===null)Um(e,i,c,$h,o),$v(e,c);else if(LA(p,e,i,o,c))c.stopPropagation();else if($v(e,c),i&4&&-1<PA.indexOf(e)){for(;p!==null;){var g=ei(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=qi(g.pendingLanes);if(b!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var U=1<<31-Ve(b);C.entanglements[1]|=U,b&=~U}ts(g),(ge&6)===0&&(Mh=xn()+500,Xu(0))}}break;case 31:case 13:C=ir(g,2),C!==null&&pi(C,g,2),Vh(),Wm(g,2)}if(g=$m(c),g===null&&Um(e,i,c,$h,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else Um(e,i,c,null,o)}}function $m(e){return e=Mn(e),tp(e)}var $h=null;function tp(e){if($h=null,e=bi(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=d(i),e!==null)return e;e=null}else if(o===31){if(e=y(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return $h=e,null}function Jv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ms()){case ps:return 2;case Js:return 8;case fr:case Tu:return 32;case lo:return 268435456;default:return 32}default:return 32}}var ep=!1,Pa=null,La=null,Da=null,ic=new Map,rc=new Map,Ma=[],PA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $v(e,i){switch(e){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":ic.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(i.pointerId)}}function sc(e,i,o,c,p,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},i!==null&&(i=ei(i),i!==null&&Xv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function LA(e,i,o,c,p){switch(i){case"focusin":return Pa=sc(Pa,e,i,o,c,p),!0;case"dragenter":return La=sc(La,e,i,o,c,p),!0;case"mouseover":return Da=sc(Da,e,i,o,c,p),!0;case"pointerover":var g=p.pointerId;return ic.set(g,sc(ic.get(g)||null,e,i,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,rc.set(g,sc(rc.get(g)||null,e,i,o,c,p)),!0}return!1}function t0(e){var i=bi(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){e.blockedOn=i,$n(e.priority,function(){Wv(o)});return}}else if(i===31){if(i=y(o),i!==null){e.blockedOn=i,$n(e.priority,function(){Wv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tf(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=$m(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);sa=c,o.target.dispatchEvent(c),sa=null}else return i=ei(o),i!==null&&Xv(i),e.blockedOn=o,!1;i.shift()}return!0}function e0(e,i,o){tf(e)&&o.delete(i)}function DA(){ep=!1,Pa!==null&&tf(Pa)&&(Pa=null),La!==null&&tf(La)&&(La=null),Da!==null&&tf(Da)&&(Da=null),ic.forEach(e0),rc.forEach(e0)}function ef(e,i){e.blockedOn===i&&(e.blockedOn=null,ep||(ep=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,DA)))}var nf=null;function n0(e){nf!==e&&(nf=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nf===e&&(nf=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],p=e[i+2];if(typeof c!="function"){if(tp(c||o)===null)continue;break}var g=ei(o);g!==null&&(e.splice(i,3),i-=3,$d(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Wl(e){function i(U){return ef(U,e)}Pa!==null&&ef(Pa,e),La!==null&&ef(La,e),Da!==null&&ef(Da,e),ic.forEach(i),rc.forEach(i);for(var o=0;o<Ma.length;o++){var c=Ma[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ma.length&&(o=Ma[0],o.blockedOn===null);)t0(o),o.blockedOn===null&&Ma.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],b=p[Fe]||null;if(typeof g=="function")b||n0(o);else if(b){var C=null;if(g&&g.hasAttribute("formAction")){if(p=g,b=g[Fe]||null)C=b.formAction;else if(tp(p)!==null)continue}else C=b.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),n0(o)}}}function i0(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return p=b})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function np(e){this._internalRoot=e}rf.prototype.render=np.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,c=ki();Yv(o,c,e,i,null,null)},rf.prototype.unmount=np.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Yv(e.current,2,null,e,null,null),Vh(),i[Ti]=null}};function rf(e){this._internalRoot=e}rf.prototype.unstable_scheduleHydration=function(e){if(e){var i=fo();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Ma.length&&i!==0&&i<Ma[o].priority;o++);Ma.splice(o,0,e),o===0&&t0(e)}};var r0=t.version;if(r0!=="19.2.3")throw Error(s(527,r0,"19.2.3"));vt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=E(i),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var MA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{Jn=sf.inject(MA),$e=sf}catch{}}return oc.createRoot=function(e,i){if(!l(e))throw Error(s(299));var o=!1,c="",p=hy,g=fy,b=dy;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=Zv(e,1,!1,null,null,o,c,null,p,g,b,i0),e[Ti]=i.current,Vm(e),new np(i)},oc.hydrateRoot=function(e,i,o){if(!l(e))throw Error(s(299));var c=!1,p="",g=hy,b=fy,C=dy,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),i=Zv(e,1,!0,i,o??null,c,p,U,g,b,C,i0),i.context=Kv(null),o=i.current,c=ki(),c=yn(c),p=Ea(c),p.callback=null,Ta(o,p,c),o=c,i.current.lanes=o,dr(i,o),ts(i),e[Ti]=i.current,Vm(e),new rf(i)},oc.version="19.2.3",oc}var m0;function FA(){if(m0)return sp.exports;m0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sp.exports=qA(),sp.exports}var GA=FA();const ZA=ig(GA);var p0="popstate";function KA(r={}){function t(s,l){let{pathname:h,search:d,hash:y}=s.location;return Rp("",{pathname:h,search:d,hash:y},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:Sc(l)}return QA(t,n,null,r)}function gn(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Ir(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YA(){return Math.random().toString(36).substring(2,10)}function g0(r,t){return{usr:r.state,key:r.key,idx:t}}function Rp(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Uc(t):t,state:n,key:t&&t.key||s||YA()}}function Sc({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Uc(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function QA(r,t,n,s={}){let{window:l=document.defaultView,v5Compat:h=!1}=s,d=l.history,y="POP",v=null,E=A();E==null&&(E=0,d.replaceState({...d.state,idx:E},""));function A(){return(d.state||{idx:null}).idx}function R(){y="POP";let B=A(),ot=B==null?null:B-E;E=B,v&&v({action:y,location:Z.location,delta:ot})}function N(B,ot){y="PUSH";let st=Rp(Z.location,B,ot);E=A()+1;let ct=g0(st,E),It=Z.createHref(st);try{d.pushState(ct,"",It)}catch(Pt){if(Pt instanceof DOMException&&Pt.name==="DataCloneError")throw Pt;l.location.assign(It)}h&&v&&v({action:y,location:Z.location,delta:1})}function F(B,ot){y="REPLACE";let st=Rp(Z.location,B,ot);E=A();let ct=g0(st,E),It=Z.createHref(st);d.replaceState(ct,"",It),h&&v&&v({action:y,location:Z.location,delta:0})}function nt(B){return XA(B)}let Z={get action(){return y},get location(){return r(l,d)},listen(B){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(p0,R),v=B,()=>{l.removeEventListener(p0,R),v=null}},createHref(B){return t(l,B)},createURL:nt,encodeLocation(B){let ot=nt(B);return{pathname:ot.pathname,search:ot.search,hash:ot.hash}},push:N,replace:F,go(B){return d.go(B)}};return Z}function XA(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gn(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Sc(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function uT(r,t,n="/"){return WA(r,t,n,!1)}function WA(r,t,n,s){let l=typeof t=="string"?Uc(t):t,h=Gs(l.pathname||"/",n);if(h==null)return null;let d=cT(r);JA(d);let y=null;for(let v=0;y==null&&v<d.length;++v){let E=u1(h);y=o1(d[v],E,s)}return y}function cT(r,t=[],n=[],s="",l=!1){let h=(d,y,v=l,E)=>{let A={relativePath:E===void 0?d.path||"":E,caseSensitive:d.caseSensitive===!0,childrenIndex:y,route:d};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(s)&&v)return;gn(A.relativePath.startsWith(s),`Absolute route path "${A.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(s.length)}let R=Hs([s,A.relativePath]),N=n.concat(A);d.children&&d.children.length>0&&(gn(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${R}".`),cT(d.children,t,N,R,v)),!(d.path==null&&!d.index)&&t.push({path:R,score:s1(R,d.index),routesMeta:N})};return r.forEach((d,y)=>{if(d.path===""||!d.path?.includes("?"))h(d,y);else for(let v of hT(d.path))h(d,y,!0,v)}),t}function hT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(s.length===0)return l?[h,""]:[h];let d=hT(s.join("/")),y=[];return y.push(...d.map(v=>v===""?h:[h,v].join("/"))),l&&y.push(...d),y.map(v=>r.startsWith("/")&&v===""?"/":v)}function JA(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:a1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var $A=/^:[\w-]+$/,t1=3,e1=2,n1=1,i1=10,r1=-2,_0=r=>r==="*";function s1(r,t){let n=r.split("/"),s=n.length;return n.some(_0)&&(s+=r1),t&&(s+=e1),n.filter(l=>!_0(l)).reduce((l,h)=>l+($A.test(h)?t1:h===""?n1:i1),s)}function a1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,l)=>s===t[l])?r[r.length-1]-t[t.length-1]:0}function o1(r,t,n=!1){let{routesMeta:s}=r,l={},h="/",d=[];for(let y=0;y<s.length;++y){let v=s[y],E=y===s.length-1,A=h==="/"?t:t.slice(h.length)||"/",R=If({path:v.relativePath,caseSensitive:v.caseSensitive,end:E},A),N=v.route;if(!R&&E&&n&&!s[s.length-1].route.index&&(R=If({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},A)),!R)return null;Object.assign(l,R.params),d.push({params:l,pathname:Hs([h,R.pathname]),pathnameBase:d1(Hs([h,R.pathnameBase])),route:N}),R.pathnameBase!=="/"&&(h=Hs([h,R.pathnameBase]))}return d}function If(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=l1(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let h=l[0],d=h.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:s.reduce((E,{paramName:A,isOptional:R},N)=>{if(A==="*"){let nt=y[N]||"";d=h.slice(0,h.length-nt.length).replace(/(.)\/+$/,"$1")}const F=y[N];return R&&!F?E[A]=void 0:E[A]=(F||"").replace(/%2F/g,"/"),E},{}),pathname:h,pathnameBase:d,pattern:r}}function l1(r,t=!1,n=!0){Ir(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,y,v)=>(s.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function u1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ir(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Gs(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c1=r=>fT.test(r);function h1(r,t="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?Uc(r):r,h;if(n)if(c1(n))h=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Ir(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?h=y0(n.substring(1),"/"):h=y0(n,t)}else h=t;return{pathname:h,search:m1(s),hash:p1(l)}}function y0(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function up(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dT(r){let t=f1(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function mT(r,t,n,s=!1){let l;typeof r=="string"?l=Uc(r):(l={...r},gn(!l.pathname||!l.pathname.includes("?"),up("?","pathname","search",l)),gn(!l.pathname||!l.pathname.includes("#"),up("#","pathname","hash",l)),gn(!l.search||!l.search.includes("#"),up("#","search","hash",l)));let h=r===""||l.pathname==="",d=h?"/":l.pathname,y;if(d==null)y=n;else{let R=t.length-1;if(!s&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),R-=1;l.pathname=N.join("/")}y=R>=0?t[R]:"/"}let v=h1(l,y),E=d&&d!=="/"&&d.endsWith("/"),A=(h||d===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(E||A)&&(v.pathname+="/"),v}var Hs=r=>r.join("/").replace(/\/\/+/g,"/"),d1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),m1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,p1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,g1=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function y1(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gT(r,t){let n=r;if(typeof n!="string"||!fT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,l=!1;if(pT)try{let h=new URL(window.location.href),d=n.startsWith("//")?new URL(h.protocol+n):new URL(n),y=Gs(d.pathname,t);d.origin===h.origin&&y!=null?n=y+d.search+d.hash:l=!0}catch{Ir(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _T=["POST","PUT","PATCH","DELETE"];new Set(_T);var v1=["GET",..._T];new Set(v1);var du=Q.createContext(null);du.displayName="DataRouter";var Yf=Q.createContext(null);Yf.displayName="DataRouterState";var E1=Q.createContext(!1),yT=Q.createContext({isTransitioning:!1});yT.displayName="ViewTransition";var T1=Q.createContext(new Map);T1.displayName="Fetchers";var w1=Q.createContext(null);w1.displayName="Await";var cr=Q.createContext(null);cr.displayName="Navigation";var Qf=Q.createContext(null);Qf.displayName="Location";var Xs=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Xs.displayName="Route";var sg=Q.createContext(null);sg.displayName="RouteError";var vT="REACT_ROUTER_ERROR",b1="REDIRECT",S1="ROUTE_ERROR_RESPONSE";function A1(r){if(r.startsWith(`${vT}:${b1}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function R1(r){if(r.startsWith(`${vT}:${S1}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new g1(t.status,t.statusText,t.data)}catch{}}function x1(r,{relative:t}={}){gn(zc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Q.useContext(cr),{hash:l,pathname:h,search:d}=Bc(r,{relative:t}),y=h;return n!=="/"&&(y=h==="/"?n:Hs([n,h])),s.createHref({pathname:y,search:d,hash:l})}function zc(){return Q.useContext(Qf)!=null}function sl(){return gn(zc(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Qf).location}var ET="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TT(r){Q.useContext(cr).static||Q.useLayoutEffect(r)}function C1(){let{isDataRoute:r}=Q.useContext(Xs);return r?j1():I1()}function I1(){gn(zc(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(du),{basename:t,navigator:n}=Q.useContext(cr),{matches:s}=Q.useContext(Xs),{pathname:l}=sl(),h=JSON.stringify(dT(s)),d=Q.useRef(!1);return TT(()=>{d.current=!0}),Q.useCallback((v,E={})=>{if(Ir(d.current,ET),!d.current)return;if(typeof v=="number"){n.go(v);return}let A=mT(v,JSON.parse(h),l,E.relative==="path");r==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:Hs([t,A.pathname])),(E.replace?n.replace:n.push)(A,E.state,E)},[t,n,h,l,r])}Q.createContext(null);function Bc(r,{relative:t}={}){let{matches:n}=Q.useContext(Xs),{pathname:s}=sl(),l=JSON.stringify(dT(n));return Q.useMemo(()=>mT(r,JSON.parse(l),s,t==="path"),[r,l,s,t])}function N1(r,t,n,s,l){gn(zc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=Q.useContext(cr),{matches:d}=Q.useContext(Xs),y=d[d.length-1],v=y?y.params:{},E=y?y.pathname:"/",A=y?y.pathnameBase:"/",R=y&&y.route;{let st=R&&R.path||"";bT(E,!R||st.endsWith("*")||st.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${E}" (under <Route path="${st}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${st}"> to <Route path="${st==="/"?"*":`${st}/*`}">.`)}let N=sl(),F;F=N;let nt=F.pathname||"/",Z=nt;if(A!=="/"){let st=A.replace(/^\//,"").split("/");Z="/"+nt.replace(/^\//,"").split("/").slice(st.length).join("/")}let B=uT(r,{pathname:Z});return Ir(R||B!=null,`No routes matched location "${F.pathname}${F.search}${F.hash}" `),Ir(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${F.pathname}${F.search}${F.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),M1(B&&B.map(st=>Object.assign({},st,{params:Object.assign({},v,st.params),pathname:Hs([A,h.encodeLocation?h.encodeLocation(st.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:st.pathname]),pathnameBase:st.pathnameBase==="/"?A:Hs([A,h.encodeLocation?h.encodeLocation(st.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:st.pathnameBase])})),d,n,s,l)}function O1(){let r=B1(),t=_1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:h},"ErrorBoundary")," or"," ",Q.createElement("code",{style:h},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),n?Q.createElement("pre",{style:l},n):null,d)}var P1=Q.createElement(O1,null),wT=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=R1(r.digest);n&&(r=n)}let t=r!==void 0?Q.createElement(Xs.Provider,{value:this.props.routeContext},Q.createElement(sg.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?Q.createElement(L1,{error:r},t):t}};wT.contextType=E1;var cp=new WeakMap;function L1({children:r,error:t}){let{basename:n}=Q.useContext(cr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=A1(t.digest);if(s){let l=cp.get(t);if(l)throw l;let h=gT(s.location,n);if(pT&&!cp.get(t))if(h.isExternal||s.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:s.replace}));throw cp.set(t,d),d}return Q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return r}function D1({routeContext:r,match:t,children:n}){let s=Q.useContext(du);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(Xs.Provider,{value:r},n)}function M1(r,t=[],n=null,s=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let h=r,d=n?.errors;if(d!=null){let A=h.findIndex(R=>R.route.id&&d?.[R.route.id]!==void 0);gn(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),h=h.slice(0,Math.min(h.length,A+1))}let y=!1,v=-1;if(n)for(let A=0;A<h.length;A++){let R=h[A];if((R.route.HydrateFallback||R.route.hydrateFallbackElement)&&(v=A),R.route.id){let{loaderData:N,errors:F}=n,nt=R.route.loader&&!N.hasOwnProperty(R.route.id)&&(!F||F[R.route.id]===void 0);if(R.route.lazy||nt){y=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}let E=n&&s?(A,R)=>{s(A,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:y1(n.matches),errorInfo:R})}:void 0;return h.reduceRight((A,R,N)=>{let F,nt=!1,Z=null,B=null;n&&(F=d&&R.route.id?d[R.route.id]:void 0,Z=R.route.errorElement||P1,y&&(v<0&&N===0?(bT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),nt=!0,B=null):v===N&&(nt=!0,B=R.route.hydrateFallbackElement||null)));let ot=t.concat(h.slice(0,N+1)),st=()=>{let ct;return F?ct=Z:nt?ct=B:R.route.Component?ct=Q.createElement(R.route.Component,null):R.route.element?ct=R.route.element:ct=A,Q.createElement(D1,{match:R,routeContext:{outlet:A,matches:ot,isDataRoute:n!=null},children:ct})};return n&&(R.route.ErrorBoundary||R.route.errorElement||N===0)?Q.createElement(wT,{location:n.location,revalidation:n.revalidation,component:Z,error:F,children:st(),routeContext:{outlet:null,matches:ot,isDataRoute:!0},onError:E}):st()},null)}function ag(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k1(r){let t=Q.useContext(du);return gn(t,ag(r)),t}function V1(r){let t=Q.useContext(Yf);return gn(t,ag(r)),t}function U1(r){let t=Q.useContext(Xs);return gn(t,ag(r)),t}function og(r){let t=U1(r),n=t.matches[t.matches.length-1];return gn(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function z1(){return og("useRouteId")}function B1(){let r=Q.useContext(sg),t=V1("useRouteError"),n=og("useRouteError");return r!==void 0?r:t.errors?.[n]}function j1(){let{router:r}=k1("useNavigate"),t=og("useNavigate"),n=Q.useRef(!1);return TT(()=>{n.current=!0}),Q.useCallback(async(l,h={})=>{Ir(n.current,ET),n.current&&(typeof l=="number"?await r.navigate(l):await r.navigate(l,{fromRouteId:t,...h}))},[r,t])}var v0={};function bT(r,t,n){!t&&!v0[r]&&(v0[r]=!0,Ir(!1,n))}Q.memo(H1);function H1({routes:r,future:t,state:n,onError:s}){return N1(r,void 0,n,s,t)}function q1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:l,static:h=!1,unstable_useTransitions:d}){gn(!zc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=r.replace(/^\/*/,"/"),v=Q.useMemo(()=>({basename:y,navigator:l,static:h,unstable_useTransitions:d,future:{}}),[y,l,h,d]);typeof n=="string"&&(n=Uc(n));let{pathname:E="/",search:A="",hash:R="",state:N=null,key:F="default"}=n,nt=Q.useMemo(()=>{let Z=Gs(E,y);return Z==null?null:{location:{pathname:Z,search:A,hash:R,state:N,key:F},navigationType:s}},[y,E,A,R,N,F,s]);return Ir(nt!=null,`<Router basename="${y}"> is not able to match the URL "${E}${A}${R}" because it does not start with the basename, so the <Router> won't render anything.`),nt==null?null:Q.createElement(cr.Provider,{value:v},Q.createElement(Qf.Provider,{children:t,value:nt}))}var pf="get",gf="application/x-www-form-urlencoded";function Xf(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function F1(r){return Xf(r)&&r.tagName.toLowerCase()==="button"}function G1(r){return Xf(r)&&r.tagName.toLowerCase()==="form"}function Z1(r){return Xf(r)&&r.tagName.toLowerCase()==="input"}function K1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Y1(r,t){return r.button===0&&(!t||t==="_self")&&!K1(r)}var af=null;function Q1(){if(af===null)try{new FormData(document.createElement("form"),0),af=!1}catch{af=!0}return af}var X1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hp(r){return r!=null&&!X1.has(r)?(Ir(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gf}"`),null):r}function W1(r,t){let n,s,l,h,d;if(G1(r)){let y=r.getAttribute("action");s=y?Gs(y,t):null,n=r.getAttribute("method")||pf,l=hp(r.getAttribute("enctype"))||gf,h=new FormData(r)}else if(F1(r)||Z1(r)&&(r.type==="submit"||r.type==="image")){let y=r.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||y.getAttribute("action");if(s=v?Gs(v,t):null,n=r.getAttribute("formmethod")||y.getAttribute("method")||pf,l=hp(r.getAttribute("formenctype"))||hp(y.getAttribute("enctype"))||gf,h=new FormData(y,r),!Q1()){let{name:E,type:A,value:R}=r;if(A==="image"){let N=E?`${E}.`:"";h.append(`${N}x`,"0"),h.append(`${N}y`,"0")}else E&&h.append(E,R)}}else{if(Xf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pf,s=null,l=gf,d=r}return h&&l==="text/plain"&&(d=h,h=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lg(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function J1(r,t,n,s){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${s}`:l.pathname=`${l.pathname}.${s}`:l.pathname==="/"?l.pathname=`_root.${s}`:t&&Gs(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function $1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function eR(r,t,n){let s=await Promise.all(r.map(async l=>{let h=t.routes[l.route.id];if(h){let d=await $1(h,n);return d.links?d.links():[]}return[]}));return sR(s.flat(1).filter(tR).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function E0(r,t,n,s,l,h){let d=(v,E)=>n[E]?v.route.id!==n[E].route.id:!0,y=(v,E)=>n[E].pathname!==v.pathname||n[E].route.path?.endsWith("*")&&n[E].params["*"]!==v.params["*"];return h==="assets"?t.filter((v,E)=>d(v,E)||y(v,E)):h==="data"?t.filter((v,E)=>{let A=s.routes[v.route.id];if(!A||!A.hasLoader)return!1;if(d(v,E)||y(v,E))return!0;if(v.route.shouldRevalidate){let R=v.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function nR(r,t,{includeHydrateFallback:n}={}){return iR(r.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function iR(r){return[...new Set(r)]}function rR(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function sR(r,t){let n=new Set;return new Set(t),r.reduce((s,l)=>{let h=JSON.stringify(rR(l));return n.has(h)||(n.add(h),s.push({key:h,link:l})),s},[])}function ST(){let r=Q.useContext(du);return lg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function aR(){let r=Q.useContext(Yf);return lg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ug=Q.createContext(void 0);ug.displayName="FrameworkContext";function AT(){let r=Q.useContext(ug);return lg(r,"You must render this element inside a <HydratedRouter> element"),r}function oR(r,t){let n=Q.useContext(ug),[s,l]=Q.useState(!1),[h,d]=Q.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:E,onMouseLeave:A,onTouchStart:R}=t,N=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let Z=ot=>{ot.forEach(st=>{d(st.isIntersecting)})},B=new IntersectionObserver(Z,{threshold:.5});return N.current&&B.observe(N.current),()=>{B.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let Z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let F=()=>{l(!0)},nt=()=>{l(!1),d(!1)};return n?r!=="intent"?[h,N,{}]:[h,N,{onFocus:lc(y,F),onBlur:lc(v,nt),onMouseEnter:lc(E,F),onMouseLeave:lc(A,nt),onTouchStart:lc(R,F)}]:[!1,N,{}]}function lc(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function lR({page:r,...t}){let{router:n}=ST(),s=Q.useMemo(()=>uT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Q.createElement(cR,{page:r,matches:s,...t}):null}function uR(r){let{manifest:t,routeModules:n}=AT(),[s,l]=Q.useState([]);return Q.useEffect(()=>{let h=!1;return eR(r,t,n).then(d=>{h||l(d)}),()=>{h=!0}},[r,t,n]),s}function cR({page:r,matches:t,...n}){let s=sl(),{future:l,manifest:h,routeModules:d}=AT(),{basename:y}=ST(),{loaderData:v,matches:E}=aR(),A=Q.useMemo(()=>E0(r,t,E,h,s,"data"),[r,t,E,h,s]),R=Q.useMemo(()=>E0(r,t,E,h,s,"assets"),[r,t,E,h,s]),N=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Z=new Set,B=!1;if(t.forEach(st=>{let ct=h.routes[st.route.id];!ct||!ct.hasLoader||(!A.some(It=>It.route.id===st.route.id)&&st.route.id in v&&d[st.route.id]?.shouldRevalidate||ct.hasClientLoader?B=!0:Z.add(st.route.id))}),Z.size===0)return[];let ot=J1(r,y,l.unstable_trailingSlashAwareDataRequests,"data");return B&&Z.size>0&&ot.searchParams.set("_routes",t.filter(st=>Z.has(st.route.id)).map(st=>st.route.id).join(",")),[ot.pathname+ot.search]},[y,l.unstable_trailingSlashAwareDataRequests,v,s,h,A,t,r,d]),F=Q.useMemo(()=>nR(R,h),[R,h]),nt=uR(R);return Q.createElement(Q.Fragment,null,N.map(Z=>Q.createElement("link",{key:Z,rel:"prefetch",as:"fetch",href:Z,...n})),F.map(Z=>Q.createElement("link",{key:Z,rel:"modulepreload",href:Z,...n})),nt.map(({key:Z,link:B})=>Q.createElement("link",{key:Z,nonce:n.nonce,...B})))}function hR(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fR&&(window.__reactRouterVersion="7.12.0")}catch{}function dR({basename:r,children:t,unstable_useTransitions:n,window:s}){let l=Q.useRef();l.current==null&&(l.current=KA({window:s,v5Compat:!0}));let h=l.current,[d,y]=Q.useState({action:h.action,location:h.location}),v=Q.useCallback(E=>{n===!1?y(E):Q.startTransition(()=>y(E))},[n]);return Q.useLayoutEffect(()=>h.listen(v),[h,v]),Q.createElement(q1,{basename:r,children:t,location:d.location,navigationType:d.action,navigator:h,unstable_useTransitions:n})}var RT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xT=Q.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:l,reloadDocument:h,replace:d,state:y,target:v,to:E,preventScrollReset:A,viewTransition:R,unstable_defaultShouldRevalidate:N,...F},nt){let{basename:Z,unstable_useTransitions:B}=Q.useContext(cr),ot=typeof E=="string"&&RT.test(E),st=gT(E,Z);E=st.to;let ct=x1(E,{relative:l}),[It,Pt,kt]=oR(s,F),k=_R(E,{replace:d,state:y,target:v,preventScrollReset:A,relative:l,viewTransition:R,unstable_defaultShouldRevalidate:N,unstable_useTransitions:B});function O(q){t&&t(q),q.defaultPrevented||k(q)}let M=Q.createElement("a",{...F,...kt,href:st.absoluteURL||ct,onClick:st.isExternal||h?t:O,ref:hR(nt,Pt),target:v,"data-discover":!ot&&n==="render"?"true":void 0});return It&&!ot?Q.createElement(Q.Fragment,null,M,Q.createElement(lR,{page:ct})):M});xT.displayName="Link";var mR=Q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:l=!1,style:h,to:d,viewTransition:y,children:v,...E},A){let R=Bc(d,{relative:E.relative}),N=sl(),F=Q.useContext(Yf),{navigator:nt,basename:Z}=Q.useContext(cr),B=F!=null&&wR(R)&&y===!0,ot=nt.encodeLocation?nt.encodeLocation(R).pathname:R.pathname,st=N.pathname,ct=F&&F.navigation&&F.navigation.location?F.navigation.location.pathname:null;n||(st=st.toLowerCase(),ct=ct?ct.toLowerCase():null,ot=ot.toLowerCase()),ct&&Z&&(ct=Gs(ct,Z)||ct);const It=ot!=="/"&&ot.endsWith("/")?ot.length-1:ot.length;let Pt=st===ot||!l&&st.startsWith(ot)&&st.charAt(It)==="/",kt=ct!=null&&(ct===ot||!l&&ct.startsWith(ot)&&ct.charAt(ot.length)==="/"),k={isActive:Pt,isPending:kt,isTransitioning:B},O=Pt?t:void 0,M;typeof s=="function"?M=s(k):M=[s,Pt?"active":null,kt?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let q=typeof h=="function"?h(k):h;return Q.createElement(xT,{...E,"aria-current":O,className:M,ref:A,style:q,to:d,viewTransition:y},typeof v=="function"?v(k):v)});mR.displayName="NavLink";var pR=Q.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:l,state:h,method:d=pf,action:y,onSubmit:v,relative:E,preventScrollReset:A,viewTransition:R,unstable_defaultShouldRevalidate:N,...F},nt)=>{let{unstable_useTransitions:Z}=Q.useContext(cr),B=ER(),ot=TR(y,{relative:E}),st=d.toLowerCase()==="get"?"get":"post",ct=typeof y=="string"&&RT.test(y),It=Pt=>{if(v&&v(Pt),Pt.defaultPrevented)return;Pt.preventDefault();let kt=Pt.nativeEvent.submitter,k=kt?.getAttribute("formmethod")||d,O=()=>B(kt||Pt.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:l,state:h,relative:E,preventScrollReset:A,viewTransition:R,unstable_defaultShouldRevalidate:N});Z&&n!==!1?Q.startTransition(()=>O()):O()};return Q.createElement("form",{ref:nt,method:st,action:ot,onSubmit:s?v:It,...F,"data-discover":!ct&&r==="render"?"true":void 0})});pR.displayName="Form";function gR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CT(r){let t=Q.useContext(du);return gn(t,gR(r)),t}function _R(r,{target:t,replace:n,state:s,preventScrollReset:l,relative:h,viewTransition:d,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v}={}){let E=C1(),A=sl(),R=Bc(r,{relative:h});return Q.useCallback(N=>{if(Y1(N,t)){N.preventDefault();let F=n!==void 0?n:Sc(A)===Sc(R),nt=()=>E(r,{replace:F,state:s,preventScrollReset:l,relative:h,viewTransition:d,unstable_defaultShouldRevalidate:y});v?Q.startTransition(()=>nt()):nt()}},[A,E,R,n,s,t,r,l,h,d,y,v])}var yR=0,vR=()=>`__${String(++yR)}__`;function ER(){let{router:r}=CT("useSubmit"),{basename:t}=Q.useContext(cr),n=z1(),s=r.fetch,l=r.navigate;return Q.useCallback(async(h,d={})=>{let{action:y,method:v,encType:E,formData:A,body:R}=W1(h,t);if(d.navigate===!1){let N=d.fetcherKey||vR();await s(N,n,d.action||y,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:A,body:R,formMethod:d.method||v,formEncType:d.encType||E,flushSync:d.flushSync})}else await l(d.action||y,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:A,body:R,formMethod:d.method||v,formEncType:d.encType||E,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,l,t,n])}function TR(r,{relative:t}={}){let{basename:n}=Q.useContext(cr),s=Q.useContext(Xs);gn(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),h={...Bc(r||".",{relative:t})},d=sl();if(r==null){h.search=d.search;let y=new URLSearchParams(h.search),v=y.getAll("index");if(v.some(A=>A==="")){y.delete("index"),v.filter(R=>R).forEach(R=>y.append("index",R));let A=y.toString();h.search=A?`?${A}`:""}}return(!r||r===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:Hs([n,h.pathname])),Sc(h)}function wR(r,{relative:t}={}){let n=Q.useContext(yT);gn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=CT("useViewTransitionState"),l=Bc(r,{relative:t});if(!n.isTransitioning)return!1;let h=Gs(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=Gs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return If(l.pathname,d)!=null||If(l.pathname,h)!=null}var bR=lT();const SR=({onEnter:r})=>P.jsxs("div",{className:"relative h-screen w-full overflow-hidden flex items-center justify-center",children:[P.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute top-0 left-0 w-full h-full object-cover z-0 brightness-[0.4]",children:P.jsx("source",{src:"/urbanpulse/assets/hero.mp4",type:"video/mp4"})}),P.jsxs("div",{className:"relative z-10 text-center animate-slide-up px-4",children:[P.jsxs("h1",{className:"text-4xl md:text-8xl font-black italic uppercase text-white tracking-tighter mb-8 drop-shadow-2xl",children:["URBAN",P.jsx("span",{className:"text-indigo-500",children:"PULSE"})]}),P.jsx("button",{onClick:r,className:`bg-indigo-600 text-white px-8 md:px-12 py-4 md:py-5 rounded-[32px] text-lg md:text-xl font-bold uppercase tracking-widest\r
                     hover:bg-indigo-500 hover:scale-105 transition-all shadow-[0_0_40px_rgba(79,70,229,0.3)]`,children:"ENTER PLATFORM"})]})]});const AR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),T0=r=>{const t=RR(r);return t.charAt(0).toUpperCase()+t.slice(1)},IT=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),xR=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var CR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const IR=Q.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:h,iconNode:d,...y},v)=>Q.createElement("svg",{ref:v,...CR,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:IT("lucide",l),...!h&&!xR(y)&&{"aria-hidden":"true"},...y},[...d.map(([E,A])=>Q.createElement(E,A)),...Array.isArray(h)?h:[h]]));const mu=(r,t)=>{const n=Q.forwardRef(({className:s,...l},h)=>Q.createElement(IR,{ref:h,iconNode:t,className:IT(`lucide-${AR(T0(r))}`,`lucide-${r}`,s),...l}));return n.displayName=T0(r),n};const NR=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],OR=mu("camera",NR);const PR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],LR=mu("circle-check-big",PR);const DR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],w0=mu("loader-circle",DR);const MR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kR=mu("map-pin",MR);const VR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],UR=mu("send",VR);const zR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BR=mu("x",zR),jR=()=>{};var b0={};const NT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},HR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[n++];t[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[n++],d=r[n++],y=r[n++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;t[s++]=String.fromCharCode(55296+(v>>10)),t[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},OT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const h=r[l],d=l+1<r.length,y=d?r[l+1]:0,v=l+2<r.length,E=v?r[l+2]:0,A=h>>2,R=(h&3)<<4|y>>4;let N=(y&15)<<2|E>>6,F=E&63;v||(F=64,d||(N=64)),s.push(n[A],n[R],n[N],n[F])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(NT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):HR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const h=n[r.charAt(l++)],y=l<r.length?n[r.charAt(l)]:0;++l;const E=l<r.length?n[r.charAt(l)]:64;++l;const R=l<r.length?n[r.charAt(l)]:64;if(++l,h==null||y==null||E==null||R==null)throw new qR;const N=h<<2|y>>4;if(s.push(N),E!==64){const F=y<<4&240|E>>2;if(s.push(F),R!==64){const nt=E<<6&192|R;s.push(nt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FR=function(r){const t=NT(r);return OT.encodeByteArray(t,!0)},Nf=function(r){return FR(r).replace(/\./g,"")},PT=function(r){try{return OT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function GR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ZR=()=>GR().__FIREBASE_DEFAULTS__,KR=()=>{if(typeof process>"u"||typeof b0>"u")return;const r=b0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},YR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&PT(r[1]);return t&&JSON.parse(t)},Wf=()=>{try{return jR()||ZR()||KR()||YR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LT=r=>Wf()?.emulatorHosts?.[r],QR=r=>{const t=LT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},DT=()=>Wf()?.config,MT=r=>Wf()?.[`_${r}`];class XR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function no(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cg(r){return(await fetch(r,{credentials:"include"})).ok}function WR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Nf(JSON.stringify(n)),Nf(JSON.stringify(d)),""].join(".")}const _c={};function JR(){const r={prod:[],emulator:[]};for(const t of Object.keys(_c))_c[t]?r.emulator.push(t):r.prod.push(t);return r}function $R(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let S0=!1;function kT(r,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||_c[r]===t||_c[r]||S0)return;_c[r]=t;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",h=JR().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function y(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,F){N.setAttribute("width","24"),N.setAttribute("id",F),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function E(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{S0=!0,d()},N}function A(N,F){N.setAttribute("id",F),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function R(){const N=$R(s),F=n("text"),nt=document.getElementById(F)||document.createElement("span"),Z=n("learnmore"),B=document.getElementById(Z)||document.createElement("a"),ot=n("preprendIcon"),st=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ct=N.element;y(ct),A(B,Z);const It=E();v(st,ot),ct.append(st,nt,B,It),document.body.appendChild(ct)}h?(nt.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,nt.innerText="Preview backend running in this workspace."),nt.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function ex(){const r=Wf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ix(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sx(){const r=qn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ax(){return!ex()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ox(){try{return typeof indexedDB=="object"}catch{return!1}}function lx(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const ux="FirebaseError";class fs extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=ux,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?cx(h,s):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new fs(l,y,s)}}function cx(r,t){return r.replace(hx,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const hx=/\{\$([^}]+)}/g;function fx(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Wo(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const h=r[l],d=t[l];if(A0(h)&&A0(d)){if(!Wo(h,d))return!1}else if(h!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function A0(r){return r!==null&&typeof r=="object"}function Hc(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function cc(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,h]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function hc(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function dx(r,t){const n=new mx(r,t);return n.subscribe.bind(n)}class mx{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");px(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=fp),l.error===void 0&&(l.error=fp),l.complete===void 0&&(l.complete=fp);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function px(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function fp(){}function Qe(r){return r&&r._delegate?r._delegate:r}class Qa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Zo="[DEFAULT]";class gx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new XR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(yx(t))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(t=Zo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zo){return this.instances.has(t)}getOptions(t=Zo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);s===y&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const h=this.instances.get(s);return h&&t(h,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_x(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Zo){return this.component?this.component.multipleInstances?t:Zo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _x(r){return r===Zo?void 0:r}function yx(r){return r.instantiationMode==="EAGER"}class vx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new gx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var re;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(re||(re={}));const Ex={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},Tx=re.INFO,wx={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},bx=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=wx[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hg{constructor(t){this.name=t,this._logLevel=Tx,this._logHandler=bx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ex[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const Sx=(r,t)=>t.some(n=>r instanceof n);let R0,x0;function Ax(){return R0||(R0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rx(){return x0||(x0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VT=new WeakMap,xp=new WeakMap,UT=new WeakMap,dp=new WeakMap,fg=new WeakMap;function xx(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{n(Ga(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&VT.set(n,r)}).catch(()=>{}),fg.set(t,r),t}function Cx(r){if(xp.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});xp.set(r,t)}let Cp={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return xp.get(r);if(t==="objectStoreNames")return r.objectStoreNames||UT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ga(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Ix(r){Cp=r(Cp)}function Nx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(mp(this),t,...n);return UT.set(s,t.sort?t.sort():[t]),Ga(s)}:Rx().includes(r)?function(...t){return r.apply(mp(this),t),Ga(VT.get(this))}:function(...t){return Ga(r.apply(mp(this),t))}}function Ox(r){return typeof r=="function"?Nx(r):(r instanceof IDBTransaction&&Cx(r),Sx(r,Ax())?new Proxy(r,Cp):r)}function Ga(r){if(r instanceof IDBRequest)return xx(r);if(dp.has(r))return dp.get(r);const t=Ox(r);return t!==r&&(dp.set(r,t),fg.set(t,r)),t}const mp=r=>fg.get(r);function Px(r,t,{blocked:n,upgrade:s,blocking:l,terminated:h}={}){const d=indexedDB.open(r,t),y=Ga(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Ga(d.result),v.oldVersion,v.newVersion,Ga(d.transaction),v)}),n&&d.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),y}const Lx=["get","getKey","getAll","getAllKeys","count"],Dx=["put","add","delete","clear"],pp=new Map;function C0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(pp.get(t))return pp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=Dx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Lx.includes(n)))return;const h=async function(d,...y){const v=this.transaction(d,l?"readwrite":"readonly");let E=v.store;return s&&(E=E.index(y.shift())),(await Promise.all([E[n](...y),l&&v.done]))[0]};return pp.set(t,h),h}Ix(r=>({...r,get:(t,n,s)=>C0(t,n)||r.get(t,n,s),has:(t,n)=>!!C0(t,n)||r.has(t,n)}));class Mx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kx(r){return r.getComponent()?.type==="VERSION"}const Ip="@firebase/app",I0="0.14.6";const Zs=new hg("@firebase/app"),Vx="@firebase/app-compat",Ux="@firebase/analytics-compat",zx="@firebase/analytics",Bx="@firebase/app-check-compat",jx="@firebase/app-check",Hx="@firebase/auth",qx="@firebase/auth-compat",Fx="@firebase/database",Gx="@firebase/data-connect",Zx="@firebase/database-compat",Kx="@firebase/functions",Yx="@firebase/functions-compat",Qx="@firebase/installations",Xx="@firebase/installations-compat",Wx="@firebase/messaging",Jx="@firebase/messaging-compat",$x="@firebase/performance",tC="@firebase/performance-compat",eC="@firebase/remote-config",nC="@firebase/remote-config-compat",iC="@firebase/storage",rC="@firebase/storage-compat",sC="@firebase/firestore",aC="@firebase/ai",oC="@firebase/firestore-compat",lC="firebase",uC="12.6.0";const Np="[DEFAULT]",cC={[Ip]:"fire-core",[Vx]:"fire-core-compat",[zx]:"fire-analytics",[Ux]:"fire-analytics-compat",[jx]:"fire-app-check",[Bx]:"fire-app-check-compat",[Hx]:"fire-auth",[qx]:"fire-auth-compat",[Fx]:"fire-rtdb",[Gx]:"fire-data-connect",[Zx]:"fire-rtdb-compat",[Kx]:"fire-fn",[Yx]:"fire-fn-compat",[Qx]:"fire-iid",[Xx]:"fire-iid-compat",[Wx]:"fire-fcm",[Jx]:"fire-fcm-compat",[$x]:"fire-perf",[tC]:"fire-perf-compat",[eC]:"fire-rc",[nC]:"fire-rc-compat",[iC]:"fire-gcs",[rC]:"fire-gcs-compat",[sC]:"fire-fst",[oC]:"fire-fst-compat",[aC]:"fire-vertex","fire-js":"fire-js",[lC]:"fire-js-all"};const Of=new Map,hC=new Map,Op=new Map;function N0(r,t){try{r.container.addComponent(t)}catch(n){Zs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Jo(r){const t=r.name;if(Op.has(t))return Zs.debug(`There were multiple attempts to register component ${t}.`),!1;Op.set(t,r);for(const n of Of.values())N0(n,r);for(const n of hC.values())N0(n,r);return!0}function Jf(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Vi(r){return r==null?!1:r.settings!==void 0}const fC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new jc("app","Firebase",fC);class dC{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}const al=uC;function zT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Np,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Za.create("bad-app-name",{appName:String(l)});if(n||(n=DT()),!n)throw Za.create("no-options");const h=Of.get(l);if(h){if(Wo(n,h.options)&&Wo(s,h.config))return h;throw Za.create("duplicate-app",{appName:l})}const d=new vx(l);for(const v of Op.values())d.addComponent(v);const y=new dC(n,s,d);return Of.set(l,y),y}function BT(r=Np){const t=Of.get(r);if(!t&&r===Np&&DT())return zT();if(!t)throw Za.create("no-app",{appName:r});return t}function rs(r,t,n){let s=cC[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zs.warn(d.join(" "));return}Jo(new Qa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const mC="firebase-heartbeat-database",pC=1,Ac="firebase-heartbeat-store";let gp=null;function jT(){return gp||(gp=Px(mC,pC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ac)}catch(n){console.warn(n)}}}}).catch(r=>{throw Za.create("idb-open",{originalErrorMessage:r.message})})),gp}async function gC(r){try{const n=(await jT()).transaction(Ac),s=await n.objectStore(Ac).get(HT(r));return await n.done,s}catch(t){if(t instanceof fs)Zs.warn(t.message);else{const n=Za.create("idb-get",{originalErrorMessage:t?.message});Zs.warn(n.message)}}}async function O0(r,t){try{const s=(await jT()).transaction(Ac,"readwrite");await s.objectStore(Ac).put(t,HT(r)),await s.done}catch(n){if(n instanceof fs)Zs.warn(n.message);else{const s=Za.create("idb-set",{originalErrorMessage:n?.message});Zs.warn(s.message)}}}function HT(r){return`${r.name}!${r.options.appId}`}const _C=1024,yC=30;class vC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>yC){const l=wC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P0(),{heartbeatsToSend:n,unsentEntries:s}=EC(this._heartbeatsCache.heartbeats),l=Nf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zs.warn(t),""}}}function P0(){return new Date().toISOString().substring(0,10)}function EC(r,t=_C){const n=[];let s=r.slice();for(const l of r){const h=n.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),L0(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),L0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class TC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ox()?lx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return O0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return O0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function L0(r){return Nf(JSON.stringify({version:2,heartbeats:r})).length}function wC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function bC(r){Jo(new Qa("platform-logger",t=>new Mx(t),"PRIVATE")),Jo(new Qa("heartbeat",t=>new vC(t),"PRIVATE")),rs(Ip,I0,r),rs(Ip,I0,"esm2020"),rs("fire-js","")}bC("");var SC="firebase",AC="12.7.0";rs(SC,AC,"app");var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ka,qT;(function(){var r;function t(k,O){function M(){}M.prototype=O.prototype,k.F=O.prototype,k.prototype=new M,k.prototype.constructor=k,k.D=function(q,j,G){for(var V=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)V[oe-2]=arguments[oe];return O.prototype[j].apply(q,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,O,M){M||(M=0);const q=Array(16);if(typeof O=="string")for(var j=0;j<16;++j)q[j]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(j=0;j<16;++j)q[j]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=k.g[0],M=k.g[1],j=k.g[2];let G=k.g[3],V;V=O+(G^M&(j^G))+q[0]+3614090360&4294967295,O=M+(V<<7&4294967295|V>>>25),V=G+(j^O&(M^j))+q[1]+3905402710&4294967295,G=O+(V<<12&4294967295|V>>>20),V=j+(M^G&(O^M))+q[2]+606105819&4294967295,j=G+(V<<17&4294967295|V>>>15),V=M+(O^j&(G^O))+q[3]+3250441966&4294967295,M=j+(V<<22&4294967295|V>>>10),V=O+(G^M&(j^G))+q[4]+4118548399&4294967295,O=M+(V<<7&4294967295|V>>>25),V=G+(j^O&(M^j))+q[5]+1200080426&4294967295,G=O+(V<<12&4294967295|V>>>20),V=j+(M^G&(O^M))+q[6]+2821735955&4294967295,j=G+(V<<17&4294967295|V>>>15),V=M+(O^j&(G^O))+q[7]+4249261313&4294967295,M=j+(V<<22&4294967295|V>>>10),V=O+(G^M&(j^G))+q[8]+1770035416&4294967295,O=M+(V<<7&4294967295|V>>>25),V=G+(j^O&(M^j))+q[9]+2336552879&4294967295,G=O+(V<<12&4294967295|V>>>20),V=j+(M^G&(O^M))+q[10]+4294925233&4294967295,j=G+(V<<17&4294967295|V>>>15),V=M+(O^j&(G^O))+q[11]+2304563134&4294967295,M=j+(V<<22&4294967295|V>>>10),V=O+(G^M&(j^G))+q[12]+1804603682&4294967295,O=M+(V<<7&4294967295|V>>>25),V=G+(j^O&(M^j))+q[13]+4254626195&4294967295,G=O+(V<<12&4294967295|V>>>20),V=j+(M^G&(O^M))+q[14]+2792965006&4294967295,j=G+(V<<17&4294967295|V>>>15),V=M+(O^j&(G^O))+q[15]+1236535329&4294967295,M=j+(V<<22&4294967295|V>>>10),V=O+(j^G&(M^j))+q[1]+4129170786&4294967295,O=M+(V<<5&4294967295|V>>>27),V=G+(M^j&(O^M))+q[6]+3225465664&4294967295,G=O+(V<<9&4294967295|V>>>23),V=j+(O^M&(G^O))+q[11]+643717713&4294967295,j=G+(V<<14&4294967295|V>>>18),V=M+(G^O&(j^G))+q[0]+3921069994&4294967295,M=j+(V<<20&4294967295|V>>>12),V=O+(j^G&(M^j))+q[5]+3593408605&4294967295,O=M+(V<<5&4294967295|V>>>27),V=G+(M^j&(O^M))+q[10]+38016083&4294967295,G=O+(V<<9&4294967295|V>>>23),V=j+(O^M&(G^O))+q[15]+3634488961&4294967295,j=G+(V<<14&4294967295|V>>>18),V=M+(G^O&(j^G))+q[4]+3889429448&4294967295,M=j+(V<<20&4294967295|V>>>12),V=O+(j^G&(M^j))+q[9]+568446438&4294967295,O=M+(V<<5&4294967295|V>>>27),V=G+(M^j&(O^M))+q[14]+3275163606&4294967295,G=O+(V<<9&4294967295|V>>>23),V=j+(O^M&(G^O))+q[3]+4107603335&4294967295,j=G+(V<<14&4294967295|V>>>18),V=M+(G^O&(j^G))+q[8]+1163531501&4294967295,M=j+(V<<20&4294967295|V>>>12),V=O+(j^G&(M^j))+q[13]+2850285829&4294967295,O=M+(V<<5&4294967295|V>>>27),V=G+(M^j&(O^M))+q[2]+4243563512&4294967295,G=O+(V<<9&4294967295|V>>>23),V=j+(O^M&(G^O))+q[7]+1735328473&4294967295,j=G+(V<<14&4294967295|V>>>18),V=M+(G^O&(j^G))+q[12]+2368359562&4294967295,M=j+(V<<20&4294967295|V>>>12),V=O+(M^j^G)+q[5]+4294588738&4294967295,O=M+(V<<4&4294967295|V>>>28),V=G+(O^M^j)+q[8]+2272392833&4294967295,G=O+(V<<11&4294967295|V>>>21),V=j+(G^O^M)+q[11]+1839030562&4294967295,j=G+(V<<16&4294967295|V>>>16),V=M+(j^G^O)+q[14]+4259657740&4294967295,M=j+(V<<23&4294967295|V>>>9),V=O+(M^j^G)+q[1]+2763975236&4294967295,O=M+(V<<4&4294967295|V>>>28),V=G+(O^M^j)+q[4]+1272893353&4294967295,G=O+(V<<11&4294967295|V>>>21),V=j+(G^O^M)+q[7]+4139469664&4294967295,j=G+(V<<16&4294967295|V>>>16),V=M+(j^G^O)+q[10]+3200236656&4294967295,M=j+(V<<23&4294967295|V>>>9),V=O+(M^j^G)+q[13]+681279174&4294967295,O=M+(V<<4&4294967295|V>>>28),V=G+(O^M^j)+q[0]+3936430074&4294967295,G=O+(V<<11&4294967295|V>>>21),V=j+(G^O^M)+q[3]+3572445317&4294967295,j=G+(V<<16&4294967295|V>>>16),V=M+(j^G^O)+q[6]+76029189&4294967295,M=j+(V<<23&4294967295|V>>>9),V=O+(M^j^G)+q[9]+3654602809&4294967295,O=M+(V<<4&4294967295|V>>>28),V=G+(O^M^j)+q[12]+3873151461&4294967295,G=O+(V<<11&4294967295|V>>>21),V=j+(G^O^M)+q[15]+530742520&4294967295,j=G+(V<<16&4294967295|V>>>16),V=M+(j^G^O)+q[2]+3299628645&4294967295,M=j+(V<<23&4294967295|V>>>9),V=O+(j^(M|~G))+q[0]+4096336452&4294967295,O=M+(V<<6&4294967295|V>>>26),V=G+(M^(O|~j))+q[7]+1126891415&4294967295,G=O+(V<<10&4294967295|V>>>22),V=j+(O^(G|~M))+q[14]+2878612391&4294967295,j=G+(V<<15&4294967295|V>>>17),V=M+(G^(j|~O))+q[5]+4237533241&4294967295,M=j+(V<<21&4294967295|V>>>11),V=O+(j^(M|~G))+q[12]+1700485571&4294967295,O=M+(V<<6&4294967295|V>>>26),V=G+(M^(O|~j))+q[3]+2399980690&4294967295,G=O+(V<<10&4294967295|V>>>22),V=j+(O^(G|~M))+q[10]+4293915773&4294967295,j=G+(V<<15&4294967295|V>>>17),V=M+(G^(j|~O))+q[1]+2240044497&4294967295,M=j+(V<<21&4294967295|V>>>11),V=O+(j^(M|~G))+q[8]+1873313359&4294967295,O=M+(V<<6&4294967295|V>>>26),V=G+(M^(O|~j))+q[15]+4264355552&4294967295,G=O+(V<<10&4294967295|V>>>22),V=j+(O^(G|~M))+q[6]+2734768916&4294967295,j=G+(V<<15&4294967295|V>>>17),V=M+(G^(j|~O))+q[13]+1309151649&4294967295,M=j+(V<<21&4294967295|V>>>11),V=O+(j^(M|~G))+q[4]+4149444226&4294967295,O=M+(V<<6&4294967295|V>>>26),V=G+(M^(O|~j))+q[11]+3174756917&4294967295,G=O+(V<<10&4294967295|V>>>22),V=j+(O^(G|~M))+q[2]+718787259&4294967295,j=G+(V<<15&4294967295|V>>>17),V=M+(G^(j|~O))+q[9]+3951481745&4294967295,k.g[0]=k.g[0]+O&4294967295,k.g[1]=k.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+G&4294967295}s.prototype.v=function(k,O){O===void 0&&(O=k.length);const M=O-this.blockSize,q=this.C;let j=this.h,G=0;for(;G<O;){if(j==0)for(;G<=M;)l(this,k,G),G+=this.blockSize;if(typeof k=="string"){for(;G<O;)if(q[j++]=k.charCodeAt(G++),j==this.blockSize){l(this,q),j=0;break}}else for(;G<O;)if(q[j++]=k[G++],j==this.blockSize){l(this,q),j=0;break}}this.h=j,this.o+=O},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var O=1;O<k.length-8;++O)k[O]=0;O=this.o*8;for(var M=k.length-8;M<k.length;++M)k[M]=O&255,O/=256;for(this.v(k),k=Array(16),O=0,M=0;M<4;++M)for(let q=0;q<32;q+=8)k[O++]=this.g[M]>>>q&255;return k};function h(k,O){var M=y;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=O(k)}function d(k,O){this.h=O;const M=[];let q=!0;for(let j=k.length-1;j>=0;j--){const G=k[j]|0;q&&G==O||(M[j]=G,q=!1)}this.g=M}var y={};function v(k){return-128<=k&&k<128?h(k,function(O){return new d([O|0],O<0?-1:0)}):new d([k|0],k<0?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return R;if(k<0)return B(E(-k));const O=[];let M=1;for(let q=0;k>=M;q++)O[q]=k/M|0,M*=4294967296;return new d(O,0)}function A(k,O){if(k.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(k.charAt(0)=="-")return B(A(k.substring(1),O));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=E(Math.pow(O,8));let q=R;for(let G=0;G<k.length;G+=8){var j=Math.min(8,k.length-G);const V=parseInt(k.substring(G,G+j),O);j<8?(j=E(Math.pow(O,j)),q=q.j(j).add(E(V))):(q=q.j(M),q=q.add(E(V)))}return q}var R=v(0),N=v(1),F=v(16777216);r=d.prototype,r.m=function(){if(Z(this))return-B(this).m();let k=0,O=1;for(let M=0;M<this.g.length;M++){const q=this.i(M);k+=(q>=0?q:4294967296+q)*O,O*=4294967296}return k},r.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(nt(this))return"0";if(Z(this))return"-"+B(this).toString(k);const O=E(Math.pow(k,6));var M=this;let q="";for(;;){const j=It(M,O).g;M=ot(M,j.j(O));let G=((M.g.length>0?M.g[0]:M.h)>>>0).toString(k);if(M=j,nt(M))return G+q;for(;G.length<6;)G="0"+G;q=G+q}},r.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function nt(k){if(k.h!=0)return!1;for(let O=0;O<k.g.length;O++)if(k.g[O]!=0)return!1;return!0}function Z(k){return k.h==-1}r.l=function(k){return k=ot(this,k),Z(k)?-1:nt(k)?0:1};function B(k){const O=k.g.length,M=[];for(let q=0;q<O;q++)M[q]=~k.g[q];return new d(M,~k.h).add(N)}r.abs=function(){return Z(this)?B(this):this},r.add=function(k){const O=Math.max(this.g.length,k.g.length),M=[];let q=0;for(let j=0;j<=O;j++){let G=q+(this.i(j)&65535)+(k.i(j)&65535),V=(G>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);q=V>>>16,G&=65535,V&=65535,M[j]=V<<16|G}return new d(M,M[M.length-1]&-2147483648?-1:0)};function ot(k,O){return k.add(B(O))}r.j=function(k){if(nt(this)||nt(k))return R;if(Z(this))return Z(k)?B(this).j(B(k)):B(B(this).j(k));if(Z(k))return B(this.j(B(k)));if(this.l(F)<0&&k.l(F)<0)return E(this.m()*k.m());const O=this.g.length+k.g.length,M=[];for(var q=0;q<2*O;q++)M[q]=0;for(q=0;q<this.g.length;q++)for(let j=0;j<k.g.length;j++){const G=this.i(q)>>>16,V=this.i(q)&65535,oe=k.i(j)>>>16,Je=k.i(j)&65535;M[2*q+2*j]+=V*Je,st(M,2*q+2*j),M[2*q+2*j+1]+=G*Je,st(M,2*q+2*j+1),M[2*q+2*j+1]+=V*oe,st(M,2*q+2*j+1),M[2*q+2*j+2]+=G*oe,st(M,2*q+2*j+2)}for(k=0;k<O;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=O;k<2*O;k++)M[k]=0;return new d(M,0)};function st(k,O){for(;(k[O]&65535)!=k[O];)k[O+1]+=k[O]>>>16,k[O]&=65535,O++}function ct(k,O){this.g=k,this.h=O}function It(k,O){if(nt(O))throw Error("division by zero");if(nt(k))return new ct(R,R);if(Z(k))return O=It(B(k),O),new ct(B(O.g),B(O.h));if(Z(O))return O=It(k,B(O)),new ct(B(O.g),O.h);if(k.g.length>30){if(Z(k)||Z(O))throw Error("slowDivide_ only works with positive integers.");for(var M=N,q=O;q.l(k)<=0;)M=Pt(M),q=Pt(q);var j=kt(M,1),G=kt(q,1);for(q=kt(q,2),M=kt(M,2);!nt(q);){var V=G.add(q);V.l(k)<=0&&(j=j.add(M),G=V),q=kt(q,1),M=kt(M,1)}return O=ot(k,j.j(O)),new ct(j,O)}for(j=R;k.l(O)>=0;){for(M=Math.max(1,Math.floor(k.m()/O.m())),q=Math.ceil(Math.log(M)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),G=E(M),V=G.j(O);Z(V)||V.l(k)>0;)M-=q,G=E(M),V=G.j(O);nt(G)&&(G=N),j=j.add(G),k=ot(k,V)}return new ct(j,k)}r.B=function(k){return It(this,k).h},r.and=function(k){const O=Math.max(this.g.length,k.g.length),M=[];for(let q=0;q<O;q++)M[q]=this.i(q)&k.i(q);return new d(M,this.h&k.h)},r.or=function(k){const O=Math.max(this.g.length,k.g.length),M=[];for(let q=0;q<O;q++)M[q]=this.i(q)|k.i(q);return new d(M,this.h|k.h)},r.xor=function(k){const O=Math.max(this.g.length,k.g.length),M=[];for(let q=0;q<O;q++)M[q]=this.i(q)^k.i(q);return new d(M,this.h^k.h)};function Pt(k){const O=k.g.length+1,M=[];for(let q=0;q<O;q++)M[q]=k.i(q)<<1|k.i(q-1)>>>31;return new d(M,k.h)}function kt(k,O){const M=O>>5;O%=32;const q=k.g.length-M,j=[];for(let G=0;G<q;G++)j[G]=O>0?k.i(G+M)>>>O|k.i(G+M+1)<<32-O:k.i(G+M);return new d(j,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,qT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=E,d.fromString=A,Ka=d}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FT,fc,GT,_f,Pp,ZT,KT,YT;(function(){var r,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof of=="object"&&of];for(var T=0;T<f.length;++T){var S=f[T];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=n(this);function l(f,T){if(T)t:{var S=s;f=f.split(".");for(var I=0;I<f.length-1;I++){var X=f[I];if(!(X in S))break t;S=S[X]}f=f[f.length-1],I=S[f],T=T(I),T!=I&&T!=null&&t(S,f,{configurable:!0,writable:!0,value:T})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(T){var S=[],I;for(I in T)Object.prototype.hasOwnProperty.call(T,I)&&S.push([I,T[I]]);return S}});var h=h||{},d=this||self;function y(f){var T=typeof f;return T=="object"&&f!=null||T=="function"}function v(f,T,S){return f.call.apply(f.bind,arguments)}function E(f,T,S){return E=v,E.apply(null,arguments)}function A(f,T){var S=Array.prototype.slice.call(arguments,1);return function(){var I=S.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function R(f,T){function S(){}S.prototype=T.prototype,f.Z=T.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(I,X,et){for(var yt=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)yt[Bt-2]=arguments[Bt];return T.prototype[X].apply(I,yt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function F(f){const T=f.length;if(T>0){const S=Array(T);for(let I=0;I<T;I++)S[I]=f[I];return S}return[]}function nt(f,T){for(let I=1;I<arguments.length;I++){const X=arguments[I];var S=typeof X;if(S=S!="object"?S:X?Array.isArray(X)?"array":S:"null",S=="array"||S=="object"&&typeof X.length=="number"){S=f.length||0;const et=X.length||0;f.length=S+et;for(let yt=0;yt<et;yt++)f[S+yt]=X[yt]}else f.push(X)}}class Z{constructor(T,S){this.i=T,this.j=S,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function B(f){d.setTimeout(()=>{throw f},0)}function ot(){var f=k;let T=null;return f.g&&(T=f.g,f.g=f.g.next,f.g||(f.h=null),T.next=null),T}class st{constructor(){this.h=this.g=null}add(T,S){const I=ct.get();I.set(T,S),this.h?this.h.next=I:this.g=I,this.h=I}}var ct=new Z(()=>new It,f=>f.reset());class It{constructor(){this.next=this.g=this.h=null}set(T,S){this.h=T,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Pt,kt=!1,k=new st,O=()=>{const f=Promise.resolve(void 0);Pt=()=>{f.then(M)}};function M(){for(var f;f=ot();){try{f.h.call(f.g)}catch(S){B(S)}var T=ct;T.j(f),T.h<100&&(T.h++,f.next=T.g,T.g=f)}kt=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(f,T){this.type=f,this.g=this.target=T,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,T=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};d.addEventListener("test",S,T),d.removeEventListener("test",S,T)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function oe(f,T){j.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,T)}R(oe,j),oe.prototype.init=function(f,T){const S=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=T,T=f.relatedTarget,T||(S=="mouseover"?T=f.fromElement:S=="mouseout"&&(T=f.toElement)),this.relatedTarget=T,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Je="closure_listenable_"+(Math.random()*1e6|0),rt=0;function vt(f,T,S,I,X){this.listener=f,this.proxy=null,this.src=T,this.type=S,this.capture=!!I,this.ha=X,this.key=++rt,this.da=this.fa=!1}function pt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function te(f,T,S){for(const I in f)T.call(S,f[I],I,f)}function bt(f,T){for(const S in f)T.call(void 0,f[S],S,f)}function z(f){const T={};for(const S in f)T[S]=f[S];return T}const at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(f,T){let S,I;for(let X=1;X<arguments.length;X++){I=arguments[X];for(S in I)f[S]=I[S];for(let et=0;et<at.length;et++)S=at[et],Object.prototype.hasOwnProperty.call(I,S)&&(f[S]=I[S])}}function _t(f){this.src=f,this.g={},this.h=0}_t.prototype.add=function(f,T,S,I,X){const et=f.toString();f=this.g[et],f||(f=this.g[et]=[],this.h++);const yt=Tt(f,T,I,X);return yt>-1?(T=f[yt],S||(T.fa=!1)):(T=new vt(T,this.src,et,!!I,X),T.fa=S,f.push(T)),T};function wt(f,T){const S=T.type;if(S in f.g){var I=f.g[S],X=Array.prototype.indexOf.call(I,T,void 0),et;(et=X>=0)&&Array.prototype.splice.call(I,X,1),et&&(pt(T),f.g[S].length==0&&(delete f.g[S],f.h--))}}function Tt(f,T,S,I){for(let X=0;X<f.length;++X){const et=f[X];if(!et.da&&et.listener==T&&et.capture==!!S&&et.ha==I)return X}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),we={};function Re(f,T,S,I,X){if(Array.isArray(T)){for(let et=0;et<T.length;et++)Re(f,T[et],S,I,X);return null}return S=Mr(S),f&&f[Je]?f.J(T,S,y(I)?!!I.capture:!1,X):hr(f,T,S,!1,I,X)}function hr(f,T,S,I,X,et){if(!T)throw Error("Invalid event type");const yt=y(X)?!!X.capture:!!X;let Bt=Dr(f);if(Bt||(f[Ht]=Bt=new _t(f)),S=Bt.add(T,S,I,yt,et),S.proxy)return S;if(I=Pr(),S.proxy=I,I.src=f,I.listener=S,f.addEventListener)G||(X=yt),X===void 0&&(X=!1),f.addEventListener(T.toString(),I,X);else if(f.attachEvent)f.attachEvent(ji(T.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Pr(){function f(S){return T.call(f.src,f.listener,S)}const T=Ws;return f}function Bi(f,T,S,I,X){if(Array.isArray(T))for(var et=0;et<T.length;et++)Bi(f,T[et],S,I,X);else I=y(I)?!!I.capture:!!I,S=Mr(S),f&&f[Je]?(f=f.i,et=String(T).toString(),et in f.g&&(T=f.g[et],S=Tt(T,S,I,X),S>-1&&(pt(T[S]),Array.prototype.splice.call(T,S,1),T.length==0&&(delete f.g[et],f.h--)))):f&&(f=Dr(f))&&(T=f.g[T.toString()],f=-1,T&&(f=Tt(T,S,I,X)),(S=f>-1?T[f]:null)&&Lr(S))}function Lr(f){if(typeof f!="number"&&f&&!f.da){var T=f.src;if(T&&T[Je])wt(T.i,f);else{var S=f.type,I=f.proxy;T.removeEventListener?T.removeEventListener(S,I,f.capture):T.detachEvent?T.detachEvent(ji(S),I):T.addListener&&T.removeListener&&T.removeListener(I),(S=Dr(T))?(wt(S,f),S.h==0&&(S.src=null,T[Ht]=null)):pt(f)}}}function ji(f){return f in we?we[f]:we[f]="on"+f}function Ws(f,T){if(f.da)f=!0;else{T=new oe(T,this);const S=f.listener,I=f.ha||f.src;f.fa&&Lr(f),f=S.call(I,T)}return f}function Dr(f){return f=f[Ht],f instanceof _t?f:null}var ds="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mr(f){return typeof f=="function"?f:(f[ds]||(f[ds]=function(T){return f.handleEvent(T)}),f[ds])}function He(){q.call(this),this.i=new _t(this),this.M=this,this.G=null}R(He,q),He.prototype[Je]=!0,He.prototype.removeEventListener=function(f,T,S,I){Bi(this,f,T,S,I)};function qe(f,T){var S,I=f.G;if(I)for(S=[];I;I=I.G)S.push(I);if(f=f.M,I=T.type||T,typeof T=="string")T=new j(T,f);else if(T instanceof j)T.target=T.target||f;else{var X=T;T=new j(I,f),gt(T,X)}X=!0;let et,yt;if(S)for(yt=S.length-1;yt>=0;yt--)et=T.g=S[yt],X=Hi(et,I,!0,T)&&X;if(et=T.g=f,X=Hi(et,I,!0,T)&&X,X=Hi(et,I,!1,T)&&X,S)for(yt=0;yt<S.length;yt++)et=T.g=S[yt],X=Hi(et,I,!1,T)&&X}He.prototype.N=function(){if(He.Z.N.call(this),this.i){var f=this.i;for(const T in f.g){const S=f.g[T];for(let I=0;I<S.length;I++)pt(S[I]);delete f.g[T],f.h--}}this.G=null},He.prototype.J=function(f,T,S,I){return this.i.add(String(f),T,!1,S,I)},He.prototype.K=function(f,T,S,I){return this.i.add(String(f),T,!0,S,I)};function Hi(f,T,S,I){if(T=f.i.g[String(T)],!T)return!0;T=T.concat();let X=!0;for(let et=0;et<T.length;++et){const yt=T[et];if(yt&&!yt.da&&yt.capture==S){const Bt=yt.listener,le=yt.ha||yt.src;yt.fa&&wt(f.i,yt),X=Bt.call(le,I)!==!1&&X}}return X&&!I.defaultPrevented}function hl(f,T){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:d.setTimeout(f,T||0)}function oo(f){f.g=hl(()=>{f.g=null,f.i&&(f.i=!1,oo(f))},f.l);const T=f.h;f.h=null,f.m.apply(null,T)}class xn extends q{constructor(T,S){super(),this.m=T,this.l=S,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(f){q.call(this),this.h=f,this.g={}}R(ms,q);var ps=[];function Js(f){te(f.g,function(T,S){this.g.hasOwnProperty(S)&&Lr(T)},f),f.g={}}ms.prototype.N=function(){ms.Z.N.call(this),Js(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=d.JSON.stringify,Tu=d.JSON.parse,lo=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function uo(){}function fl(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){j.call(this,"d")}R($e,j);function Fn(){j.call(this,"c")}R(Fn,j);var Ve={},kr=null;function $s(){return kr=kr||new He}Ve.Ia="serverreachability";function dl(f){j.call(this,Ve.Ia,f)}R(dl,j);function vi(f){const T=$s();qe(T,new dl(T))}Ve.STAT_EVENT="statevent";function Vr(f,T){j.call(this,Ve.STAT_EVENT,f),this.stat=T}R(Vr,j);function Ue(f){const T=$s();qe(T,new Vr(T,f))}Ve.Ja="timingevent";function qi(f,T){j.call(this,Ve.Ja,f),this.size=T}R(qi,j);function Fi(f,T){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},T)}function Ei(){this.g=!0}Ei.prototype.ua=function(){this.g=!1};function wu(f,T,S,I,X,et){f.info(function(){if(f.g)if(et){var yt="",Bt=et.split("&");for(let ue=0;ue<Bt.length;ue++){var le=Bt[ue].split("=");if(le.length>1){const Ce=le[0];le=le[1];const ai=Ce.split("_");yt=ai.length>=2&&ai[1]=="type"?yt+(Ce+"="+le+"&"):yt+(Ce+"=redacted&")}}}else yt=null;else yt=et;return"XMLHTTP REQ ("+I+") [attempt "+X+"]: "+T+`
`+S+`
`+yt})}function ml(f,T,S,I,X,et,yt){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+X+"]: "+T+`
`+S+`
`+et+" "+yt})}function Gi(f,T,S,I){f.info(function(){return"XMLHTTP TEXT ("+T+"): "+bu(f,S)+(I?" "+I:"")})}function dr(f,T){f.info(function(){return"TIMEOUT: "+T})}Ei.prototype.info=function(){};function bu(f,T){if(!f.g)return T;if(!T)return null;try{const et=JSON.parse(T);if(et){for(f=0;f<et.length;f++)if(Array.isArray(et[f])){var S=et[f];if(!(S.length<2)){var I=S[1];if(Array.isArray(I)&&!(I.length<1)){var X=I[0];if(X!="noop"&&X!="stop"&&X!="close")for(let yt=1;yt<I.length;yt++)I[yt]=""}}}}return fr(et)}catch{return T}}var gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function yn(){}R(yn,uo),yn.prototype.g=function(){return new XMLHttpRequest},ho=new yn;function xt(f){return encodeURIComponent(String(f))}function fo(f){var T=1;f=f.split(":");const S=[];for(;T>0&&f.length;)S.push(f.shift()),T--;return f.length&&S.push(f.join(":")),S}function $n(f,T,S,I){this.j=f,this.i=T,this.l=S,this.S=I||1,this.V=new ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var ze={},Fe={};function Ti(f,T,S){f.M=1,f.A=ye(Oe(T)),f.u=S,f.R=!0,wi(f,null)}function wi(f,T){f.F=Date.now(),Zi(f),f.B=Oe(f.A);var S=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),zr(S.i,"t",I),f.C=0,S=f.j.L,f.h=new ti,f.g=Eo(f.j,S?T:null,!f.u),f.P>0&&(f.O=new xn(E(f.Y,f,f.g),f.P)),T=f.V,S=f.g,I=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(ps[0]=X.toString()),X=ps);for(let et=0;et<X.length;et++){const yt=Re(S,X[et],I||T.handleEvent,!1,T.h||T);if(!yt)break;T.g[yt.key]=yt}T=f.J?z(f.J):{},f.u?(f.v||(f.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,T)):(f.v="GET",f.g.ea(f.B,f.v,null,T)),vi(),wu(f.i,f.v,f.B,f.l,f.S,f.u)}$n.prototype.ba=function(f){f=f.target;const T=this.O;T&&Ri(f)==3?T.j():this.Y(f)},$n.prototype.Y=function(f){try{if(f==this.g)t:{const Bt=Ri(this.g),le=this.g.ya(),ue=this.g.ca();if(!(Bt<3)&&(Bt!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Bt!=4||le==7||(le==8||ue<=0?vi(3):vi(2)),bi(this);var T=this.g.ca();this.X=T;var S=pl(this);if(this.o=T==200,ml(this.i,this.v,this.B,this.l,this.S,Bt,T),this.o){if(this.U&&!this.L){e:{if(this.g){var I,X=this.g;if((I=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(I)){var et=I;break e}}et=null}if(f=et)Gi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ki(this,f);else{this.o=!1,this.m=3,Ue(12),vn(this),ei(this);break t}}if(this.R){f=!0;let Ce;for(;!this.K&&this.C<S.length;)if(Ce=_l(this,S),Ce==Fe){Bt==4&&(this.m=4,Ue(14),f=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ce==ze){this.m=4,Ue(15),Gi(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else Gi(this.i,this.l,Ce,null),Ki(this,Ce);if(gl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||S.length!=0||this.h.h||(this.m=1,Ue(16),f=!1),this.o=this.o&&f,!f)Gi(this.i,this.l,S,"[Invalid Chunked Response]"),vn(this),ei(this);else if(S.length>0&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.aa&&!yt.P&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),yo(yt),yt.P=!0,Ue(11))}}else Gi(this.i,this.l,S,null),Ki(this,S);Bt==4&&vn(this),this.o&&!this.K&&(Bt==4?Kn(this.j,this):(this.o=!1,Zi(this)))}else xi(this.g),T==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),vn(this),ei(this)}}}catch{}};function pl(f){if(!gl(f))return f.g.la();const T=an(f.g);if(T==="")return"";let S="";const I=T.length,X=Ri(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return vn(f),ei(f),"";f.h.i=new d.TextDecoder}for(let et=0;et<I;et++)f.h.h=!0,S+=f.h.i.decode(T[et],{stream:!(X&&et==I-1)});return T.length=0,f.h.g+=S,f.C=0,f.h.g}function gl(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function _l(f,T){var S=f.C,I=T.indexOf(`
`,S);return I==-1?Fe:(S=Number(T.substring(S,I)),isNaN(S)?ze:(I+=1,I+S>T.length?Fe:(T=T.slice(I,I+S),f.C=I+S,T)))}$n.prototype.cancel=function(){this.K=!0,vn(this)};function Zi(f){f.T=Date.now()+f.H,ta(f,f.H)}function ta(f,T){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Fi(E(f.aa,f),T)}function bi(f){f.D&&(d.clearTimeout(f.D),f.D=null)}$n.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(dr(this.i,this.B),this.M!=2&&(vi(),Ue(17)),vn(this),this.m=2,ei(this)):ta(this,this.T-f)};function ei(f){f.j.I==0||f.K||Kn(f.j,f)}function vn(f){bi(f);var T=f.O;T&&typeof T.dispose=="function"&&T.dispose(),f.O=null,Js(f.V),f.g&&(T=f.g,f.g=null,T.abort(),T.dispose())}function Ki(f,T){try{var S=f.j;if(S.I!=0&&(S.g==f||ni(S.h,f))){if(!f.L&&ni(S.h,f)&&S.I==3){try{var I=S.Ba.g.parse(T)}catch{I=null}if(Array.isArray(I)&&I.length==3){var X=I;if(X[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)oa(S),qr(S);else break t;ws(S),Ue(18)}}else S.xa=X[1],0<S.xa-S.K&&X[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Fi(E(S.Va,S),6e3));Yi(S.h)<=1&&S.ta&&(S.ta=void 0)}else Ci(S,11)}else if((f.L||S.g==f)&&oa(S),!V(T))for(X=S.Ba.g.parse(T),T=0;T<X.length;T++){let ue=X[T];const Ce=ue[0];if(!(Ce<=S.K))if(S.K=Ce,ue=ue[1],S.I==2)if(ue[0]=="c"){S.M=ue[1],S.ba=ue[2];const ai=ue[3];ai!=null&&(S.ka=ai,S.j.info("VER="+S.ka));const oi=ue[4];oi!=null&&(S.za=oi,S.j.info("SVER="+S.za));const Yn=ue[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(I=1.5*Yn,S.O=I,S.j.info("backChannelRequestTimeoutMs_="+I)),I=S;const Ni=f.g;if(Ni){const bs=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var et=I.h;et.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(mr(et,et.h),et.h=null))}if(I.G){const Ss=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Ss&&(I.wa=Ss,At(I.J,I.G,Ss))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),I=S;var yt=f;if(I.na=vo(I,I.L?I.ba:null,I.W),yt.L){ea(I.h,yt);var Bt=yt,le=I.O;le&&(Bt.H=le),Bt.D&&(bi(Bt),Zi(Bt)),I.g=yt}else _o(I);S.i.length>0&&Vn(S)}else ue[0]!="stop"&&ue[0]!="close"||Ci(S,7);else S.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?Ci(S,7):Yt(S):ue[0]!="noop"&&S.l&&S.l.qa(ue),S.A=0)}}vi(4)}catch{}}var Ge=class{constructor(f,T){this.g=f,this.map=T}};function mo(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function po(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Yi(f){return f.h?1:f.g?f.g.size:0}function ni(f,T){return f.h?f.h==T:f.g?f.g.has(T):!1}function mr(f,T){f.g?f.g.add(T):f.h=T}function ea(f,T){f.h&&f.h==T?f.h=null:f.g&&f.g.has(T)&&f.g.delete(T)}mo.prototype.cancel=function(){if(this.i=na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function na(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let T=f.i;for(const S of f.g.values())T=T.concat(S.G);return T}return F(f.i)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qt(f,T){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const I=f[S].indexOf("=");let X,et=null;I>=0?(X=f[S].substring(0,I),et=f[S].substring(I+1)):X=f[S],T(X,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}function Xt(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;f instanceof Xt?(this.l=f.l,Pe(this,f.j),this.o=f.o,this.g=f.g,Gn(this,f.u),this.h=f.h,_s(this,Es(f.i)),this.m=f.m):f&&(T=String(f).match(Ur))?(this.l=!1,Pe(this,T[1]||"",!0),this.o=ii(T[2]||""),this.g=ii(T[3]||"",!0),Gn(this,T[4]),this.h=ii(T[5]||"",!0),_s(this,T[6]||"",!0),this.m=ii(T[7]||"")):(this.l=!1,this.i=new ri(null,this.l))}Xt.prototype.toString=function(){const f=[];var T=this.j;T&&f.push(Qi(T,ia,!0),":");var S=this.g;return(S||T=="file")&&(f.push("//"),(T=this.o)&&f.push(Qi(T,ia,!0),"@"),f.push(xt(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Qi(S,S.charAt(0)=="/"?Si:ys,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Qi(S,Xi)),f.join("")},Xt.prototype.resolve=function(f){const T=Oe(this);let S=!!f.j;S?Pe(T,f.j):S=!!f.o,S?T.o=f.o:S=!!f.g,S?T.g=f.g:S=f.u!=null;var I=f.h;if(S)Gn(T,f.u);else if(S=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var X=T.h.lastIndexOf("/");X!=-1&&(I=T.h.slice(0,X+1)+I)}if(X=I,X==".."||X==".")I="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){I=X.lastIndexOf("/",0)==0,X=X.split("/");const et=[];for(let yt=0;yt<X.length;){const Bt=X[yt++];Bt=="."?I&&yt==X.length&&et.push(""):Bt==".."?((et.length>1||et.length==1&&et[0]!="")&&et.pop(),I&&yt==X.length&&et.push("")):(et.push(Bt),I=!0)}I=et.join("/")}else I=X}return S?T.h=I:S=f.i.toString()!=="",S?_s(T,Es(f.i)):S=!!f.m,S&&(T.m=f.m),T};function Oe(f){return new Xt(f)}function Pe(f,T,S){f.j=S?ii(T,!0):T,f.j&&(f.j=f.j.replace(/:$/,""))}function Gn(f,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);f.u=T}else f.u=null}function _s(f,T,S){T instanceof ri?(f.i=T,Br(f.i,f.l)):(S||(T=Qi(T,ve)),f.i=new ri(T,f.l))}function At(f,T,S){f.i.set(T,S)}function ye(f){return At(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ii(f,T){return f?T?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Qi(f,T,S){return typeof f=="string"?(f=encodeURI(f).replace(T,xe),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function xe(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ia=/[#\/\?@]/g,ys=/[#\?:]/g,Si=/[#\?]/g,ve=/[#\?@]/g,Xi=/#/g;function ri(f,T){this.h=this.g=null,this.i=f||null,this.j=!!T}function sn(f){f.g||(f.g=new Map,f.h=0,f.i&&Qt(f.i,function(T,S){f.add(decodeURIComponent(T.replace(/\+/g," ")),S)}))}r=ri.prototype,r.add=function(f,T){sn(this),this.i=null,f=Wi(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(T),this.h+=1,this};function ra(f,T){sn(f),T=Wi(f,T),f.g.has(T)&&(f.i=null,f.h-=f.g.get(T).length,f.g.delete(T))}function pr(f,T){return sn(f),T=Wi(f,T),f.g.has(T)}r.forEach=function(f,T){sn(this),this.g.forEach(function(S,I){S.forEach(function(X){f.call(T,X,I,this)},this)},this)};function vs(f,T){sn(f);let S=[];if(typeof T=="string")pr(f,T)&&(S=S.concat(f.g.get(Wi(f,T))));else for(f=Array.from(f.g.values()),T=0;T<f.length;T++)S=S.concat(f[T]);return S}r.set=function(f,T){return sn(this),this.i=null,f=Wi(this,f),pr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[T]),this.h+=1,this},r.get=function(f,T){return f?(f=vs(this,f),f.length>0?String(f[0]):T):T};function zr(f,T,S){ra(f,T),S.length>0&&(f.i=null,f.g.set(Wi(f,T),F(S)),f.h+=S.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],T=Array.from(this.g.keys());for(let I=0;I<T.length;I++){var S=T[I];const X=xt(S);S=vs(this,S);for(let et=0;et<S.length;et++){let yt=X;S[et]!==""&&(yt+="="+xt(S[et])),f.push(yt)}}return this.i=f.join("&")};function Es(f){const T=new ri;return T.i=f.i,f.g&&(T.g=new Map(f.g),T.h=f.h),T}function Wi(f,T){return T=String(T),f.j&&(T=T.toLowerCase()),T}function Br(f,T){T&&!f.j&&(sn(f),f.i=null,f.g.forEach(function(S,I){const X=I.toLowerCase();I!=X&&(ra(this,I),zr(this,X,S))},f)),f.j=T}function Dn(f,T){const S=new Ei;if(d.Image){const I=new Image;I.onload=A(Mn,S,"TestLoadImage: loaded",!0,T,I),I.onerror=A(Mn,S,"TestLoadImage: error",!1,T,I),I.onabort=A(Mn,S,"TestLoadImage: abort",!1,T,I),I.ontimeout=A(Mn,S,"TestLoadImage: timeout",!1,T,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else T(!1)}function sa(f,T){const S=new Ei,I=new AbortController,X=setTimeout(()=>{I.abort(),Mn(S,"TestPingServer: timeout",!1,T)},1e4);fetch(f,{signal:I.signal}).then(et=>{clearTimeout(X),et.ok?Mn(S,"TestPingServer: ok",!0,T):Mn(S,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(X),Mn(S,"TestPingServer: error",!1,T)})}function Mn(f,T,S,I,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),I(S)}catch{}}function jr(){this.g=new lo}function Mt(f){this.i=f.Sb||null,this.h=f.ab||!1}R(Mt,uo),Mt.prototype.g=function(){return new En(this.i,this.h)};function En(f,T){He.call(this),this.H=f,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(En,He),r=En.prototype,r.open=function(f,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=T,this.readyState=1,Zn(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(T.body=f),(this.H||d).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},r.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;he(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function he(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}r.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var T=f.value?f.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!f.done}))&&(this.response=this.responseText+=T)}f.done?gr(this):Zn(this),this.readyState==3&&he(this)}},r.Oa=function(f){this.g&&(this.response=this.responseText=f,gr(this))},r.Na=function(f){this.g&&(this.response=f,gr(this))},r.ga=function(){this.g&&gr(this)};function gr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Zn(f)}r.setRequestHeader=function(f,T){this.A.append(f,T)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],T=this.h.entries();for(var S=T.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=T.next();return f.join(`\r
`)};function Zn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(En.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function kn(f){let T="";return te(f,function(S,I){T+=I,T+=":",T+=S,T+=`\r
`}),T}function _r(f,T,S){t:{for(I in S){var I=!1;break t}I=!0}I||(S=kn(S),typeof f=="string"?S!=null&&xt(S):At(f,T,S))}function ee(f){He.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(ee,He);var si=/^https?$/i,yr=["POST","PUT"];r=ee.prototype,r.Fa=function(f){this.H=f},r.ea=function(f,T,S,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);T=T?T.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=N(E(this.Ca,this));try{this.B=!0,this.g.open(T,String(f),!0),this.B=!1}catch(et){Le(this,et);return}if(f=S||"",S=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var X in I)S.set(X,I[X]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const et of I.keys())S.set(et,I.get(et));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(S.keys()).find(et=>et.toLowerCase()=="content-type"),X=d.FormData&&f instanceof d.FormData,!(Array.prototype.indexOf.call(yr,T,void 0)>=0)||I||X||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,yt]of S)this.g.setRequestHeader(et,yt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(et){Le(this,et)}};function Le(f,T){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=T,f.o=5,Ai(f),Ji(f)}function Ai(f){f.A||(f.A=!0,qe(f,"complete"),qe(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,qe(this,"complete"),qe(this,"abort"),Ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},r.Xa=function(){Hr(this)};function Hr(f){if(f.h&&typeof h<"u"){if(f.v&&Ri(f)==4)setTimeout(f.Ca.bind(f),0);else if(qe(f,"readystatechange"),Ri(f)==4){f.h=!1;try{const et=f.ca();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break t;default:T=!1}var S;if(!(S=T)){var I;if(I=et===0){let yt=String(f.D).match(Ur)[1]||null;!yt&&d.self&&d.self.location&&(yt=d.self.location.protocol.slice(0,-1)),I=!si.test(yt?yt.toLowerCase():"")}S=I}if(S)qe(f,"complete"),qe(f,"success");else{f.o=6;try{var X=Ri(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",Ai(f)}}finally{Ji(f)}}}}function Ji(f,T){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,T||qe(f,"ready");try{S.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ri(f){return f.g?f.g.readyState:0}r.ca=function(){try{return Ri(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(f){if(this.g){var T=this.g.responseText;return f&&T.indexOf(f)==0&&(T=T.substring(f.length)),Tu(T)}};function an(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(f){const T={};f=(f.g&&Ri(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(V(f[I]))continue;var S=fo(f[I]);const X=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const et=T[X]||[];T[X]=et,et.push(S)}bt(T,function(I){return I.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $i(f,T,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||T}function vr(f){this.za=0,this.i=[],this.j=new Ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$i("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$i("baseRetryDelayMs",5e3,f),this.Za=$i("retryDelaySeedMs",1e4,f),this.Ta=$i("forwardChannelMaxRetries",2,f),this.va=$i("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(f&&f.concurrentRequestLimit),this.Ba=new jr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=vr.prototype,r.ka=8,r.I=1,r.connect=function(f,T,S,I){Ue(0),this.W=f,this.H=T||{},S&&I!==void 0&&(this.H.OSID=S,this.H.OAID=I),this.F=this.X,this.J=vo(this,null,this.W),Vn(this)};function Yt(f){if(Tn(f),f.I==3){var T=f.V++,S=Oe(f.J);if(At(S,"SID",f.M),At(S,"RID",T),At(S,"TYPE","terminate"),Er(f,S),T=new $n(f,f.j,T),T.M=2,T.A=ye(Oe(S)),S=!1,d.navigator&&d.navigator.sendBeacon)try{S=d.navigator.sendBeacon(T.A.toString(),"")}catch{}!S&&d.Image&&(new Image().src=T.A,S=!0),S||(T.g=Eo(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Zi(T)}Ii(f)}function qr(f){f.g&&(yo(f),f.g.cancel(),f.g=null)}function Tn(f){qr(f),f.v&&(d.clearTimeout(f.v),f.v=null),oa(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&d.clearTimeout(f.m),f.m=null)}function Vn(f){if(!po(f.h)&&!f.m){f.m=!0;var T=f.Ea;Pt||O(),kt||(Pt(),kt=!0),k.add(T,f),f.D=0}}function Ts(f,T){return Yi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=T.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Fi(E(f.Ea,f,T),vl(f,f.D)),f.D++,!0)}r.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new $n(this,this.j,f);let et=this.o;if(this.U&&(et?(et=z(et),gt(et,this.U)):et=this.U),this.u!==null||this.R||(X.J=et,et=null),this.S)t:{for(var T=0,S=0;S<this.i.length;S++){e:{var I=this.i[S];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(T+=I,T>4096){T=S;break t}if(T===4096||S===this.i.length-1){T=S+1;break t}}T=1e3}else T=1e3;T=yl(this,X,T),S=Oe(this.J),At(S,"RID",f),At(S,"CVER",22),this.G&&At(S,"X-HTTP-Session-Id",this.G),Er(this,S),et&&(this.R?T="headers="+xt(kn(et))+"&"+T:this.u&&_r(S,this.u,et)),mr(this.h,X),this.Ra&&At(S,"TYPE","init"),this.S?(At(S,"$req",T),At(S,"SID","null"),X.U=!0,Ti(X,S,null)):Ti(X,S,T),this.I=2}}else this.I==3&&(f?go(this,f):this.i.length==0||po(this.h)||go(this))};function go(f,T){var S;T?S=T.l:S=f.V++;const I=Oe(f.J);At(I,"SID",f.M),At(I,"RID",S),At(I,"AID",f.K),Er(f,I),f.u&&f.o&&_r(I,f.u,f.o),S=new $n(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),T&&(f.i=T.G.concat(f.i)),T=yl(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),mr(f.h,S),Ti(S,I,T)}function Er(f,T){f.H&&te(f.H,function(S,I){At(T,I,S)}),f.l&&te({},function(S,I){At(T,I,S)})}function yl(f,T,S){S=Math.min(f.i.length,S);const I=f.l?E(f.l.Ka,f.l,f):null;t:{var X=f.i;let Bt=-1;for(;;){const le=["count="+S];Bt==-1?S>0?(Bt=X[0].g,le.push("ofs="+Bt)):Bt=0:le.push("ofs="+Bt);let ue=!0;for(let Ce=0;Ce<S;Ce++){var et=X[Ce].g;const ai=X[Ce].map;if(et-=Bt,et<0)Bt=Math.max(0,X[Ce].g-100),ue=!1;else try{et="req"+et+"_"||"";try{var yt=ai instanceof Map?ai:Object.entries(ai);for(const[oi,Yn]of yt){let Ni=Yn;y(Yn)&&(Ni=fr(Yn)),le.push(et+oi+"="+encodeURIComponent(Ni))}}catch(oi){throw le.push(et+"type="+encodeURIComponent("_badmap")),oi}}catch{I&&I(ai)}}if(ue){yt=le.join("&");break t}}yt=void 0}return f=f.i.splice(0,S),T.G=f,yt}function _o(f){if(!f.g&&!f.v){f.Y=1;var T=f.Da;Pt||O(),kt||(Pt(),kt=!0),k.add(T,f),f.A=0}}function ws(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Fi(E(f.Da,f),vl(f,f.A)),f.A++,!0)}r.Da=function(){if(this.v=null,aa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Fi(E(this.Wa,this),f)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),qr(this),aa(this))};function yo(f){f.B!=null&&(d.clearTimeout(f.B),f.B=null)}function aa(f){f.g=new $n(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var T=Oe(f.na);At(T,"RID","rpc"),At(T,"SID",f.M),At(T,"AID",f.K),At(T,"CI",f.F?"0":"1"),!f.F&&f.ia&&At(T,"TO",f.ia),At(T,"TYPE","xmlhttp"),Er(f,T),f.u&&f.o&&_r(T,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=ye(Oe(T)),S.u=null,S.R=!0,wi(S,f)}r.Va=function(){this.C!=null&&(this.C=null,qr(this),ws(this),Ue(19))};function oa(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Kn(f,T){var S=null;if(f.g==T){oa(f),yo(f),f.g=null;var I=2}else if(ni(f.h,T))S=T.G,ea(f.h,T),I=1;else return;if(f.I!=0){if(T.o)if(I==1){S=T.u?T.u.length:0,T=Date.now()-T.F;var X=f.D;I=$s(),qe(I,new qi(I,S)),Vn(f)}else _o(f);else if(X=T.m,X==3||X==0&&T.X>0||!(I==1&&Ts(f,T)||I==2&&ws(f)))switch(S&&S.length>0&&(T=f.h,T.i=T.i.concat(S)),X){case 1:Ci(f,5);break;case 4:Ci(f,10);break;case 3:Ci(f,6);break;default:Ci(f,2)}}}function vl(f,T){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*T}function Ci(f,T){if(f.j.info("Error code "+T),T==2){var S=E(f.bb,f),I=f.Ua;const X=!I;I=new Xt(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(I,"https"),ye(I),X?Dn(I.toString(),S):sa(I.toString(),S)}else Ue(2);f.I=0,f.l&&f.l.pa(T),Ii(f),Tn(f)}r.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function Ii(f){if(f.I=0,f.ja=[],f.l){const T=na(f.h);(T.length!=0||f.i.length!=0)&&(nt(f.ja,T),nt(f.ja,f.i),f.h.i.length=0,F(f.i),f.i.length=0),f.l.oa()}}function vo(f,T,S){var I=S instanceof Xt?Oe(S):new Xt(S);if(I.g!="")T&&(I.g=T+"."+I.g),Gn(I,I.u);else{var X=d.location;I=X.protocol,T=T?T+"."+X.hostname:X.hostname,X=+X.port;const et=new Xt(null);I&&Pe(et,I),T&&(et.g=T),X&&Gn(et,X),S&&(et.h=S),I=et}return S=f.G,T=f.wa,S&&T&&At(I,S,T),At(I,"VER",f.ka),Er(f,I),I}function Eo(f,T,S){if(T&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=f.Aa&&!f.ma?new ee(new Mt({ab:S})):new ee(f.ma),T.Fa(f.L),T}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function la(){}r=la.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Fr(){}Fr.prototype.g=function(f,T){return new wn(f,T)};function wn(f,T){He.call(this),this.g=new vr(T),this.l=f,this.h=T&&T.messageUrlParams||null,f=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(f?f["X-WebChannel-Content-Type"]=T.messageContentType:f={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(f?f["X-WebChannel-Client-Profile"]=T.sa:f={"X-WebChannel-Client-Profile":T.sa}),this.g.U=f,(f=T&&T.Qb)&&!V(f)&&(this.g.u=f),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!V(T)&&(this.g.G=T,f=this.h,f!==null&&T in f&&(f=this.h,T in f&&delete f[T])),this.j=new Tr(this)}R(wn,He),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Yt(this.g)},wn.prototype.o=function(f){var T=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=fr(f),f=S);T.i.push(new Ge(T.Ya++,f)),T.I==3&&Vn(T)},wn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,wn.Z.N.call(this)};function To(f){$e.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var T=f.__sm__;if(T){t:{for(const S in T){f=S;break t}f=void 0}(this.i=f)&&(f=this.i,T=T!==null&&f in T?T[f]:void 0),this.data=T}else this.data=f}R(To,$e);function El(){Fn.call(this),this.status=1}R(El,Fn);function Tr(f){this.g=f}R(Tr,la),Tr.prototype.ra=function(){qe(this.g,"a")},Tr.prototype.qa=function(f){qe(this.g,new To(f))},Tr.prototype.pa=function(f){qe(this.g,new El)},Tr.prototype.oa=function(){qe(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,YT=function(){return new Fr},KT=function(){return $s()},ZT=Ve,Pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,_f=gs,co.COMPLETE="complete",GT=co,fl.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",He.prototype.listen=He.prototype.J,fc=fl,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,FT=ee}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});const M0="@firebase/firestore",k0="4.9.3";class gi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");let pu="12.7.0";const $o=new hg("@firebase/firestore");function Jl(){return $o.logLevel}function Rt(r,...t){if($o.logLevel<=re.DEBUG){const n=t.map(dg);$o.debug(`Firestore (${pu}): ${r}`,...n)}}function Ks(r,...t){if($o.logLevel<=re.ERROR){const n=t.map(dg);$o.error(`Firestore (${pu}): ${r}`,...n)}}function Rc(r,...t){if($o.logLevel<=re.WARN){const n=t.map(dg);$o.warn(`Firestore (${pu}): ${r}`,...n)}}function dg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function zt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,QT(r,s,n)}function QT(r,t,n){let s=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ks(s),new Error(s)}function _e(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||QT(t,l,s)}function Ft(r,t){return r}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends fs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yo{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class RC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(gi.UNAUTHENTICATED)))}shutdown(){}}class CC{constructor(t){this.t=t,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_e(this.o===void 0,42304);let s=this.i;const l=v=>this.i!==s?(s=this.i,n(v)):Promise.resolve();let h=new Yo;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Yo,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},y=v=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Yo)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_e(typeof s.accessToken=="string",31837,{l:s}),new RC(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string",2055,{h:t}),new gi(t)}}class IC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=gi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new IC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(gi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){_e(this.o===void 0,3512);const s=h=>{h.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,Rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>s(h)))};const l=h=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class mg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=PC(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<n&&(s+=t.charAt(l[h]%62))}return s}}function se(r,t){return r<t?-1:r>t?1:0}function Lp(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),h=t.charAt(s);if(l!==h)return _p(l)===_p(h)?se(l,h):_p(l)?1:-1}return se(r.length,t.length)}const LC=55296,DC=57343;function _p(r){const t=r.charCodeAt(0);return t>=LC&&t<=DC}function lu(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}const U0="__name__";class es{constructor(t,n,s){n===void 0?n=0:n>t.length&&zt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&zt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return es.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof es?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const h=es.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return se(t.length,n.length)}static compareSegments(t,n){const s=es.isNumericId(t),l=es.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?es.extractNumericId(t).compare(es.extractNumericId(n)):Lp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ka.fromString(t.substring(4,t.length-2))}}class Ne extends es{construct(t,n,s){return new Ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new St(ht.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new Ne(n)}static emptyPath(){return new Ne([])}}const MC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends es{construct(t,n,s){return new Pn(t,n,s)}static isValidIdentifier(t){return MC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U0}static keyField(){return new Pn([U0])}static fromServerFormat(t){const n=[];let s="",l=0;const h=()=>{if(s.length===0)throw new St(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new St(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new St(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=v,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(s+=y,l++):(h(),l++)}if(h(),d)throw new St(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pn(n)}static emptyPath(){return new Pn([])}}class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(Ne.fromString(t))}static fromName(t){return new Dt(Ne.fromString(t).popFirst(5))}static empty(){return new Dt(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new Ne(t.slice()))}}function XT(r,t,n){if(!n)throw new St(ht.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function kC(r,t,n,s){if(t===!0&&s===!0)throw new St(ht.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function z0(r){if(!Dt.isDocumentKey(r))throw new St(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function B0(r){if(Dt.isDocumentKey(r))throw new St(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function WT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function $f(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":zt(12329,{type:typeof r})}function qs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new St(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$f(r);throw new St(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function dn(r,t){const n={typeString:r};return t&&(n.value=t),n}function qc(r,t){if(!WT(r))throw new St(ht.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,h="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){n=`Expected '${s}' field to equal '${h.value}'`;break}}if(n)throw new St(ht.INVALID_ARGUMENT,n);return!0}const j0=-62135596800,H0=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(t){return Me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*H0);return new Me(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new St(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new St(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<j0)throw new St(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H0}_compareTo(t){return this.seconds===t.seconds?se(this.nanoseconds,t.nanoseconds):se(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qc(t,Me._jsonSchema))return new Me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-j0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Me._jsonSchemaVersion="firestore/timestamp/1.0",Me._jsonSchema={type:dn("string",Me._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};class jt{static fromTimestamp(t){return new jt(t)}static min(){return new jt(new Me(0,0))}static max(){return new jt(new Me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xc=-1;function VC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=jt.fromTimestamp(s===1e9?new Me(n+1,0):new Me(n,s));return new Xa(l,Dt.empty(),t)}function UC(r){return new Xa(r.readTime,r.key,xc)}class Xa{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Xa(jt.min(),Dt.empty(),xc)}static max(){return new Xa(jt.max(),Dt.empty(),xc)}}function zC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Dt.comparator(r.documentKey,t.documentKey),n!==0?n:se(r.largestBatchId,t.largestBatchId))}const BC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function gu(r){if(r.code!==ht.FAILED_PRECONDITION||r.message!==BC)throw r;Rt("LocalStore","Unexpectedly lost primary lease")}class mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&zt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new mt(((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof mt?n:mt.resolve(n)}catch(n){return mt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.reject(n)}static resolve(t){return new mt(((n,s)=>{n(t)}))}static reject(t){return new mt(((n,s)=>{s(t)}))}static waitFor(t){return new mt(((n,s)=>{let l=0,h=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++h,d&&h===l&&n()}),(v=>s(v)))})),d=!0,h===l&&n()}))}static or(t){let n=mt.resolve(!1);for(const s of t)n=n.next((l=>l?mt.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,h)=>{s.push(n.call(this,l,h))})),this.waitFor(s)}static mapArray(t,n){return new mt(((s,l)=>{const h=t.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const E=v;n(t[E]).next((A=>{d[E]=A,++y,y===h&&s(d)}),(A=>l(A)))}}))}static doWhile(t,n){return new mt(((s,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):s()};h()}))}}function HC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _u(r){return r.name==="IndexedDbTransactionError"}class td{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}td.ce=-1;const pg=-1;function ed(r){return r==null}function Pf(r){return r===0&&1/r==-1/0}function qC(r){return typeof r=="number"&&Number.isInteger(r)&&!Pf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const JT="";function FC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=q0(t)),t=GC(r.get(n),t);return q0(t)}function GC(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const h=r.charAt(l);switch(h){case"\0":n+="";break;case JT:n+="";break;default:n+=h}}return n}function q0(r){return r+JT+""}function F0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function io(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function $T(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class je{constructor(t,n){this.comparator=t,this.root=n||On.EMPTY}insert(t,n){return new je(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(t){return new je(this.comparator,this.root.remove(t,this.comparator).copy(null,null,On.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lf(this.root,t,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lf(this.root,t,this.comparator,!0)}}class lf{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?s(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class On{constructor(t,n,s,l,h){this.key=t,this.value=n,this.color=s??On.RED,this.left=l??On.EMPTY,this.right=h??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,h){return new On(t??this.key,n??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const h=s(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,s),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return On.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw zt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw zt(27949);return t+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw zt(57766)}get value(){throw zt(16141)}get color(){throw zt(16727)}get left(){throw zt(29726)}get right(){throw zt(36894)}copy(t,n,s,l,h){return this}insert(t,n,s){return new On(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _n{constructor(t){this.comparator=t,this.data=new je(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new G0(this.data.getIterator())}getIteratorFrom(t){return new G0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof _n)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new _n(this.comparator);return n.data=t,n}}class G0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ui{constructor(t){this.fields=t,t.sort(Pn.comparator)}static empty(){return new Ui([])}unionWith(t){let n=new _n(Pn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Ui(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return lu(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class tw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ln{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new tw("Invalid base64 string: "+h):h}})(t);return new Ln(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Ln(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return se(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const ZC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(r){if(_e(!!r,39018),typeof r=="string"){let t=0;const n=ZC.exec(r);if(_e(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:nn(r.seconds),nanos:nn(r.nanos)}}function nn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ja(r){return typeof r=="string"?Ln.fromBase64String(r):Ln.fromUint8Array(r)}const ew="server_timestamp",nw="__type__",iw="__previous_value__",rw="__local_write_time__";function gg(r){return(r?.mapValue?.fields||{})[nw]?.stringValue===ew}function nd(r){const t=r.mapValue.fields[iw];return gg(t)?nd(t):t}function Cc(r){const t=Wa(r.mapValue.fields[rw].timestampValue);return new Me(t.seconds,t.nanos)}class KC{constructor(t,n,s,l,h,d,y,v,E,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=E,this.isUsingEmulator=A}}const Lf="(default)";class Ic{constructor(t,n){this.projectId=t,this.database=n||Lf}static empty(){return new Ic("","")}get isDefaultDatabase(){return this.database===Lf}isEqual(t){return t instanceof Ic&&t.projectId===this.projectId&&t.database===this.database}}const sw="__type__",YC="__max__",uf={mapValue:{}},aw="__vector__",Df="value";function $a(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gg(r)?4:XC(r)?9007199254740991:QC(r)?10:11:zt(28295,{value:r})}function hs(r,t){if(r===t)return!0;const n=$a(r);if(n!==$a(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Cc(r).isEqual(Cc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Wa(l.timestampValue),y=Wa(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,h){return Ja(l.bytesValue).isEqual(Ja(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,h){return nn(l.geoPointValue.latitude)===nn(h.geoPointValue.latitude)&&nn(l.geoPointValue.longitude)===nn(h.geoPointValue.longitude)})(r,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return nn(l.integerValue)===nn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=nn(l.doubleValue),y=nn(h.doubleValue);return d===y?Pf(d)===Pf(y):isNaN(d)&&isNaN(y)}return!1})(r,t);case 9:return lu(r.arrayValue.values||[],t.arrayValue.values||[],hs);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},y=h.mapValue.fields||{};if(F0(d)!==F0(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!hs(d[v],y[v])))return!1;return!0})(r,t);default:return zt(52216,{left:r})}}function Nc(r,t){return(r.values||[]).find((n=>hs(n,t)))!==void 0}function uu(r,t){if(r===t)return 0;const n=$a(r),s=$a(t);if(n!==s)return se(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(r.booleanValue,t.booleanValue);case 2:return(function(h,d){const y=nn(h.integerValue||h.doubleValue),v=nn(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,t);case 3:return Z0(r.timestampValue,t.timestampValue);case 4:return Z0(Cc(r),Cc(t));case 5:return Lp(r.stringValue,t.stringValue);case 6:return(function(h,d){const y=Ja(h),v=Ja(d);return y.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let E=0;E<y.length&&E<v.length;E++){const A=se(y[E],v[E]);if(A!==0)return A}return se(y.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,d){const y=se(nn(h.latitude),nn(d.latitude));return y!==0?y:se(nn(h.longitude),nn(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return K0(r.arrayValue,t.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},E=y[Df]?.arrayValue,A=v[Df]?.arrayValue,R=se(E?.values?.length||0,A?.values?.length||0);return R!==0?R:K0(E,A)})(r.mapValue,t.mapValue);case 11:return(function(h,d){if(h===uf.mapValue&&d===uf.mapValue)return 0;if(h===uf.mapValue)return 1;if(d===uf.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),E=d.fields||{},A=Object.keys(E);v.sort(),A.sort();for(let R=0;R<v.length&&R<A.length;++R){const N=Lp(v[R],A[R]);if(N!==0)return N;const F=uu(y[v[R]],E[A[R]]);if(F!==0)return F}return se(v.length,A.length)})(r.mapValue,t.mapValue);default:throw zt(23264,{he:n})}}function Z0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return se(r,t);const n=Wa(r),s=Wa(t),l=se(n.seconds,s.seconds);return l!==0?l:se(n.nanos,s.nanos)}function K0(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const h=uu(n[l],s[l]);if(h)return h}return se(n.length,s.length)}function cu(r){return Dp(r)}function Dp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Wa(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ja(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Dt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const h of n.values||[])l?l=!1:s+=",",s+=Dp(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const d of s)h?h=!1:l+=",",l+=`${d}:${Dp(n.fields[d])}`;return l+"}"})(r.mapValue):zt(61005,{value:r})}function yf(r){switch($a(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nd(r);return t?16+yf(t):16;case 5:return 2*r.stringValue.length;case 6:return Ja(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,h)=>l+yf(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return io(s.fields,((h,d)=>{l+=h.length+yf(d)})),l})(r.mapValue);default:throw zt(13486,{value:r})}}function Y0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Mp(r){return!!r&&"integerValue"in r}function _g(r){return!!r&&"arrayValue"in r}function Q0(r){return!!r&&"nullValue"in r}function X0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vf(r){return!!r&&"mapValue"in r}function QC(r){return(r?.mapValue?.fields||{})[sw]?.stringValue===aw}function yc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return io(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=yc(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yc(r.arrayValue.values[n]);return t}return{...r}}function XC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===YC}class yi{constructor(t){this.value=t}static empty(){return new yi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!vf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=yc(n)}setAll(t){let n=Pn.emptyPath(),s={},l=[];t.forEach(((d,y)=>{if(!n.isImmediateParentOf(y)){const v=this.getFieldsMap(n);this.applyChanges(v,s,l),s={},l=[],n=y.popLast()}d?s[y.lastSegment()]=yc(d):l.push(y.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,s,l)}delete(t){const n=this.field(t.popLast());vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return hs(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];vf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){io(n,((l,h)=>t[l]=h));for(const l of s)delete t[l]}clone(){return new yi(yc(this.value))}}function ow(r){const t=[];return io(r.fields,((n,s)=>{const l=new Pn([n]);if(vf(s)){const h=ow(s.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Ui(t)}class Hn{constructor(t,n,s,l,h,d,y){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(t){return new Hn(t,0,jt.min(),jt.min(),jt.min(),yi.empty(),0)}static newFoundDocument(t,n,s,l){return new Hn(t,1,n,jt.min(),s,l,0)}static newNoDocument(t,n){return new Hn(t,2,n,jt.min(),jt.min(),yi.empty(),0)}static newUnknownDocument(t,n){return new Hn(t,3,n,jt.min(),jt.min(),yi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mf{constructor(t,n){this.position=t,this.inclusive=n}}function W0(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const h=t[l],d=r.position[l];if(h.field.isKeyField()?s=Dt.comparator(Dt.fromName(d.referenceValue),n.key):s=uu(d,n.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function J0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hs(r.position[n],t.position[n]))return!1;return!0}class Oc{constructor(t,n="asc"){this.field=t,this.dir=n}}function WC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class lw{}class fn extends lw{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new $C(t,n,s):n==="array-contains"?new nI(t,s):n==="in"?new iI(t,s):n==="not-in"?new rI(t,s):n==="array-contains-any"?new sI(t,s):new fn(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new tI(t,s):new eI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uu(n,this.value)):n!==null&&$a(this.value)===$a(n)&&this.matchesComparison(uu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return zt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends lw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Nr(t,n)}matches(t){return uw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uw(r){return r.op==="and"}function cw(r){return JC(r)&&uw(r)}function JC(r){for(const t of r.filters)if(t instanceof Nr)return!1;return!0}function kp(r){if(r instanceof fn)return r.field.canonicalString()+r.op.toString()+cu(r.value);if(cw(r))return r.filters.map((t=>kp(t))).join(",");{const t=r.filters.map((n=>kp(n))).join(",");return`${r.op}(${t})`}}function hw(r,t){return r instanceof fn?(function(s,l){return l instanceof fn&&s.op===l.op&&s.field.isEqual(l.field)&&hs(s.value,l.value)})(r,t):r instanceof Nr?(function(s,l){return l instanceof Nr&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((h,d,y)=>h&&hw(d,l.filters[y])),!0):!1})(r,t):void zt(19439)}function fw(r){return r instanceof fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${cu(n.value)}`})(r):r instanceof Nr?(function(n){return n.op.toString()+" {"+n.getFilters().map(fw).join(" ,")+"}"})(r):"Filter"}class $C extends fn{constructor(t,n,s){super(t,n,s),this.key=Dt.fromName(s.referenceValue)}matches(t){const n=Dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class tI extends fn{constructor(t,n){super(t,"in",n),this.keys=dw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class eI extends fn{constructor(t,n){super(t,"not-in",n),this.keys=dw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function dw(r,t){return(t.arrayValue?.values||[]).map((n=>Dt.fromName(n.referenceValue)))}class nI extends fn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return _g(n)&&Nc(n.arrayValue,this.value)}}class iI extends fn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Nc(this.value.arrayValue,n)}}class rI extends fn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nc(this.value.arrayValue,n)}}class sI extends fn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Nc(this.value.arrayValue,s)))}}class aI{constructor(t,n=null,s=[],l=[],h=null,d=null,y=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function $0(r,t=null,n=[],s=[],l=null,h=null,d=null){return new aI(r,t,n,s,l,h,d)}function yg(r){const t=Ft(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>kp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),ed(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>cu(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>cu(s))).join(",")),t.Te=n}return t.Te}function vg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!WC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!hw(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!J0(r.startAt,t.startAt)&&J0(r.endAt,t.endAt)}function Vp(r){return Dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yu{constructor(t,n=null,s=[],l=[],h=null,d="F",y=null,v=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oI(r,t,n,s,l,h,d,y){return new yu(r,t,n,s,l,h,d,y)}function Eg(r){return new yu(r)}function tE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function mw(r){return r.collectionGroup!==null}function vc(r){const t=Ft(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new _n(Pn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((E=>{E.isInequality()&&(y=y.add(E.field))}))})),y})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Oc(h,s))})),n.has(Pn.keyField().canonicalString())||t.Ie.push(new Oc(Pn.keyField(),s))}return t.Ie}function ss(r){const t=Ft(r);return t.Ee||(t.Ee=lI(t,vc(r))),t.Ee}function lI(r,t){if(r.limitType==="F")return $0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Oc(l.field,h)}));const n=r.endAt?new Mf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Mf(r.startAt.position,r.startAt.inclusive):null;return $0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Up(r,t){const n=r.filters.concat([t]);return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function zp(r,t,n){return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function id(r,t){return vg(ss(r),ss(t))&&r.limitType===t.limitType}function pw(r){return`${yg(ss(r))}|lt:${r.limitType}`}function $l(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>fw(l))).join(", ")}]`),ed(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>cu(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>cu(l))).join(",")),`Target(${s})`})(ss(r))}; limitType=${r.limitType})`}function rd(r,t){return t.isFoundDocument()&&(function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):Dt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,t)&&(function(s,l){for(const h of vc(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,y,v){const E=W0(d,y,v);return d.inclusive?E<=0:E<0})(s.startAt,vc(s),l)||s.endAt&&!(function(d,y,v){const E=W0(d,y,v);return d.inclusive?E>=0:E>0})(s.endAt,vc(s),l))})(r,t)}function uI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gw(r){return(t,n)=>{let s=!1;for(const l of vc(r)){const h=cI(l,t,n);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function cI(r,t,n){const s=r.field.isKeyField()?Dt.comparator(t.key,n.key):(function(h,d,y){const v=d.data.field(h),E=y.data.field(h);return v!==null&&E!==null?uu(v,E):zt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return zt(19790,{direction:r.dir})}}class ol{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){io(this.inner,((n,s)=>{for(const[l,h]of s)t(l,h)}))}isEmpty(){return $T(this.inner)}size(){return this.innerSize}}const hI=new je(Dt.comparator);function Ys(){return hI}const _w=new je(Dt.comparator);function dc(...r){let t=_w;for(const n of r)t=t.insert(n.key,n);return t}function yw(r){let t=_w;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ko(){return Ec()}function vw(){return Ec()}function Ec(){return new ol((r=>r.toString()),((r,t)=>r.isEqual(t)))}const fI=new je(Dt.comparator),dI=new _n(Dt.comparator);function ae(...r){let t=dI;for(const n of r)t=t.add(n);return t}const mI=new _n(se);function pI(){return mI}function Tg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(t)?"-0":t}}function Ew(r){return{integerValue:""+r}}function gI(r,t){return qC(t)?Ew(t):Tg(r,t)}class sd{constructor(){this._=void 0}}function _I(r,t,n){return r instanceof Pc?(function(l,h){const d={fields:{[nw]:{stringValue:ew},[rw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&gg(h)&&(h=nd(h)),h&&(d.fields[iw]=h),{mapValue:d}})(n,t):r instanceof Lc?ww(r,t):r instanceof Dc?bw(r,t):(function(l,h){const d=Tw(l,h),y=eE(d)+eE(l.Ae);return Mp(d)&&Mp(l.Ae)?Ew(y):Tg(l.serializer,y)})(r,t)}function yI(r,t,n){return r instanceof Lc?ww(r,t):r instanceof Dc?bw(r,t):n}function Tw(r,t){return r instanceof kf?(function(s){return Mp(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(t)?t:{integerValue:0}:null}class Pc extends sd{}class Lc extends sd{constructor(t){super(),this.elements=t}}function ww(r,t){const n=Sw(t);for(const s of r.elements)n.some((l=>hs(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Dc extends sd{constructor(t){super(),this.elements=t}}function bw(r,t){let n=Sw(t);for(const s of r.elements)n=n.filter((l=>!hs(l,s)));return{arrayValue:{values:n}}}class kf extends sd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function eE(r){return nn(r.integerValue||r.doubleValue)}function Sw(r){return _g(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class vI{constructor(t,n){this.field=t,this.transform=n}}function EI(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Lc&&l instanceof Lc||s instanceof Dc&&l instanceof Dc?lu(s.elements,l.elements,hs):s instanceof kf&&l instanceof kf?hs(s.Ae,l.Ae):s instanceof Pc&&l instanceof Pc})(r.transform,t.transform)}class TI{constructor(t,n){this.version=t,this.transformResults=n}}class ur{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ur}static exists(t){return new ur(void 0,t)}static updateTime(t){return new ur(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ef(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ad{}function Aw(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new wg(r.key,ur.none()):new Fc(r.key,r.data,ur.none());{const n=r.data,s=yi.empty();let l=new _n(Pn.comparator);for(let h of t.fields)if(!l.has(h)){let d=n.field(h);d===null&&h.length>1&&(h=h.popLast(),d=n.field(h)),d===null?s.delete(h):s.set(h,d),l=l.add(h)}return new ro(r.key,s,new Ui(l.toArray()),ur.none())}}function wI(r,t,n){r instanceof Fc?(function(l,h,d){const y=l.value.clone(),v=iE(l.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,n):r instanceof ro?(function(l,h,d){if(!Ef(l.precondition,h))return void h.convertToUnknownDocument(d.version);const y=iE(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Rw(l)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,n):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Tc(r,t,n,s){return r instanceof Fc?(function(h,d,y,v){if(!Ef(h.precondition,d))return y;const E=h.value.clone(),A=rE(h.fieldTransforms,v,d);return E.setAll(A),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),null})(r,t,n,s):r instanceof ro?(function(h,d,y,v){if(!Ef(h.precondition,d))return y;const E=rE(h.fieldTransforms,v,d),A=d.data;return A.setAll(Rw(h)),A.setAll(E),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((R=>R.field)))})(r,t,n,s):(function(h,d,y){return Ef(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,t,n)}function bI(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),h=Tw(s.transform,l||null);h!=null&&(n===null&&(n=yi.empty()),n.set(s.field,h))}return n||null}function nE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&lu(s,l,((h,d)=>EI(h,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fc extends ad{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ro extends ad{constructor(t,n,s,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Rw(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function iE(r,t,n){const s=new Map;_e(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const h=r[l],d=h.transform,y=t.data.field(h.field);s.set(h.field,yI(d,y,n[l]))}return s}function rE(r,t,n){const s=new Map;for(const l of r){const h=l.transform,d=n.data.field(l.field);s.set(l.field,_I(h,d,t))}return s}class wg extends ad{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SI extends ad{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AI{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&wI(h,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Tc(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Tc(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=vw();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=n.has(l.key)?null:y;const v=Aw(d,y);v!==null&&s.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(jt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),ae())}isEqual(t){return this.batchId===t.batchId&&lu(this.mutations,t.mutations,((n,s)=>nE(n,s)))&&lu(this.baseMutations,t.baseMutations,((n,s)=>nE(n,s)))}}class bg{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){_e(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return fI})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,s[d].version);return new bg(t,n,s,l)}}class RI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xI{constructor(t,n){this.count=t,this.unchangedNames=n}}var hn,ce;function CI(r){switch(r){case ht.OK:return zt(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return zt(15467,{code:r})}}function xw(r){if(r===void 0)return Ks("GRPC error has no .code"),ht.UNKNOWN;switch(r){case hn.OK:return ht.OK;case hn.CANCELLED:return ht.CANCELLED;case hn.UNKNOWN:return ht.UNKNOWN;case hn.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case hn.INTERNAL:return ht.INTERNAL;case hn.UNAVAILABLE:return ht.UNAVAILABLE;case hn.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case hn.NOT_FOUND:return ht.NOT_FOUND;case hn.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case hn.ABORTED:return ht.ABORTED;case hn.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case hn.DATA_LOSS:return ht.DATA_LOSS;default:return zt(39323,{code:r})}}(ce=hn||(hn={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";function II(){return new TextEncoder}const NI=new Ka([4294967295,4294967295],0);function sE(r){const t=II().encode(r),n=new qT;return n.update(t),new Uint8Array(n.digest())}function aE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Ka([n,s],0),new Ka([l,h],0)]}class Sg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(s<0)throw new mc(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ka.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(Ka.fromNumber(s)));return l.compare(NI)===1&&(l=new Ka([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=sE(t),[s,l]=aE(n);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,l,h);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Sg(h,l,n);return s.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const n=sE(t),[s,l]=aE(n);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,l,h);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class od{constructor(t,n,s,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Gc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new od(jt.min(),l,new je(se),Ys(),ae())}}class Gc{constructor(t,n,s,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Gc(s,n,ae(),ae(),ae())}}class Tf{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class Cw{constructor(t,n){this.targetId=t,this.Ce=n}}class Iw{constructor(t,n,s=Ln.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class oE{constructor(){this.ve=0,this.Fe=lE(),this.Me=Ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ae(),n=ae(),s=ae();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:zt(38017,{changeType:h})}})),new Gc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=lE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ys(),this.Je=cf(),this.He=cf(),this.Ye=new je(se)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:zt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(Vp(h))if(s===0){const d=new Dt(h.path);this.et(n,d,Hn.newNoDocument(d,jt.min()))}else _e(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const y=this.ut(t),v=y?this.ct(y,t,d):1;if(v!==0){this.it(n);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,E)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=n;let d,y;try{d=Ja(s).toUint8Array()}catch(v){if(v instanceof tw)return Rc("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Sg(d,l,h)}catch(v){return Rc(v instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(y)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Vp(y.target)){const v=new Dt(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Hn.newNoDocument(v,t))}h.Be&&(n.set(d,h.ke()),h.qe())}}));let s=ae();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const E=this.ot(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new od(t,n,this.Ye,this.je,s);return this.je=Ys(),this.Je=cf(),this.He=cf(),this.Ye=new je(se),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new oE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new _n(se),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new _n(se),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new oE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function cf(){return new je(Dt.comparator)}function lE(){return new je(Dt.comparator)}const PI={asc:"ASCENDING",desc:"DESCENDING"},LI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DI={and:"AND",or:"OR"};class MI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Bp(r,t){return r.useProto3Json||ed(t)?t:{value:t}}function Vf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nw(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function kI(r,t){return Vf(r,t.toTimestamp())}function as(r){return _e(!!r,49232),jt.fromTimestamp((function(n){const s=Wa(n);return new Me(s.seconds,s.nanos)})(r))}function Ag(r,t){return jp(r,t).canonicalString()}function jp(r,t){const n=(function(l){return new Ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function Ow(r){const t=Ne.fromString(r);return _e(kw(t),10190,{key:t.toString()}),t}function Hp(r,t){return Ag(r.databaseId,t.path)}function yp(r,t){const n=Ow(t);if(n.get(1)!==r.databaseId.projectId)throw new St(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new St(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Dt(Lw(n))}function Pw(r,t){return Ag(r.databaseId,t)}function VI(r){const t=Ow(r);return t.length===4?Ne.emptyPath():Lw(t)}function qp(r){return new Ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Lw(r){return _e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function uE(r,t,n){return{name:Hp(r,t),fields:n.value.mapValue.fields}}function UI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:zt(39313,{state:E})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(E,A){return E.useProto3Json?(_e(A===void 0||typeof A=="string",58123),Ln.fromBase64String(A||"")):(_e(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ln.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(E){const A=E.code===void 0?ht.UNKNOWN:xw(E.code);return new St(A,E.message||"")})(d);n=new Iw(s,l,h,y||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=yp(r,s.document.name),h=as(s.document.updateTime),d=s.document.createTime?as(s.document.createTime):jt.min(),y=new yi({mapValue:{fields:s.document.fields}}),v=Hn.newFoundDocument(l,h,d,y),E=s.targetIds||[],A=s.removedTargetIds||[];n=new Tf(E,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=yp(r,s.document),h=s.readTime?as(s.readTime):jt.min(),d=Hn.newNoDocument(l,h),y=s.removedTargetIds||[];n=new Tf([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=yp(r,s.document),h=s.removedTargetIds||[];n=new Tf([],h,l,null)}else{if(!("filter"in t))return zt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,d=new xI(l,h),y=s.targetId;n=new Cw(y,d)}}return n}function zI(r,t){let n;if(t instanceof Fc)n={update:uE(r,t.key,t.value)};else if(t instanceof wg)n={delete:Hp(r,t.key)};else if(t instanceof ro)n={update:uE(r,t.key,t.data),updateMask:YI(t.fieldMask)};else{if(!(t instanceof SI))return zt(16599,{Vt:t.type});n={verify:Hp(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(h,d){const y=d.transform;if(y instanceof Pc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Lc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Dc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof kf)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw zt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:kI(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:zt(27497)})(r,t.precondition)),n}function BI(r,t){return r&&r.length>0?(_e(t!==void 0,14353),r.map((n=>(function(l,h){let d=l.updateTime?as(l.updateTime):as(h);return d.isEqual(jt.min())&&(d=as(h)),new TI(d,l.transformResults||[])})(n,t)))):[]}function jI(r,t){return{documents:[Pw(r,t.path)]}}function HI(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Pw(r,l);const h=(function(E){if(E.length!==0)return Mw(Nr.create(E,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const d=(function(E){if(E.length!==0)return E.map((A=>(function(N){return{field:tu(N.field),direction:GI(N.dir)}})(A)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const y=Bp(r,t.limit);return y!==null&&(n.structuredQuery.limit=y),t.startAt&&(n.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(t.endAt)),{ft:n,parent:l}}function qI(r){let t=VI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){_e(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];n.where&&(h=(function(R){const N=Dw(R);return N instanceof Nr&&cw(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(R){return R.map((N=>(function(nt){return new Oc(eu(nt.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(nt.direction))})(N)))})(n.orderBy));let y=null;n.limit&&(y=(function(R){let N;return N=typeof R=="object"?R.value:R,ed(N)?null:N})(n.limit));let v=null;n.startAt&&(v=(function(R){const N=!!R.before,F=R.values||[];return new Mf(F,N)})(n.startAt));let E=null;return n.endAt&&(E=(function(R){const N=!R.before,F=R.values||[];return new Mf(F,N)})(n.endAt)),oI(t,l,d,h,y,"F",v,E)}function FI(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Dw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=eu(n.unaryFilter.field);return fn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=eu(n.unaryFilter.field);return fn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=eu(n.unaryFilter.field);return fn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=eu(n.unaryFilter.field);return fn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return zt(61313);default:return zt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return fn.create(eu(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return zt(58110);default:return zt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Nr.create(n.compositeFilter.filters.map((s=>Dw(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return zt(1026)}})(n.compositeFilter.op))})(r):zt(30097,{filter:r})}function GI(r){return PI[r]}function ZI(r){return LI[r]}function KI(r){return DI[r]}function tu(r){return{fieldPath:r.canonicalString()}}function eu(r){return Pn.fromServerFormat(r.fieldPath)}function Mw(r){return r instanceof fn?(function(n){if(n.op==="=="){if(X0(n.value))return{unaryFilter:{field:tu(n.field),op:"IS_NAN"}};if(Q0(n.value))return{unaryFilter:{field:tu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(X0(n.value))return{unaryFilter:{field:tu(n.field),op:"IS_NOT_NAN"}};if(Q0(n.value))return{unaryFilter:{field:tu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tu(n.field),op:ZI(n.op),value:n.value}}})(r):r instanceof Nr?(function(n){const s=n.getFilters().map((l=>Mw(l)));return s.length===1?s[0]:{compositeFilter:{op:KI(n.op),filters:s}}})(r):zt(54877,{filter:r})}function YI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function kw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class qa{constructor(t,n,s,l,h=jt.min(),d=jt.min(),y=Ln.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(t){return new qa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class QI{constructor(t){this.yt=t}}function XI(r){const t=qI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zp(t,t.limit,"L"):t}class WI{constructor(){this.Cn=new JI}addToCollectionParentIndex(t,n){return this.Cn.add(n),mt.resolve()}getCollectionParents(t,n){return mt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return mt.resolve()}deleteFieldIndex(t,n){return mt.resolve()}deleteAllFieldIndexes(t){return mt.resolve()}createTargetIndexes(t,n){return mt.resolve()}getDocumentsMatchingTarget(t,n){return mt.resolve(null)}getIndexType(t,n){return mt.resolve(0)}getFieldIndexes(t,n){return mt.resolve([])}getNextCollectionGroupToUpdate(t){return mt.resolve(null)}getMinOffset(t,n){return mt.resolve(Xa.min())}getMinOffsetFromCollectionGroup(t,n){return mt.resolve(Xa.min())}updateCollectionGroup(t,n,s){return mt.resolve()}updateIndexEntries(t,n){return mt.resolve()}}class JI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new _n(Ne.comparator),h=!l.has(s);return this.index[n]=l.add(s),h}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new _n(Ne.comparator)).toArray()}}const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vw=41943040;class _i{static withCacheSize(t){return new _i(t,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(Vw,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);class hu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new hu(0)}static cr(){return new hu(-1)}}const hE="LruGarbageCollector",Uw=1048576;function fE([r,t],[n,s]){const l=se(r,n);return l===0?se(t,s):l}class $I{constructor(t){this.Ir=t,this.buffer=new _n(fE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();fE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Rt(hE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_u(n)?Rt(hE,"Ignoring IndexedDB error during garbage collection: ",n):await gu(n)}await this.Vr(3e5)}))}}class e2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return mt.resolve(td.ce);const s=new $I(n);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(cE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,h,d,y,v,E;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(t,l)))).next((R=>(s=R,y=Date.now(),this.removeTargets(t,s,n)))).next((R=>(h=R,v=Date.now(),this.removeOrphanedDocuments(t,s)))).next((R=>(E=Date.now(),Jl()<=re.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${R} documents in `+(E-v)+`ms
Total Duration: ${E-A}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:R}))))}}function n2(r,t){return new e2(r,t)}class i2{constructor(){this.changes=new ol((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Hn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?mt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class r2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class s2{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Tc(s.mutation,l,Ui.empty(),Me.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,ae()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=ae()){const l=Ko();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((h=>{let d=dc();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=Ko();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,ae())))}populateOverlays(t,n,s){const l=[];return s.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,y)=>{n.set(d,y)}))}))}computeViews(t,n,s,l){let h=Ys();const d=Ec(),y=(function(){return Ec()})();return n.forEach(((v,E)=>{const A=s.get(E.key);l.has(E.key)&&(A===void 0||A.mutation instanceof ro)?h=h.insert(E.key,E):A!==void 0?(d.set(E.key,A.mutation.getFieldMask()),Tc(A.mutation,E,A.mutation.getFieldMask(),Me.now())):d.set(E.key,Ui.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((E,A)=>d.set(E,A))),n.forEach(((E,A)=>y.set(E,new r2(A,d.get(E)??null)))),y)))}recalculateAndSaveOverlays(t,n){const s=Ec();let l=new je(((d,y)=>d-y)),h=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const y of d)y.keys().forEach((v=>{const E=n.get(v);if(E===null)return;let A=s.get(v)||Ui.empty();A=y.applyToLocalView(E,A),s.set(v,A);const R=(l.get(y.batchId)||ae()).add(v);l=l.insert(y.batchId,R)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),E=v.key,A=v.value,R=vw();A.forEach((N=>{if(!h.has(N)){const F=Aw(n.get(N),s.get(N));F!==null&&R.set(N,F),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,E,R))}return mt.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return(function(d){return Dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):mw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-h.size):mt.resolve(Ko());let y=xc,v=h;return d.next((E=>mt.forEach(E,((A,R)=>(y<R.largestBatchId&&(y=R.largestBatchId),h.get(A)?mt.resolve():this.remoteDocumentCache.getEntry(t,A).next((N=>{v=v.insert(A,N)}))))).next((()=>this.populateOverlays(t,E,h))).next((()=>this.computeViews(t,v,E,ae()))).next((A=>({batchId:y,changes:yw(A)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Dt(n)).next((s=>{let l=dc();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const h=n.collectionGroup;let d=dc();return this.indexManager.getCollectionParents(t,h).next((y=>mt.forEach(y,(v=>{const E=(function(R,N){return new yu(N,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(n,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,E,s,l).next((A=>{A.forEach(((R,N)=>{d=d.insert(R,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,h,l)))).next((d=>{h.forEach(((v,E)=>{const A=E.getKey();d.get(A)===null&&(d=d.insert(A,Hn.newInvalidDocument(A)))}));let y=dc();return d.forEach(((v,E)=>{const A=h.get(v);A!==void 0&&Tc(A.mutation,E,Ui.empty(),Me.now()),rd(n,E)&&(y=y.insert(v,E))})),y}))}}class a2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return mt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:as(l.createTime)}})(n)),mt.resolve()}getNamedQuery(t,n){return mt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:XI(l.bundledQuery),readTime:as(l.readTime)}})(n)),mt.resolve()}}class o2{constructor(){this.overlays=new je(Dt.comparator),this.qr=new Map}getOverlay(t,n){return mt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ko();return mt.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&s.set(l,h)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,h)=>{this.St(t,n,h)})),mt.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),mt.resolve()}getOverlaysForCollection(t,n,s){const l=Ko(),h=n.length+1,d=new Dt(n.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,E=v.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===h&&v.largestBatchId>s&&l.set(v.getKey(),v)}return mt.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let h=new je(((E,A)=>E-A));const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let A=h.get(E.largestBatchId);A===null&&(A=Ko(),h=h.insert(E.largestBatchId,A)),A.set(E.getKey(),E)}}const y=Ko(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((E,A)=>y.set(E,A))),!(y.size()>=l)););return mt.resolve(y)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new RI(n,s));let h=this.qr.get(n);h===void 0&&(h=ae(),this.qr.set(n,h)),this.qr.set(n,h.add(s.key))}}class l2{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(t){return mt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,mt.resolve()}}class Rg{constructor(){this.Qr=new _n(Rn.$r),this.Ur=new _n(Rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Rn(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Rn(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new Dt(new Ne([])),s=new Rn(n,t),l=new Rn(n,t+1),h=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Dt(new Ne([])),s=new Rn(n,t),l=new Rn(n,t+1);let h=ae();return this.Ur.forEachInRange([s,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const n=new Rn(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Rn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Dt.comparator(t.key,n.key)||se(t.Yr,n.Yr)}static Kr(t,n){return se(t.Yr,n.Yr)||Dt.comparator(t.key,n.key)}}class u2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _n(Rn.$r)}checkEmpty(t){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new AI(h,n,s,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new Rn(y.key,h)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return mt.resolve(d)}lookupMutationBatch(t,n){return mt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),h=l<0?0:l;return mt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?pg:this.tr-1)}getAllMutationBatches(t){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Rn(n,0),l=new Rn(n,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,l],(d=>{const y=this.Xr(d.Yr);h.push(y)})),mt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new _n(se);return n.forEach((l=>{const h=new Rn(l,0),d=new Rn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{s=s.add(y.Yr)}))})),mt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let h=s;Dt.isDocumentKey(h)||(h=h.child(""));const d=new Rn(new Dt(h),0);let y=new _n(se);return this.Zr.forEachWhile((v=>{const E=v.key.path;return!!s.isPrefixOf(E)&&(E.length===l&&(y=y.add(v.Yr)),!0)}),d),mt.resolve(this.ti(y))}ti(t){const n=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return mt.forEach(n.mutations,(l=>{const h=new Rn(l.key,n.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Rn(n,0),l=this.Zr.firstAfterOrEqual(s);return mt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,mt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class c2{constructor(t){this.ri=t,this.docs=(function(){return new je(Dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),h=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return mt.resolve(s?s.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(t,n){let s=Ys();return n.forEach((l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Hn.newInvalidDocument(l))})),mt.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let h=Ys();const d=n.path,y=new Dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:E,value:{document:A}}=v.getNext();if(!d.isPrefixOf(E.path))break;E.path.length>d.length+1||zC(UC(A),s)<=0||(l.has(A.key)||rd(n,A))&&(h=h.insert(A.key,A.mutableCopy()))}return mt.resolve(h)}getAllFromCollectionGroup(t,n,s,l){zt(9500)}ii(t,n){return mt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new h2(this)}getSize(t){return mt.resolve(this.size)}}class h2 extends i2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),mt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class f2{constructor(t){this.persistence=t,this.si=new ol((n=>yg(n)),vg),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.oi=0,this._i=new Rg,this.targetCount=0,this.ai=hu.ur()}forEachTarget(t,n){return this.si.forEach(((s,l)=>n(l))),mt.resolve()}getLastRemoteSnapshotVersion(t){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return mt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),mt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new hu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,mt.resolve()}updateTargetData(t,n){return this.Pr(n),mt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,mt.resolve()}removeTargets(t,n,s){let l=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=n&&s.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),mt.waitFor(h).next((()=>l))}getTargetCount(t){return mt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return mt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),mt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),mt.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),mt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return mt.resolve(s)}containsKey(t,n){return mt.resolve(this._i.containsKey(n))}}class zw{constructor(t,n){this.ui={},this.overlays={},this.ci=new td(0),this.li=!1,this.li=!0,this.hi=new l2,this.referenceDelegate=t(this),this.Pi=new f2(this),this.indexManager=new WI,this.remoteDocumentCache=(function(l){return new c2(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new QI(n),this.Ii=new a2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new o2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new u2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){Rt("MemoryPersistence","Starting transaction:",t);const l=new d2(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,n){return mt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class d2 extends jC{constructor(t){super(),this.currentSequenceNumber=t}}class xg{constructor(t){this.persistence=t,this.Ri=new Rg,this.Vi=null}static mi(t){return new xg(t)}get fi(){if(this.Vi)return this.Vi;throw zt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),mt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),mt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),mt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.fi,(s=>{const l=Dt.fromPath(s);return this.gi(t,l).next((h=>{h||n.removeEntry(l,jt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return mt.or([()=>mt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Uf{constructor(t,n){this.persistence=t,this.pi=new ol((s=>FC(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=n2(this,n)}static mi(t,n){return new Uf(t,n)}Ei(){}di(t){return mt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return mt.forEach(this.pi,((s,l)=>this.br(t,s,l).next((h=>h?mt.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((y=>{y||(s++,h.removeEntry(d,jt.min()))})))).next((()=>h.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),mt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),mt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=yf(t.data.value)),n}br(t,n,s){return mt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return mt.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Cg{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=ae(),l=ae();for(const h of n.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Cg(t,n.fromCache,s,l)}}class m2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class p2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ax()?8:HC(qn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const h={result:null};return this.ys(t,n).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,n,l,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new m2;return this.Ss(t,n,d).next((y=>{if(h.result=y,this.Vs)return this.bs(t,n,d,y.size)}))})).next((()=>h.result))}bs(t,n,s,l){return s.documentReadCount<this.fs?(Jl()<=re.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",$l(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),mt.resolve()):(Jl()<=re.DEBUG&&Rt("QueryEngine","Query:",$l(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Jl()<=re.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",$l(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ss(n))):mt.resolve())}ys(t,n){if(tE(n))return mt.resolve(null);let s=ss(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=zp(n,null,"F"),s=ss(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((h=>{const d=ae(...h);return this.ps.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,s).next((v=>{const E=this.Ds(n,y);return this.Cs(n,E,d,v.readTime)?this.ys(t,zp(n,null,"F")):this.vs(t,E,n,v)}))))})))))}ws(t,n,s,l){return tE(n)||l.isEqual(jt.min())?mt.resolve(null):this.ps.getDocuments(t,s).next((h=>{const d=this.Ds(n,h);return this.Cs(n,d,s,l)?mt.resolve(null):(Jl()<=re.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),$l(n)),this.vs(t,d,n,VC(l,xc)).next((y=>y)))}))}Ds(t,n){let s=new _n(gw(t));return n.forEach(((l,h)=>{rd(t,h)&&(s=s.add(h))})),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,n,s){return Jl()<=re.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",$l(n)),this.ps.getDocumentsMatchingQuery(t,n,Xa.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((h=>(n.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Ig="LocalStore",g2=3e8;class _2{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new je(se),this.xs=new ol((h=>yg(h)),vg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new s2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function y2(r,t,n,s){return new _2(r,t,n,s)}async function Bw(r,t){const n=Ft(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((h=>(l=h,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],y=[];let v=ae();for(const E of l){d.push(E.batchId);for(const A of E.mutations)v=v.add(A.key)}for(const E of h){y.push(E.batchId);for(const A of E.mutations)v=v.add(A.key)}return n.localDocuments.getDocuments(s,v).next((E=>({Ls:E,removedBatchIds:d,addedBatchIds:y})))}))}))}function v2(r,t){const n=Ft(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),h=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,E,A){const R=E.batch,N=R.keys();let F=mt.resolve();return N.forEach((nt=>{F=F.next((()=>A.getEntry(v,nt))).next((Z=>{const B=E.docVersions.get(nt);_e(B!==null,48541),Z.version.compareTo(B)<0&&(R.applyToRemoteDocument(Z,E),Z.isValidDocument()&&(Z.setReadTime(E.commitVersion),A.addEntry(Z)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(v,R)))})(n,s,t,h).next((()=>h.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=ae();for(let E=0;E<y.mutationResults.length;++E)y.mutationResults[E].transformResults.length>0&&(v=v.add(y.batch.mutations[E].key));return v})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function jw(r){const t=Ft(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function E2(r,t){const n=Ft(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const y=[];t.targetChanges.forEach(((A,R)=>{const N=l.get(R);if(!N)return;y.push(n.Pi.removeMatchingKeys(h,A.removedDocuments,R).next((()=>n.Pi.addMatchingKeys(h,A.addedDocuments,R))));let F=N.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(R)!==null?F=F.withResumeToken(Ln.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,s)),l=l.insert(R,F),(function(Z,B,ot){return Z.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=g2?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(N,F,A)&&y.push(n.Pi.updateTargetData(h,F))}));let v=Ys(),E=ae();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(T2(h,d,t.documentUpdates).next((A=>{v=A.ks,E=A.qs}))),!s.isEqual(jt.min())){const A=n.Pi.getLastRemoteSnapshotVersion(h).next((R=>n.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));y.push(A)}return mt.waitFor(y).next((()=>d.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,v,E))).next((()=>v))})).then((h=>(n.Ms=l,h)))}function T2(r,t,n){let s=ae(),l=ae();return n.forEach((h=>s=s.add(h))),t.getEntries(r,s).next((h=>{let d=Ys();return n.forEach(((y,v)=>{const E=h.get(y);v.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(y)),v.isNoDocument()&&v.version.isEqual(jt.min())?(t.removeEntry(y,v.readTime),d=d.insert(y,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(v),d=d.insert(y,v)):Rt(Ig,"Ignoring outdated watch update for ",y,". Current version:",E.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function w2(r,t){const n=Ft(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=pg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function b2(r,t){const n=Ft(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,t).next((h=>h?(l=h,mt.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new qa(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Fp(r,t,n){const s=Ft(r),l=s.Ms.get(t),h=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_u(d))throw d;Rt(Ig,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function dE(r,t,n){const s=Ft(r);let l=jt.min(),h=ae();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,E,A){const R=Ft(v),N=R.xs.get(A);return N!==void 0?mt.resolve(R.Ms.get(N)):R.Pi.getTargetData(E,A)})(s,d,ss(t)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,n?l:jt.min(),n?h:ae()))).next((y=>(S2(s,uI(t),y),{documents:y,Qs:h})))))}function S2(r,t,n){let s=r.Os.get(t)||jt.min();n.forEach(((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(t,s)}class mE{constructor(){this.activeTargetIds=pI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class A2{constructor(){this.Mo=new mE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new mE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class R2{Oo(t){}shutdown(){}}const pE="ConnectivityMonitor";class gE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Rt(pE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Rt(pE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hf=null;function Gp(){return hf===null?hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():hf++,"0x"+hf.toString(16)}const vp="RestConnection",x2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Lf?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,h){const d=Gp(),y=this.zo(t,n.toUriEncodedString());Rt(vp,`Sending RPC '${t}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,h);const{host:E}=new URL(y),A=no(E);return this.Jo(t,y,v,s,A).then((R=>(Rt(vp,`Received RPC '${t}' ${d}: `,R),R)),(R=>{throw Rc(vp,`RPC '${t}' ${d} failed with error: `,R,"url: ",y,"request:",s),R}))}Ho(t,n,s,l,h,d){return this.Go(t,n,s,l,h)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),s&&s.headers.forEach(((l,h)=>t[h]=l))}zo(t,n){const s=x2[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class I2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const jn="WebChannelConnection";class N2 extends C2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,h){const d=Gp();return new Promise(((y,v)=>{const E=new FT;E.setWithCredentials(!0),E.listenOnce(GT.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case _f.NO_ERROR:const R=E.getResponseJson();Rt(jn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(R)),y(R);break;case _f.TIMEOUT:Rt(jn,`RPC '${t}' ${d} timed out`),v(new St(ht.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const N=E.getStatus();if(Rt(jn,`RPC '${t}' ${d} failed with status:`,N,"response text:",E.getResponseText()),N>0){let F=E.getResponseJson();Array.isArray(F)&&(F=F[0]);const nt=F?.error;if(nt&&nt.status&&nt.message){const Z=(function(ot){const st=ot.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(st)>=0?st:ht.UNKNOWN})(nt.status);v(new St(Z,nt.message))}else v(new St(ht.UNKNOWN,"Server responded with status "+E.getStatus()))}else v(new St(ht.UNAVAILABLE,"Connection failed."));break;default:zt(9055,{l_:t,streamId:d,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{Rt(jn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);Rt(jn,`RPC '${t}' ${d} sending request:`,l),E.send(n,"POST",A,s,15)}))}T_(t,n,s){const l=Gp(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=YT(),y=KT(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,n,s),v.encodeInitMessageHeaders=!0;const A=h.join("");Rt(jn,`Creating RPC '${t}' stream ${l}: ${A}`,v);const R=d.createWebChannel(A,v);this.I_(R);let N=!1,F=!1;const nt=new I2({Yo:B=>{F?Rt(jn,`Not sending because RPC '${t}' stream ${l} is closed:`,B):(N||(Rt(jn,`Opening RPC '${t}' stream ${l} transport.`),R.open(),N=!0),Rt(jn,`RPC '${t}' stream ${l} sending:`,B),R.send(B))},Zo:()=>R.close()}),Z=(B,ot,st)=>{B.listen(ot,(ct=>{try{st(ct)}catch(It){setTimeout((()=>{throw It}),0)}}))};return Z(R,fc.EventType.OPEN,(()=>{F||(Rt(jn,`RPC '${t}' stream ${l} transport opened.`),nt.o_())})),Z(R,fc.EventType.CLOSE,(()=>{F||(F=!0,Rt(jn,`RPC '${t}' stream ${l} transport closed`),nt.a_(),this.E_(R))})),Z(R,fc.EventType.ERROR,(B=>{F||(F=!0,Rc(jn,`RPC '${t}' stream ${l} transport errored. Name:`,B.name,"Message:",B.message),nt.a_(new St(ht.UNAVAILABLE,"The operation could not be completed")))})),Z(R,fc.EventType.MESSAGE,(B=>{if(!F){const ot=B.data[0];_e(!!ot,16349);const st=ot,ct=st?.error||st[0]?.error;if(ct){Rt(jn,`RPC '${t}' stream ${l} received error:`,ct);const It=ct.status;let Pt=(function(O){const M=hn[O];if(M!==void 0)return xw(M)})(It),kt=ct.message;Pt===void 0&&(Pt=ht.INTERNAL,kt="Unknown error status: "+It+" with message "+ct.message),F=!0,nt.a_(new St(Pt,kt)),R.close()}else Rt(jn,`RPC '${t}' stream ${l} received:`,ot),nt.u_(ot)}})),Z(y,ZT.STAT_EVENT,(B=>{B.stat===Pp.PROXY?Rt(jn,`RPC '${t}' stream ${l} detected buffering proxy`):B.stat===Pp.NOPROXY&&Rt(jn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{nt.__()}),0),nt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Ep(){return typeof document<"u"?document:null}function ld(r){return new MI(r,!0)}class Hw{constructor(t,n,s=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&Rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _E="PersistentStream";class qw{constructor(t,n,s,l,h,d,y,v){this.Mi=t,this.S_=s,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Hw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ht.RESOURCE_EXHAUSTED?(Ks(n.toString()),Ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new St(ht.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Rt(_E,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Rt(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class O2 extends qw{constructor(t,n,s,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=UI(this.serializer,t),s=(function(h){if(!("targetChange"in h))return jt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?jt.min():d.readTime?as(d.readTime):jt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=qp(this.serializer),n.addTarget=(function(h,d){let y;const v=d.target;if(y=Vp(v)?{documents:jI(h,v)}:{query:HI(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Nw(h,d.resumeToken);const E=Bp(h,d.expectedCount);E!==null&&(y.expectedCount=E)}else if(d.snapshotVersion.compareTo(jt.min())>0){y.readTime=Vf(h,d.snapshotVersion.toTimestamp());const E=Bp(h,d.expectedCount);E!==null&&(y.expectedCount=E)}return y})(this.serializer,t);const s=FI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=qp(this.serializer),n.removeTarget=t,this.q_(n)}}class P2 extends qw{constructor(t,n,s,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return _e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=BI(t.writeResults,t.commitTime),s=as(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=qp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>zI(this.serializer,s)))};this.q_(n)}}class L2{}class D2 extends L2{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new St(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,jp(n,s),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new St(ht.UNKNOWN,h.toString())}))}Ho(t,n,s,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(t,jp(n,s),l,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new St(ht.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class M2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ks(n),this.aa=!1):Rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const tl="RemoteStore";class k2{constructor(t,n,s,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ll(this)&&(Rt(tl,"Restarting streams for network reachability change."),await(async function(v){const E=Ft(v);E.Ea.add(4),await Zc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await ud(E)})(this))}))})),this.Ra=new M2(s,l)}}async function ud(r){if(ll(r))for(const t of r.da)await t(!0)}async function Zc(r){for(const t of r.da)await t(!1)}function Fw(r,t){const n=Ft(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Lg(n)?Pg(n):vu(n).O_()&&Og(n,t))}function Ng(r,t){const n=Ft(r),s=vu(n);n.Ia.delete(t),s.O_()&&Gw(n,t),n.Ia.size===0&&(s.O_()?s.L_():ll(n)&&n.Ra.set("Unknown"))}function Og(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vu(r).Y_(t)}function Gw(r,t){r.Va.Ue(t),vu(r).Z_(t)}function Pg(r){r.Va=new OI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),vu(r).start(),r.Ra.ua()}function Lg(r){return ll(r)&&!vu(r).x_()&&r.Ia.size>0}function ll(r){return Ft(r).Ea.size===0}function Zw(r){r.Va=void 0}async function V2(r){r.Ra.set("Online")}async function U2(r){r.Ia.forEach(((t,n)=>{Og(r,t)}))}async function z2(r,t){Zw(r),Lg(r)?(r.Ra.ha(t),Pg(r)):r.Ra.set("Unknown")}async function B2(r,t,n){if(r.Ra.set("Online"),t instanceof Iw&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const y of h.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(r,t)}catch(s){Rt(tl,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await zf(r,s)}else if(t instanceof Tf?r.Va.Ze(t):t instanceof Cw?r.Va.st(t):r.Va.tt(t),!n.isEqual(jt.min()))try{const s=await jw(r.localStore);n.compareTo(s)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(E);A&&h.Ia.set(E,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,E)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Ln.EMPTY_BYTE_STRING,A.snapshotVersion)),Gw(h,v);const R=new qa(A.target,v,E,A.sequenceNumber);Og(h,R)})),h.remoteSyncer.applyRemoteEvent(y)})(r,n)}catch(s){Rt(tl,"Failed to raise snapshot:",s),await zf(r,s)}}async function zf(r,t,n){if(!_u(t))throw t;r.Ea.add(1),await Zc(r),r.Ra.set("Offline"),n||(n=()=>jw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Rt(tl,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ud(r)}))}function Kw(r,t){return t().catch((n=>zf(r,n,t)))}async function cd(r){const t=Ft(r),n=to(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:pg;for(;j2(t);)try{const l=await w2(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,H2(t,l)}catch(l){await zf(t,l)}Yw(t)&&Qw(t)}function j2(r){return ll(r)&&r.Ta.length<10}function H2(r,t){r.Ta.push(t);const n=to(r);n.O_()&&n.X_&&n.ea(t.mutations)}function Yw(r){return ll(r)&&!to(r).x_()&&r.Ta.length>0}function Qw(r){to(r).start()}async function q2(r){to(r).ra()}async function F2(r){const t=to(r);for(const n of r.Ta)t.ea(n.mutations)}async function G2(r,t,n){const s=r.Ta.shift(),l=bg.from(s,t,n);await Kw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await cd(r)}async function Z2(r,t){t&&to(r).X_&&await(async function(s,l){if((function(d){return CI(d)&&d!==ht.ABORTED})(l.code)){const h=s.Ta.shift();to(s).B_(),await Kw(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,l))),await cd(s)}})(r,t),Yw(r)&&Qw(r)}async function yE(r,t){const n=Ft(r);n.asyncQueue.verifyOperationInProgress(),Rt(tl,"RemoteStore received new credentials");const s=ll(n);n.Ea.add(3),await Zc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ud(n)}async function K2(r,t){const n=Ft(r);t?(n.Ea.delete(2),await ud(n)):t||(n.Ea.add(2),await Zc(n),n.Ra.set("Unknown"))}function vu(r){return r.ma||(r.ma=(function(n,s,l){const h=Ft(n);return h.sa(),new O2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:V2.bind(null,r),t_:U2.bind(null,r),r_:z2.bind(null,r),H_:B2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Lg(r)?Pg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Zw(r))}))),r.ma}function to(r){return r.fa||(r.fa=(function(n,s,l){const h=Ft(n);return h.sa(),new P2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:q2.bind(null,r),r_:Z2.bind(null,r),ta:F2.bind(null,r),na:G2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await cd(r)):(await r.fa.stop(),r.Ta.length>0&&(Rt(tl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Dg{constructor(t,n,s,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new Yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,h){const d=Date.now()+s,y=new Dg(t,n,d,l,h);return y.start(s),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(r,t){if(Ks("AsyncQueue",`${t}: ${r}`),_u(r))return new St(ht.UNAVAILABLE,`${t}: ${r}`);throw r}class iu{static emptySet(t){return new iu(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Dt.comparator(n.key,s.key):(n,s)=>Dt.comparator(n.key,s.key),this.keyedMap=dc(),this.sortedSet=new je(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof iu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new iu;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class vE{constructor(){this.ga=new je(Dt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):zt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class fu{constructor(t,n,s,l,h,d,y,v,E){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(t,n,s,l,h){const d=[];return n.forEach((y=>{d.push({type:0,doc:y})})),new fu(t,n,iu.emptySet(n),d,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&id(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class Y2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Q2{constructor(){this.queries=EE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Ft(n),h=l.queries;l.queries=EE(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new St(ht.ABORTED,"Firestore shutting down"))}}function EE(){return new ol((r=>pw(r)),id)}async function X2(r,t){const n=Ft(r);let s=3;const l=t.query;let h=n.queries.get(l);h?!h.ba()&&t.Da()&&(s=2):(h=new Y2,s=t.Da()?0:1);try{switch(s){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const y=Mg(d,`Initialization of query '${$l(t.query)}' failed`);return void t.onError(y)}n.queries.set(l,h),h.Sa.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&kg(n)}async function W2(r,t){const n=Ft(r),s=t.query;let l=3;const h=n.queries.get(s);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function J2(r,t){const n=Ft(r);let s=!1;for(const l of t){const h=l.query,d=n.queries.get(h);if(d){for(const y of d.Sa)y.Fa(l)&&(s=!0);d.wa=l}}s&&kg(n)}function $2(r,t,n){const s=Ft(r),l=s.queries.get(t);if(l)for(const h of l.Sa)h.onError(n);s.queries.delete(t)}function kg(r){r.Ca.forEach((t=>{t.next()}))}var Zp,TE;(TE=Zp||(Zp={})).Ma="default",TE.Cache="cache";class tN{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new fu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=fu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Zp.Cache}}class Xw{constructor(t){this.key=t}}class Ww{constructor(t){this.key=t}}class eN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=gw(t),this.tu=new iu(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new vE,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,d=l,y=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,R)=>{const N=l.get(A),F=rd(this.query,R)?R:null,nt=!!N&&this.mutatedKeys.has(N.key),Z=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let B=!1;N&&F?N.data.isEqual(F.data)?nt!==Z&&(s.track({type:3,doc:F}),B=!0):this.su(N,F)||(s.track({type:2,doc:F}),B=!0,(v&&this.eu(F,v)>0||E&&this.eu(F,E)<0)&&(y=!0)):!N&&F?(s.track({type:0,doc:F}),B=!0):N&&!F&&(s.track({type:1,doc:N}),B=!0,(v||E)&&(y=!0)),B&&(F?(d=d.add(F),h=Z?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:y,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,R)=>(function(F,nt){const Z=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt(20277,{Rt:B})}};return Z(F)-Z(nt)})(A.type,R.type)||this.eu(A.doc,R.doc))),this.ou(s),l=l??!1;const y=n&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,E=v!==this.Za;return this.Za=v,d.length!==0||E?{snapshot:new fu(this.query,t.tu,h,d,t.mutatedKeys,v===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ae(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new Ww(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new Xw(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=ae();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return fu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vg="SyncEngine";class nN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class iN{constructor(t){this.key=t,this.hu=!1}}class rN{constructor(t,n,s,l,h,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ol((y=>pw(y)),id),this.Iu=new Map,this.Eu=new Set,this.du=new je(Dt.comparator),this.Au=new Map,this.Ru=new Rg,this.Vu={},this.mu=new Map,this.fu=hu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sN(r,t,n=!0){const s=ib(r);let l;const h=s.Tu.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await Jw(s,t,n,!0),l}async function aN(r,t){const n=ib(r);await Jw(n,t,!0,!1)}async function Jw(r,t,n,s){const l=await b2(r.localStore,ss(t)),h=l.targetId,d=r.sharedClientState.addLocalQueryTarget(h,n);let y;return s&&(y=await oN(r,t,h,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&Fw(r.remoteStore,l),y}async function oN(r,t,n,s,l){r.pu=(R,N,F)=>(async function(Z,B,ot,st){let ct=B.view.ru(ot);ct.Cs&&(ct=await dE(Z.localStore,B.query,!1).then((({documents:k})=>B.view.ru(k,ct))));const It=st&&st.targetChanges.get(B.targetId),Pt=st&&st.targetMismatches.get(B.targetId)!=null,kt=B.view.applyChanges(ct,Z.isPrimaryClient,It,Pt);return bE(Z,B.targetId,kt.au),kt.snapshot})(r,R,N,F);const h=await dE(r.localStore,t,!0),d=new eN(t,h.Qs),y=d.ru(h.documents),v=Gc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),E=d.applyChanges(y,r.isPrimaryClient,v);bE(r,n,E.au);const A=new nN(t,n,d);return r.Tu.set(t,A),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),E.snapshot}async function lN(r,t,n){const s=Ft(r),l=s.Tu.get(t),h=s.Iu.get(l.targetId);if(h.length>1)return s.Iu.set(l.targetId,h.filter((d=>!id(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Fp(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Ng(s.remoteStore,l.targetId),Kp(s,l.targetId)})).catch(gu)):(Kp(s,l.targetId),await Fp(s.localStore,l.targetId,!0))}async function uN(r,t){const n=Ft(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ng(n.remoteStore,s.targetId))}async function cN(r,t,n){const s=_N(r);try{const l=await(function(d,y){const v=Ft(d),E=Me.now(),A=y.reduce(((F,nt)=>F.add(nt.key)),ae());let R,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let nt=Ys(),Z=ae();return v.Ns.getEntries(F,A).next((B=>{nt=B,nt.forEach(((ot,st)=>{st.isValidDocument()||(Z=Z.add(ot))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,nt))).next((B=>{R=B;const ot=[];for(const st of y){const ct=bI(st,R.get(st.key).overlayedDocument);ct!=null&&ot.push(new ro(st.key,ct,ow(ct.value.mapValue),ur.exists(!0)))}return v.mutationQueue.addMutationBatch(F,E,ot,y)})).next((B=>{N=B;const ot=B.applyToLocalDocumentSet(R,Z);return v.documentOverlayCache.saveOverlays(F,B.batchId,ot)}))})).then((()=>({batchId:N.batchId,changes:yw(R)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,y,v){let E=d.Vu[d.currentUser.toKey()];E||(E=new je(se)),E=E.insert(y,v),d.Vu[d.currentUser.toKey()]=E})(s,l.batchId,n),await Kc(s,l.changes),await cd(s.remoteStore)}catch(l){const h=Mg(l,"Failed to persist write");n.reject(h)}}async function $w(r,t){const n=Ft(r);try{const s=await E2(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=n.Au.get(h);d&&(_e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?_e(d.hu,14607):l.removedDocuments.size>0&&(_e(d.hu,42227),d.hu=!1))})),await Kc(n,s,t)}catch(s){await gu(s)}}function wE(r,t,n){const s=Ft(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((h,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const v=Ft(d);v.onlineState=y;let E=!1;v.queries.forEach(((A,R)=>{for(const N of R.Sa)N.va(y)&&(E=!0)})),E&&kg(v)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function hN(r,t,n){const s=Ft(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),h=l&&l.key;if(h){let d=new je(Dt.comparator);d=d.insert(h,Hn.newNoDocument(h,jt.min()));const y=ae().add(h),v=new od(jt.min(),new Map,new je(se),d,y);await $w(s,v),s.du=s.du.remove(h),s.Au.delete(t),Ug(s)}else await Fp(s.localStore,t,!1).then((()=>Kp(s,t,n))).catch(gu)}async function fN(r,t){const n=Ft(r),s=t.batch.batchId;try{const l=await v2(n.localStore,t);eb(n,s,null),tb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Kc(n,l)}catch(l){await gu(l)}}async function dN(r,t,n){const s=Ft(r);try{const l=await(function(d,y){const v=Ft(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let A;return v.mutationQueue.lookupMutationBatch(E,y).next((R=>(_e(R!==null,37113),A=R.keys(),v.mutationQueue.removeMutationBatch(E,R)))).next((()=>v.mutationQueue.performConsistencyCheck(E))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(E,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,A))).next((()=>v.localDocuments.getDocuments(E,A)))}))})(s.localStore,t);eb(s,t,n),tb(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Kc(s,l)}catch(l){await gu(l)}}function tb(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function eb(r,t,n){const s=Ft(r);let l=s.Vu[s.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Kp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||nb(r,s)}))}function nb(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Ng(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Ug(r))}function bE(r,t,n){for(const s of n)s instanceof Xw?(r.Ru.addReference(s.key,t),mN(r,s)):s instanceof Ww?(Rt(Vg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||nb(r,s.key)):zt(19791,{wu:s})}function mN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(Rt(Vg,"New document in limbo: "+n),r.Eu.add(s),Ug(r))}function Ug(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new Dt(Ne.fromString(t)),s=r.fu.next();r.Au.set(s,new iN(n)),r.du=r.du.insert(n,s),Fw(r.remoteStore,new qa(ss(Eg(n.path)),s,"TargetPurposeLimboResolution",td.ce))}}async function Kc(r,t,n){const s=Ft(r),l=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,t,n).then((E=>{if((E||n)&&s.isPrimaryClient){const A=E?!E.fromCache:n?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(E){l.push(E);const A=Cg.As(v.targetId,E);h.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(v,E){const A=Ft(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>mt.forEach(E,(N=>mt.forEach(N.Es,(F=>A.persistence.referenceDelegate.addReference(R,N.targetId,F))).next((()=>mt.forEach(N.ds,(F=>A.persistence.referenceDelegate.removeReference(R,N.targetId,F)))))))))}catch(R){if(!_u(R))throw R;Rt(Ig,"Failed to update sequence numbers: "+R)}for(const R of E){const N=R.targetId;if(!R.fromCache){const F=A.Ms.get(N),nt=F.snapshotVersion,Z=F.withLastLimboFreeSnapshotVersion(nt);A.Ms=A.Ms.insert(N,Z)}}})(s.localStore,h))}async function pN(r,t){const n=Ft(r);if(!n.currentUser.isEqual(t)){Rt(Vg,"User change. New user:",t.toKey());const s=await Bw(n.localStore,t);n.currentUser=t,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new St(ht.CANCELLED,d))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Kc(n,s.Ls)}}function gN(r,t){const n=Ft(r),s=n.Au.get(t);if(s&&s.hu)return ae().add(s.key);{let l=ae();const h=n.Iu.get(t);if(!h)return l;for(const d of h){const y=n.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function ib(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=$w.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hN.bind(null,t),t.Pu.H_=J2.bind(null,t.eventManager),t.Pu.yu=$2.bind(null,t.eventManager),t}function _N(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dN.bind(null,t),t}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ld(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return y2(this.persistence,new p2,t.initialUser,this.serializer)}Cu(t){return new zw(xg.mi,this.serializer)}Du(t){return new A2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class yN extends Bf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){_e(this.persistence.referenceDelegate instanceof Uf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new t2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new zw((s=>Uf.mi(s,n)),this.serializer)}}class Yp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pN.bind(null,this.syncEngine),await K2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Q2})()}createDatastore(t){const n=ld(t.databaseInfo.databaseId),s=(function(h){return new N2(h)})(t.databaseInfo);return(function(h,d,y,v){return new D2(h,d,y,v)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,h,d,y){return new k2(s,l,h,d,y)})(this.localStore,this.datastore,t.asyncQueue,(n=>wE(this.syncEngine,n,0)),(function(){return gE.v()?new gE:new R2})())}createSyncEngine(t,n){return(function(l,h,d,y,v,E,A){const R=new rN(l,h,d,y,v,E);return A&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ft(n);Rt(tl,"RemoteStore shutting down."),s.Ea.add(5),await Zc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yp.provider={build:()=>new Yp};class vN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ks("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const eo="FirestoreClient";class EN{constructor(t,n,s,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=gi.UNAUTHENTICATED,this.clientId=mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{Rt(eo,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(Rt(eo,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Mg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Tp(r,t){r.asyncQueue.verifyOperationInProgress(),Rt(eo,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Bw(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function SE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await TN(r);Rt(eo,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>yE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>yE(t.remoteStore,l))),r._onlineComponents=t}async function TN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Rt(eo,"Using user provided OfflineComponentProvider");try{await Tp(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ht.FAILED_PRECONDITION||l.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Rc("Error using user provided cache. Falling back to memory cache: "+n),await Tp(r,new Bf)}}else Rt(eo,"Using default OfflineComponentProvider"),await Tp(r,new yN(void 0));return r._offlineComponents}async function rb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Rt(eo,"Using user provided OnlineComponentProvider"),await SE(r,r._uninitializedComponentsProvider._online)):(Rt(eo,"Using default OnlineComponentProvider"),await SE(r,new Yp))),r._onlineComponents}function wN(r){return rb(r).then((t=>t.syncEngine))}async function AE(r){const t=await rb(r),n=t.eventManager;return n.onListen=sN.bind(null,t.syncEngine),n.onUnlisten=lN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=aN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=uN.bind(null,t.syncEngine),n}function sb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const RE=new Map;const bN="firestore.googleapis.com",xE=!0;class CE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new St(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bN,this.ssl=xE}else this.host=t.host,this.ssl=t.ssl??xE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Vw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Uw)throw new St(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new St(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new St(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new St(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zg{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new xC;switch(s.type){case"firstParty":return new NC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new St(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=RE.get(n);s&&(Rt("ComponentProvider","Removing Datastore"),RE.delete(n),s.terminate())})(this),Promise.resolve()}}class ul{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ul(this.firestore,t,this._query)}}class rn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new rn(this.firestore,t,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(qc(n,rn._jsonSchema))return new rn(t,s||null,new Dt(Ne.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:dn("string",rn._jsonSchemaVersion),referencePath:dn("string")};class Ya extends ul{constructor(t,n,s){super(t,n,Eg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new rn(this.firestore,null,new Dt(t))}withConverter(t){return new Ya(this.firestore,t,this._path)}}function Qp(r,t,...n){if(r=Qe(r),XT("collection","path",t),r instanceof zg){const s=Ne.fromString(t,...n);return B0(s),new Ya(r,null,s)}{if(!(r instanceof rn||r instanceof Ya))throw new St(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ne.fromString(t,...n));return B0(s),new Ya(r.firestore,null,s)}}function Fa(r,t,...n){if(r=Qe(r),arguments.length===1&&(t=mg.newId()),XT("doc","path",t),r instanceof zg){const s=Ne.fromString(t,...n);return z0(s),new rn(r,null,new Dt(s))}{if(!(r instanceof rn||r instanceof Ya))throw new St(ht.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ne.fromString(t,...n));return z0(s),new rn(r.firestore,r instanceof Ya?r.converter:null,new Dt(s))}}const IE="AsyncQueue";class NE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Hw(this,"async_queue_retry"),this._c=()=>{const s=Ep();s&&Rt(IE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Yo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_u(t))throw t;Rt(IE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ks("INTERNAL UNHANDLED ERROR: ",OE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Dg.createAndSchedule(this,t,n,s,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&zt(47125,{Pc:OE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function OE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function PE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const h of s)if(h in l&&typeof l[h]=="function")return!0;return!1})(r,["next","error","complete"])}class el extends zg{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new NE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NE(t),this._firestoreClient=void 0,await t}}}function SN(r,t,n){n||(n=Lf);const s=Jf(r,"firestore");if(s.isInitialized(n)){const l=s.getImmediate({identifier:n}),h=s.getOptions(n);if(Wo(h,t))return l;throw new St(ht.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new St(ht.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Uw)throw new St(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&no(t.host)&&cg(t.host),s.initialize({options:t,instanceIdentifier:n})}function ab(r){if(r._terminated)throw new St(ht.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AN(r),r._firestoreClient}function AN(r){const t=r._freezeSettings(),n=(function(l,h,d,y){return new KC(l,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,sb(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new EN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(r._componentsProvider))}class lr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new lr(Ln.fromBase64String(t))}catch(n){throw new St(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new lr(Ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qc(t,lr._jsonSchema))return lr.fromBase64String(t.bytes)}}lr._jsonSchemaVersion="firestore/bytes/1.0",lr._jsonSchema={type:dn("string",lr._jsonSchemaVersion),bytes:dn("string")};class hd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new St(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class fd{constructor(t){this._methodName=t}}class os{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new St(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new St(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return se(this._lat,t._lat)||se(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:os._jsonSchemaVersion}}static fromJSON(t){if(qc(t,os._jsonSchema))return new os(t.latitude,t.longitude)}}os._jsonSchemaVersion="firestore/geoPoint/1.0",os._jsonSchema={type:dn("string",os._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};class ls{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qc(t,ls._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ls(t.vectorValues);throw new St(ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ls._jsonSchemaVersion="firestore/vectorValue/1.0",ls._jsonSchema={type:dn("string",ls._jsonSchemaVersion),vectorValues:dn("object")};const RN=/^__.*__$/;class xN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ro(t,this.data,this.fieldMask,n,this.fieldTransforms):new Fc(t,this.data,n,this.fieldTransforms)}}class ob{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ro(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function lb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt(40011,{Ac:r})}}class Bg{constructor(t,n,s,l,h,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Bg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return jf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(lb(this.Ac)&&RN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class CN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ld(t)}Cc(t,n,s,l=!1){return new Bg({Ac:t,methodName:n,Dc:s,path:Pn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dd(r){const t=r._freezeSettings(),n=ld(r._databaseId);return new CN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function ub(r,t,n,s,l,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,t,n,l);Hg("Data must be an object, but it was:",d,s);const y=cb(s,d);let v,E;if(h.merge)v=new Ui(d.fieldMask),E=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const R of h.mergeFields){const N=Xp(t,R,n);if(!d.contains(N))throw new St(ht.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);fb(A,N)||A.push(N)}v=new Ui(A),E=d.fieldTransforms.filter((R=>v.covers(R.field)))}else v=null,E=d.fieldTransforms;return new xN(new yi(y),v,E)}class md extends fd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof md}}class jg extends fd{_toFieldTransform(t){return new vI(t.path,new Pc)}isEqual(t){return t instanceof jg}}function IN(r,t,n,s){const l=r.Cc(1,t,n);Hg("Data must be an object, but it was:",l,s);const h=[],d=yi.empty();io(s,((v,E)=>{const A=qg(t,v,n);E=Qe(E);const R=l.yc(A);if(E instanceof md)h.push(A);else{const N=Yc(E,R);N!=null&&(h.push(A),d.set(A,N))}}));const y=new Ui(h);return new ob(d,y,l.fieldTransforms)}function NN(r,t,n,s,l,h){const d=r.Cc(1,t,n),y=[Xp(t,s,n)],v=[l];if(h.length%2!=0)throw new St(ht.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)y.push(Xp(t,h[N])),v.push(h[N+1]);const E=[],A=yi.empty();for(let N=y.length-1;N>=0;--N)if(!fb(E,y[N])){const F=y[N];let nt=v[N];nt=Qe(nt);const Z=d.yc(F);if(nt instanceof md)E.push(F);else{const B=Yc(nt,Z);B!=null&&(E.push(F),A.set(F,B))}}const R=new Ui(E);return new ob(A,R,d.fieldTransforms)}function ON(r,t,n,s=!1){return Yc(n,r.Cc(s?4:3,t))}function Yc(r,t){if(hb(r=Qe(r)))return Hg("Unsupported field value:",t,r),cb(r,t);if(r instanceof fd)return(function(s,l){if(!lb(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const h=[];let d=0;for(const y of s){let v=Yc(y,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,t)}return(function(s,l){if((s=Qe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Me.fromDate(s);return{timestampValue:Vf(l.serializer,h)}}if(s instanceof Me){const h=new Me(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vf(l.serializer,h)}}if(s instanceof os)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof lr)return{bytesValue:Nw(l.serializer,s._byteString)};if(s instanceof rn){const h=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ag(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ls)return(function(d,y){return{mapValue:{fields:{[sw]:{stringValue:aw},[Df]:{arrayValue:{values:d.toArray().map((E=>{if(typeof E!="number")throw y.Sc("VectorValues must only contain numeric values.");return Tg(y.serializer,E)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${$f(s)}`)})(r,t)}function cb(r,t){const n={};return $T(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):io(r,((s,l)=>{const h=Yc(l,t.mc(s));h!=null&&(n[s]=h)})),{mapValue:{fields:n}}}function hb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Me||r instanceof os||r instanceof lr||r instanceof rn||r instanceof fd||r instanceof ls)}function Hg(r,t,n){if(!hb(n)||!WT(n)){const s=$f(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Xp(r,t,n){if((t=Qe(t))instanceof hd)return t._internalPath;if(typeof t=="string")return qg(r,t);throw jf("Field path arguments must be of type string or ",r,!1,void 0,n)}const PN=new RegExp("[~\\*/\\[\\]]");function qg(r,t,n){if(t.search(PN)>=0)throw jf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new hd(...t.split("."))._internalPath}catch{throw jf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function jf(r,t,n,s,l){const h=s&&!s.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${l}`),v+=")"),new St(ht.INVALID_ARGUMENT,y+r+v)}function fb(r,t){return r.some((n=>n.isEqual(t)))}class db{constructor(t,n,s,l,h){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(pd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LN extends db{data(){return super.data()}}function pd(r,t){return typeof t=="string"?qg(r,t):t instanceof hd?t._internalPath:t._delegate._internalPath}function DN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new St(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fg{}class mb extends Fg{}function LE(r,t,...n){let s=[];t instanceof Fg&&s.push(t),s=s.concat(n),(function(h){const d=h.filter((v=>v instanceof Gg)).length,y=h.filter((v=>v instanceof gd)).length;if(d>1||d>0&&y>0)throw new St(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class gd extends mb{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new gd(t,n,s)}_apply(t){const n=this._parse(t);return pb(t._query,n),new ul(t.firestore,t.converter,Up(t._query,n))}_parse(t){const n=dd(t.firestore);return(function(h,d,y,v,E,A,R){let N;if(E.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new St(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){kE(R,A);const nt=[];for(const Z of R)nt.push(ME(v,h,Z));N={arrayValue:{values:nt}}}else N=ME(v,h,R)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||kE(R,A),N=ON(y,d,R,A==="in"||A==="not-in");return fn.create(E,A,N)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function MN(r,t,n){const s=t,l=pd("where",r);return gd._create(l,s,n)}class Gg extends Fg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Gg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Nr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let d=l;const y=h.getFlattenedFilters();for(const v of y)pb(d,v),d=Up(d,v)})(t._query,n),new ul(t.firestore,t.converter,Up(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zg extends mb{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Zg(t,n)}_apply(t){const n=(function(l,h,d){if(l.startAt!==null)throw new St(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new St(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oc(h,d)})(t._query,this._field,this._direction);return new ul(t.firestore,t.converter,(function(l,h){const d=l.explicitOrderBy.concat([h]);return new yu(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function DE(r,t="asc"){const n=t,s=pd("orderBy",r);return Zg._create(s,n)}function ME(r,t,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new St(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mw(t)&&n.indexOf("/")!==-1)throw new St(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Ne.fromString(n));if(!Dt.isDocumentKey(s))throw new St(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Y0(r,new Dt(s))}if(n instanceof rn)return Y0(r,n._key);throw new St(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$f(n)}.`)}function kE(r,t){if(!Array.isArray(r)||r.length===0)throw new St(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function pb(r,t){const n=(function(l,h){for(const d of l)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new St(ht.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new St(ht.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class kN{convertValue(t,n="none"){switch($a(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ja(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw zt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return io(t,((l,h)=>{s[l]=this.convertValue(h,n)})),s}convertVectorValue(t){const n=t.fields?.[Df].arrayValue?.values?.map((s=>nn(s.doubleValue)));return new ls(n)}convertGeoPoint(t){return new os(nn(t.latitude),nn(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=nd(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Cc(t));default:return null}}convertTimestamp(t){const n=Wa(t);return new Me(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Ne.fromString(t);_e(kw(s),9688,{name:t});const l=new Ic(s.get(1),s.get(3)),h=new Dt(s.popFirst(5));return l.isEqual(n)||Ks(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}function gb(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class pc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qo extends db{constructor(t,n,s,l,h,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(pd("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Qo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qo._jsonSchema={type:dn("string",Qo._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class wf extends Qo{data(t={}){return super.data(t)}}class ru{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new pc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new wf(this._firestore,this._userDataWriter,s.key,s,new pc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new St(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const v=new wf(l._firestore,l._userDataWriter,y.doc.key,y.doc,new pc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new wf(l._firestore,l._userDataWriter,y.doc.key,y.doc,new pc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,A=-1;return y.type!==0&&(E=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:VN(y.type),doc:v,oldIndex:E,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ru._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt(61501,{type:r})}}ru._jsonSchemaVersion="firestore/querySnapshot/1.0",ru._jsonSchema={type:dn("string",ru._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class _b extends kN{constructor(t){super(),this.firestore=t}convertBytes(t){return new lr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function UN(r,t,n){r=qs(r,rn);const s=qs(r.firestore,el),l=gb(r.converter,t);return _d(s,[ub(dd(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,ur.none())])}function bf(r,t,n,...s){r=qs(r,rn);const l=qs(r.firestore,el),h=dd(l);let d;return d=typeof(t=Qe(t))=="string"||t instanceof hd?NN(h,"updateDoc",r._key,t,n,s):IN(h,"updateDoc",r._key,t),_d(l,[d.toMutation(r._key,ur.exists(!0))])}function yb(r){return _d(qs(r.firestore,el),[new wg(r._key,ur.none())])}function zN(r,t){const n=qs(r.firestore,el),s=Fa(r),l=gb(r.converter,t);return _d(n,[ub(dd(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ur.exists(!1))]).then((()=>s))}function BN(r,...t){r=Qe(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||PE(t[s])||(n=t[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PE(t[s])){const v=t[s];t[s]=v.next?.bind(v),t[s+1]=v.error?.bind(v),t[s+2]=v.complete?.bind(v)}let h,d,y;if(r instanceof rn)d=qs(r.firestore,el),y=Eg(r._key.path),h={next:v=>{t[s]&&t[s](jN(d,r,v))},error:t[s+1],complete:t[s+2]};else{const v=qs(r,ul);d=qs(v.firestore,el),y=v._query;const E=new _b(d);h={next:A=>{t[s]&&t[s](new ru(d,E,v,A))},error:t[s+1],complete:t[s+2]},DN(r._query)}return(function(E,A,R,N){const F=new vN(N),nt=new tN(A,F,R);return E.asyncQueue.enqueueAndForget((async()=>X2(await AE(E),nt))),()=>{F.Nu(),E.asyncQueue.enqueueAndForget((async()=>W2(await AE(E),nt)))}})(ab(d),y,l,h)}function _d(r,t){return(function(s,l){const h=new Yo;return s.asyncQueue.enqueueAndForget((async()=>cN(await wN(s),l,h))),h.promise})(ab(r),t)}function jN(r,t,n){const s=n.docs.get(t._key),l=new _b(r);return new Qo(r,l,t._key,s,new pc(n.hasPendingWrites,n.fromCache),t.converter)}function Wp(){return new jg("serverTimestamp")}(function(t,n=!0){(function(l){pu=l})(al),Jo(new Qa("firestore",((s,{instanceIdentifier:l,options:h})=>{const d=s.getProvider("app").getImmediate(),y=new el(new CC(s.getProvider("auth-internal")),new OC(d,s.getProvider("app-check-internal")),(function(E,A){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new St(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(E.options.projectId,A)})(d,l),d);return h={useFetchStreams:n,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),rs(M0,k0,t),rs(M0,k0,"esm2020")})();function vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HN=vb,Eb=new jc("auth","Firebase",vb());const Hf=new hg("@firebase/auth");function qN(r,...t){Hf.logLevel<=re.WARN&&Hf.warn(`Auth (${al}): ${r}`,...t)}function Sf(r,...t){Hf.logLevel<=re.ERROR&&Hf.error(`Auth (${al}): ${r}`,...t)}function Or(r,...t){throw Kg(r,...t)}function us(r,...t){return Kg(r,...t)}function Tb(r,t,n){const s={...HN(),[t]:n};return new jc("auth","Firebase",s).create(t,{appName:r.name})}function Fs(r){return Tb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Eb.create(r,...t)}function Ut(r,t,...n){if(!r)throw Kg(t,...n)}function Bs(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Sf(t),new Error(t)}function Qs(r,t){r||Bs(t)}function Jp(){return typeof self<"u"&&self.location?.href||""}function FN(){return VE()==="http:"||VE()==="https:"}function VE(){return typeof self<"u"&&self.location?.protocol||null}function GN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FN()||ix()||"connection"in navigator)?navigator.onLine:!0}function ZN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Qc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Qs(n>t,"Short delay should be less than long delay!"),this.isMobile=tx()||rx()}get(){return GN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yg(r,t){Qs(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class wb{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QN=new Qc(3e4,6e4);function so(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ao(r,t,n,s,l={}){return bb(r,l,async()=>{let h={},d={};s&&(t==="GET"?d=s:h={body:JSON.stringify(s)});const y=Hc({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const E={method:t,headers:v,...h};return nx()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&no(r.emulatorConfig.host)&&(E.credentials="include"),wb.fetch()(await Sb(r,r.config.apiHost,n,y),E)})}async function bb(r,t,n){r._canInitEmulator=!1;const s={...KN,...t};try{const l=new WN(r),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw ff(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const y=h.ok?d.errorMessage:d.error.message,[v,E]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw ff(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw ff(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw ff(r,"user-disabled",d);const A=s[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw Tb(r,A,E);Or(r,A)}}catch(l){if(l instanceof fs)throw l;Or(r,"network-request-failed",{message:String(l)})}}async function Xc(r,t,n,s,l={}){const h=await ao(r,t,n,s,l);return"mfaPendingCredential"in h&&Or(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function Sb(r,t,n,s){const l=`${t}${n}?${s}`,h=r,d=h.config.emulator?Yg(r.config,l):`${r.config.apiScheme}://${l}`;return YN.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}function XN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(us(this.auth,"network-request-failed")),QN.get())})}}function ff(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=us(r,t,s);return l.customData._tokenResponse=n,l}function UE(r){return r!==void 0&&r.enterprise!==void 0}class JN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return XN(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $N(r,t){return ao(r,"GET","/v2/recaptchaConfig",so(r,t))}async function tO(r,t){return ao(r,"POST","/v1/accounts:delete",t)}async function qf(r,t){return ao(r,"POST","/v1/accounts:lookup",t)}function wc(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function eO(r,t=!1){const n=Qe(r),s=await n.getIdToken(t),l=Qg(s);Ut(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:s,authTime:wc(wp(l.auth_time)),issuedAtTime:wc(wp(l.iat)),expirationTime:wc(wp(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function wp(r){return Number(r)*1e3}function Qg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const l=PT(n);return l?JSON.parse(l):(Sf("Failed to decode base64 JWT payload"),null)}catch(l){return Sf("Caught error parsing JWT payload as JSON",l?.toString()),null}}function zE(r){const t=Qg(r);return Ut(t,"internal-error"),Ut(typeof t.exp<"u","internal-error"),Ut(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Mc(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof fs&&nO(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function nO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class iO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $p{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ff(r){const t=r.auth,n=await r.getIdToken(),s=await Mc(r,qf(t,{idToken:n}));Ut(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?Ab(l.providerUserInfo):[],d=sO(r.providerData,h),y=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,E=y?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new $p(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function rO(r){const t=Qe(r);await Ff(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sO(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function Ab(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function aO(r,t){const n=await bb(r,{},async()=>{const s=Hc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,d=await Sb(r,l,"/v1/token",`key=${h}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:s};return r.emulatorConfig&&no(r.emulatorConfig.host)&&(v.credentials="include"),wb.fetch()(d,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oO(r,t){return ao(r,"POST","/v2/accounts:revokeToken",so(r,t))}class su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ut(t.idToken,"internal-error"),Ut(typeof t.idToken<"u","internal-error"),Ut(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ut(t.length!==0,"internal-error");const n=zE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:h}=await aO(t,n);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:h}=n,d=new su;return s&&(Ut(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(Ut(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(Ut(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new su,this.toJSON())}_performRefresh(){return Bs("not implemented")}}function Va(r,t){Ut(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Cr{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new iO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new $p(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,t));return Ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return eO(this,t)}reload(){return rO(this)}_assign(t){this!==t&&(Ut(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Cr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Ff(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(Fs(this.auth));const t=await this.getIdToken();return await Mc(this,tO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,d=n.photoURL??void 0,y=n.tenantId??void 0,v=n._redirectEventId??void 0,E=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:R,emailVerified:N,isAnonymous:F,providerData:nt,stsTokenManager:Z}=n;Ut(R&&Z,t,"internal-error");const B=su.fromJSON(this.name,Z);Ut(typeof R=="string",t,"internal-error"),Va(s,t.name),Va(l,t.name),Ut(typeof N=="boolean",t,"internal-error"),Ut(typeof F=="boolean",t,"internal-error"),Va(h,t.name),Va(d,t.name),Va(y,t.name),Va(v,t.name),Va(E,t.name),Va(A,t.name);const ot=new Cr({uid:R,auth:t,email:l,emailVerified:N,displayName:s,isAnonymous:F,photoURL:d,phoneNumber:h,tenantId:y,stsTokenManager:B,createdAt:E,lastLoginAt:A});return nt&&Array.isArray(nt)&&(ot.providerData=nt.map(st=>({...st}))),v&&(ot._redirectEventId=v),ot}static async _fromIdTokenResponse(t,n,s=!1){const l=new su;l.updateFromServerResponse(n);const h=new Cr({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Ff(h),h}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];Ut(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?Ab(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,y=new su;y.updateFromIdToken(s);const v=new Cr({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new $p(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,E),v}}const BE=new Map;function js(r){Qs(r instanceof Function,"Expected a class definition");let t=BE.get(r);return t?(Qs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,BE.set(r,t),t)}class Rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Rb.type="NONE";const jE=Rb;function Af(r,t,n){return`firebase:${r}:${t}:${n}`}class au{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=Af(this.userKey,l.apiKey,h),this.fullPersistenceKey=Af("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await qf(this.auth,{idToken:t}).catch(()=>{});return n?Cr._fromGetAccountInfoResponse(this.auth,n,t):null}return Cr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new au(js(jE),t,s);const l=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let h=l[0]||js(jE);const d=Af(s,t.config.apiKey,t.name);let y=null;for(const E of n)try{const A=await E._get(d);if(A){let R;if(typeof A=="string"){const N=await qf(t,{idToken:A}).catch(()=>{});if(!N)break;R=await Cr._fromGetAccountInfoResponse(t,N,A)}else R=Cr._fromJSON(t,A);E!==h&&(y=R),h=E;break}}catch{}const v=l.filter(E=>E._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new au(h,t,s):(h=v[0],y&&await h._set(d,y.toJSON()),await Promise.all(n.map(async E=>{if(E!==h)try{await E._remove(d)}catch{}})),new au(h,t,s))}}function HE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pb(t))return"Blackberry";if(Lb(t))return"Webos";if(Cb(t))return"Safari";if((t.includes("chrome/")||Ib(t))&&!t.includes("edge/"))return"Chrome";if(Ob(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function xb(r=qn()){return/firefox\//i.test(r)}function Cb(r=qn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ib(r=qn()){return/crios\//i.test(r)}function Nb(r=qn()){return/iemobile/i.test(r)}function Ob(r=qn()){return/android/i.test(r)}function Pb(r=qn()){return/blackberry/i.test(r)}function Lb(r=qn()){return/webos/i.test(r)}function Xg(r=qn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function lO(r=qn()){return Xg(r)&&!!window.navigator?.standalone}function uO(){return sx()&&document.documentMode===10}function Db(r=qn()){return Xg(r)||Ob(r)||Lb(r)||Pb(r)||/windows phone/i.test(r)||Nb(r)}function Mb(r,t=[]){let n;switch(r){case"Browser":n=HE(qn());break;case"Worker":n=`${HE(qn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${al}/${s}`}class cO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=h=>new Promise((d,y)=>{try{const v=t(h);d(v)}catch(v){y(v)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function hO(r,t={}){return ao(r,"GET","/v2/passwordPolicy",so(r,t))}const fO=6;class dO{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class mO{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qE(this),this.idTokenSubscription=new qE(this),this.beforeStateQueue=new cO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=js(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await au.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await qf(this,{idToken:t}),s=await Cr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Vi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=s?._redirectEventId,y=await this.tryRedirectSignIn(t);(!h||h===d)&&y?.user&&(s=y.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ff(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vi(this.app))return Promise.reject(Fs(this));const n=t?Qe(t):null;return n&&Ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ut(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vi(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vi(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(js(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hO(this),n=new dO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jc("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await oO(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&js(t)||this._popupRedirectResolver;Ut(n,this,"argument-error"),this.redirectPersistenceManager=await au.create(this,[js(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(y,this,"internal-error"),y.then(()=>{d||h(this.currentUser)}),typeof n=="function"){const v=t.addObserver(n,s,l);return()=>{d=!0,v()}}else{const v=t.addObserver(n);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&qN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function cl(r){return Qe(r)}class qE{constructor(t){this.auth=t,this.observer=null,this.addObserver=dx(n=>this.observer=n)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pO(r){yd=r}function kb(r){return yd.loadJS(r)}function gO(){return yd.recaptchaEnterpriseScript}function _O(){return yd.gapiScript}function yO(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class vO{constructor(){this.enterprise=new EO}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class EO{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const TO="recaptcha-enterprise",Vb="NO_RECAPTCHA";class wO{constructor(t){this.type=TO,this.auth=cl(t)}async verify(t="verify",n=!1){async function s(h){if(!n){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(d,y)=>{$N(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const E=new JN(v);return h.tenantId==null?h._agentRecaptchaConfig=E:h._tenantRecaptchaConfigs[h.tenantId]=E,d(E.siteKey)}}).catch(v=>{y(v)})})}function l(h,d,y){const v=window.grecaptcha;UE(v)?v.enterprise.ready(()=>{v.enterprise.execute(h,{action:t}).then(E=>{d(E)}).catch(()=>{d(Vb)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vO().execute("siteKey",{action:"verify"}):new Promise((h,d)=>{s(this.auth).then(y=>{if(!n&&UE(window.grecaptcha))l(y,h,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let v=gO();v.length!==0&&(v+=y),kb(v).then(()=>{l(y,h,d)}).catch(E=>{d(E)})}}).catch(y=>{d(y)})})}}async function FE(r,t,n,s=!1,l=!1){const h=new wO(r);let d;if(l)d=Vb;else try{d=await h.verify(n)}catch{d=await h.verify(n,!0)}const y={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const v=y.phoneEnrollmentInfo.phoneNumber,E=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:E,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const v=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return s?Object.assign(y,{captchaResp:d}):Object.assign(y,{captchaResponse:d}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function tg(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await FE(r,t,n,n==="getOobCode");return s(r,h)}else return s(r,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await FE(r,t,n,n==="getOobCode");return s(r,d)}else return Promise.reject(h)})}function bO(r,t){const n=Jf(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(Wo(h,t??{}))return l;Or(l,"already-initialized")}return n.initialize({options:t})}function SO(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(js);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function AO(r,t,n){const s=cl(r);Ut(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,h=Ub(t),{host:d,port:y}=RO(t),v=y===null?"":`:${y}`,E={url:`${h}//${d}${v}/`},A=Object.freeze({host:d,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Ut(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ut(Wo(E,s.config.emulator)&&Wo(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,no(d)?(cg(`${h}//${d}${v}`),kT("Auth",!0)):xO()}function Ub(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function RO(r){const t=Ub(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:GE(s.substr(h.length+1))}}else{const[h,d]=s.split(":");return{host:h,port:GE(d)}}}function GE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function xO(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Wg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bs("not implemented")}_getIdTokenResponse(t){return Bs("not implemented")}_linkToIdToken(t,n){return Bs("not implemented")}_getReauthenticationResolver(t){return Bs("not implemented")}}async function CO(r,t){return ao(r,"POST","/v1/accounts:signUp",t)}async function IO(r,t){return Xc(r,"POST","/v1/accounts:signInWithPassword",so(r,t))}async function NO(r,t){return Xc(r,"POST","/v1/accounts:signInWithEmailLink",so(r,t))}async function OO(r,t){return Xc(r,"POST","/v1/accounts:signInWithEmailLink",so(r,t))}class kc extends Wg{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new kc(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new kc(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(t,n,"signInWithPassword",IO);case"emailLink":return NO(t,{email:this._email,oobCode:this._password});default:Or(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(t,s,"signUpPassword",CO);case"emailLink":return OO(t,{idToken:n,email:this._email,oobCode:this._password});default:Or(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ou(r,t){return Xc(r,"POST","/v1/accounts:signInWithIdp",so(r,t))}const PO="http://localhost";class nl extends Wg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new nl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...h}=n;if(!s||!l)return null;const d=new nl(s,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return ou(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ou(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ou(t,n)}buildRequest(){const t={requestUri:PO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Hc(n)}return t}}function LO(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DO(r){const t=cc(hc(r)).link,n=t?cc(hc(t)).deep_link_id:null,s=cc(hc(r)).deep_link_id;return(s?cc(hc(s)).link:null)||s||n||t||r}class Jg{constructor(t){const n=cc(hc(t)),s=n.apiKey??null,l=n.oobCode??null,h=LO(n.mode??null);Ut(s&&l&&h,"argument-error"),this.apiKey=s,this.operation=h,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=DO(t);try{return new Jg(n)}catch{return null}}}class Eu{constructor(){this.providerId=Eu.PROVIDER_ID}static credential(t,n){return kc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Jg.parseLink(n);return Ut(s,"argument-error"),kc._fromEmailAndCode(t,s.code,s.tenantId)}}Eu.PROVIDER_ID="password";Eu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class zb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Wc extends zb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ua extends Wc{constructor(){super("facebook.com")}static credential(t){return nl._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ua.credentialFromTaggedObject(t)}static credentialFromError(t){return Ua.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ua.credential(t.oauthAccessToken)}catch{return null}}}Ua.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ua.PROVIDER_ID="facebook.com";class za extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return nl._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return za.credentialFromTaggedObject(t)}static credentialFromError(t){return za.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return za.credential(n,s)}catch{return null}}}za.GOOGLE_SIGN_IN_METHOD="google.com";za.PROVIDER_ID="google.com";class Ba extends Wc{constructor(){super("github.com")}static credential(t){return nl._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ba.credentialFromTaggedObject(t)}static credentialFromError(t){return Ba.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ba.credential(t.oauthAccessToken)}catch{return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com";Ba.PROVIDER_ID="github.com";class ja extends Wc{constructor(){super("twitter.com")}static credential(t,n){return nl._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ja.credentialFromTaggedObject(t)}static credentialFromError(t){return ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ja.credential(n,s)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";async function MO(r,t){return Xc(r,"POST","/v1/accounts:signUp",so(r,t))}class il{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const h=await Cr._fromIdTokenResponse(t,s,l),d=ZE(s);return new il({user:h,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=ZE(s);return new il({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function ZE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Gf extends fs{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Gf(t,n,s,l)}}function Bb(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(r,h,t,s):h})}async function kO(r,t,n=!1){const s=await Mc(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return il._forOperation(r,"link",s)}async function VO(r,t,n=!1){const{auth:s}=r;if(Vi(s.app))return Promise.reject(Fs(s));const l="reauthenticate";try{const h=await Mc(r,Bb(s,l,t,r),n);Ut(h.idToken,s,"internal-error");const d=Qg(h.idToken);Ut(d,s,"internal-error");const{sub:y}=d;return Ut(r.uid===y,s,"user-mismatch"),il._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Or(s,"user-mismatch"),h}}async function jb(r,t,n=!1){if(Vi(r.app))return Promise.reject(Fs(r));const s="signIn",l=await Bb(r,s,t),h=await il._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(h.user),h}async function UO(r,t){return jb(cl(r),t)}async function Hb(r){const t=cl(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function zO(r,t,n){if(Vi(r.app))return Promise.reject(Fs(r));const s=cl(r),d=await tg(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MO).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&Hb(r),v}),y=await il._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(y.user),y}function BO(r,t,n){return Vi(r.app)?Promise.reject(Fs(r)):UO(Qe(r),Eu.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Hb(r),s})}function jO(r,t,n,s){return Qe(r).onIdTokenChanged(t,n,s)}function HO(r,t,n){return Qe(r).beforeAuthStateChanged(t,n)}function qO(r,t,n,s){return Qe(r).onAuthStateChanged(t,n,s)}const Zf="__sak";class qb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const FO=1e3,GO=10;class Fb extends qb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Db(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},h=this.storage.getItem(s);uO()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,GO):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},FO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Fb.type="LOCAL";const ZO=Fb;class Gb extends qb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Gb.type="SESSION";const Zb=Gb;function KO(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class vd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new vd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:h}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const y=Array.from(d).map(async E=>E(n.origin,h)),v=await KO(y);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:v})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vd.receivers=[];function $g(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class YO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((y,v)=>{const E=$g("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(R){const N=R;if(N.data.eventId===E)switch(N.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(N.data.response);break;default:clearTimeout(A),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:E,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function cs(){return window}function QO(r){cs().location.href=r}function Kb(){return typeof cs().WorkerGlobalScope<"u"&&typeof cs().importScripts=="function"}async function XO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WO(){return navigator?.serviceWorker?.controller||null}function JO(){return Kb()?self:null}const Yb="firebaseLocalStorageDb",$O=1,Kf="firebaseLocalStorage",Qb="fbase_key";class Jc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ed(r,t){return r.transaction([Kf],t?"readwrite":"readonly").objectStore(Kf)}function tP(){const r=indexedDB.deleteDatabase(Yb);return new Jc(r).toPromise()}function eg(){const r=indexedDB.open(Yb,$O);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Kf,{keyPath:Qb})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Kf)?t(s):(s.close(),await tP(),t(await eg()))})})}async function KE(r,t,n){const s=Ed(r,!0).put({[Qb]:t,value:n});return new Jc(s).toPromise()}async function eP(r,t){const n=Ed(r,!1).get(t),s=await new Jc(n).toPromise();return s===void 0?null:s.value}function YE(r,t){const n=Ed(r,!0).delete(t);return new Jc(n).toPromise()}const nP=800,iP=3;class Xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>iP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vd._getInstance(JO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XO(),!this.activeServiceWorker)return;this.sender=new YO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||WO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await eg();return await KE(t,Zf,"1"),await YE(t,Zf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>KE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>eP(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>YE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Ed(l,!1).getAll();return new Jc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xb.type="LOCAL";const rP=Xb;new Qc(3e4,6e4);function sP(r,t){return t?js(t):(Ut(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class t_ extends Wg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ou(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ou(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ou(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function aP(r){return jb(r.auth,new t_(r),r.bypassAuthState)}function oP(r){const{auth:t,user:n}=r;return Ut(n,t,"internal-error"),VO(n,new t_(r),r.bypassAuthState)}async function lP(r){const{auth:t,user:n}=r;return Ut(n,t,"internal-error"),kO(n,new t_(r),r.bypassAuthState)}class Wb{constructor(t,n,s,l,h=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:h,error:d,type:y}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:n,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aP;case"linkViaPopup":case"linkViaRedirect":return lP;case"reauthViaPopup":case"reauthViaRedirect":return oP;default:Or(this.auth,"internal-error")}}resolve(t){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uP=new Qc(2e3,1e4);class nu extends Wb{constructor(t,n,s,l,h){super(t,n,l,h),this.provider=s,this.authWindow=null,this.pollId=null,nu.currentPopupAction&&nu.currentPopupAction.cancel(),nu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ut(t,this.auth,"internal-error"),t}async onExecution(){Qs(this.filter.length===1,"Popup operations only handle one event");const t=$g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nu.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uP.get())};t()}}nu.currentPopupAction=null;const cP="pendingRedirect",Rf=new Map;class hP extends Wb{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Rf.get(this.auth._key());if(!t){try{const s=await fP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Rf.set(this.auth._key(),t)}return this.bypassAuthState||Rf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fP(r,t){const n=pP(t),s=mP(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function dP(r,t){Rf.set(r._key(),t)}function mP(r){return js(r._redirectPersistence)}function pP(r){return Af(cP,r.config.apiKey,r.name)}async function gP(r,t,n=!1){if(Vi(r.app))return Promise.reject(Fs(r));const s=cl(r),l=sP(s,t),d=await new hP(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const _P=600*1e3;class yP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vP(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Jb(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(us(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_P&&this.cachedEventUids.clear(),this.cachedEventUids.has(QE(t))}saveEventToCache(t){this.cachedEventUids.add(QE(t)),this.lastProcessedEventTime=Date.now()}}function QE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Jb({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function vP(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jb(r);default:return!1}}async function EP(r,t={}){return ao(r,"GET","/v1/projects",t)}const TP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wP=/^https?/;async function bP(r){if(r.config.emulator)return;const{authorizedDomains:t}=await EP(r);for(const n of t)try{if(SP(n))return}catch{}Or(r,"unauthorized-domain")}function SP(r){const t=Jp(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!wP.test(n))return!1;if(TP.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const AP=new Qc(3e4,6e4);function XE(){const r=cs().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function RP(r){return new Promise((t,n)=>{function s(){XE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{XE(),n(us(r,"network-request-failed"))},timeout:AP.get()})}if(cs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(cs().gapi?.load)s();else{const l=yO("iframefcb");return cs()[l]=()=>{gapi.load?s():n(us(r,"network-request-failed"))},kb(`${_O()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw xf=null,t})}let xf=null;function xP(r){return xf=xf||RP(r),xf}const CP=new Qc(5e3,15e3),IP="__/auth/iframe",NP="emulator/auth/iframe",OP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LP(r){const t=r.config;Ut(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Yg(t,NP):`https://${r.config.authDomain}/${IP}`,s={apiKey:t.apiKey,appName:r.name,v:al},l=PP.get(r.config.apiHost);l&&(s.eid=l);const h=r._getFrameworks();return h.length&&(s.fw=h.join(",")),`${n}?${Hc(s).slice(1)}`}async function DP(r){const t=await xP(r),n=cs().gapi;return Ut(n,r,"internal-error"),t.open({where:document.body,url:LP(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OP,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const d=us(r,"network-request-failed"),y=cs().setTimeout(()=>{h(d)},CP.get());function v(){cs().clearTimeout(y),l(s)}s.ping(v).then(v,()=>{h(d)})}))}const MP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kP=500,VP=600,UP="_blank",zP="http://localhost";class WE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BP(r,t,n,s=kP,l=VP){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let y="";const v={...MP,width:s.toString(),height:l.toString(),top:h,left:d},E=qn().toLowerCase();n&&(y=Ib(E)?UP:n),xb(E)&&(t=t||zP,v.scrollbars="yes");const A=Object.entries(v).reduce((N,[F,nt])=>`${N}${F}=${nt},`,"");if(lO(E)&&y!=="_self")return jP(t||"",y),new WE(null);const R=window.open(t||"",y,A);Ut(R,r,"popup-blocked");try{R.focus()}catch{}return new WE(R)}function jP(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const HP="__/auth/handler",qP="emulator/auth/handler",FP=encodeURIComponent("fac");async function JE(r,t,n,s,l,h){Ut(r.config.authDomain,r,"auth-domain-config-required"),Ut(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:al,eventId:l};if(t instanceof zb){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",fx(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,R]of Object.entries({}))d[A]=R}if(t instanceof Wc){const A=t.getScopes().filter(R=>R!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const v=await r._getAppCheckToken(),E=v?`#${FP}=${encodeURIComponent(v)}`:"";return`${GP(r)}?${Hc(y).slice(1)}${E}`}function GP({config:r}){return r.emulator?Yg(r,qP):`https://${r.authDomain}/${HP}`}const bp="webStorageSupport";class ZP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zb,this._completeRedirectFn=gP,this._overrideRedirectResult=dP}async _openPopup(t,n,s,l){Qs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await JE(t,n,s,Jp(),l);return BP(t,h,$g())}async _openRedirect(t,n,s,l){await this._originValidation(t);const h=await JE(t,n,s,Jp(),l);return QO(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Qs(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await DP(t),s=new yP(t);return n.register("authEvent",l=>(Ut(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(bp,{type:bp},l=>{const h=l?.[0]?.[bp];h!==void 0&&n(!!h),Or(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bP(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Db()||Cb()||Xg()}}const KP=ZP;var $E="@firebase/auth",tT="1.12.0";class YP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function QP(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XP(r){Jo(new Qa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=s.options;Ut(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const v={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mb(r)},E=new mO(s,l,h,v);return SO(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Jo(new Qa("auth-internal",t=>{const n=cl(t.getProvider("auth").getImmediate());return(s=>new YP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs($E,tT,QP(r)),rs($E,tT,"esm2020")}const WP=300,JP=MT("authIdTokenMaxAge")||WP;let eT=null;const $P=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>JP)return;const l=n?.token;eT!==l&&(eT=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function tL(r=BT()){const t=Jf(r,"auth");if(t.isInitialized())return t.getImmediate();const n=bO(r,{popupRedirectResolver:KP,persistence:[rP,ZO,Zb]}),s=MT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const d=$P(h.toString());HO(n,d,()=>d(n.currentUser)),jO(n,y=>d(y))}}const l=LT("auth");return l&&AO(n,`http://${l}`),n}function eL(){return document.getElementsByTagName("head")?.[0]??document}pO({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const h=us("internal-error");h.customData=l,n(h)},s.type="text/javascript",s.charset="UTF-8",eL().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XP("Browser");const $b="firebasestorage.googleapis.com",tS="storageBucket",nL=120*1e3,iL=600*1e3;class We extends fs{constructor(t,n,s=0){super(Sp(t),`Firebase Storage: ${n} (${Sp(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Sp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xe;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xe||(Xe={}));function Sp(r){return"storage/"+r}function e_(){const r="An unknown error occurred, please check the error payload for server response.";return new We(Xe.UNKNOWN,r)}function rL(r){return new We(Xe.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function sL(r){return new We(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aL(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new We(Xe.UNAUTHENTICATED,r)}function oL(){return new We(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lL(r){return new We(Xe.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function uL(){return new We(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cL(){return new We(Xe.CANCELED,"User canceled the upload/download.")}function hL(r){return new We(Xe.INVALID_URL,"Invalid URL '"+r+"'.")}function fL(r){return new We(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function dL(){return new We(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tS+"' property when initializing the app?")}function mL(){return new We(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pL(){return new We(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gL(r){return new We(Xe.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ng(r){return new We(Xe.INVALID_ARGUMENT,r)}function eS(){return new We(Xe.APP_DELETED,"The Firebase app was deleted.")}function _L(r){return new We(Xe.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bc(r,t){return new We(Xe.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function uc(r){throw new We(Xe.INTERNAL_ERROR,"Internal error: "+r)}class zi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=zi.makeFromUrl(t,n)}catch{return new zi(t,"")}if(s.path==="")return s;throw fL(t)}static makeFromUrl(t,n){let s=null;const l="([A-Za-z0-9.\\-_]+)";function h(It){It.path.charAt(It.path.length-1)==="/"&&(It.path_=It.path_.slice(0,-1))}const d="(/(.*))?$",y=new RegExp("^gs://"+l+d,"i"),v={bucket:1,path:3};function E(It){It.path_=decodeURIComponent(It.path)}const A="v[A-Za-z0-9_]+",R=n.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",F=new RegExp(`^https?://${R}/${A}/b/${l}/o${N}`,"i"),nt={bucket:1,path:3},Z=n===$b?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",ot=new RegExp(`^https?://${Z}/${l}/${B}`,"i"),ct=[{regex:y,indices:v,postModify:h},{regex:F,indices:nt,postModify:E},{regex:ot,indices:{bucket:1,path:2},postModify:E}];for(let It=0;It<ct.length;It++){const Pt=ct[It],kt=Pt.regex.exec(t);if(kt){const k=kt[Pt.indices.bucket];let O=kt[Pt.indices.path];O||(O=""),s=new zi(k,O),Pt.postModify(s);break}}if(s==null)throw hL(t);return s}}class yL{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function vL(r,t,n){let s=1,l=null,h=null,d=!1,y=0;function v(){return y===2}let E=!1;function A(...B){E||(E=!0,t.apply(null,B))}function R(B){l=setTimeout(()=>{l=null,r(F,v())},B)}function N(){h&&clearTimeout(h)}function F(B,...ot){if(E){N();return}if(B){N(),A.call(null,B,...ot);return}if(v()||d){N(),A.call(null,B,...ot);return}s<64&&(s*=2);let ct;y===1?(y=2,ct=0):ct=(s+Math.random())*1e3,R(ct)}let nt=!1;function Z(B){nt||(nt=!0,N(),!E&&(l!==null?(B||(y=2),clearTimeout(l),R(0)):B||(y=1)))}return R(0),h=setTimeout(()=>{d=!0,Z(!0)},n),Z}function EL(r){r(!1)}function TL(r){return r!==void 0}function wL(r){return typeof r=="object"&&!Array.isArray(r)}function n_(r){return typeof r=="string"||r instanceof String}function nT(r){return i_()&&r instanceof Blob}function i_(){return typeof Blob<"u"}function iT(r,t,n,s){if(s<t)throw ng(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>n)throw ng(`Invalid value for '${r}'. Expected ${n} or less.`)}function r_(r,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${r}`}function nS(r){const t=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const l=t(s)+"="+t(r[s]);n=n+l+"&"}return n=n.slice(0,-1),n}var Xo;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Xo||(Xo={}));function bL(r,t){const n=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,h=t.indexOf(r)!==-1;return n||l||h}class SL{constructor(t,n,s,l,h,d,y,v,E,A,R,N=!0,F=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=l,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=y,this.errorCallback_=v,this.timeout_=E,this.progressCallback_=A,this.connectionFactory_=R,this.retry=N,this.isUsingEmulator=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((nt,Z)=>{this.resolve_=nt,this.reject_=Z,this.start_()})}start_(){const t=(s,l)=>{if(l){s(!1,new df(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=y=>{const v=y.loaded,E=y.lengthComputable?y.total:-1;this.progressCallback_!==null&&this.progressCallback_(v,E)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const y=h.getErrorCode()===Xo.NO_ERROR,v=h.getStatus();if(!y||bL(v,this.additionalRetryCodes_)&&this.retry){const A=h.getErrorCode()===Xo.ABORT;s(!1,new df(!1,null,A));return}const E=this.successCodes_.indexOf(v)!==-1;s(!0,new df(E,h))})},n=(s,l)=>{const h=this.resolve_,d=this.reject_,y=l.connection;if(l.wasSuccessCode)try{const v=this.callback_(y,y.getResponse());TL(v)?h(v):h()}catch(v){d(v)}else if(y!==null){const v=e_();v.serverResponse=y.getErrorText(),this.errorCallback_?d(this.errorCallback_(y,v)):d(v)}else if(l.canceled){const v=this.appDelete_?eS():cL();d(v)}else{const v=uL();d(v)}};this.canceled_?n(!1,new df(!1,null,!0)):this.backoffId_=vL(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&EL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class df{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function AL(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function RL(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function xL(r,t){t&&(r["X-Firebase-GMPID"]=t)}function CL(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function IL(r,t,n,s,l,h,d=!0,y=!1){const v=nS(r.urlParams),E=r.url+v,A=Object.assign({},r.headers);return xL(A,t),AL(A,n),RL(A,h),CL(A,s),new SL(E,r.method,A,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,d,y)}function NL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function OL(...r){const t=NL();if(t!==void 0){const n=new t;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(i_())return new Blob(r);throw new We(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PL(r,t,n){return r.webkitSlice?r.webkitSlice(t,n):r.mozSlice?r.mozSlice(t,n):r.slice?r.slice(t,n):null}function LL(r){if(typeof atob>"u")throw gL("base-64");return atob(r)}const ns={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ap{constructor(t,n){this.data=t,this.contentType=n||null}}function DL(r,t){switch(r){case ns.RAW:return new Ap(iS(t));case ns.BASE64:case ns.BASE64URL:return new Ap(rS(r,t));case ns.DATA_URL:return new Ap(kL(t),VL(t))}throw e_()}function iS(r){const t=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const h=s,d=r.charCodeAt(++n);s=65536|(h&1023)<<10|d&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function ML(r){let t;try{t=decodeURIComponent(r)}catch{throw bc(ns.DATA_URL,"Malformed data URL.")}return iS(t)}function rS(r,t){switch(r){case ns.BASE64:{const l=t.indexOf("-")!==-1,h=t.indexOf("_")!==-1;if(l||h)throw bc(r,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case ns.BASE64URL:{const l=t.indexOf("+")!==-1,h=t.indexOf("/")!==-1;if(l||h)throw bc(r,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=LL(t)}catch(l){throw l.message.includes("polyfill")?l:bc(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}class sS{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw bc(ns.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=UL(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function kL(r){const t=new sS(r);return t.base64?rS(ns.BASE64,t.rest):ML(t.rest)}function VL(r){return new sS(r).contentType}function UL(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}class Ha{constructor(t,n){let s=0,l="";nT(t)?(this.data_=t,s=t.size,l=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=l}size(){return this.size_}type(){return this.type_}slice(t,n){if(nT(this.data_)){const s=this.data_,l=PL(s,t,n);return l===null?null:new Ha(l)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new Ha(s,!0)}}static getBlob(...t){if(i_()){const n=t.map(s=>s instanceof Ha?s.data_:s);return new Ha(OL.apply(null,n))}else{const n=t.map(d=>n_(d)?DL(ns.RAW,d).data:d.data_);let s=0;n.forEach(d=>{s+=d.byteLength});const l=new Uint8Array(s);let h=0;return n.forEach(d=>{for(let y=0;y<d.length;y++)l[h++]=d[y]}),new Ha(l,!0)}}uploadData(){return this.data_}}function aS(r){let t;try{t=JSON.parse(r)}catch{return null}return wL(t)?t:null}function zL(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function BL(r,t){const n=t.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function oS(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}function jL(r,t){return t}class Wn{constructor(t,n,s,l){this.server=t,this.local=n||t,this.writable=!!s,this.xform=l||jL}}let mf=null;function HL(r){return!n_(r)||r.length<2?r:oS(r)}function lS(){if(mf)return mf;const r=[];r.push(new Wn("bucket")),r.push(new Wn("generation")),r.push(new Wn("metageneration")),r.push(new Wn("name","fullPath",!0));function t(h,d){return HL(d)}const n=new Wn("name");n.xform=t,r.push(n);function s(h,d){return d!==void 0?Number(d):d}const l=new Wn("size");return l.xform=s,r.push(l),r.push(new Wn("timeCreated")),r.push(new Wn("updated")),r.push(new Wn("md5Hash",null,!0)),r.push(new Wn("cacheControl",null,!0)),r.push(new Wn("contentDisposition",null,!0)),r.push(new Wn("contentEncoding",null,!0)),r.push(new Wn("contentLanguage",null,!0)),r.push(new Wn("contentType",null,!0)),r.push(new Wn("metadata","customMetadata",!0)),mf=r,mf}function qL(r,t){function n(){const s=r.bucket,l=r.fullPath,h=new zi(s,l);return t._makeStorageReference(h)}Object.defineProperty(r,"ref",{get:n})}function FL(r,t,n){const s={};s.type="file";const l=n.length;for(let h=0;h<l;h++){const d=n[h];s[d.local]=d.xform(s,t[d.server])}return qL(s,r),s}function uS(r,t,n){const s=aS(t);return s===null?null:FL(r,s,n)}function GL(r,t,n,s){const l=aS(t);if(l===null||!n_(l.downloadTokens))return null;const h=l.downloadTokens;if(h.length===0)return null;const d=encodeURIComponent;return h.split(",").map(E=>{const A=r.bucket,R=r.fullPath,N="/b/"+d(A)+"/o/"+d(R),F=r_(N,n,s),nt=nS({alt:"media",token:E});return F+nt})[0]}function ZL(r,t){const n={},s=t.length;for(let l=0;l<s;l++){const h=t[l];h.writable&&(n[h.server]=r[h.local])}return JSON.stringify(n)}class cS{constructor(t,n,s,l){this.url=t,this.method=n,this.handler=s,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hS(r){if(!r)throw e_()}function KL(r,t){function n(s,l){const h=uS(r,l,t);return hS(h!==null),h}return n}function YL(r,t){function n(s,l){const h=uS(r,l,t);return hS(h!==null),GL(h,l,r.host,r._protocol)}return n}function fS(r){function t(n,s){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=oL():l=aL():n.getStatus()===402?l=sL(r.bucket):n.getStatus()===403?l=lL(r.path):l=s,l.status=n.getStatus(),l.serverResponse=s.serverResponse,l}return t}function QL(r){const t=fS(r);function n(s,l){let h=t(s,l);return s.getStatus()===404&&(h=rL(r.path)),h.serverResponse=l.serverResponse,h}return n}function XL(r,t,n){const s=t.fullServerUrl(),l=r_(s,r.host,r._protocol),h="GET",d=r.maxOperationRetryTime,y=new cS(l,h,YL(r,n),d);return y.errorHandler=QL(t),y}function WL(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function JL(r,t,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=t.size(),s.contentType||(s.contentType=WL(null,t)),s}function $L(r,t,n,s,l){const h=t.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function y(){let ct="";for(let It=0;It<2;It++)ct=ct+Math.random().toString().slice(2);return ct}const v=y();d["Content-Type"]="multipart/related; boundary="+v;const E=JL(t,s,l),A=ZL(E,n),R="--"+v+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+A+`\r
--`+v+`\r
Content-Type: `+E.contentType+`\r
\r
`,N=`\r
--`+v+"--",F=Ha.getBlob(R,s,N);if(F===null)throw mL();const nt={name:E.fullPath},Z=r_(h,r.host,r._protocol),B="POST",ot=r.maxUploadRetryTime,st=new cS(Z,B,KL(r,n),ot);return st.urlParams=nt,st.headers=d,st.body=F.uploadData(),st.errorHandler=fS(t),st}class tD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,l,h){if(this.sent_)throw uc("cannot .send() more than once");if(no(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),h!==void 0)for(const d in h)h.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,h[d].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw uc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class eD extends tD{initXhr(){this.xhr_.responseType="text"}}function dS(){return new eD}class rl{constructor(t,n){this._service=t,n instanceof zi?this._location=n:this._location=zi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new rl(t,n)}get root(){const t=new zi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oS(this._location.path)}get storage(){return this._service}get parent(){const t=zL(this._location.path);if(t===null)return null;const n=new zi(this._location.bucket,t);return new rl(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw _L(t)}}function nD(r,t,n){r._throwIfRoot("uploadBytes");const s=$L(r.storage,r._location,lS(),new Ha(t,!0),n);return r.storage.makeRequestWithTokens(s,dS).then(l=>({metadata:l,ref:r}))}function iD(r){r._throwIfRoot("getDownloadURL");const t=XL(r.storage,r._location,lS());return r.storage.makeRequestWithTokens(t,dS).then(n=>{if(n===null)throw pL();return n})}function rD(r,t){const n=BL(r._location.path,t),s=new zi(r._location.bucket,n);return new rl(r.storage,s)}function sD(r){return/^[A-Za-z]+:\/\//.test(r)}function aD(r,t){return new rl(r,t)}function mS(r,t){if(r instanceof s_){const n=r;if(n._bucket==null)throw dL();const s=new rl(n,n._bucket);return t!=null?mS(s,t):s}else return t!==void 0?rD(r,t):r}function oD(r,t){if(t&&sD(t)){if(r instanceof s_)return aD(r,t);throw ng("To use ref(service, url), the first argument must be a Storage instance.")}else return mS(r,t)}function rT(r,t){const n=t?.[tS];return n==null?null:zi.makeFromBucketSpec(n,r)}function lD(r,t,n,s={}){r.host=`${t}:${n}`;const l=no(t);l&&(cg(`https://${r.host}/b`),kT("Storage",!0)),r._isUsingEmulator=!0,r._protocol=l?"https":"http";const{mockUserToken:h}=s;h&&(r._overrideAuthToken=typeof h=="string"?h:WR(h,r.app.options.projectId))}class s_{constructor(t,n,s,l,h,d=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=l,this._firebaseVersion=h,this._isUsingEmulator=d,this._bucket=null,this._host=$b,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nL,this._maxUploadRetryTime=iL,this._requests=new Set,l!=null?this._bucket=zi.makeFromBucketSpec(l,this._host):this._bucket=rT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=zi.makeFromBucketSpec(this._url,t):this._bucket=rT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){iT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){iT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new rl(this,t)}_makeRequest(t,n,s,l,h=!0){if(this._deleted)return new yL(eS());{const d=IL(t,this._appId,s,l,n,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,n){const[s,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,l).getPromise()}}const sT="@firebase/storage",aT="0.14.0";const pS="storage";function uD(r,t,n){return r=Qe(r),nD(r,t,n)}function cD(r){return r=Qe(r),iD(r)}function hD(r,t){return r=Qe(r),oD(r,t)}function fD(r=BT(),t){r=Qe(r);const s=Jf(r,pS).getImmediate({identifier:t}),l=QR("storage");return l&&dD(s,...l),s}function dD(r,t,n,s={}){lD(r,t,n,s)}function mD(r,{instanceIdentifier:t}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new s_(n,s,l,t,al)}function pD(){Jo(new Qa(pS,mD,"PUBLIC").setMultipleInstances(!0)),rs(sT,aT,""),rs(sT,aT,"esm2020")}pD();const gD={apiKey:"AIzaSyCePsad6CJ95B2JZHxCkvAApW3adPkSjX0",authDomain:"urbanpulse-f8def.firebaseapp.com",projectId:"urbanpulse-f8def",storageBucket:"urbanpulse-f8def.appspot.com",messagingSenderId:"981556499502",appId:"1:981556499502:web:4eeb4041fb8774b9a5fbbf"},a_=zT(gD),is=SN(a_,{experimentalForceLongPolling:!0,useFetchStreams:!1}),Vc=tL(a_),_D=fD(a_),yD=({isOpen:r,onClose:t})=>{const[n,s]=Q.useState(!1),[l,h]=Q.useState(!1),[d,y]=Q.useState(null),[v,E]=Q.useState(null),[A,R]=Q.useState({title:"",category:"Roads",description:"",imageUrl:"",location:null}),N=()=>{h(!0),navigator.geolocation.getCurrentPosition(Z=>{R({...A,location:{lat:Z.coords.latitude,lng:Z.coords.longitude}}),h(!1)},Z=>{console.error(Z),h(!1),alert("Could not get location. Please enable GPS.")})},F=Z=>{const B=Z.target.files[0];if(B){E(B);const ot=URL.createObjectURL(B);y(ot)}},nt=async Z=>{Z.preventDefault(),s(!0);try{let B="";if(v){const ot=new FormData;ot.append("file",v),ot.append("upload_preset","urbanpulse");const st=await fetch("https://api.cloudinary.com/v1_1/dx97l3k4d/image/upload",{method:"POST",body:ot});if(!st.ok)throw new Error("Cloudinary upload failed");B=(await st.json())?.secure_url||""}await zN(Qp(is,"reports"),{title:A.title,category:A.category,description:A.description,imageUrl:B,location:A.location,userId:Vc.currentUser.uid,status:"pending",createdAt:Wp()}),R({title:"",category:"Roads",description:"",imageUrl:"",location:null}),y(null),E(null),t()}catch(B){console.error("The actual error is:",B),alert("Upload failed! See the browser console (F12) for the real error.")}finally{s(!1)}};return r?P.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[120] flex items-center justify-center p-4 overflow-y-auto",children:P.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[48px] p-8 md:p-12 shadow-2xl relative my-auto animate-in zoom-in-95 duration-300",children:[P.jsx("button",{onClick:t,className:"absolute top-8 right-8 text-slate-400 hover:text-slate-900 bg-slate-100 p-2 rounded-full transition-colors",children:P.jsx(BR,{size:20})}),P.jsxs("div",{className:"mb-10",children:[P.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Report Issue"}),P.jsx("p",{className:"text-slate-500 font-bold mt-2",children:"Help optimize our urban grid."})]}),P.jsxs("form",{onSubmit:nt,className:"space-y-8",children:[P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Title"}),P.jsx("input",{required:!0,className:"w-full bg-slate-50 border-2 border-transparent focus:border-indigo-500 rounded-3xl p-5 outline-none transition-all font-bold text-slate-900 shadow-inner",placeholder:"Issue name...",value:A.title,onChange:Z=>R({...A,title:Z.target.value})})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Category"}),P.jsxs("select",{className:"w-full bg-slate-50 border-2 border-transparent focus:border-indigo-500 rounded-3xl p-5 outline-none transition-all font-bold text-slate-900 shadow-inner appearance-none",value:A.category,onChange:Z=>R({...A,category:Z.target.value}),children:[P.jsx("option",{children:"Roads"}),P.jsx("option",{children:"Sanitation"}),P.jsx("option",{children:"Utilities"}),P.jsx("option",{children:"Vandalism"})]})]})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Description"}),P.jsx("textarea",{required:!0,rows:"3",className:"w-full bg-slate-50 border-2 border-transparent focus:border-indigo-500 rounded-3xl p-5 outline-none transition-all font-bold text-slate-900 shadow-inner",placeholder:"Provide details...",value:A.description,onChange:Z=>R({...A,description:Z.target.value})})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[P.jsxs("div",{className:"relative group",children:[P.jsx("input",{type:"file",accept:"image/*",onChange:F,className:"hidden",id:"image-upload"}),P.jsx("label",{htmlFor:"image-upload",className:"flex flex-col items-center justify-center w-full h-32 bg-slate-50 border-2 border-dashed border-slate-200 rounded-[32px] cursor-pointer hover:border-indigo-400 hover:bg-indigo-50 transition-all overflow-hidden",children:d?P.jsx("img",{src:d,className:"w-full h-full object-cover",alt:"Preview"}):P.jsxs(P.Fragment,{children:[P.jsx(OR,{className:"text-slate-400 mb-2"}),P.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase",children:"Attach Photo"})]})})]}),P.jsx("button",{type:"button",onClick:N,className:`flex flex-col items-center justify-center w-full h-32 rounded-[32px] transition-all border-2 ${A.location?"bg-emerald-50 border-emerald-200 text-emerald-600":"bg-slate-50 border-slate-100 text-slate-500 hover:border-indigo-400"}`,children:l?P.jsx(w0,{className:"animate-spin"}):A.location?P.jsxs(P.Fragment,{children:[P.jsx(LR,{className:"mb-2"}),P.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Pinned"})]}):P.jsxs(P.Fragment,{children:[P.jsx(kR,{className:"mb-2"}),P.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Pin Location"})]})})]}),P.jsxs("button",{type:"submit",disabled:n,className:"w-full bg-slate-900 text-white p-6 rounded-[32px] font-black text-xl shadow-2xl shadow-slate-200 hover:bg-indigo-600 hover:-translate-y-1 transition-all flex items-center justify-center gap-3 disabled:opacity-50 disabled:translate-y-0",children:[n?P.jsx(w0,{className:"animate-spin"}):P.jsx(UR,{size:24}),n?"UPLOADING...":"SUBMIT DATA"]})]})]})}):null},vD=({onOpenModal:r,reports:t})=>{const[n,s]=Q.useState(null),[l,h]=Q.useState({title:"",description:"",category:""}),d=R=>{switch(R){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-emerald-100 text-emerald-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=async R=>{if(window.confirm("Are you sure you want to delete this report?"))try{await yb(Fa(is,"reports",R))}catch(N){console.error("Error deleting report:",N),alert("Failed to delete report. Please try again.")}},v=R=>{s(R.id),h({title:R.title,description:R.description,category:R.category})},E=async()=>{try{const R=Fa(is,"reports",n);await bf(R,{title:l.title,description:l.description,category:l.category,updatedAt:new Date}),s(null)}catch(R){console.error("Error updating report:",R),alert("Failed to update report. Please try again.")}},A=()=>{s(null),h({title:"",description:"",category:""})};return P.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.length===0?P.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[P.jsxs("h2",{className:"text-4xl md:text-6xl font-black uppercase text-center mb-8",children:["Optimize Your ",P.jsx("span",{className:"text-indigo-600 italic",children:"Grid."})]}),P.jsx("button",{onClick:r,className:"animate-glow bg-indigo-600 text-white px-12 py-5 rounded-[32px] text-xl font-bold",children:"+ GET STARTED"})]}):P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-4 md:px-8 mb-20",children:t.map(R=>P.jsxs("div",{className:`bg-white rounded-[32px] overflow-hidden shadow-lg border-2 transition-all hover:shadow-2xl group relative ${R.status==="resolved"?"bg-emerald-50 border-emerald-200":"border-slate-100"}`,children:[R.status==="pending"&&P.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[P.jsx("button",{onClick:()=>v(R),className:"p-2 bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200 transition-colors",title:"Edit Report",children:""}),P.jsx("button",{onClick:()=>y(R.id),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors",title:"Delete Report",children:""})]}),P.jsx("div",{className:"h-40 md:h-48 bg-slate-200",children:R.imageUrl?P.jsx("img",{src:R.imageUrl,className:"w-full h-full object-cover",alt:"Report"}):P.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-bold uppercase",children:"No Image"})}),P.jsxs("div",{className:"p-6",children:[P.jsxs("div",{className:"flex justify-between items-start mb-4",children:[P.jsx("h4",{className:"font-bold text-xl",children:R.title}),P.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase ${d(R.status)}`,children:R.status?.toUpperCase()||"PENDING"})]}),P.jsx("p",{className:"text-slate-500 text-sm mb-4 line-clamp-2",children:R.description}),R.adminUpdate&&P.jsxs("div",{className:"mt-4 p-4 bg-slate-50 rounded-2xl border-l-4 border-indigo-500 animate-slide-up",children:[P.jsx("p",{className:"text-xs font-black text-indigo-600 uppercase mb-1",children:"Official Admin Response:"}),P.jsxs("p",{className:"text-slate-700 italic",children:['"',R.adminUpdate,'"']})]}),R.status==="resolved"&&R.adminResolutionNote&&P.jsxs("div",{className:"mt-4 p-4 bg-emerald-50 border border-emerald-200 rounded-2xl animate-fade-in resolved-card",children:[P.jsx("h5",{className:"text-emerald-700 font-bold text-xs uppercase",children:"Resolution Complete:"}),P.jsxs("p",{className:"text-emerald-900 text-sm mt-1 italic",children:['"',R.adminResolutionNote,'"']}),R.resolutionImageUrl&&P.jsx("img",{src:R.resolutionImageUrl,className:"w-full h-32 object-cover rounded-xl mt-3",alt:"Resolution proof"})]})]})]},R.id))}),n&&P.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:P.jsxs("div",{className:"bg-white w-full max-w-md rounded-[32px] p-6 shadow-2xl",children:[P.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit Report"}),P.jsxs("div",{className:"space-y-4",children:[P.jsx("input",{type:"text",value:l.title,onChange:R=>h({...l,title:R.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl",placeholder:"Title"}),P.jsxs("select",{value:l.category,onChange:R=>h({...l,category:R.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl",children:[P.jsx("option",{children:"Roads"}),P.jsx("option",{children:"Sanitation"}),P.jsx("option",{children:"Utilities"}),P.jsx("option",{children:"Vandalism"})]}),P.jsx("textarea",{value:l.description,onChange:R=>h({...l,description:R.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl",rows:"3",placeholder:"Description"})]}),P.jsxs("div",{className:"flex gap-3 mt-6",children:[P.jsx("button",{onClick:E,className:"flex-1 bg-indigo-600 text-white py-3 rounded-xl font-bold",children:"Save"}),P.jsx("button",{onClick:A,className:"flex-1 bg-slate-200 text-slate-700 py-3 rounded-xl font-bold",children:"Cancel"})]})]})})]}),P.jsx("footer",{className:"w-full py-16 px-10 bg-slate-900 text-white mt-20 rounded-t-[50px]",children:P.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12",children:[P.jsxs("div",{className:"animate-reveal",children:[P.jsx("h3",{className:"text-3xl font-black italic uppercase text-indigo-500 mb-4",children:"UrbanPulse"}),P.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"The next generation of urban logistics. Bridging the gap between citizens and administrators."})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Connect"}),P.jsx("p",{className:"text-slate-300",children:" urbanpulse@gmail.com"}),P.jsx("p",{className:"text-slate-300",children:" +91 8008207802"})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"HQ Address"}),P.jsxs("p",{className:"text-slate-300",children:["Level 7, T-Hub Phase 2,",P.jsx("br",{}),"Madhapur, Hyderabad,",P.jsx("br",{}),"Telangana 500081"]})]})]})})]})};function gS(r,t){const n=Q.useRef(t);Q.useEffect(function(){t!==n.current&&r.attributionControl!=null&&(n.current!=null&&r.attributionControl.removeAttribution(n.current),t!=null&&r.attributionControl.addAttribution(t)),n.current=t},[r,t])}const ED=1;function TD(r){return Object.freeze({__version:ED,map:r})}function wD(r,t){return Object.freeze({...r,...t})}const o_=Q.createContext(null);function _S(){const r=Q.use(o_);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function bD(r){function t(n,s){const{instance:l,context:h}=r(n).current;Q.useImperativeHandle(s,()=>l);const{children:d}=n;return d==null?null:Cf.createElement(o_,{value:h},d)}return Q.forwardRef(t)}function SD(r){function t(n,s){const[l,h]=Q.useState(!1),{instance:d}=r(n,h).current;Q.useImperativeHandle(s,()=>d),Q.useEffect(function(){l&&d.update()},[d,l,n.children]);const y=d._contentNode;return y?bR.createPortal(n.children,y):null}return Q.forwardRef(t)}function AD(r){function t(n,s){const{instance:l}=r(n).current;return Q.useImperativeHandle(s,()=>l),null}return Q.forwardRef(t)}function yS(r,t){const n=Q.useRef(void 0);Q.useEffect(function(){return t!=null&&r.instance.on(t),n.current=t,function(){n.current!=null&&r.instance.off(n.current),n.current=null}},[r,t])}function l_(r,t){const n=r.pane??t.pane;return n?{...r,pane:n}:r}function RD(r,t){return function(s,l){const h=_S(),d=r(l_(s,h),h);return gS(h.map,s.attribution),yS(d.current,s.eventHandlers),t(d.current,h,s,l),d}}var gc={exports:{}};var xD=gc.exports,oT;function CD(){return oT||(oT=1,(function(r,t){(function(n,s){s(t)})(xD,(function(n){var s="1.9.4";function l(a){var u,m,_,w;for(m=1,_=arguments.length;m<_;m++){w=arguments[m];for(u in w)a[u]=w[u]}return a}var h=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function d(a,u){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var _=m.call(arguments,2);return function(){return a.apply(u,_.length?_.concat(m.call(arguments)):arguments)}}var y=0;function v(a){return"_leaflet_id"in a||(a._leaflet_id=++y),a._leaflet_id}function E(a,u,m){var _,w,x,D;return D=function(){_=!1,w&&(x.apply(m,w),w=!1)},x=function(){_?w=arguments:(a.apply(m,arguments),setTimeout(D,u),_=!0)},x}function A(a,u,m){var _=u[1],w=u[0],x=_-w;return a===_&&m?a:((a-w)%x+x)%x+w}function R(){return!1}function N(a,u){if(u===!1)return a;var m=Math.pow(10,u===void 0?6:u);return Math.round(a*m)/m}function F(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function nt(a){return F(a).split(/\s+/)}function Z(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var m in u)a.options[m]=u[m];return a.options}function B(a,u,m){var _=[];for(var w in a)_.push(encodeURIComponent(m?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var ot=/\{ *([\w_ -]+) *\}/g;function st(a,u){return a.replace(ot,function(m,_){var w=u[_];if(w===void 0)throw new Error("No value provided for variable "+m);return typeof w=="function"&&(w=w(u)),w})}var ct=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function It(a,u){for(var m=0;m<a.length;m++)if(a[m]===u)return m;return-1}var Pt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function kt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var k=0;function O(a){var u=+new Date,m=Math.max(0,16-(u-k));return k=u+m,window.setTimeout(a,m)}var M=window.requestAnimationFrame||kt("RequestAnimationFrame")||O,q=window.cancelAnimationFrame||kt("CancelAnimationFrame")||kt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function j(a,u,m){if(m&&M===O)a.call(u);else return M.call(window,d(a,u))}function G(a){a&&q.call(window,a)}var V={__proto__:null,extend:l,create:h,bind:d,get lastId(){return y},stamp:v,throttle:E,wrapNum:A,falseFn:R,formatNum:N,trim:F,splitWords:nt,setOptions:Z,getParamString:B,template:st,isArray:ct,indexOf:It,emptyImageUrl:Pt,requestFn:M,cancelFn:q,requestAnimFrame:j,cancelAnimFrame:G};function oe(){}oe.extend=function(a){var u=function(){Z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,_=h(m);_.constructor=u,u.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return a.statics&&l(u,a.statics),a.includes&&(Je(a.includes),l.apply(null,[_].concat(a.includes))),l(_,a),delete _.statics,delete _.includes,_.options&&(_.options=m.options?h(m.options):{},l(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,D=_._initHooks.length;x<D;x++)_._initHooks[x].call(this)}},u},oe.include=function(a){var u=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},oe.mergeOptions=function(a){return l(this.prototype.options,a),this},oe.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Je(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=ct(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var rt={on:function(a,u,m){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u);else{a=nt(a);for(var w=0,x=a.length;w<x;w++)this._on(a[w],u,m)}return this},off:function(a,u,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],u);else{a=nt(a);for(var w=arguments.length===1,x=0,D=a.length;x<D;x++)w?this._off(a[x]):this._off(a[x],u,m)}return this},_on:function(a,u,m,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,m)===!1){m===this&&(m=void 0);var w={fn:u,ctx:m};_&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,u,m){var _,w,x;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,x=_.length;w<x;w++)_[w].fn=R;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var D=this._listens(a,u,m);if(D!==!1){var Y=_[D];this._firingCount&&(Y.fn=R,this._events[a]=_=_.slice()),_.splice(D,1)}}},fire:function(a,u,m){if(!this.listens(a,m))return this;var _=l({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var x=0,D=w.length;x<D;x++){var Y=w[x],$=Y.fn;Y.once&&this.off(a,$,Y.ctx),$.call(Y.ctx||this,_)}this._firingCount--}}return m&&this._propagateEvent(_),this},listens:function(a,u,m,_){typeof a!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(_=!!u,w=void 0,m=void 0);var x=this._events&&this._events[a];if(x&&x.length&&this._listens(a,w,m)!==!1)return!0;if(_){for(var D in this._eventParents)if(this._eventParents[D].listens(a,u,m,_))return!0}return!1},_listens:function(a,u,m){if(!this._events)return!1;var _=this._events[a]||[];if(!u)return!!_.length;m===this&&(m=void 0);for(var w=0,x=_.length;w<x;w++)if(_[w].fn===u&&_[w].ctx===m)return w;return!1},once:function(a,u,m){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u,!0);else{a=nt(a);for(var w=0,x=a.length;w<x;w++)this._on(a[w],u,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[v(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[v(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};rt.addEventListener=rt.on,rt.removeEventListener=rt.clearAllEventListeners=rt.off,rt.addOneTimeEventListener=rt.once,rt.fireEvent=rt.fire,rt.hasEventListeners=rt.listens;var vt=oe.extend(rt);function pt(a,u,m){this.x=m?Math.round(a):a,this.y=m?Math.round(u):u}var te=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(a){return this.clone()._add(bt(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(bt(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new pt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new pt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(a){a=bt(a);var u=a.x-this.x,m=a.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(a){return a=bt(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=bt(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function bt(a,u,m){return a instanceof pt?a:ct(a)?new pt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new pt(a.x,a.y):new pt(a,u,m)}function z(a,u){if(a)for(var m=u?[a,u]:a,_=0,w=m.length;_<w;_++)this.extend(m[_])}z.prototype={extend:function(a){var u,m;if(!a)return this;if(a instanceof pt||typeof a[0]=="number"||"x"in a)u=m=bt(a);else if(a=at(a),u=a.min,m=a.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return bt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return bt(this.min.x,this.max.y)},getTopRight:function(){return bt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,m;return typeof a[0]=="number"||a instanceof pt?a=bt(a):a=at(a),a instanceof z?(u=a.min,m=a.max):u=m=a,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=at(a);var u=this.min,m=this.max,_=a.min,w=a.max,x=w.x>=u.x&&_.x<=m.x,D=w.y>=u.y&&_.y<=m.y;return x&&D},overlaps:function(a){a=at(a);var u=this.min,m=this.max,_=a.min,w=a.max,x=w.x>u.x&&_.x<m.x,D=w.y>u.y&&_.y<m.y;return x&&D},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,m=this.max,_=Math.abs(u.x-m.x)*a,w=Math.abs(u.y-m.y)*a;return at(bt(u.x-_,u.y-w),bt(m.x+_,m.y+w))},equals:function(a){return a?(a=at(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function at(a,u){return!a||a instanceof z?a:new z(a,u)}function gt(a,u){if(a)for(var m=u?[a,u]:a,_=0,w=m.length;_<w;_++)this.extend(m[_])}gt.prototype={extend:function(a){var u=this._southWest,m=this._northEast,_,w;if(a instanceof wt)_=a,w=a;else if(a instanceof gt){if(_=a._southWest,w=a._northEast,!_||!w)return this}else return a?this.extend(Tt(a)||_t(a)):this;return!u&&!m?(this._southWest=new wt(_.lat,_.lng),this._northEast=new wt(w.lat,w.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),m.lat=Math.max(w.lat,m.lat),m.lng=Math.max(w.lng,m.lng)),this},pad:function(a){var u=this._southWest,m=this._northEast,_=Math.abs(u.lat-m.lat)*a,w=Math.abs(u.lng-m.lng)*a;return new gt(new wt(u.lat-_,u.lng-w),new wt(m.lat+_,m.lng+w))},getCenter:function(){return new wt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new wt(this.getNorth(),this.getWest())},getSouthEast:function(){return new wt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof wt||"lat"in a?a=Tt(a):a=_t(a);var u=this._southWest,m=this._northEast,_,w;return a instanceof gt?(_=a.getSouthWest(),w=a.getNorthEast()):_=w=a,_.lat>=u.lat&&w.lat<=m.lat&&_.lng>=u.lng&&w.lng<=m.lng},intersects:function(a){a=_t(a);var u=this._southWest,m=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),x=w.lat>=u.lat&&_.lat<=m.lat,D=w.lng>=u.lng&&_.lng<=m.lng;return x&&D},overlaps:function(a){a=_t(a);var u=this._southWest,m=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),x=w.lat>u.lat&&_.lat<m.lat,D=w.lng>u.lng&&_.lng<m.lng;return x&&D},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=_t(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _t(a,u){return a instanceof gt?a:new gt(a,u)}function wt(a,u,m){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,m!==void 0&&(this.alt=+m)}wt.prototype={equals:function(a,u){if(!a)return!1;a=Tt(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+N(this.lat,a)+", "+N(this.lng,a)+")"},distanceTo:function(a){return we.distance(this,Tt(a))},wrap:function(){return we.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,m=u/Math.cos(Math.PI/180*this.lat);return _t([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new wt(this.lat,this.lng,this.alt)}};function Tt(a,u,m){return a instanceof wt?a:ct(a)&&typeof a[0]!="object"?a.length===3?new wt(a[0],a[1],a[2]):a.length===2?new wt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new wt(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new wt(a,u,m)}var Ht={latLngToPoint:function(a,u){var m=this.projection.project(a),_=this.scale(u);return this.transformation._transform(m,_)},pointToLatLng:function(a,u){var m=this.scale(u),_=this.transformation.untransform(a,m);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(a),_=this.transformation.transform(u.min,m),w=this.transformation.transform(u.max,m);return new z(_,w)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?A(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?A(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new wt(m,u,_)},wrapLatLngBounds:function(a){var u=a.getCenter(),m=this.wrapLatLng(u),_=u.lat-m.lat,w=u.lng-m.lng;if(_===0&&w===0)return a;var x=a.getSouthWest(),D=a.getNorthEast(),Y=new wt(x.lat-_,x.lng-w),$=new wt(D.lat-_,D.lng-w);return new gt(Y,$)}},we=l({},Ht,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var m=Math.PI/180,_=a.lat*m,w=u.lat*m,x=Math.sin((u.lat-a.lat)*m/2),D=Math.sin((u.lng-a.lng)*m/2),Y=x*x+Math.cos(_)*Math.cos(w)*D*D,$=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*$}}),Re=6378137,hr={R:Re,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,m=this.MAX_LATITUDE,_=Math.max(Math.min(m,a.lat),-m),w=Math.sin(_*u);return new pt(this.R*a.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var u=180/Math.PI;return new wt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=Re*Math.PI;return new z([-a,-a],[a,a])})()};function Pr(a,u,m,_){if(ct(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=m,this._d=_}Pr.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new pt((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function Bi(a,u,m,_){return new Pr(a,u,m,_)}var Lr=l({},we,{code:"EPSG:3857",projection:hr,transformation:(function(){var a=.5/(Math.PI*hr.R);return Bi(a,.5,-a,.5)})()}),ji=l({},Lr,{code:"EPSG:900913"});function Ws(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Dr(a,u){var m="",_,w,x,D,Y,$;for(_=0,x=a.length;_<x;_++){for(Y=a[_],w=0,D=Y.length;w<D;w++)$=Y[w],m+=(w?"L":"M")+$.x+" "+$.y;m+=u?xt.svg?"z":"x":""}return m||"M0 0"}var ds=document.documentElement.style,Mr="ActiveXObject"in window,He=Mr&&!document.addEventListener,qe="msLaunchUri"in navigator&&!("documentMode"in document),Hi=yn("webkit"),hl=yn("android"),oo=yn("android 2")||yn("android 3"),xn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ms=hl&&yn("Google")&&xn<537&&!("AudioNode"in window),ps=!!window.opera,Js=!qe&&yn("chrome"),fr=yn("gecko")&&!Hi&&!ps&&!Mr,Tu=!Js&&yn("safari"),lo=yn("phantom"),uo="OTransition"in ds,fl=navigator.platform.indexOf("Win")===0,Jn=Mr&&"transition"in ds,$e="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!oo,Fn="MozPerspective"in ds,Ve=!window.L_DISABLE_3D&&(Jn||$e||Fn)&&!uo&&!lo,kr=typeof orientation<"u"||yn("mobile"),$s=kr&&Hi,dl=kr&&$e,vi=!window.PointerEvent&&window.MSPointerEvent,Vr=!!(window.PointerEvent||vi),Ue="ontouchstart"in window||!!window.TouchEvent,qi=!window.L_NO_TOUCH&&(Ue||Vr),Fi=kr&&ps,Ei=kr&&fr,wu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ml=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",R,u),window.removeEventListener("testPassiveEventSupport",R,u)}catch{}return a})(),Gi=(function(){return!!document.createElement("canvas").getContext})(),dr=!!(document.createElementNS&&Ws("svg").createSVGRect),bu=!!dr&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),gs=!dr&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),co=navigator.platform.indexOf("Mac")===0,ho=navigator.platform.indexOf("Linux")===0;function yn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var xt={ie:Mr,ielt9:He,edge:qe,webkit:Hi,android:hl,android23:oo,androidStock:ms,opera:ps,chrome:Js,gecko:fr,safari:Tu,phantom:lo,opera12:uo,win:fl,ie3d:Jn,webkit3d:$e,gecko3d:Fn,any3d:Ve,mobile:kr,mobileWebkit:$s,mobileWebkit3d:dl,msPointer:vi,pointer:Vr,touch:qi,touchNative:Ue,mobileOpera:Fi,mobileGecko:Ei,retina:wu,passiveEvents:ml,canvas:Gi,svg:dr,vml:gs,inlineSvg:bu,mac:co,linux:ho},fo=xt.msPointer?"MSPointerDown":"pointerdown",$n=xt.msPointer?"MSPointerMove":"pointermove",ti=xt.msPointer?"MSPointerUp":"pointerup",ze=xt.msPointer?"MSPointerCancel":"pointercancel",Fe={touchstart:fo,touchmove:$n,touchend:ti,touchcancel:ze},Ti={touchstart:Ki,touchmove:vn,touchend:vn,touchcancel:vn},wi={},pl=!1;function gl(a,u,m){return u==="touchstart"&&ei(),Ti[u]?(m=Ti[u].bind(this,m),a.addEventListener(Fe[u],m,!1),m):(console.warn("wrong event specified:",u),R)}function _l(a,u,m){if(!Fe[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(Fe[u],m,!1)}function Zi(a){wi[a.pointerId]=a}function ta(a){wi[a.pointerId]&&(wi[a.pointerId]=a)}function bi(a){delete wi[a.pointerId]}function ei(){pl||(document.addEventListener(fo,Zi,!0),document.addEventListener($n,ta,!0),document.addEventListener(ti,bi,!0),document.addEventListener(ze,bi,!0),pl=!0)}function vn(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in wi)u.touches.push(wi[m]);u.changedTouches=[u],a(u)}}function Ki(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Le(u),vn(a,u)}function Ge(a){var u={},m,_;for(_ in a)m=a[_],u[_]=m&&m.bind?m.bind(a):m;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var mo=200;function po(a,u){a.addEventListener("dblclick",u);var m=0,_;function w(x){if(x.detail!==1){_=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var D=Hr(x);if(!(D.some(function($){return $ instanceof HTMLLabelElement&&$.attributes.for})&&!D.some(function($){return $ instanceof HTMLInputElement||$ instanceof HTMLSelectElement}))){var Y=Date.now();Y-m<=mo?(_++,_===2&&u(Ge(x))):_=1,m=Y}}}return a.addEventListener("click",w),{dblclick:u,simDblclick:w}}function Yi(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var ni=ys(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mr=ys(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ea=mr==="webkitTransition"||mr==="OTransition"?mr+"End":"transitionend";function na(a){return typeof a=="string"?document.getElementById(a):a}function Ur(a,u){var m=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);m=_?_[u]:null}return m==="auto"?null:m}function Qt(a,u,m){var _=document.createElement(a);return _.className=u||"",m&&m.appendChild(_),_}function Xt(a){var u=a.parentNode;u&&u.removeChild(a)}function Oe(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Pe(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function Gn(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function _s(a,u){if(a.classList!==void 0)return a.classList.contains(u);var m=Qi(a);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function At(a,u){if(a.classList!==void 0)for(var m=nt(u),_=0,w=m.length;_<w;_++)a.classList.add(m[_]);else if(!_s(a,u)){var x=Qi(a);ii(a,(x?x+" ":"")+u)}}function ye(a,u){a.classList!==void 0?a.classList.remove(u):ii(a,F((" "+Qi(a)+" ").replace(" "+u+" "," ")))}function ii(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Qi(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function xe(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&ia(a,u)}function ia(a,u){var m=!1,_="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):a.style.filter+=" progid:"+_+"(opacity="+u+")"}function ys(a){for(var u=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in u)return a[m];return!1}function Si(a,u,m){var _=u||new pt(0,0);a.style[ni]=(xt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(m?" scale("+m+")":"")}function ve(a,u){a._leaflet_pos=u,xt.any3d?Si(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Xi(a){return a._leaflet_pos||new pt(0,0)}var ri,sn,ra;if("onselectstart"in document)ri=function(){Mt(window,"selectstart",Le)},sn=function(){he(window,"selectstart",Le)};else{var pr=ys(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ri=function(){if(pr){var a=document.documentElement.style;ra=a[pr],a[pr]="none"}},sn=function(){pr&&(document.documentElement.style[pr]=ra,ra=void 0)}}function vs(){Mt(window,"dragstart",Le)}function zr(){he(window,"dragstart",Le)}var Es,Wi;function Br(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Dn(),Es=a,Wi=a.style.outlineStyle,a.style.outlineStyle="none",Mt(window,"keydown",Dn))}function Dn(){Es&&(Es.style.outlineStyle=Wi,Es=void 0,Wi=void 0,he(window,"keydown",Dn))}function sa(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Mn(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var jr={__proto__:null,TRANSFORM:ni,TRANSITION:mr,TRANSITION_END:ea,get:na,getStyle:Ur,create:Qt,remove:Xt,empty:Oe,toFront:Pe,toBack:Gn,hasClass:_s,addClass:At,removeClass:ye,setClass:ii,getClass:Qi,setOpacity:xe,testProp:ys,setTransform:Si,setPosition:ve,getPosition:Xi,get disableTextSelection(){return ri},get enableTextSelection(){return sn},disableImageDrag:vs,enableImageDrag:zr,preventOutline:Br,restoreOutline:Dn,getSizedParentNode:sa,getScale:Mn};function Mt(a,u,m,_){if(u&&typeof u=="object")for(var w in u)kn(a,w,u[w],m);else{u=nt(u);for(var x=0,D=u.length;x<D;x++)kn(a,u[x],m,_)}return this}var En="_leaflet_events";function he(a,u,m,_){if(arguments.length===1)gr(a),delete a[En];else if(u&&typeof u=="object")for(var w in u)_r(a,w,u[w],m);else if(u=nt(u),arguments.length===2)gr(a,function(Y){return It(u,Y)!==-1});else for(var x=0,D=u.length;x<D;x++)_r(a,u[x],m,_);return this}function gr(a,u){for(var m in a[En]){var _=m.split(/\d/)[0];(!u||u(_))&&_r(a,_,null,null,m)}}var Zn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function kn(a,u,m,_){var w=u+v(m)+(_?"_"+v(_):"");if(a[En]&&a[En][w])return this;var x=function(Y){return m.call(_||a,Y||window.event)},D=x;!xt.touchNative&&xt.pointer&&u.indexOf("touch")===0?x=gl(a,u,x):xt.touch&&u==="dblclick"?x=po(a,x):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Zn[u]||u,x,xt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(x=function(Y){Y=Y||window.event,xi(a,Y)&&D(Y)},a.addEventListener(Zn[u],x,!1)):a.addEventListener(u,D,!1):a.attachEvent("on"+u,x),a[En]=a[En]||{},a[En][w]=x}function _r(a,u,m,_,w){w=w||u+v(m)+(_?"_"+v(_):"");var x=a[En]&&a[En][w];if(!x)return this;!xt.touchNative&&xt.pointer&&u.indexOf("touch")===0?_l(a,u,x):xt.touch&&u==="dblclick"?Yi(a,x):"removeEventListener"in a?a.removeEventListener(Zn[u]||u,x,!1):a.detachEvent("on"+u,x),a[En][w]=null}function ee(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function si(a){return kn(a,"wheel",ee),this}function yr(a){return Mt(a,"mousedown touchstart dblclick contextmenu",ee),a._leaflet_disable_click=!0,this}function Le(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ai(a){return Le(a),ee(a),this}function Hr(a){if(a.composedPath)return a.composedPath();for(var u=[],m=a.target;m;)u.push(m),m=m.parentNode;return u}function Ji(a,u){if(!u)return new pt(a.clientX,a.clientY);var m=Mn(u),_=m.boundingClientRect;return new pt((a.clientX-_.left)/m.x-u.clientLeft,(a.clientY-_.top)/m.y-u.clientTop)}var Ri=xt.linux&&xt.chrome?window.devicePixelRatio:xt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function an(a){return xt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Ri:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function xi(a,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var $i={__proto__:null,on:Mt,off:he,stopPropagation:ee,disableScrollPropagation:si,disableClickPropagation:yr,preventDefault:Le,stop:Ai,getPropagationPath:Hr,getMousePosition:Ji,getWheelDelta:an,isExternalTarget:xi,addListener:Mt,removeListener:he},vr=vt.extend({run:function(a,u,m,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Xi(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var m=this._startPos.add(this._offset.multiplyBy(a));u&&m._round(),ve(this._el,m),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Yt=vt.extend({options:{crs:Lr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=Z(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Tt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mr&&xt.any3d&&!xt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Mt(this._proxy,ea,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Tt(a),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=l({animate:m.animate},m.zoom),m.pan=l({animate:m.animate,duration:m.duration},m.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,m.zoom):this._tryAnimatedPan(a,m.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,m){var _=this.getZoomScale(u),w=this.getSize().divideBy(2),x=a instanceof pt?a:this.latLngToContainerPoint(a),D=x.subtract(w).multiplyBy(1-1/_),Y=this.containerPointToLatLng(w.add(D));return this.setView(Y,u,{zoom:m})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():_t(a);var m=bt(u.paddingTopLeft||u.padding||[0,0]),_=bt(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(a,!1,m.add(_));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var x=_.subtract(m).divideBy(2),D=this.project(a.getSouthWest(),w),Y=this.project(a.getNorthEast(),w),$=this.unproject(D.add(Y).divideBy(2).add(x),w);return{center:$,zoom:w}},fitBounds:function(a,u){if(a=_t(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=bt(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new vr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){At(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,m){if(m=m||{},m.animate===!1||!xt.any3d)return this.setView(a,u,m);this._stop();var _=this.project(this.getCenter()),w=this.project(a),x=this.getSize(),D=this._zoom;a=Tt(a),u=u===void 0?D:u;var Y=Math.max(x.x,x.y),$=Y*this.getZoomScale(D,u),ft=w.distanceTo(_)||1,Et=1.42,Ot=Et*Et;function Zt(Be){var Sr=Be?-1:1,xs=Be?$:Y,Iu=$*$-Y*Y+Sr*Ot*Ot*ft*ft,Mo=2*xs*Ot*ft,ko=Iu/Mo,Jr=Math.sqrt(ko*ko+1)-ko,Ar=Jr<1e-9?-18:Math.log(Jr);return Ar}function mn(Be){return(Math.exp(Be)-Math.exp(-Be))/2}function Ze(Be){return(Math.exp(Be)+Math.exp(-Be))/2}function Qn(Be){return mn(Be)/Ze(Be)}var fe=Zt(0);function de(Be){return Y*(Ze(fe)/Ze(fe+Et*Be))}function Wt(Be){return Y*(Ze(fe)*Qn(fe+Et*Be)-mn(fe))/Ot}function Xr(Be){return 1-Math.pow(1-Be,1.5)}var ci=Date.now(),Nl=(Zt(1)-fe)/Et,Wr=m.duration?1e3*m.duration:1e3*Nl*.8;function Cu(){var Be=(Date.now()-ci)/Wr,Sr=Xr(Be)*Nl;Be<=1?(this._flyToFrame=j(Cu,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy(Wt(Sr)/ft)),D),this.getScaleZoom(Y/de(Sr),D),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Cu.call(this),this},flyToBounds:function(a,u){var m=this._getBoundsCenterZoom(a,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(a){return a=_t(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var m=this.getCenter(),_=this._limitCenter(m,this._zoom,_t(a));return m.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var m=bt(u.paddingTopLeft||u.padding||[0,0]),_=bt(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),x=this.project(a),D=this.getPixelBounds(),Y=at([D.min.add(m),D.max.subtract(_)]),$=Y.getSize();if(!Y.contains(x)){this._enforcingBounds=!0;var ft=x.subtract(Y.getCenter()),Et=Y.extend(x).getSize().subtract($);w.x+=ft.x<0?-Et.x:Et.x,w.y+=ft.y<0?-Et.y:Et.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),_=u.divideBy(2).round(),w=m.divideBy(2).round(),x=_.subtract(w);return!x.x&&!x.y?this:(a.animate&&a.pan?this.panBy(x):(a.pan&&this._rawPanBy(x),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=d(this._handleGeolocationResponse,this),m=d(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,a):navigator.geolocation.getCurrentPosition(u,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,m=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,m=a.coords.longitude,_=new wt(u,m),w=_.toBounds(a.coords.accuracy*2),x=this._locateOptions;if(x.setView){var D=this.getBoundsZoom(w);this.setView(_,x.maxZoom?Math.min(D,x.maxZoom):D)}var Y={latlng:_,bounds:w,timestamp:a.timestamp};for(var $ in a.coords)typeof a.coords[$]=="number"&&(Y[$]=a.coords[$]);this.fire("locationfound",Y)}},addHandler:function(a,u){if(!u)return this;var m=this[a]=new u(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Xt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=Qt("div",m,u||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new gt(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,m){a=_t(a),m=bt(m||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),x=this.getMaxZoom(),D=a.getNorthWest(),Y=a.getSouthEast(),$=this.getSize().subtract(m),ft=at(this.project(Y,_),this.project(D,_)).getSize(),Et=xt.any3d?this.options.zoomSnap:1,Ot=$.x/ft.x,Zt=$.y/ft.y,mn=u?Math.max(Ot,Zt):Math.min(Ot,Zt);return _=this.getScaleZoom(mn,_),Et&&(_=Math.round(_/(Et/100))*(Et/100),_=u?Math.ceil(_/Et)*Et:Math.floor(_/Et)*Et),Math.max(w,Math.min(x,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var m=this._getTopLeftPoint(a,u);return new z(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(a)/m.scale(u)},getScaleZoom:function(a,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var _=m.zoom(a*m.scale(u));return isNaN(_)?1/0:_},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Tt(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(bt(a),u)},layerPointToLatLng:function(a){var u=bt(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Tt(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Tt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(_t(a))},distance:function(a,u){return this.options.crs.distance(Tt(a),Tt(u))},containerPointToLayerPoint:function(a){return bt(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return bt(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(bt(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Tt(a)))},mouseEventToContainerPoint:function(a){return Ji(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=na(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Mt(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&xt.any3d,At(a,"leaflet-container"+(xt.touch?" leaflet-touch":"")+(xt.retina?" leaflet-retina":"")+(xt.ielt9?" leaflet-oldie":"")+(xt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ur(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(At(a.markerPane,"leaflet-zoom-hide"),At(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,m){ve(this._mapPane,new pt(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,m)._move(a,u)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,m,_){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?m&&m.pinch&&this.fire("zoom",m):((w||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){ve(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[v(this._container)]=this;var u=a?he:Mt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),xt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var m=[],_,w=u==="mouseout"||u==="mouseover",x=a.target||a.srcElement,D=!1;x;){if(_=this._targets[v(x)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){D=!0;break}if(_&&_.listens(u,!0)&&(w&&!xi(x,a)||(m.push(_),w))||x===this._container)break;x=x.parentNode}return!m.length&&!D&&!w&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var m=a.type;m==="mousedown"&&Br(u),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,m){if(a.type==="click"){var _=l({},a);_.type="preclick",this._fireDOMEvent(_,_.type,m)}var w=this._findEventTargets(a,u);if(m){for(var x=[],D=0;D<m.length;D++)m[D].listens(u,!0)&&x.push(m[D]);w=x.concat(w)}if(w.length){u==="contextmenu"&&Le(a);var Y=w[0],$={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ft=Y.getLatLng&&(!Y._radius||Y._radius<=10);$.containerPoint=ft?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(a),$.layerPoint=this.containerPointToLayerPoint($.containerPoint),$.latlng=ft?Y.getLatLng():this.layerPointToLatLng($.layerPoint)}for(D=0;D<w.length;D++)if(w[D].fire(u,$,!0),$.originalEvent._stopped||w[D].options.bubblingMouseEvents===!1&&It(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Xi(this._mapPane)||new pt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var m=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var m=this.getSize()._divideBy(2);return this.project(a,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,m){var _=this._getNewPixelOrigin(m,u);return this.project(a,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,u,m){var _=this._getNewPixelOrigin(m,u);return at([this.project(a.getSouthWest(),u)._subtract(_),this.project(a.getNorthWest(),u)._subtract(_),this.project(a.getSouthEast(),u)._subtract(_),this.project(a.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,m){if(!m)return a;var _=this.project(a,u),w=this.getSize().divideBy(2),x=new z(_.subtract(w),_.add(w)),D=this._getBoundsOffset(x,m,u);return Math.abs(D.x)<=1&&Math.abs(D.y)<=1?a:this.unproject(_.add(D),u)},_limitOffset:function(a,u){if(!u)return a;var m=this.getPixelBounds(),_=new z(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(a,u,m){var _=at(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),w=_.min.subtract(a.min),x=_.max.subtract(a.max),D=this._rebound(w.x,-x.x),Y=this._rebound(w.y,-x.y);return new pt(D,Y)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),m=this.getMaxZoom(),_=xt.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(u,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var m=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var a=this._proxy=Qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var m=ni,_=this._proxy.style[m];Si(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Si(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),w=this._getCenterOffset(a)._divideBy(1-1/_);return m.animate!==!0&&!this.getSize().contains(w)?!1:(j(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,m,_){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,At(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qr(a,u){return new Yt(a,u)}var Tn=oe.extend({options:{position:"topright"},initialize:function(a){Z(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),m=this.getPosition(),_=a._controlCorners[m];return At(u,"leaflet-control"),m.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Vn=function(a){return new Tn(a)};Yt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",m=this._controlContainer=Qt("div",u+"control-container",this._container);function _(w,x){var D=u+w+" "+u+x;a[w+x]=Qt("div",D,m)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Xt(this._controlCorners[a]);Xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ts=Tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,m,_){return m<_?-1:_<m?1:0}},initialize:function(a,u,m){Z(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Tn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){At(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(At(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=Qt("div",a),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),yr(u),si(u);var _=this._section=Qt("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Mt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Qt("a",a+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Mt(w,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){Le(x),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Qt("div",a+"-base",_),this._separator=Qt("div",a+"-separator",_),this._overlaysList=Qt("div",a+"-overlays",_),u.appendChild(_)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(d(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Oe(this._baseLayersList),Oe(this._overlaysList),this._layerControlInputs=[];var a,u,m,_,w=0;for(m=0;m<this._layers.length;m++)_=this._layers[m],this._addItem(_),u=u||_.overlay,a=a||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(v(a.target)),m=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(a,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=m,_.firstChild},_addItem:function(a){var u=document.createElement("label"),m=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=m):_=this._createRadioElement("leaflet-base-layers_"+v(this),m),this._layerControlInputs.push(_),_.layerId=v(a.layer),Mt(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var x=document.createElement("span");u.appendChild(x),x.appendChild(_),x.appendChild(w);var D=a.overlay?this._overlaysList:this._baseLayersList;return D.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,m,_=[],w=[];this._handlingClick=!0;for(var x=a.length-1;x>=0;x--)u=a[x],m=this._getLayer(u.layerId).layer,u.checked?_.push(m):u.checked||w.push(m);for(x=0;x<w.length;x++)this._map.hasLayer(w[x])&&this._map.removeLayer(w[x]);for(x=0;x<_.length;x++)this._map.hasLayer(_[x])||this._map.addLayer(_[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,m,_=this._map.getZoom(),w=a.length-1;w>=0;w--)u=a[w],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&_<m.options.minZoom||m.options.maxZoom!==void 0&&_>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Mt(a,"click",Le),this.expand();var u=this;setTimeout(function(){he(a,"click",Le),u._preventClick=!1})}}),go=function(a,u,m){return new Ts(a,u,m)},Er=Tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",m=Qt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,m,_,w){var x=Qt("a",m,_);return x.innerHTML=a,x.href="#",x.title=u,x.setAttribute("role","button"),x.setAttribute("aria-label",u),yr(x),Mt(x,"click",Ai),Mt(x,"click",w,this),Mt(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";ye(this._zoomInButton,u),ye(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(At(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(At(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Yt.mergeOptions({zoomControl:!0}),Yt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Er,this.addControl(this.zoomControl))});var yl=function(a){return new Er(a)},_o=Tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",m=Qt("div",u),_=this.options;return this._addScales(_,u+"-line",m),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,m){a.metric&&(this._mScale=Qt("div",u,m)),a.imperial&&(this._iScale=Qt("div",u,m))},_update:function(){var a=this._map,u=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/a)},_updateImperial:function(a){var u=a*3.2808399,m,_,w;u>5280?(m=u/5280,_=this._getRoundNum(m),this._updateScale(this._iScale,_+" mi",_/m)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(a,u,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),m=a/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),ws=function(a){return new _o(a)},yo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',aa=Tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xt.inlineSvg?yo+" ":"")+"Leaflet</a>"},initialize:function(a){Z(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Qt("div","leaflet-control-attribution"),yr(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Yt.mergeOptions({attributionControl:!0}),Yt.addInitHook(function(){this.options.attributionControl&&new aa().addTo(this)});var oa=function(a){return new aa(a)};Tn.Layers=Ts,Tn.Zoom=Er,Tn.Scale=_o,Tn.Attribution=aa,Vn.layers=go,Vn.zoom=yl,Vn.scale=ws,Vn.attribution=oa;var Kn=oe.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Kn.addTo=function(a,u){return a.addHandler(u,this),this};var vl={Events:rt},Ci=xt.touch?"touchstart mousedown":"mousedown",Ii=vt.extend({options:{clickTolerance:3},initialize:function(a,u,m,_){Z(this,_),this._element=a,this._dragStartTarget=u||a,this._preventOutline=m},enable:function(){this._enabled||(Mt(this._dragStartTarget,Ci,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ii._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,Ci,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!_s(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ii._dragging===this&&this.finishDrag();return}if(!(Ii._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ii._dragging=this,this._preventOutline&&Br(this._element),vs(),ri(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,m=sa(this._element);this._startPoint=new pt(u.clientX,u.clientY),this._startPos=Xi(this._element),this._parentScale=Mn(m);var _=a.type==="mousedown";Mt(document,_?"mousemove":"touchmove",this._onMove,this),Mt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,m=new pt(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Le(a),this._moved||(this.fire("dragstart"),this._moved=!0,At(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),At(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),ve(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),zr(),sn();var u=this._moved&&this._moving;this._moving=!1,Ii._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function vo(a,u,m){var _,w=[1,4,2,8],x,D,Y,$,ft,Et,Ot,Zt;for(x=0,Et=a.length;x<Et;x++)a[x]._code=et(a[x],u);for(Y=0;Y<4;Y++){for(Ot=w[Y],_=[],x=0,Et=a.length,D=Et-1;x<Et;D=x++)$=a[x],ft=a[D],$._code&Ot?ft._code&Ot||(Zt=X(ft,$,Ot,u,m),Zt._code=et(Zt,u),_.push(Zt)):(ft._code&Ot&&(Zt=X(ft,$,Ot,u,m),Zt._code=et(Zt,u),_.push(Zt)),_.push($));a=_}return a}function Eo(a,u){var m,_,w,x,D,Y,$,ft,Et;if(!a||a.length===0)throw new Error("latlngs not passed");le(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ot=Tt([0,0]),Zt=_t(a),mn=Zt.getNorthWest().distanceTo(Zt.getSouthWest())*Zt.getNorthEast().distanceTo(Zt.getNorthWest());mn<1700&&(Ot=la(a));var Ze=a.length,Qn=[];for(m=0;m<Ze;m++){var fe=Tt(a[m]);Qn.push(u.project(Tt([fe.lat-Ot.lat,fe.lng-Ot.lng])))}for(Y=$=ft=0,m=0,_=Ze-1;m<Ze;_=m++)w=Qn[m],x=Qn[_],D=w.y*x.x-x.y*w.x,$+=(w.x+x.x)*D,ft+=(w.y+x.y)*D,Y+=D*3;Y===0?Et=Qn[0]:Et=[$/Y,ft/Y];var de=u.unproject(bt(Et));return Tt([de.lat+Ot.lat,de.lng+Ot.lng])}function la(a){for(var u=0,m=0,_=0,w=0;w<a.length;w++){var x=Tt(a[w]);u+=x.lat,m+=x.lng,_++}return Tt([u/_,m/_])}var Fr={__proto__:null,clipPolygon:vo,polygonCenter:Eo,centroid:la};function wn(a,u){if(!u||!a.length)return a.slice();var m=u*u;return a=T(a,m),a=Tr(a,m),a}function To(a,u,m){return Math.sqrt(Bt(a,u,m,!0))}function El(a,u,m){return Bt(a,u,m)}function Tr(a,u){var m=a.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(m);w[0]=w[m-1]=1,f(a,w,u,0,m-1);var x,D=[];for(x=0;x<m;x++)w[x]&&D.push(a[x]);return D}function f(a,u,m,_,w){var x=0,D,Y,$;for(Y=_+1;Y<=w-1;Y++)$=Bt(a[Y],a[_],a[w],!0),$>x&&(D=Y,x=$);x>m&&(u[D]=1,f(a,u,m,_,D),f(a,u,m,D,w))}function T(a,u){for(var m=[a[0]],_=1,w=0,x=a.length;_<x;_++)yt(a[_],a[w])>u&&(m.push(a[_]),w=_);return w<x-1&&m.push(a[x-1]),m}var S;function I(a,u,m,_,w){var x=_?S:et(a,m),D=et(u,m),Y,$,ft;for(S=D;;){if(!(x|D))return[a,u];if(x&D)return!1;Y=x||D,$=X(a,u,Y,m,w),ft=et($,m),Y===x?(a=$,x=ft):(u=$,D=ft)}}function X(a,u,m,_,w){var x=u.x-a.x,D=u.y-a.y,Y=_.min,$=_.max,ft,Et;return m&8?(ft=a.x+x*($.y-a.y)/D,Et=$.y):m&4?(ft=a.x+x*(Y.y-a.y)/D,Et=Y.y):m&2?(ft=$.x,Et=a.y+D*($.x-a.x)/x):m&1&&(ft=Y.x,Et=a.y+D*(Y.x-a.x)/x),new pt(ft,Et,w)}function et(a,u){var m=0;return a.x<u.min.x?m|=1:a.x>u.max.x&&(m|=2),a.y<u.min.y?m|=4:a.y>u.max.y&&(m|=8),m}function yt(a,u){var m=u.x-a.x,_=u.y-a.y;return m*m+_*_}function Bt(a,u,m,_){var w=u.x,x=u.y,D=m.x-w,Y=m.y-x,$=D*D+Y*Y,ft;return $>0&&(ft=((a.x-w)*D+(a.y-x)*Y)/$,ft>1?(w=m.x,x=m.y):ft>0&&(w+=D*ft,x+=Y*ft)),D=a.x-w,Y=a.y-x,_?D*D+Y*Y:new pt(w,x)}function le(a){return!ct(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function ue(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),le(a)}function Ce(a,u){var m,_,w,x,D,Y,$,ft;if(!a||a.length===0)throw new Error("latlngs not passed");le(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Et=Tt([0,0]),Ot=_t(a),Zt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Zt<1700&&(Et=la(a));var mn=a.length,Ze=[];for(m=0;m<mn;m++){var Qn=Tt(a[m]);Ze.push(u.project(Tt([Qn.lat-Et.lat,Qn.lng-Et.lng])))}for(m=0,_=0;m<mn-1;m++)_+=Ze[m].distanceTo(Ze[m+1])/2;if(_===0)ft=Ze[0];else for(m=0,x=0;m<mn-1;m++)if(D=Ze[m],Y=Ze[m+1],w=D.distanceTo(Y),x+=w,x>_){$=(x-_)/w,ft=[Y.x-$*(Y.x-D.x),Y.y-$*(Y.y-D.y)];break}var fe=u.unproject(bt(ft));return Tt([fe.lat+Et.lat,fe.lng+Et.lng])}var ai={__proto__:null,simplify:wn,pointToSegmentDistance:To,closestPointOnSegment:El,clipSegment:I,_getEdgeIntersection:X,_getBitCode:et,_sqClosestPointOnSegment:Bt,isFlat:le,_flat:ue,polylineCenter:Ce},oi={project:function(a){return new pt(a.lng,a.lat)},unproject:function(a){return new wt(a.y,a.x)},bounds:new z([-180,-90],[180,90])},Yn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,m=this.R,_=a.lat*u,w=this.R_MINOR/m,x=Math.sqrt(1-w*w),D=x*Math.sin(_),Y=Math.tan(Math.PI/4-_/2)/Math.pow((1-D)/(1+D),x/2);return _=-m*Math.log(Math.max(Y,1e-10)),new pt(a.lng*u*m,_)},unproject:function(a){for(var u=180/Math.PI,m=this.R,_=this.R_MINOR/m,w=Math.sqrt(1-_*_),x=Math.exp(-a.y/m),D=Math.PI/2-2*Math.atan(x),Y=0,$=.1,ft;Y<15&&Math.abs($)>1e-7;Y++)ft=w*Math.sin(D),ft=Math.pow((1-ft)/(1+ft),w/2),$=Math.PI/2-2*Math.atan(x*ft)-D,D+=$;return new wt(D*u,a.x*u/m)}},Ni={__proto__:null,LonLat:oi,Mercator:Yn,SphericalMercator:hr},bs=l({},we,{code:"EPSG:3395",projection:Yn,transformation:(function(){var a=.5/(Math.PI*Yn.R);return Bi(a,.5,-a,.5)})()}),Ss=l({},we,{code:"EPSG:4326",projection:oi,transformation:Bi(1/180,1,-1/180,.5)}),ua=l({},Ht,{projection:oi,transformation:Bi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var m=u.lng-a.lng,_=u.lat-a.lat;return Math.sqrt(m*m+_*_)},infinite:!0});Ht.Earth=we,Ht.EPSG3395=bs,Ht.EPSG3857=Lr,Ht.EPSG900913=ji,Ht.EPSG4326=Ss,Ht.Simple=ua;var Oi=vt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[v(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[v(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Yt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=v(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return v(a)in this._layers},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},_addLayers:function(a){a=a?ct(a)?a:[a]:[];for(var u=0,m=a.length;u<m;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[v(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=v(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,m=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ca=Oi.extend({initialize:function(a,u){Z(this,u),this._layers={};var m,_;if(a)for(m=0,_=a.length;m<_;m++)this.addLayer(a[m])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),m,_;for(m in this._layers)_=this._layers[m],_[a]&&_[a].apply(_,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return v(a)}}),Td=function(a,u){return new ca(a,u)},tr=ca.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ca.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ca.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new gt;for(var u in this._layers){var m=this._layers[u];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),th=function(a,u){return new tr(a,u)},er=oe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){Z(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,u){var m=this.options,_=m[u+"Size"];typeof _=="number"&&(_=[_,_]);var w=bt(_),x=bt(u==="shadow"&&m.shadowAnchor||m.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(m.className||""),x&&(a.style.marginLeft=-x.x+"px",a.style.marginTop=-x.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return xt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function wo(a){return new er(a)}var bo=er.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof bo.imagePath!="string"&&(bo.imagePath=this._detectIconPath()),(this.options.imagePath||bo.imagePath)+er.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(m,_,w){var x=_.exec(m);return x&&x[w]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Qt("div","leaflet-default-icon-path",document.body),u=Ur(a,"background-image")||Ur(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),So=Kn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ii(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),At(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,m=u._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,x=Xi(u._icon),D=m.getPixelBounds(),Y=m.getPixelOrigin(),$=at(D.min._subtract(Y).add(w),D.max._subtract(Y).subtract(w));if(!$.contains(x)){var ft=bt((Math.max($.max.x,x.x)-$.max.x)/(D.max.x-$.max.x)-(Math.min($.min.x,x.x)-$.min.x)/(D.min.x-$.min.x),(Math.max($.max.y,x.y)-$.max.y)/(D.max.y-$.max.y)-(Math.min($.min.y,x.y)-$.min.y)/(D.min.y-$.min.y)).multiplyBy(_);m.panBy(ft,{animate:!1}),this._draggable._newPos._add(ft),this._draggable._startPos._add(ft),ve(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=j(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,m=u._shadow,_=Xi(u._icon),w=u._map.layerPointToLatLng(_);m&&ve(m,_),u._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Ao=Oi.extend({options:{icon:new bo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){Z(this,u),this._latlng=Tt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Tt(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),_=!1;m!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),At(m,u),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(m,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),x=!1;w!==this._shadow&&(this._removeShadow(),x=!0),w&&(At(w,u),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&x&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),Xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&ve(this._icon,a),this._shadow&&ve(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(At(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),So)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new So(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&xe(this._icon,a),this._shadow&&xe(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,m=u.iconSize?bt(u.iconSize):bt(0,0),_=u.iconAnchor?bt(u.iconAnchor):bt(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:m.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function eh(a,u){return new Ao(a,u)}var nr=Oi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return Z(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ha=nr.extend({options:{fill:!0,radius:10},initialize:function(a,u){Z(this,u),this._latlng=Tt(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Tt(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return nr.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,m=this._clickTolerance(),_=[a+m,u+m];this._pxBounds=new z(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function nh(a,u){return new ha(a,u)}var Tl=ha.extend({initialize:function(a,u,m){if(typeof u=="number"&&(u=l({},m,{radius:u})),Z(this,u),this._latlng=Tt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new gt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:nr.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,m=this._map,_=m.options.crs;if(_.distance===we.distance){var w=Math.PI/180,x=this._mRadius/we.R/w,D=m.project([u+x,a]),Y=m.project([u-x,a]),$=D.add(Y).divideBy(2),ft=m.unproject($).lat,Et=Math.acos((Math.cos(x*w)-Math.sin(u*w)*Math.sin(ft*w))/(Math.cos(u*w)*Math.cos(ft*w)))/w;(isNaN(Et)||Et===0)&&(Et=x/Math.cos(Math.PI/180*u)),this._point=$.subtract(m.getPixelOrigin()),this._radius=isNaN(Et)?0:$.x-m.project([ft,a-Et]).x,this._radiusY=$.y-D.y}else{var Ot=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Ot).x}this._updateBounds()}});function ih(a,u,m){return new Tl(a,u,m)}var wr=nr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){Z(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,m=null,_=Bt,w,x,D=0,Y=this._parts.length;D<Y;D++)for(var $=this._parts[D],ft=1,Et=$.length;ft<Et;ft++){w=$[ft-1],x=$[ft];var Ot=_(a,w,x,!0);Ot<u&&(u=Ot,m=_(a,w,x))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ce(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Tt(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new gt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return le(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],m=le(a),_=0,w=a.length;_<w;_++)m?(u[_]=Tt(a[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(a[_]);return u},_project:function(){var a=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new pt(a,a);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,m){var _=a[0]instanceof wt,w=a.length,x,D;if(_){for(D=[],x=0;x<w;x++)D[x]=this._map.latLngToLayerPoint(a[x]),m.extend(D[x]);u.push(D)}else for(x=0;x<w;x++)this._projectLatlngs(a[x],u,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,_,w,x,D,Y,$;for(m=0,w=0,x=this._rings.length;m<x;m++)for($=this._rings[m],_=0,D=$.length;_<D-1;_++)Y=I($[_],$[_+1],a,_,!0),Y&&(u[w]=u[w]||[],u[w].push(Y[0]),(Y[1]!==$[_+1]||_===D-2)&&(u[w].push(Y[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,m=0,_=a.length;m<_;m++)a[m]=wn(a[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var m,_,w,x,D,Y,$=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,x=this._parts.length;m<x;m++)for(Y=this._parts[m],_=0,D=Y.length,w=D-1;_<D;w=_++)if(!(!u&&_===0)&&To(a,Y[w],Y[_])<=$)return!0;return!1}});function wd(a,u){return new wr(a,u)}wr._flat=ue;var fa=wr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Eo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=wr.prototype._convertLatLngs.call(this,a),m=u.length;return m>=2&&u[0]instanceof wt&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(a){wr.prototype._setLatLngs.call(this,a),le(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return le(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,m=new pt(u,u);if(a=new z(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,x;_<w;_++)x=vo(this._rings[_],a,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,m,_,w,x,D,Y,$,ft;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(x=0,$=this._parts.length;x<$;x++)for(m=this._parts[x],D=0,ft=m.length,Y=ft-1;D<ft;Y=D++)_=m[D],w=m[Y],_.y>a.y!=w.y>a.y&&a.x<(w.x-_.x)*(a.y-_.y)/(w.y-_.y)+_.x&&(u=!u);return u||wr.prototype._containsPoint.call(this,a,!0)}});function bd(a,u){return new fa(a,u)}var br=tr.extend({initialize:function(a,u){Z(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=ct(a)?a:a.features,m,_,w;if(u){for(m=0,_=u.length;m<_;m++)w=u[m],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var x=this.options;if(x.filter&&!x.filter(a))return this;var D=bn(a,x);return D?(D.feature=Sl(a),D.defaultOptions=D.options,this.resetStyle(D),x.onEachFeature&&x.onEachFeature(a,D),this.addLayer(D)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function bn(a,u){var m=a.type==="Feature"?a.geometry:a,_=m?m.coordinates:null,w=[],x=u&&u.pointToLayer,D=u&&u.coordsToLatLng||wl,Y,$,ft,Et;if(!_&&!m)return null;switch(m.type){case"Point":return Y=D(_),da(x,a,Y,u);case"MultiPoint":for(ft=0,Et=_.length;ft<Et;ft++)Y=D(_[ft]),w.push(da(x,a,Y,u));return new tr(w);case"LineString":case"MultiLineString":return $=Ro(_,m.type==="LineString"?0:1,D),new wr($,u);case"Polygon":case"MultiPolygon":return $=Ro(_,m.type==="Polygon"?1:2,D),new fa($,u);case"GeometryCollection":for(ft=0,Et=m.geometries.length;ft<Et;ft++){var Ot=bn({geometry:m.geometries[ft],type:"Feature",properties:a.properties},u);Ot&&w.push(Ot)}return new tr(w);case"FeatureCollection":for(ft=0,Et=m.features.length;ft<Et;ft++){var Zt=bn(m.features[ft],u);Zt&&w.push(Zt)}return new tr(w);default:throw new Error("Invalid GeoJSON object.")}}function da(a,u,m,_){return a?a(u,m):new Ao(m,_&&_.markersInheritOptions&&_)}function wl(a){return new wt(a[1],a[0],a[2])}function Ro(a,u,m){for(var _=[],w=0,x=a.length,D;w<x;w++)D=u?Ro(a[w],u-1,m):(m||wl)(a[w]),_.push(D);return _}function bl(a,u){return a=Tt(a),a.alt!==void 0?[N(a.lng,u),N(a.lat,u),N(a.alt,u)]:[N(a.lng,u),N(a.lat,u)]}function xo(a,u,m,_){for(var w=[],x=0,D=a.length;x<D;x++)w.push(u?xo(a[x],le(a[x])?0:u-1,m,_):bl(a[x],_));return!u&&m&&w.length>0&&w.push(w[0].slice()),w}function Gr(a,u){return a.feature?l({},a.feature,{geometry:u}):Sl(u)}function Sl(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Zr={toGeoJSON:function(a){return Gr(this,{type:"Point",coordinates:bl(this.getLatLng(),a)})}};Ao.include(Zr),Tl.include(Zr),ha.include(Zr),wr.include({toGeoJSON:function(a){var u=!le(this._latlngs),m=xo(this._latlngs,u?1:0,!1,a);return Gr(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),fa.include({toGeoJSON:function(a){var u=!le(this._latlngs),m=u&&!le(this._latlngs[0]),_=xo(this._latlngs,m?2:u?1:0,!0,a);return u||(_=[_]),Gr(this,{type:(m?"Multi":"")+"Polygon",coordinates:_})}}),ca.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(a).geometry.coordinates)}),Gr(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var m=u==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var x=w.toGeoJSON(a);if(m)_.push(x.geometry);else{var D=Sl(x);D.type==="FeatureCollection"?_.push.apply(_,D.features):_.push(D)}}}),m?Gr(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function Al(a,u){return new br(a,u)}var Co=Al,ma=Oi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,m){this._url=a,this._bounds=_t(u),Z(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(At(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Pe(this._image),this},bringToBack:function(){return this._map&&Gn(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=_t(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:Qt("img");if(At(u,"leaflet-image-layer"),this._zoomAnimated&&At(u,"leaflet-zoom-animated"),this.options.className&&At(u,this.options.className),u.onselectstart=R,u.onmousemove=R,u.onload=d(this.fire,this,"load"),u.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Si(this._image,m,u)},_reset:function(){var a=this._image,u=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();ve(a,u.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){xe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),rh=function(a,u,m){return new ma(a,u,m)},Kr=ma.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:Qt("video");if(At(u,"leaflet-image-layer"),this._zoomAnimated&&At(u,"leaflet-zoom-animated"),this.options.className&&At(u,this.options.className),u.onselectstart=R,u.onmousemove=R,u.onloadeddata=d(this.fire,this,"load"),a){for(var m=u.getElementsByTagName("source"),_=[],w=0;w<m.length;w++)_.push(m[w].src);this._url=m.length>0?_:[u.src];return}ct(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var D=Qt("source");D.src=this._url[x],u.appendChild(D)}}});function pa(a,u,m){return new Kr(a,u,m)}var Rl=ma.extend({_initImage:function(){var a=this._image=this._url;At(a,"leaflet-image-layer"),this._zoomAnimated&&At(a,"leaflet-zoom-animated"),this.options.className&&At(a,this.options.className),a.onselectstart=R,a.onmousemove=R}});function sh(a,u,m){return new Rl(a,u,m)}var Sn=Oi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof wt||ct(a))?(this._latlng=Tt(a),Z(this,u)):(Z(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&xe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&xe(this._container,1),this.bringToFront(),this.options.interactive&&(At(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(xe(this._container,0),this._removeTimeout=setTimeout(d(Xt,void 0,this._container),200)):Xt(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Tt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pe(this._container),this},bringToBack:function(){return this._map&&Gn(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof tr){u=null;var m=this._source._layers;for(var _ in m)if(m[_]._map){u=m[_];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=bt(this.options.offset),m=this._getAnchor();this._zoomAnimated?ve(this._container,a.add(m)):u=u.add(a).add(m);var _=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Yt.include({_initOverlay:function(a,u,m,_){var w=u;return w instanceof a||(w=new a(_).setContent(u)),m&&w.setLatLng(m),w}}),Oi.include({_initOverlay:function(a,u,m,_){var w=m;return w instanceof a?(Z(w,_),w._source=this):(w=u&&!_?u:new a(_,this),w.setContent(m)),w}});var Io=Sn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Sn.prototype.openOn.call(this,a)},onAdd:function(a){Sn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof nr||this._source.on("preclick",ee))},onRemove:function(a){Sn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof nr||this._source.off("preclick",ee))},getEvents:function(){var a=Sn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=Qt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Qt("div",a+"-content-wrapper",u);if(this._contentNode=Qt("div",a+"-content",m),yr(u),si(this._contentNode),Mt(u,"contextmenu",ee),this._tipContainer=Qt("div",a+"-tip-container",u),this._tip=Qt("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Qt("a",a+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Mt(_,"click",function(w){Le(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var _=a.offsetHeight,w=this.options.maxHeight,x="leaflet-popup-scrolled";w&&_>w?(u.height=w+"px",At(a,x)):ye(a,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();ve(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Ur(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,_=this._containerWidth,w=new pt(this._containerLeft,-m-this._containerBottom);w._add(Xi(this._container));var x=a.layerPointToContainerPoint(w),D=bt(this.options.autoPanPadding),Y=bt(this.options.autoPanPaddingTopLeft||D),$=bt(this.options.autoPanPaddingBottomRight||D),ft=a.getSize(),Et=0,Ot=0;x.x+_+$.x>ft.x&&(Et=x.x+_-ft.x+$.x),x.x-Et-Y.x<0&&(Et=x.x-Y.x),x.y+m+$.y>ft.y&&(Ot=x.y+m-ft.y+$.y),x.y-Ot-Y.y<0&&(Ot=x.y-Y.y),(Et||Ot)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Et,Ot]))}},_getAnchor:function(){return bt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ah=function(a,u){return new Io(a,u)};Yt.mergeOptions({closePopupOnClick:!0}),Yt.include({openPopup:function(a,u,m){return this._initOverlay(Io,a,u,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Oi.include({bindPopup:function(a,u){return this._popup=this._initOverlay(Io,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof tr||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ai(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof nr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var No=Sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Sn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Sn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Sn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,m,_=this._map,w=this._container,x=_.latLngToContainerPoint(_.getCenter()),D=_.layerPointToContainerPoint(a),Y=this.options.direction,$=w.offsetWidth,ft=w.offsetHeight,Et=bt(this.options.offset),Ot=this._getAnchor();Y==="top"?(u=$/2,m=ft):Y==="bottom"?(u=$/2,m=0):Y==="center"?(u=$/2,m=ft/2):Y==="right"?(u=0,m=ft/2):Y==="left"?(u=$,m=ft/2):D.x<x.x?(Y="right",u=0,m=ft/2):(Y="left",u=$+(Et.x+Ot.x)*2,m=ft/2),a=a.subtract(bt(u,m,!0)).add(Et).add(Ot),ye(w,"leaflet-tooltip-right"),ye(w,"leaflet-tooltip-left"),ye(w,"leaflet-tooltip-top"),ye(w,"leaflet-tooltip-bottom"),At(w,"leaflet-tooltip-"+Y),ve(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&xe(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return bt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Sd=function(a,u){return new No(a,u)};Yt.include({openTooltip:function(a,u,m){return this._initOverlay(No,a,u,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Oi.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(No,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof tr||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Mt(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Mt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,m,_;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var oh=er.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Oe(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var _=bt(m.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Ad(a){return new oh(a)}er.Default=bo;var ga=Oi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){Z(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Xt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof pt?a:new pt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,m=-a(-1/0,1/0),_=0,w=u.length,x;_<w;_++)x=u[_].style.zIndex,u[_]!==this._container&&x&&(m=a(m,+x));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xt.ielt9){xe(this._container,this.options.opacity);var a=+new Date,u=!1,m=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var x=Math.min(1,(a-w.loaded)/200);xe(w.el,x),x<1?u=!0:(w.active?m=!0:this._onOpaqueTile(w),w.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(G(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:R,_initContainer:function(){this._container||(this._container=Qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=u-Math.abs(a-m),this._onUpdateLevel(m)):(Xt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var _=this._levels[a],w=this._map;return _||(_=this._levels[a]={},_.el=Qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,w.getCenter(),w.getZoom()),R(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:R,_onRemoveLevel:R,_onCreateLevel:R,_pruneTiles:function(){if(this._map){var a,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Xt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,m,_){var w=Math.floor(a/2),x=Math.floor(u/2),D=m-1,Y=new pt(+w,+x);Y.z=+D;var $=this._tileCoordsToKey(Y),ft=this._tiles[$];return ft&&ft.active?(ft.retain=!0,!0):(ft&&ft.loaded&&(ft.retain=!0),D>_?this._retainParent(w,x,D,_):!1)},_retainChildren:function(a,u,m,_){for(var w=2*a;w<2*a+2;w++)for(var x=2*u;x<2*u+2;x++){var D=new pt(w,x);D.z=m+1;var Y=this._tileCoordsToKey(D),$=this._tiles[Y];if($&&$.active){$.retain=!0;continue}else $&&$.loaded&&($.retain=!0);m+1<_&&this._retainChildren(w,x,m+1,_)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,m,_){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var x=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||x)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,u)},_setZoomTransform:function(a,u,m){var _=this._map.getZoomScale(m,a.zoom),w=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,m)).round();xt.any3d?Si(a.el,w,_):ve(a.el,w)},_resetGrid:function(){var a=this._map,u=a.options.crs,m=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],_).x/m.x),Math.ceil(a.project([0,u.wrapLng[1]],_).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],_).y/m.x),Math.ceil(a.project([u.wrapLat[1],0],_).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(m,this._tileZoom),w=u.project(a,this._tileZoom).floor(),x=u.getSize().divideBy(_*2);return new z(w.subtract(x),w.add(x))},_update:function(a){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(_),x=w.getCenter(),D=[],Y=this.options.keepBuffer,$=new z(w.getBottomLeft().subtract([Y,-Y]),w.getTopRight().add([Y,-Y]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ft in this._tiles){var Et=this._tiles[ft].coords;(Et.z!==this._tileZoom||!$.contains(new pt(Et.x,Et.y)))&&(this._tiles[ft].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Ot=w.min.y;Ot<=w.max.y;Ot++)for(var Zt=w.min.x;Zt<=w.max.x;Zt++){var mn=new pt(Zt,Ot);if(mn.z=this._tileZoom,!!this._isValidTile(mn)){var Ze=this._tiles[this._tileCoordsToKey(mn)];Ze?Ze.current=!0:D.push(mn)}}if(D.sort(function(fe,de){return fe.distanceTo(x)-de.distanceTo(x)}),D.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qn=document.createDocumentFragment();for(Zt=0;Zt<D.length;Zt++)this._addTile(D[Zt],Qn);this._level.el.appendChild(Qn)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!u.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return _t(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,m=this.getTileSize(),_=a.scaleBy(m),w=_.add(m),x=u.unproject(_,a.z),D=u.unproject(w,a.z);return[x,D]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),m=new gt(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),m=new pt(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(a){var u=this._tiles[a];u&&(Xt(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){At(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=R,a.onmousemove=R,xt.ielt9&&this.options.opacity<1&&xe(a,this.options.opacity)},_addTile:function(a,u){var m=this._getTilePos(a),_=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),d(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&j(d(this._tileReady,this,a,null,w)),ve(w,m),this._tiles[_]={el:w,coords:a,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:a});var _=this._tileCoordsToKey(a);m=this._tiles[_],m&&(m.loaded=+new Date,this._map._fadeAnimated?(xe(m.el,0),G(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(At(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xt.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new pt(this._wrapX?A(a.x,this._wrapX):a.x,this._wrapY?A(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new z(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function lh(a){return new ga(a)}var Yr=ga.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=Z(this,u),u.detectRetina&&xt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var m=document.createElement("img");return Mt(m,"load",d(this._tileOnLoad,this,u,m)),Mt(m,"error",d(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var u={r:xt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=m),u["-y"]=m}return st(this._url,l(u,this.options))},_tileOnLoad:function(a,u){xt.ielt9?setTimeout(d(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,m){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),a(m,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,_=this.options.zoomOffset;return m&&(a=u-a),a+_},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=R,u.onerror=R,!u.complete)){u.src=Pt;var m=this._tiles[a].coords;Xt(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",Pt),ga.prototype._removeTile.call(this,a)},_tileReady:function(a,u,m){if(!(!this._map||m&&m.getAttribute("src")===Pt))return ga.prototype._tileReady.call(this,a,u,m)}});function li(a,u){return new Yr(a,u)}var Oo=Yr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var m=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(m[_]=u[_]);u=Z(this,u);var w=u.detectRetina&&xt.retina?2:1,x=this.getTileSize();m.width=x.x*w,m.height=x.y*w,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Yr.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),m=this._crs,_=at(m.project(u[0]),m.project(u[1])),w=_.min,x=_.max,D=(this._wmsVersion>=1.3&&this._crs===Ss?[w.y,w.x,x.y,x.x]:[w.x,w.y,x.x,x.y]).join(","),Y=Yr.prototype.getTileUrl.call(this,a);return Y+B(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(a,u){return l(this.wmsParams,a),u||this.redraw(),this}});function ui(a,u){return new Oo(a,u)}Yr.WMS=Oo,li.wms=ui;var Un=Oi.extend({options:{padding:.1},initialize:function(a){Z(this,a),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),At(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var m=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),x=_.multiplyBy(-m).add(w).subtract(this._map._getNewPixelOrigin(a,u));xt.any3d?Si(this._container,x,m):ve(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new z(m,m.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xl=Un.extend({options:{tolerance:0},getEvents:function(){var a=Un.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Un.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Mt(a,"mousemove",this._onMouseMove,this),Mt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Mt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Xt(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Un.prototype._update.call(this);var a=this._bounds,u=this._container,m=a.getSize(),_=xt.retina?2:1;ve(u,a.min),u.width=_*m.x,u.height=_*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",xt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Un.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[v(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,m=u.next,_=u.prev;m?m.prev=_:this._drawLast=_,_?_.next=m:this._drawFirst=m,delete a._order,delete this._layers[v(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),m=[],_,w;for(w=0;w<u.length;w++){if(_=Number(u[w]),isNaN(_))return;m.push(_)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var m,_,w,x,D=a._parts,Y=D.length,$=this._ctx;if(Y){for($.beginPath(),m=0;m<Y;m++){for(_=0,w=D[m].length;_<w;_++)x=D[m][_],$[_?"lineTo":"moveTo"](x.x,x.y);u&&$.closePath()}this._fillStroke($,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,m=this._ctx,_=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||_)/_;w!==1&&(m.save(),m.scale(1,w)),m.beginPath(),m.arc(u.x,u.y/w,_,0,Math.PI*2,!1),w!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,u){var m=u.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),m,_,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(_=m);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(ye(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var m,_,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(u)&&(_=m);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(At(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,m){this._map._fireDOMEvent(u,m||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var m=u.next,_=u.prev;if(m)m.prev=_;else return;_?_.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var m=u.next,_=u.prev;if(_)_.next=m;else return;m?m.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function Po(a){return xt.canvas?new xl(a):null}var Qr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Su={_initContainer:function(){this._container=Qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Un.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=Qr("shape");At(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=Qr("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;Xt(u),a.removeInteractiveTarget(u),delete this._layers[v(a)]},_updateStyle:function(a){var u=a._stroke,m=a._fill,_=a.options,w=a._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(u||(u=a._stroke=Qr("stroke")),w.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=ct(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(w.removeChild(u),a._stroke=null),_.fill?(m||(m=a._fill=Qr("fill")),w.appendChild(m),m.color=_.fillColor||_.color,m.opacity=_.fillOpacity):m&&(w.removeChild(m),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),m=Math.round(a._radius),_=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+_+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Pe(a._container)},_bringToBack:function(a){Gn(a._container)}},ir=xt.vml?Qr:Ws,_a=Un.extend({_initContainer:function(){this._container=ir("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ir("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xt(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Un.prototype._update.call(this);var a=this._bounds,u=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),ve(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=ir("path");a.options.className&&At(u,a.options.className),a.options.interactive&&At(u,"leaflet-interactive"),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Xt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[v(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,m=a.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,Dr(a._parts,u))},_updateCircle:function(a){var u=a._point,m=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||m,w="a"+m+","+_+" 0 1,0 ",x=a._empty()?"M0 0":"M"+(u.x-m)+","+u.y+w+m*2+",0 "+w+-m*2+",0 ";this._setPath(a,x)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Pe(a._path)},_bringToBack:function(a){Gn(a._path)}});xt.vml&&_a.include(Su);function Lo(a){return xt.svg||xt.vml?new _a(a):null}Yt.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&Po(a)||Lo(a)}});var As=fa.extend({initialize:function(a,u){fa.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=_t(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Rd(a,u){return new As(a,u)}_a.create=ir,_a.pointsToPath=Dr,br.geometryToLayer=bn,br.coordsToLatLng=wl,br.coordsToLatLngs=Ro,br.latLngToCoords=bl,br.latLngsToCoords=xo,br.getFeature=Gr,br.asFeature=Sl,Yt.mergeOptions({boxZoom:!0});var zn=Kn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ri(),vs(),this._startPoint=this._map.mouseEventToContainerPoint(a),Mt(document,{contextmenu:Ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Qt("div","leaflet-zoom-box",this._container),At(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new z(this._point,this._startPoint),m=u.getSize();ve(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Xt(this._box),ye(this._container,"leaflet-crosshair")),sn(),zr(),he(document,{contextmenu:Ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var u=new gt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Yt.addInitHook("addHandler","boxZoom",zn),Yt.mergeOptions({doubleClickZoom:!0});var Cl=Kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,m=u.getZoom(),_=u.options.zoomDelta,w=a.originalEvent.shiftKey?m-_:m+_;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(a.containerPoint,w)}});Yt.addInitHook("addHandler","doubleClickZoom",Cl),Yt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var rr=Kn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ii(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}At(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=_t(this._map.options.maxBounds);this._offsetLimit=at(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),m=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-u+m)%a+u-m,x=(_+u+m)%a-u-m,D=Math.abs(w+m)<Math.abs(x+m)?w:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(a){var u=this._map,m=u.options,_=!m.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),_)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,D=m.easeLinearity,Y=w.multiplyBy(D/x),$=Y.distanceTo([0,0]),ft=Math.min(m.inertiaMaxSpeed,$),Et=Y.multiplyBy(ft/$),Ot=ft/(m.inertiaDeceleration*D),Zt=Et.multiplyBy(-Ot/2).round();!Zt.x&&!Zt.y?u.fire("moveend"):(Zt=u._limitOffset(Zt,u.options.maxBounds),j(function(){u.panBy(Zt,{duration:Ot,easeLinearity:D,noMoveStart:!0,animate:!0})}))}}});Yt.addInitHook("addHandler","dragging",rr),Yt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Au=Kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Mt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,m=a.scrollTop||u.scrollTop,_=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},m=this.keyCodes,_,w;for(_=0,w=m.left.length;_<w;_++)u[m.left[_]]=[-1*a,0];for(_=0,w=m.right.length;_<w;_++)u[m.right[_]]=[a,0];for(_=0,w=m.down.length;_<w;_++)u[m.down[_]]=[0,a];for(_=0,w=m.up.length;_<w;_++)u[m.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},m=this.keyCodes,_,w;for(_=0,w=m.zoomIn.length;_<w;_++)u[m.zoomIn[_]]=a;for(_=0,w=m.zoomOut.length;_<w;_++)u[m.zoomOut[_]]=-a},_addHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,m=this._map,_;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(_=this._panKeys[u],a.shiftKey&&(_=bt(_).multiplyBy(3)),m.options.maxBounds&&(_=m._limitOffset(bt(_),m.options.maxBounds)),m.options.worldCopyJump){var w=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(_)));m.panTo(w)}else m.panBy(_)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Ai(a)}}});Yt.addInitHook("addHandler","keyboard",Au),Yt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Do=Kn.extend({addHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=an(a),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),_),Ai(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,x=m?Math.ceil(w/m)*m:w,D=a._limitZoom(u+(this._delta>0?x:-x))-u;this._delta=0,this._startTime=null,D&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+D):a.setZoomAround(this._lastMousePos,u+D))}});Yt.addInitHook("addHandler","scrollWheelZoom",Do);var Rs=600;Yt.mergeOptions({tapHold:xt.touchNative&&xt.safari&&xt.mobile,tapTolerance:15});var Il=Kn.extend({addHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new pt(u.clientX,u.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Mt(document,"touchend",Le),Mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Rs),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){he(document,"touchend",Le),he(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new pt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});Yt.addInitHook("addHandler","tapHold",Il),Yt.mergeOptions({touchZoom:xt.touch,bounceAtZoomLimits:!0});var Ru=Kn.extend({addHooks:function(){At(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(_)._divideBy(2))),this._startDist=m.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),Le(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]),w=m.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var x=m._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&x.x===0&&x.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var D=d(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(D,this,!0),Le(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Yt.addInitHook("addHandler","touchZoom",Ru),Yt.BoxZoom=zn,Yt.DoubleClickZoom=Cl,Yt.Drag=rr,Yt.Keyboard=Au,Yt.ScrollWheelZoom=Do,Yt.TapHold=Il,Yt.TouchZoom=Ru,n.Bounds=z,n.Browser=xt,n.CRS=Ht,n.Canvas=xl,n.Circle=Tl,n.CircleMarker=ha,n.Class=oe,n.Control=Tn,n.DivIcon=oh,n.DivOverlay=Sn,n.DomEvent=$i,n.DomUtil=jr,n.Draggable=Ii,n.Evented=vt,n.FeatureGroup=tr,n.GeoJSON=br,n.GridLayer=ga,n.Handler=Kn,n.Icon=er,n.ImageOverlay=ma,n.LatLng=wt,n.LatLngBounds=gt,n.Layer=Oi,n.LayerGroup=ca,n.LineUtil=ai,n.Map=Yt,n.Marker=Ao,n.Mixin=vl,n.Path=nr,n.Point=pt,n.PolyUtil=Fr,n.Polygon=fa,n.Polyline=wr,n.Popup=Io,n.PosAnimation=vr,n.Projection=Ni,n.Rectangle=As,n.Renderer=Un,n.SVG=_a,n.SVGOverlay=Rl,n.TileLayer=Yr,n.Tooltip=No,n.Transformation=Pr,n.Util=V,n.VideoOverlay=Kr,n.bind=d,n.bounds=at,n.canvas=Po,n.circle=ih,n.circleMarker=nh,n.control=Vn,n.divIcon=Ad,n.extend=l,n.featureGroup=th,n.geoJSON=Al,n.geoJson=Co,n.gridLayer=lh,n.icon=wo,n.imageOverlay=rh,n.latLng=Tt,n.latLngBounds=_t,n.layerGroup=Td,n.map=qr,n.marker=eh,n.point=bt,n.polygon=bd,n.polyline=wd,n.popup=ah,n.rectangle=Rd,n.setOptions=Z,n.stamp=v,n.svg=Lo,n.svgOverlay=sh,n.tileLayer=li,n.tooltip=Sd,n.transformation=Bi,n.version=s,n.videoOverlay=pa;var xu=window.L;n.noConflict=function(){return window.L=xu,this},window.L=n}))})(gc,gc.exports)),gc.exports}var $c=CD();const vS=ig($c);function u_(r,t,n){return Object.freeze({instance:r,context:t,container:n})}function c_(r,t){return t==null?function(s,l){const h=Q.useRef(void 0);return h.current||(h.current=r(s,l)),h}:function(s,l){const h=Q.useRef(void 0);h.current||(h.current=r(s,l));const d=Q.useRef(s),{instance:y}=h.current;return Q.useEffect(function(){d.current!==s&&(t(y,s,d.current),d.current=s)},[y,s,t]),h}}function ID(r,t){Q.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){t.layerContainer?.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function ES(r){return function(n){const s=_S(),l=r(l_(n,s),s);return gS(s.map,n.attribution),yS(l.current,n.eventHandlers),ID(l.current,s),l}}function ND(r,t){const n=c_(r,t),s=ES(n);return bD(s)}function OD(r,t){const n=c_(r),s=RD(n,t);return SD(s)}function PD(r,t){const n=c_(r,t),s=ES(n);return AD(s)}function LD(r,t,n){const{opacity:s,zIndex:l}=t;s!=null&&s!==n.opacity&&r.setOpacity(s),l!=null&&l!==n.zIndex&&r.setZIndex(l)}function DD({bounds:r,boundsOptions:t,center:n,children:s,className:l,id:h,placeholder:d,style:y,whenReady:v,zoom:E,...A},R){const[N]=Q.useState({className:l,id:h,style:y}),[F,nt]=Q.useState(null),Z=Q.useRef(void 0);Q.useImperativeHandle(R,()=>F?.map??null,[F]);const B=Q.useCallback(st=>{if(st!==null&&!Z.current){const ct=new $c.Map(st,A);Z.current=ct,n!=null&&E!=null?ct.setView(n,E):r!=null&&ct.fitBounds(r,t),v!=null&&ct.whenReady(v),nt(TD(ct))}},[]);Q.useEffect(()=>()=>{F?.map.remove()},[F]);const ot=F?Cf.createElement(o_,{value:F},s):d??null;return Cf.createElement("div",{...N,ref:B},ot)}const MD=Q.forwardRef(DD),kD=ND(function({position:t,...n},s){const l=new $c.Marker(t,n);return u_(l,wD(s,{overlayContainer:l}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),VD=OD(function(t,n){const s=new $c.Popup(t,n.overlayContainer);return u_(s,n)},function(t,n,{position:s},l){Q.useEffect(function(){const{instance:d}=t;function y(E){E.popup===d&&(d.update(),l(!0))}function v(E){E.popup===d&&l(!1)}return n.map.on({popupopen:y,popupclose:v}),n.overlayContainer==null?(s!=null&&d.setLatLng(s),d.openOn(n.map)):n.overlayContainer.bindPopup(d),function(){n.map.off({popupopen:y,popupclose:v}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(d)}},[t,n,l,s])}),UD=PD(function({url:t,...n},s){const l=new $c.TileLayer(t,l_(n,s));return u_(l,s)},function(t,n,s){LD(t,n,s);const{url:l}=n;l!=null&&l!==s.url&&t.setUrl(l)}),zD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",BD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let jD=vS.icon({iconUrl:zD,shadowUrl:BD,iconSize:[25,41],iconAnchor:[12,41]});vS.Marker.prototype.options.icon=jD;const HD=({reports:r})=>{const t=[20.5937,78.9629];return P.jsx("div",{style:{height:"400px",width:"100%"},children:P.jsxs(MD,{center:t,zoom:5,scrollWheelZoom:!0,children:[P.jsx(UD,{attribution:" OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.map(n=>n.location&&P.jsx(kD,{position:[n.location.lat,n.location.lng],children:P.jsx(VD,{children:P.jsxs("div",{className:"p-2",children:[P.jsx("h3",{className:"font-bold",children:n.title}),P.jsx("p",{className:"text-sm",children:n.category}),P.jsx("span",{className:`text-[10px] uppercase font-bold ${n.status==="Resolved"?"text-emerald-500":"text-amber-500"}`,children:n.status})]})})},n.id))]})})},qD=({reports:r})=>{const[t,n]=Q.useState(null),[s,l]=Q.useState({}),[h,d]=Q.useState({}),[y,v]=Q.useState({}),[E,A]=Q.useState(null),R=async(B,ot)=>{n(B);try{const st=Fa(is,"reports",B);await bf(st,{status:ot,updatedAt:new Date})}catch(st){console.error("Error updating status:",st),alert("Failed to update status. Please try again.")}finally{n(null)}},N=async B=>{const ot=s[B];if(!ot||ot.trim()===""){alert("Please provide a resolution note before marking as resolved.");return}n(B);try{let st="";const ct=y[B];if(ct){const Pt=hD(_D,`resolutions/${B}_${Date.now()}_${ct.name}`),kt=await uD(Pt,ct);st=await cD(kt.ref)}const It=Fa(is,"reports",B);await bf(It,{status:"resolved",adminResolutionNote:ot,resolutionImageUrl:st,resolvedAt:Wp()}),l(Pt=>({...Pt,[B]:""})),v(Pt=>({...Pt,[B]:null}))}catch(st){console.error("Error resolving report:",st),alert("Failed to resolve report. Please try again.")}finally{n(null)}},F=async B=>{const ot=h[B];if(!ot||ot.trim()===""){alert("Please provide a comment before updating.");return}n(B);try{const st=Fa(is,"reports",B);await bf(st,{adminUpdate:ot,lastUpdated:Wp()}),d(ct=>({...ct,[B]:""}))}catch(st){console.error("Error updating comment:",st),alert("Failed to update comment. Please try again.")}finally{n(null)}},nt=async B=>{if(window.confirm("Are you sure you want to permanently delete this report?"))try{const ot=Fa(is,"reports",B);await yb(ot),alert("Report deleted successfully.")}catch(ot){console.error("Error deleting report:",ot),alert("Failed to delete report. Please try again.")}},Z=B=>{switch(B){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return P.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[P.jsxs("header",{className:"flex justify-between items-center mb-8 md:mb-10",children:[P.jsx("h1",{className:"text-2xl md:text-4xl font-black italic uppercase",children:"Admin Command Center"}),P.jsx("div",{className:"flex gap-4",children:P.jsx("div",{className:"bg-slate-900 text-white px-6 py-2 rounded-full font-bold",children:"Live Data"})})]}),P.jsx("div",{className:"w-full h-[45vh] md:h-[450px] rounded-[32px] md:rounded-[40px] overflow-hidden mb-6 md:mb-12 shadow-2xl border-4 border-white",children:P.jsx(HD,{reports:r})}),P.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8",children:r.map(B=>P.jsxs("div",{className:"bg-white rounded-[32px] overflow-hidden shadow-lg border border-slate-100 hover:shadow-2xl transition-shadow group relative",children:[P.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:P.jsx("button",{onClick:()=>nt(B.id),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors shadow-lg",title:"Delete Report",children:""})}),P.jsx("div",{className:"h-36 sm:h-40 md:h-48 bg-slate-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>A(B),children:B.imageUrl?P.jsx("img",{src:B.imageUrl,className:"w-full h-full object-cover",alt:"Report"}):P.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-bold uppercase",children:"No Image"})}),P.jsxs("div",{className:"p-4 md:p-6",children:[P.jsxs("div",{className:"flex justify-between items-start mb-3",children:[P.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-500 bg-indigo-50 px-3 py-1 rounded-full",children:B.category}),P.jsx("span",{className:`text-[10px] font-black uppercase px-3 py-1 rounded-full ${Z(B.status)}`,children:B.status?.toUpperCase()||"PENDING"})]}),P.jsx("h3",{className:"text-lg md:text-xl font-bold mb-2",children:B.title}),P.jsx("p",{className:"text-slate-500 text-sm mb-4 line-clamp-2",children:B.description}),P.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("span",{className:"text-xs font-bold text-slate-400 italic",children:" Pinned on Map"}),P.jsx("div",{className:"flex gap-2",children:P.jsxs("select",{value:B.status||"pending",onChange:ot=>R(B.id,ot.target.value),disabled:t===B.id,className:"text-xs bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full border-0 font-bold uppercase",children:[P.jsx("option",{value:"pending",children:"Pending"}),P.jsx("option",{value:"in-progress",children:"In Progress"}),P.jsx("option",{value:"resolved",children:"Resolved"}),P.jsx("option",{value:"rejected",children:"Rejected"})]})})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{className:"text-xs font-bold text-slate-600 uppercase",children:"Admin Update:"}),P.jsx("textarea",{value:h[B.id]||"",onChange:ot=>d(st=>({...st,[B.id]:ot.target.value})),placeholder:"Write an update for the user...",className:"w-full p-3 text-sm border border-slate-200 rounded-xl resize-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",rows:"2"}),P.jsx("button",{onClick:()=>F(B.id),disabled:t===B.id||!h[B.id]?.trim(),className:"w-full bg-indigo-600 text-white text-xs font-bold uppercase py-2 px-4 rounded-xl hover:bg-indigo-500 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:t===B.id?"UPDATING...":"SEND UPDATE"})]}),B.status!=="resolved"&&P.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-100",children:[P.jsx("label",{className:"text-xs font-bold text-emerald-600 uppercase",children:"Resolution Details:"}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"file",accept:"image/*",onChange:ot=>v(st=>({...st,[B.id]:ot.target.files[0]})),className:"hidden",id:`resolution-photo-${B.id}`}),P.jsx("label",{htmlFor:`resolution-photo-${B.id}`,className:"flex flex-col items-center justify-center w-full h-20 bg-emerald-50 border-2 border-dashed border-emerald-200 rounded-xl cursor-pointer hover:border-emerald-400 hover:bg-emerald-100 transition-all",children:y[B.id]?P.jsxs("div",{className:"text-center",children:[P.jsx("span",{className:"text-emerald-600 font-bold text-xs",children:" Photo Selected"}),P.jsx("p",{className:"text-emerald-500 text-xs mt-1",children:y[B.id].name})]}):P.jsxs(P.Fragment,{children:[P.jsx("span",{className:"text-emerald-400 text-xs",children:" Upload Resolution Photo"}),P.jsx("span",{className:"text-emerald-300 text-xs",children:"(Optional)"})]})})]}),P.jsx("textarea",{value:s[B.id]||"",onChange:ot=>l(st=>({...st,[B.id]:ot.target.value})),placeholder:"Describe what was done to resolve this issue...",className:"w-full p-3 text-sm border border-emerald-200 rounded-xl resize-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500",rows:"3"}),P.jsx("button",{onClick:()=>N(B.id),disabled:t===B.id||!s[B.id]?.trim(),className:"w-full bg-emerald-600 text-white text-xs font-bold uppercase py-3 px-4 rounded-xl hover:bg-emerald-500 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:t===B.id?"UPLOADING...":"MARK AS RESOLVED"})]})]})]})]},B.id))}),E&&P.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:P.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[40px] p-8 shadow-2xl max-h-[90vh] overflow-y-auto",children:[P.jsxs("div",{className:"flex justify-between items-center mb-6",children:[P.jsx("h2",{className:"text-3xl font-black italic uppercase",children:"Report Details"}),P.jsx("button",{onClick:()=>A(null),className:"text-slate-400 hover:text-slate-900 text-2xl font-bold",children:""})]}),P.jsx("div",{className:"w-full h-96 bg-slate-100 rounded-2xl overflow-hidden mb-6",children:E.imageUrl?P.jsx("img",{src:E.imageUrl,className:"w-full h-full object-cover",alt:"Report"}):P.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-bold uppercase",children:"No Image Available"})}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Title"}),P.jsx("p",{className:"text-lg font-bold text-slate-900",children:E.title})]}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Category"}),P.jsx("p",{className:"text-lg font-bold text-slate-900",children:E.category||"Uncategorized"})]}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Description"}),P.jsx("p",{className:"text-slate-700",children:E.description})]}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Status"}),P.jsx("span",{className:`inline-block px-4 py-2 rounded-full font-bold text-xs uppercase ${Z(E.status)}`,children:E.status})]}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Submitted by"}),P.jsx("p",{className:"text-sm text-slate-600",children:E.userId})]}),E.location&&P.jsxs("div",{children:[P.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Location"}),P.jsxs("p",{className:"text-sm text-slate-600",children:["Lat: ",E.location.lat,", Lng: ",E.location.lng]})]})]}),P.jsx("button",{onClick:()=>A(null),className:"w-full mt-6 bg-slate-900 text-white font-bold py-3 rounded-2xl hover:bg-slate-800 transition-colors",children:"Close"})]})})]})},FD=({onAdminLogin:r})=>{const[t,n]=Q.useState(!0),[s,l]=Q.useState({email:"",password:"",phone:""}),[h,d]=Q.useState(""),y=async v=>{v.preventDefault(),d("");try{if(t)await BO(Vc,s.email,s.password);else{const E=await zO(Vc,s.email,s.password);await UN(Fa(is,"users",E.user.uid),{email:s.email,phone:s.phone,role:"user",uid:E.user.uid})}}catch(E){d(E.message)}};return P.jsxs("div",{className:"min-h-screen w-full grid md:grid-cols-2 bg-slate-900 text-white",children:[P.jsx("div",{className:"flex items-center justify-center p-4 md:p-8",children:P.jsxs("form",{onSubmit:y,className:"bg-white text-slate-900 p-6 md:p-10 rounded-[28px] md:rounded-[40px] shadow-2xl w-full max-w-md",children:[P.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-6 uppercase italic",children:"UrbanPulse Login"}),P.jsx("input",{type:"email",placeholder:"Email",className:"w-full mb-4 p-4 bg-slate-100 rounded-2xl outline-none",onChange:v=>l({...s,email:v.target.value})}),!t&&P.jsx("input",{type:"tel",placeholder:"Phone Number",className:"w-full mb-4 p-4 bg-slate-100 rounded-2xl outline-none",onChange:v=>l({...s,phone:v.target.value})}),P.jsx("input",{type:"password",placeholder:"Password",className:"w-full mb-6 p-4 bg-slate-100 rounded-2xl outline-none",onChange:v=>l({...s,password:v.target.value})}),h&&P.jsx("div",{className:"text-rose-600 text-sm mb-3",children:h}),P.jsx("button",{className:"w-full bg-indigo-600 text-white p-4 md:p-5 rounded-2xl font-bold uppercase tracking-widest hover:bg-indigo-700 transition-all",children:t?"Citizen Sign In":"Create Account"}),P.jsx("p",{className:"mt-6 text-center text-slate-400 cursor-pointer text-sm",onClick:()=>n(!t),children:t?"Don't have an account? Sign Up":"Already have an account? Login"}),P.jsx("button",{type:"button",onClick:()=>r?.(),className:"mt-4 w-full text-xs font-bold text-slate-500 uppercase hover:text-rose-500 transition-colors",children:"Access Admin Portal"})]})}),P.jsxs("div",{className:"relative p-8 hidden md:flex items-center justify-center",children:[P.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/20 to-rose-600/20 blur-3xl"}),P.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-[40px] p-10 w-full max-w-md shadow-2xl",children:[P.jsx("h3",{className:"text-xl font-black uppercase tracking-widest text-white mb-4",children:"UrbanPulse"}),P.jsx("p",{className:"text-slate-200 mb-6",children:"Optimize the grid with secure access."}),P.jsxs("ul",{className:"text-slate-300 text-sm space-y-2",children:[P.jsx("li",{children:" Citizen reports feed"}),P.jsx("li",{children:" Admin command center"}),P.jsx("li",{children:" Live map with pins"})]})]})]})]})},GD=({onAuthorized:r})=>{const[t,n]=Q.useState(""),[s,l]=Q.useState(""),h=d=>{d.preventDefault(),t==="ADMIN_INDIA_2026"?(r?.(),l("")):l("Invalid admin passcode")};return P.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 p-4 md:p-6",children:P.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-[28px] md:rounded-[40px] p-6 md:p-10 w-full max-w-md shadow-2xl text-white",children:[P.jsx("h2",{className:"text-2xl md:text-3xl font-black uppercase mb-4",children:"Terminal Admin"}),P.jsx("p",{className:"text-slate-300 mb-6",children:"Authorize Session"}),P.jsxs("form",{onSubmit:h,className:"space-y-4",children:[P.jsx("input",{type:"password",placeholder:"Admin Passcode",value:t,onChange:d=>n(d.target.value),className:"w-full p-4 rounded-2xl bg-white/20 border border-white/30 text-white placeholder-slate-300 outline-none"}),s&&P.jsx("div",{className:"text-rose-400 text-sm",children:s}),P.jsx("button",{className:"w-full bg-rose-600 text-white p-3 md:p-4 rounded-2xl font-bold uppercase tracking-widest hover:bg-rose-700 transition-all",children:"Authorize"})]})]})})};function ZD(){const[r,t]=Q.useState(!1),[n,s]=Q.useState("user"),[l,h]=Q.useState([]),[d,y]=Q.useState(!1),[v,E]=Q.useState(null),[A,R]=Q.useState(!0),[N,F]=Q.useState(!1),nt=async()=>{try{await Vc.signOut(),F(!1),t(!0),s("login")}catch(Z){console.error("Error signing out:",Z)}};return Q.useEffect(()=>qO(Vc,B=>{B?(E(B),R(!1)):(s("login"),R(!1))}),[]),Q.useEffect(()=>{if(!v&&!N)return;let Z;return n==="admin"||N?Z=LE(Qp(is,"reports"),DE("createdAt","desc")):Z=LE(Qp(is,"reports"),MN("userId","==",v.uid),DE("createdAt","desc")),BN(Z,ot=>{h(ot.docs.map(st=>({...st.data(),id:st.id})))})},[v,n,N]),r?A?P.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:P.jsxs("div",{className:"text-center",children:[P.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),P.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):!v&&!N?n==="admin-login"?P.jsx(GD,{onAuthorized:()=>{F(!0),s("admin")}}):P.jsx(FD,{onAdminLogin:()=>s("admin-login")}):P.jsxs("div",{className:"min-h-screen bg-slate-50",children:[P.jsxs("header",{className:"flex justify-between items-center p-4 md:p-8 bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-slate-100",children:[P.jsxs("div",{className:"text-2xl font-black italic uppercase tracking-tighter",children:["URBAN",P.jsx("span",{className:"text-indigo-600",children:"PULSE"})]}),P.jsxs("div",{className:"flex items-center gap-3",children:[n==="user"&&P.jsx("button",{onClick:()=>y(!0),className:"px-5 py-2 bg-indigo-600 text-white rounded-2xl font-bold text-xs uppercase shadow-lg hover:bg-indigo-700 transition-colors",children:"+ NEW REPORT"}),P.jsx("button",{onClick:nt,className:"px-5 py-2 bg-slate-900 text-white rounded-2xl font-bold text-xs uppercase hover:bg-slate-800 transition-colors",children:"Logout"})]})]}),P.jsxs("div",{className:"p-4 md:p-8",children:[n==="admin"?P.jsx(qD,{reports:l}):P.jsx(vD,{onOpenModal:()=>y(!0),reports:l,user:v}),P.jsx(yD,{isOpen:d,onClose:()=>y(!1)})]})]}):P.jsx(SR,{onEnter:()=>t(!0)})}ZA.createRoot(document.getElementById("root")).render(P.jsx(Cf.StrictMode,{children:P.jsx(dR,{basename:"/urbanpulse/",children:P.jsx(ZD,{})})}));
